(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function i(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerPolicy&&(r.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?r.credentials="include":s.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function n(s){if(s.ep)return;s.ep=!0;const r=i(s);fetch(s.href,r)}})();function gm(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var OS={exports:{}},Xg={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lI;function LH(){if(lI)return Xg;lI=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(n,s,r){var o=null;if(r!==void 0&&(o=""+r),s.key!==void 0&&(o=""+s.key),"key"in s){r={};for(var a in s)a!=="key"&&(r[a]=s[a])}else r=s;return s=r.ref,{$$typeof:e,type:n,key:o,ref:s!==void 0?s:null,props:r}}return Xg.Fragment=t,Xg.jsx=i,Xg.jsxs=i,Xg}var cI;function TH(){return cI||(cI=1,OS.exports=LH()),OS.exports}var ve=TH(),PS={exports:{}},Dt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uI;function AH(){if(uI)return Dt;uI=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),r=Symbol.for("react.consumer"),o=Symbol.for("react.context"),a=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),p=Symbol.iterator;function m(H){return H===null||typeof H!="object"?null:(H=p&&H[p]||H["@@iterator"],typeof H=="function"?H:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,w={};function D(H,K,ie){this.props=H,this.context=K,this.refs=w,this.updater=ie||b}D.prototype.isReactComponent={},D.prototype.setState=function(H,K){if(typeof H!="object"&&typeof H!="function"&&H!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,H,K,"setState")},D.prototype.forceUpdate=function(H){this.updater.enqueueForceUpdate(this,H,"forceUpdate")};function M(){}M.prototype=D.prototype;function A(H,K,ie){this.props=H,this.context=K,this.refs=w,this.updater=ie||b}var k=A.prototype=new M;k.constructor=A,C(k,D.prototype),k.isPureReactComponent=!0;var _=Array.isArray,F={H:null,A:null,T:null,S:null,V:null},N=Object.prototype.hasOwnProperty;function z(H,K,ie,te,se,ye){return ie=ye.ref,{$$typeof:e,type:H,key:K,ref:ie!==void 0?ie:null,props:ye}}function V(H,K){return z(H.type,K,void 0,void 0,void 0,H.props)}function j(H){return typeof H=="object"&&H!==null&&H.$$typeof===e}function U(H){var K={"=":"=0",":":"=2"};return"$"+H.replace(/[=:]/g,function(ie){return K[ie]})}var $=/\/+/g;function Q(H,K){return typeof H=="object"&&H!==null&&H.key!=null?U(""+H.key):K.toString(36)}function J(){}function be(H){switch(H.status){case"fulfilled":return H.value;case"rejected":throw H.reason;default:switch(typeof H.status=="string"?H.then(J,J):(H.status="pending",H.then(function(K){H.status==="pending"&&(H.status="fulfilled",H.value=K)},function(K){H.status==="pending"&&(H.status="rejected",H.reason=K)})),H.status){case"fulfilled":return H.value;case"rejected":throw H.reason}}throw H}function me(H,K,ie,te,se){var ye=typeof H;(ye==="undefined"||ye==="boolean")&&(H=null);var he=!1;if(H===null)he=!0;else switch(ye){case"bigint":case"string":case"number":he=!0;break;case"object":switch(H.$$typeof){case e:case t:he=!0;break;case f:return he=H._init,me(he(H._payload),K,ie,te,se)}}if(he)return se=se(H),he=te===""?"."+Q(H,0):te,_(se)?(ie="",he!=null&&(ie=he.replace($,"$&/")+"/"),me(se,K,ie,"",function(Re){return Re})):se!=null&&(j(se)&&(se=V(se,ie+(se.key==null||H&&H.key===se.key?"":(""+se.key).replace($,"$&/")+"/")+he)),K.push(se)),1;he=0;var Ie=te===""?".":te+":";if(_(H))for(var xe=0;xe<H.length;xe++)te=H[xe],ye=Ie+Q(te,xe),he+=me(te,K,ie,ye,se);else if(xe=m(H),typeof xe=="function")for(H=xe.call(H),xe=0;!(te=H.next()).done;)te=te.value,ye=Ie+Q(te,xe++),he+=me(te,K,ie,ye,se);else if(ye==="object"){if(typeof H.then=="function")return me(be(H),K,ie,te,se);throw K=String(H),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(H).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return he}function Y(H,K,ie){if(H==null)return H;var te=[],se=0;return me(H,te,"","",function(ye){return K.call(ie,ye,se++)}),te}function re(H){if(H._status===-1){var K=H._result;K=K(),K.then(function(ie){(H._status===0||H._status===-1)&&(H._status=1,H._result=ie)},function(ie){(H._status===0||H._status===-1)&&(H._status=2,H._result=ie)}),H._status===-1&&(H._status=0,H._result=K)}if(H._status===1)return H._result.default;throw H._result}var Z=typeof reportError=="function"?reportError:function(H){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof H=="object"&&H!==null&&typeof H.message=="string"?String(H.message):String(H),error:H});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",H);return}console.error(H)};function Ce(){}return Dt.Children={map:Y,forEach:function(H,K,ie){Y(H,function(){K.apply(this,arguments)},ie)},count:function(H){var K=0;return Y(H,function(){K++}),K},toArray:function(H){return Y(H,function(K){return K})||[]},only:function(H){if(!j(H))throw Error("React.Children.only expected to receive a single React element child.");return H}},Dt.Component=D,Dt.Fragment=i,Dt.Profiler=s,Dt.PureComponent=A,Dt.StrictMode=n,Dt.Suspense=c,Dt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=F,Dt.__COMPILER_RUNTIME={__proto__:null,c:function(H){return F.H.useMemoCache(H)}},Dt.cache=function(H){return function(){return H.apply(null,arguments)}},Dt.cloneElement=function(H,K,ie){if(H==null)throw Error("The argument must be a React element, but you passed "+H+".");var te=C({},H.props),se=H.key,ye=void 0;if(K!=null)for(he in K.ref!==void 0&&(ye=void 0),K.key!==void 0&&(se=""+K.key),K)!N.call(K,he)||he==="key"||he==="__self"||he==="__source"||he==="ref"&&K.ref===void 0||(te[he]=K[he]);var he=arguments.length-2;if(he===1)te.children=ie;else if(1<he){for(var Ie=Array(he),xe=0;xe<he;xe++)Ie[xe]=arguments[xe+2];te.children=Ie}return z(H.type,se,void 0,void 0,ye,te)},Dt.createContext=function(H){return H={$$typeof:o,_currentValue:H,_currentValue2:H,_threadCount:0,Provider:null,Consumer:null},H.Provider=H,H.Consumer={$$typeof:r,_context:H},H},Dt.createElement=function(H,K,ie){var te,se={},ye=null;if(K!=null)for(te in K.key!==void 0&&(ye=""+K.key),K)N.call(K,te)&&te!=="key"&&te!=="__self"&&te!=="__source"&&(se[te]=K[te]);var he=arguments.length-2;if(he===1)se.children=ie;else if(1<he){for(var Ie=Array(he),xe=0;xe<he;xe++)Ie[xe]=arguments[xe+2];se.children=Ie}if(H&&H.defaultProps)for(te in he=H.defaultProps,he)se[te]===void 0&&(se[te]=he[te]);return z(H,ye,void 0,void 0,null,se)},Dt.createRef=function(){return{current:null}},Dt.forwardRef=function(H){return{$$typeof:a,render:H}},Dt.isValidElement=j,Dt.lazy=function(H){return{$$typeof:f,_payload:{_status:-1,_result:H},_init:re}},Dt.memo=function(H,K){return{$$typeof:h,type:H,compare:K===void 0?null:K}},Dt.startTransition=function(H){var K=F.T,ie={};F.T=ie;try{var te=H(),se=F.S;se!==null&&se(ie,te),typeof te=="object"&&te!==null&&typeof te.then=="function"&&te.then(Ce,Z)}catch(ye){Z(ye)}finally{F.T=K}},Dt.unstable_useCacheRefresh=function(){return F.H.useCacheRefresh()},Dt.use=function(H){return F.H.use(H)},Dt.useActionState=function(H,K,ie){return F.H.useActionState(H,K,ie)},Dt.useCallback=function(H,K){return F.H.useCallback(H,K)},Dt.useContext=function(H){return F.H.useContext(H)},Dt.useDebugValue=function(){},Dt.useDeferredValue=function(H,K){return F.H.useDeferredValue(H,K)},Dt.useEffect=function(H,K,ie){var te=F.H;if(typeof ie=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return te.useEffect(H,K)},Dt.useId=function(){return F.H.useId()},Dt.useImperativeHandle=function(H,K,ie){return F.H.useImperativeHandle(H,K,ie)},Dt.useInsertionEffect=function(H,K){return F.H.useInsertionEffect(H,K)},Dt.useLayoutEffect=function(H,K){return F.H.useLayoutEffect(H,K)},Dt.useMemo=function(H,K){return F.H.useMemo(H,K)},Dt.useOptimistic=function(H,K){return F.H.useOptimistic(H,K)},Dt.useReducer=function(H,K,ie){return F.H.useReducer(H,K,ie)},Dt.useRef=function(H){return F.H.useRef(H)},Dt.useState=function(H){return F.H.useState(H)},Dt.useSyncExternalStore=function(H,K,ie){return F.H.useSyncExternalStore(H,K,ie)},Dt.useTransition=function(){return F.H.useTransition()},Dt.version="19.1.0",Dt}var hI;function CD(){return hI||(hI=1,PS.exports=AH()),PS.exports}var I=CD();const Te=gm(I);var FS={exports:{}},qg={},BS={exports:{}},zS={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dI;function EH(){return dI||(dI=1,function(e){function t(Y,re){var Z=Y.length;Y.push(re);e:for(;0<Z;){var Ce=Z-1>>>1,H=Y[Ce];if(0<s(H,re))Y[Ce]=re,Y[Z]=H,Z=Ce;else break e}}function i(Y){return Y.length===0?null:Y[0]}function n(Y){if(Y.length===0)return null;var re=Y[0],Z=Y.pop();if(Z!==re){Y[0]=Z;e:for(var Ce=0,H=Y.length,K=H>>>1;Ce<K;){var ie=2*(Ce+1)-1,te=Y[ie],se=ie+1,ye=Y[se];if(0>s(te,Z))se<H&&0>s(ye,te)?(Y[Ce]=ye,Y[se]=Z,Ce=se):(Y[Ce]=te,Y[ie]=Z,Ce=ie);else if(se<H&&0>s(ye,Z))Y[Ce]=ye,Y[se]=Z,Ce=se;else break e}}return re}function s(Y,re){var Z=Y.sortIndex-re.sortIndex;return Z!==0?Z:Y.id-re.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var r=performance;e.unstable_now=function(){return r.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var c=[],h=[],f=1,p=null,m=3,b=!1,C=!1,w=!1,D=!1,M=typeof setTimeout=="function"?setTimeout:null,A=typeof clearTimeout=="function"?clearTimeout:null,k=typeof setImmediate<"u"?setImmediate:null;function _(Y){for(var re=i(h);re!==null;){if(re.callback===null)n(h);else if(re.startTime<=Y)n(h),re.sortIndex=re.expirationTime,t(c,re);else break;re=i(h)}}function F(Y){if(w=!1,_(Y),!C)if(i(c)!==null)C=!0,N||(N=!0,Q());else{var re=i(h);re!==null&&me(F,re.startTime-Y)}}var N=!1,z=-1,V=5,j=-1;function U(){return D?!0:!(e.unstable_now()-j<V)}function $(){if(D=!1,N){var Y=e.unstable_now();j=Y;var re=!0;try{e:{C=!1,w&&(w=!1,A(z),z=-1),b=!0;var Z=m;try{t:{for(_(Y),p=i(c);p!==null&&!(p.expirationTime>Y&&U());){var Ce=p.callback;if(typeof Ce=="function"){p.callback=null,m=p.priorityLevel;var H=Ce(p.expirationTime<=Y);if(Y=e.unstable_now(),typeof H=="function"){p.callback=H,_(Y),re=!0;break t}p===i(c)&&n(c),_(Y)}else n(c);p=i(c)}if(p!==null)re=!0;else{var K=i(h);K!==null&&me(F,K.startTime-Y),re=!1}}break e}finally{p=null,m=Z,b=!1}re=void 0}}finally{re?Q():N=!1}}}var Q;if(typeof k=="function")Q=function(){k($)};else if(typeof MessageChannel<"u"){var J=new MessageChannel,be=J.port2;J.port1.onmessage=$,Q=function(){be.postMessage(null)}}else Q=function(){M($,0)};function me(Y,re){z=M(function(){Y(e.unstable_now())},re)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(Y){Y.callback=null},e.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):V=0<Y?Math.floor(1e3/Y):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_next=function(Y){switch(m){case 1:case 2:case 3:var re=3;break;default:re=m}var Z=m;m=re;try{return Y()}finally{m=Z}},e.unstable_requestPaint=function(){D=!0},e.unstable_runWithPriority=function(Y,re){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var Z=m;m=Y;try{return re()}finally{m=Z}},e.unstable_scheduleCallback=function(Y,re,Z){var Ce=e.unstable_now();switch(typeof Z=="object"&&Z!==null?(Z=Z.delay,Z=typeof Z=="number"&&0<Z?Ce+Z:Ce):Z=Ce,Y){case 1:var H=-1;break;case 2:H=250;break;case 5:H=1073741823;break;case 4:H=1e4;break;default:H=5e3}return H=Z+H,Y={id:f++,callback:re,priorityLevel:Y,startTime:Z,expirationTime:H,sortIndex:-1},Z>Ce?(Y.sortIndex=Z,t(h,Y),i(c)===null&&Y===i(h)&&(w?(A(z),z=-1):w=!0,me(F,Z-Ce))):(Y.sortIndex=H,t(c,Y),C||b||(C=!0,N||(N=!0,Q()))),Y},e.unstable_shouldYield=U,e.unstable_wrapCallback=function(Y){var re=m;return function(){var Z=m;m=re;try{return Y.apply(this,arguments)}finally{m=Z}}}}(zS)),zS}var fI;function RH(){return fI||(fI=1,BS.exports=EH()),BS.exports}var GS={exports:{}},bs={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gI;function IH(){if(gI)return bs;gI=1;var e=CD();function t(c){var h="https://react.dev/errors/"+c;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var f=2;f<arguments.length;f++)h+="&args[]="+encodeURIComponent(arguments[f])}return"Minified React error #"+c+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var n={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},s=Symbol.for("react.portal");function r(c,h,f){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:p==null?null:""+p,children:c,containerInfo:h,implementation:f}}var o=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function a(c,h){if(c==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return bs.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,bs.createPortal=function(c,h){var f=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(t(299));return r(c,h,null,f)},bs.flushSync=function(c){var h=o.T,f=n.p;try{if(o.T=null,n.p=2,c)return c()}finally{o.T=h,n.p=f,n.d.f()}},bs.preconnect=function(c,h){typeof c=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,n.d.C(c,h))},bs.prefetchDNS=function(c){typeof c=="string"&&n.d.D(c)},bs.preinit=function(c,h){if(typeof c=="string"&&h&&typeof h.as=="string"){var f=h.as,p=a(f,h.crossOrigin),m=typeof h.integrity=="string"?h.integrity:void 0,b=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;f==="style"?n.d.S(c,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:p,integrity:m,fetchPriority:b}):f==="script"&&n.d.X(c,{crossOrigin:p,integrity:m,fetchPriority:b,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},bs.preinitModule=function(c,h){if(typeof c=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var f=a(h.as,h.crossOrigin);n.d.M(c,{crossOrigin:f,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&n.d.M(c)},bs.preload=function(c,h){if(typeof c=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var f=h.as,p=a(f,h.crossOrigin);n.d.L(c,f,{crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},bs.preloadModule=function(c,h){if(typeof c=="string")if(h){var f=a(h.as,h.crossOrigin);n.d.m(c,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:f,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else n.d.m(c)},bs.requestFormReset=function(c){n.d.r(c)},bs.unstable_batchedUpdates=function(c,h){return c(h)},bs.useFormState=function(c,h,f){return o.H.useFormState(c,h,f)},bs.useFormStatus=function(){return o.H.useHostTransitionStatus()},bs.version="19.1.0",bs}var pI;function P_(){if(pI)return GS.exports;pI=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),GS.exports=IH(),GS.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mI;function kH(){if(mI)return qg;mI=1;var e=RH(),t=CD(),i=P_();function n(l){var u="https://react.dev/errors/"+l;if(1<arguments.length){u+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)u+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+l+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(l){return!(!l||l.nodeType!==1&&l.nodeType!==9&&l.nodeType!==11)}function r(l){var u=l,g=l;if(l.alternate)for(;u.return;)u=u.return;else{l=u;do u=l,(u.flags&4098)!==0&&(g=u.return),l=u.return;while(l)}return u.tag===3?g:null}function o(l){if(l.tag===13){var u=l.memoizedState;if(u===null&&(l=l.alternate,l!==null&&(u=l.memoizedState)),u!==null)return u.dehydrated}return null}function a(l){if(r(l)!==l)throw Error(n(188))}function c(l){var u=l.alternate;if(!u){if(u=r(l),u===null)throw Error(n(188));return u!==l?null:l}for(var g=l,v=u;;){var S=g.return;if(S===null)break;var T=S.alternate;if(T===null){if(v=S.return,v!==null){g=v;continue}break}if(S.child===T.child){for(T=S.child;T;){if(T===g)return a(S),l;if(T===v)return a(S),u;T=T.sibling}throw Error(n(188))}if(g.return!==v.return)g=S,v=T;else{for(var B=!1,W=S.child;W;){if(W===g){B=!0,g=S,v=T;break}if(W===v){B=!0,v=S,g=T;break}W=W.sibling}if(!B){for(W=T.child;W;){if(W===g){B=!0,g=T,v=S;break}if(W===v){B=!0,v=T,g=S;break}W=W.sibling}if(!B)throw Error(n(189))}}if(g.alternate!==v)throw Error(n(190))}if(g.tag!==3)throw Error(n(188));return g.stateNode.current===g?l:u}function h(l){var u=l.tag;if(u===5||u===26||u===27||u===6)return l;for(l=l.child;l!==null;){if(u=h(l),u!==null)return u;l=l.sibling}return null}var f=Object.assign,p=Symbol.for("react.element"),m=Symbol.for("react.transitional.element"),b=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),w=Symbol.for("react.strict_mode"),D=Symbol.for("react.profiler"),M=Symbol.for("react.provider"),A=Symbol.for("react.consumer"),k=Symbol.for("react.context"),_=Symbol.for("react.forward_ref"),F=Symbol.for("react.suspense"),N=Symbol.for("react.suspense_list"),z=Symbol.for("react.memo"),V=Symbol.for("react.lazy"),j=Symbol.for("react.activity"),U=Symbol.for("react.memo_cache_sentinel"),$=Symbol.iterator;function Q(l){return l===null||typeof l!="object"?null:(l=$&&l[$]||l["@@iterator"],typeof l=="function"?l:null)}var J=Symbol.for("react.client.reference");function be(l){if(l==null)return null;if(typeof l=="function")return l.$$typeof===J?null:l.displayName||l.name||null;if(typeof l=="string")return l;switch(l){case C:return"Fragment";case D:return"Profiler";case w:return"StrictMode";case F:return"Suspense";case N:return"SuspenseList";case j:return"Activity"}if(typeof l=="object")switch(l.$$typeof){case b:return"Portal";case k:return(l.displayName||"Context")+".Provider";case A:return(l._context.displayName||"Context")+".Consumer";case _:var u=l.render;return l=l.displayName,l||(l=u.displayName||u.name||"",l=l!==""?"ForwardRef("+l+")":"ForwardRef"),l;case z:return u=l.displayName||null,u!==null?u:be(l.type)||"Memo";case V:u=l._payload,l=l._init;try{return be(l(u))}catch{}}return null}var me=Array.isArray,Y=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,re=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Z={pending:!1,data:null,method:null,action:null},Ce=[],H=-1;function K(l){return{current:l}}function ie(l){0>H||(l.current=Ce[H],Ce[H]=null,H--)}function te(l,u){H++,Ce[H]=l.current,l.current=u}var se=K(null),ye=K(null),he=K(null),Ie=K(null);function xe(l,u){switch(te(he,u),te(ye,l),te(se,null),u.nodeType){case 9:case 11:l=(l=u.documentElement)&&(l=l.namespaceURI)?PR(l):0;break;default:if(l=u.tagName,u=u.namespaceURI)u=PR(u),l=FR(u,l);else switch(l){case"svg":l=1;break;case"math":l=2;break;default:l=0}}ie(se),te(se,l)}function Re(){ie(se),ie(ye),ie(he)}function Ne(l){l.memoizedState!==null&&te(Ie,l);var u=se.current,g=FR(u,l.type);u!==g&&(te(ye,l),te(se,g))}function We(l){ye.current===l&&(ie(se),ie(ye)),Ie.current===l&&(ie(Ie),Ug._currentValue=Z)}var lt=Object.prototype.hasOwnProperty,qe=e.unstable_scheduleCallback,Ue=e.unstable_cancelCallback,Ve=e.unstable_shouldYield,Et=e.unstable_requestPaint,je=e.unstable_now,Ct=e.unstable_getCurrentPriorityLevel,Qt=e.unstable_ImmediatePriority,St=e.unstable_UserBlockingPriority,ft=e.unstable_NormalPriority,kt=e.unstable_LowPriority,di=e.unstable_IdlePriority,fs=e.log,As=e.unstable_setDisableYieldValue,Wi=null,fi=null;function _t(l){if(typeof fs=="function"&&As(l),fi&&typeof fi.setStrictMode=="function")try{fi.setStrictMode(Wi,l)}catch{}}var Zt=Math.clz32?Math.clz32:Jh,Ul=Math.log,or=Math.LN2;function Jh(l){return l>>>=0,l===0?32:31-(Ul(l)/or|0)|0}var Ko=256,mo=4194304;function Fr(l){var u=l&42;if(u!==0)return u;switch(l&-l){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return l&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return l}}function Fa(l,u,g){var v=l.pendingLanes;if(v===0)return 0;var S=0,T=l.suspendedLanes,B=l.pingedLanes;l=l.warmLanes;var W=v&134217727;return W!==0?(v=W&~T,v!==0?S=Fr(v):(B&=W,B!==0?S=Fr(B):g||(g=W&~l,g!==0&&(S=Fr(g))))):(W=v&~T,W!==0?S=Fr(W):B!==0?S=Fr(B):g||(g=v&~l,g!==0&&(S=Fr(g)))),S===0?0:u!==0&&u!==S&&(u&T)===0&&(T=S&-S,g=u&-u,T>=g||T===32&&(g&4194048)!==0)?u:S}function gs(l,u){return(l.pendingLanes&~(l.suspendedLanes&~l.pingedLanes)&u)===0}function ed(l,u){switch(l){case 1:case 2:case 4:case 8:case 64:return u+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Yl(){var l=Ko;return Ko<<=1,(Ko&4194048)===0&&(Ko=256),l}function Mu(){var l=mo;return mo<<=1,(mo&62914560)===0&&(mo=4194304),l}function Ba(l){for(var u=[],g=0;31>g;g++)u.push(l);return u}function $o(l,u){l.pendingLanes|=u,u!==268435456&&(l.suspendedLanes=0,l.pingedLanes=0,l.warmLanes=0)}function td(l,u,g,v,S,T){var B=l.pendingLanes;l.pendingLanes=g,l.suspendedLanes=0,l.pingedLanes=0,l.warmLanes=0,l.expiredLanes&=g,l.entangledLanes&=g,l.errorRecoveryDisabledLanes&=g,l.shellSuspendCounter=0;var W=l.entanglements,q=l.expirationTimes,ue=l.hiddenUpdates;for(g=B&~g;0<g;){var we=31-Zt(g),Le=1<<we;W[we]=0,q[we]=-1;var de=ue[we];if(de!==null)for(ue[we]=null,we=0;we<de.length;we++){var ge=de[we];ge!==null&&(ge.lane&=-536870913)}g&=~Le}v!==0&&za(l,v,0),T!==0&&S===0&&l.tag!==0&&(l.suspendedLanes|=T&~(B&~u))}function za(l,u,g){l.pendingLanes|=u,l.suspendedLanes&=~u;var v=31-Zt(u);l.entangledLanes|=u,l.entanglements[v]=l.entanglements[v]|1073741824|g&4194090}function Ga(l,u){var g=l.entangledLanes|=u;for(l=l.entanglements;g;){var v=31-Zt(g),S=1<<v;S&u|l[v]&u&&(l[v]|=u),g&=~S}}function Du(l){switch(l){case 2:l=1;break;case 8:l=4;break;case 32:l=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:l=128;break;case 268435456:l=134217728;break;default:l=0}return l}function Lu(l){return l&=-l,2<l?8<l?(l&134217727)!==0?32:268435456:8:2}function ee(){var l=re.p;return l!==0?l:(l=window.event,l===void 0?32:iI(l.type))}function ae(l,u){var g=re.p;try{return re.p=l,u()}finally{re.p=g}}var fe=Math.random().toString(36).slice(2),De="__reactFiber$"+fe,Oe="__reactProps$"+fe,Ke="__reactContainer$"+fe,Ze="__reactEvents$"+fe,Se="__reactListeners$"+fe,Je="__reactHandles$"+fe,et="__reactResources$"+fe,st="__reactMarker$"+fe;function Qe(l){delete l[De],delete l[Oe],delete l[Ze],delete l[Se],delete l[Je]}function rt(l){var u=l[De];if(u)return u;for(var g=l.parentNode;g;){if(u=g[Ke]||g[De]){if(g=u.alternate,u.child!==null||g!==null&&g.child!==null)for(l=HR(l);l!==null;){if(g=l[De])return g;l=HR(l)}return u}l=g,g=l.parentNode}return null}function jt(l){if(l=l[De]||l[Ke]){var u=l.tag;if(u===5||u===6||u===13||u===26||u===27||u===3)return l}return null}function Jt(l){var u=l.tag;if(u===5||u===26||u===27||u===6)return l.stateNode;throw Error(n(33))}function Ti(l){var u=l[et];return u||(u=l[et]={hoistableStyles:new Map,hoistableScripts:new Map}),u}function Yt(l){l[st]=!0}var Bt=new Set,Zo={};function Xn(l,u){Es(l,u),Es(l+"Capture",u)}function Es(l,u){for(Zo[l]=u,l=0;l<u.length;l++)Bt.add(u[l])}var ps=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ar={},Xo={};function Tu(l){return lt.call(Xo,l)?!0:lt.call(ar,l)?!1:ps.test(l)?Xo[l]=!0:(ar[l]=!0,!1)}function Ys(l,u,g){if(Tu(u))if(g===null)l.removeAttribute(u);else{switch(typeof g){case"undefined":case"function":case"symbol":l.removeAttribute(u);return;case"boolean":var v=u.toLowerCase().slice(0,5);if(v!=="data-"&&v!=="aria-"){l.removeAttribute(u);return}}l.setAttribute(u,""+g)}}function yo(l,u,g){if(g===null)l.removeAttribute(u);else{switch(typeof g){case"undefined":case"function":case"symbol":case"boolean":l.removeAttribute(u);return}l.setAttribute(u,""+g)}}function Tt(l,u,g,v){if(v===null)l.removeAttribute(g);else{switch(typeof v){case"undefined":case"function":case"symbol":case"boolean":l.removeAttribute(g);return}l.setAttributeNS(u,g,""+v)}}var vn,qn;function Ks(l){if(vn===void 0)try{throw Error()}catch(g){var u=g.stack.trim().match(/\n( *(at )?)/);vn=u&&u[1]||"",qn=-1<g.stack.indexOf(`
    at`)?" (<anonymous>)":-1<g.stack.indexOf("@")?"@unknown:0:0":""}return`
`+vn+l+qn}var qo=!1;function ui(l,u){if(!l||qo)return"";qo=!0;var g=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var v={DetermineComponentFrameRoot:function(){try{if(u){var Le=function(){throw Error()};if(Object.defineProperty(Le.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Le,[])}catch(ge){var de=ge}Reflect.construct(l,[],Le)}else{try{Le.call()}catch(ge){de=ge}l.call(Le.prototype)}}else{try{throw Error()}catch(ge){de=ge}(Le=l())&&typeof Le.catch=="function"&&Le.catch(function(){})}}catch(ge){if(ge&&de&&typeof ge.stack=="string")return[ge.stack,de.stack]}return[null,null]}};v.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var S=Object.getOwnPropertyDescriptor(v.DetermineComponentFrameRoot,"name");S&&S.configurable&&Object.defineProperty(v.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var T=v.DetermineComponentFrameRoot(),B=T[0],W=T[1];if(B&&W){var q=B.split(`
`),ue=W.split(`
`);for(S=v=0;v<q.length&&!q[v].includes("DetermineComponentFrameRoot");)v++;for(;S<ue.length&&!ue[S].includes("DetermineComponentFrameRoot");)S++;if(v===q.length||S===ue.length)for(v=q.length-1,S=ue.length-1;1<=v&&0<=S&&q[v]!==ue[S];)S--;for(;1<=v&&0<=S;v--,S--)if(q[v]!==ue[S]){if(v!==1||S!==1)do if(v--,S--,0>S||q[v]!==ue[S]){var we=`
`+q[v].replace(" at new "," at ");return l.displayName&&we.includes("<anonymous>")&&(we=we.replace("<anonymous>",l.displayName)),we}while(1<=v&&0<=S);break}}}finally{qo=!1,Error.prepareStackTrace=g}return(g=l?l.displayName||l.name:"")?Ks(g):""}function Mt(l){switch(l.tag){case 26:case 27:case 5:return Ks(l.type);case 16:return Ks("Lazy");case 13:return Ks("Suspense");case 19:return Ks("SuspenseList");case 0:case 15:return ui(l.type,!1);case 11:return ui(l.type.render,!1);case 1:return ui(l.type,!0);case 31:return Ks("Activity");default:return""}}function gi(l){try{var u="";do u+=Mt(l),l=l.return;while(l);return u}catch(g){return`
Error generating stack: `+g.message+`
`+g.stack}}function Dn(l){switch(typeof l){case"bigint":case"boolean":case"number":case"string":case"undefined":return l;case"object":return l;default:return""}}function Ha(l){var u=l.type;return(l=l.nodeName)&&l.toLowerCase()==="input"&&(u==="checkbox"||u==="radio")}function Kl(l){var u=Ha(l)?"checked":"value",g=Object.getOwnPropertyDescriptor(l.constructor.prototype,u),v=""+l[u];if(!l.hasOwnProperty(u)&&typeof g<"u"&&typeof g.get=="function"&&typeof g.set=="function"){var S=g.get,T=g.set;return Object.defineProperty(l,u,{configurable:!0,get:function(){return S.call(this)},set:function(B){v=""+B,T.call(this,B)}}),Object.defineProperty(l,u,{enumerable:g.enumerable}),{getValue:function(){return v},setValue:function(B){v=""+B},stopTracking:function(){l._valueTracker=null,delete l[u]}}}}function $l(l){l._valueTracker||(l._valueTracker=Kl(l))}function xt(l){if(!l)return!1;var u=l._valueTracker;if(!u)return!0;var g=u.getValue(),v="";return l&&(v=Ha(l)?l.checked?"true":"false":l.value),l=v,l!==g?(u.setValue(l),!0):!1}function Ai(l){if(l=l||(typeof document<"u"?document:void 0),typeof l>"u")return null;try{return l.activeElement||l.body}catch{return l.body}}var eg=/[\n"\\]/g;function Qn(l){return l.replace(eg,function(u){return"\\"+u.charCodeAt(0).toString(16)+" "})}function ms(l,u,g,v,S,T,B,W){l.name="",B!=null&&typeof B!="function"&&typeof B!="symbol"&&typeof B!="boolean"?l.type=B:l.removeAttribute("type"),u!=null?B==="number"?(u===0&&l.value===""||l.value!=u)&&(l.value=""+Dn(u)):l.value!==""+Dn(u)&&(l.value=""+Dn(u)):B!=="submit"&&B!=="reset"||l.removeAttribute("value"),u!=null?Zl(l,B,Dn(u)):g!=null?Zl(l,B,Dn(g)):v!=null&&l.removeAttribute("value"),S==null&&T!=null&&(l.defaultChecked=!!T),S!=null&&(l.checked=S&&typeof S!="function"&&typeof S!="symbol"),W!=null&&typeof W!="function"&&typeof W!="symbol"&&typeof W!="boolean"?l.name=""+Dn(W):l.removeAttribute("name")}function cy(l,u,g,v,S,T,B,W){if(T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(l.type=T),u!=null||g!=null){if(!(T!=="submit"&&T!=="reset"||u!=null))return;g=g!=null?""+Dn(g):"",u=u!=null?""+Dn(u):g,W||u===l.value||(l.value=u),l.defaultValue=u}v=v??S,v=typeof v!="function"&&typeof v!="symbol"&&!!v,l.checked=W?l.checked:!!v,l.defaultChecked=!!v,B!=null&&typeof B!="function"&&typeof B!="symbol"&&typeof B!="boolean"&&(l.name=B)}function Zl(l,u,g){u==="number"&&Ai(l.ownerDocument)===l||l.defaultValue===""+g||(l.defaultValue=""+g)}function $s(l,u,g,v){if(l=l.options,u){u={};for(var S=0;S<g.length;S++)u["$"+g[S]]=!0;for(g=0;g<l.length;g++)S=u.hasOwnProperty("$"+l[g].value),l[g].selected!==S&&(l[g].selected=S),S&&v&&(l[g].defaultSelected=!0)}else{for(g=""+Dn(g),u=null,S=0;S<l.length;S++){if(l[S].value===g){l[S].selected=!0,v&&(l[S].defaultSelected=!0);return}u!==null||l[S].disabled||(u=l[S])}u!==null&&(u.selected=!0)}}function Ui(l,u,g){if(u!=null&&(u=""+Dn(u),u!==l.value&&(l.value=u),g==null)){l.defaultValue!==u&&(l.defaultValue=u);return}l.defaultValue=g!=null?""+Dn(g):""}function Qo(l,u,g,v){if(u==null){if(v!=null){if(g!=null)throw Error(n(92));if(me(v)){if(1<v.length)throw Error(n(93));v=v[0]}g=v}g==null&&(g=""),u=g}g=Dn(u),l.defaultValue=g,v=l.textContent,v===g&&v!==""&&v!==null&&(l.value=v)}function Br(l,u){if(u){var g=l.firstChild;if(g&&g===l.lastChild&&g.nodeType===3){g.nodeValue=u;return}}l.textContent=u}var Au=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function id(l,u,g){var v=u.indexOf("--")===0;g==null||typeof g=="boolean"||g===""?v?l.setProperty(u,""):u==="float"?l.cssFloat="":l[u]="":v?l.setProperty(u,g):typeof g!="number"||g===0||Au.has(u)?u==="float"?l.cssFloat=g:l[u]=(""+g).trim():l[u]=g+"px"}function Xl(l,u,g){if(u!=null&&typeof u!="object")throw Error(n(62));if(l=l.style,g!=null){for(var v in g)!g.hasOwnProperty(v)||u!=null&&u.hasOwnProperty(v)||(v.indexOf("--")===0?l.setProperty(v,""):v==="float"?l.cssFloat="":l[v]="");for(var S in u)v=u[S],u.hasOwnProperty(S)&&g[S]!==v&&id(l,S,v)}else for(var T in u)u.hasOwnProperty(T)&&id(l,T,u[T])}function Eu(l){if(l.indexOf("-")===-1)return!1;switch(l){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var tg=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),nd=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ql(l){return nd.test(""+l)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":l}var Ru=null;function Ql(l){return l=l.target||l.srcElement||window,l.correspondingUseElement&&(l=l.correspondingUseElement),l.nodeType===3?l.parentNode:l}var ja=null,Jo=null;function uy(l){var u=jt(l);if(u&&(l=u.stateNode)){var g=l[Oe]||null;e:switch(l=u.stateNode,u.type){case"input":if(ms(l,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name),u=g.name,g.type==="radio"&&u!=null){for(g=l;g.parentNode;)g=g.parentNode;for(g=g.querySelectorAll('input[name="'+Qn(""+u)+'"][type="radio"]'),u=0;u<g.length;u++){var v=g[u];if(v!==l&&v.form===l.form){var S=v[Oe]||null;if(!S)throw Error(n(90));ms(v,S.value,S.defaultValue,S.defaultValue,S.checked,S.defaultChecked,S.type,S.name)}}for(u=0;u<g.length;u++)v=g[u],v.form===l.form&&xt(v)}break e;case"textarea":Ui(l,g.value,g.defaultValue);break e;case"select":u=g.value,u!=null&&$s(l,!!g.multiple,u,!1)}}}var yt=!1;function lr(l,u,g){if(yt)return l(u,g);yt=!0;try{var v=l(u);return v}finally{if(yt=!1,(ja!==null||Jo!==null)&&(sv(),ja&&(u=ja,l=Jo,Jo=ja=null,uy(u),l)))for(u=0;u<l.length;u++)uy(l[u])}}function ei(l,u){var g=l.stateNode;if(g===null)return null;var v=g[Oe]||null;if(v===null)return null;g=v[u];e:switch(u){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(v=!v.disabled)||(l=l.type,v=!(l==="button"||l==="input"||l==="select"||l==="textarea")),l=!v;break e;default:l=!1}if(l)return null;if(g&&typeof g!="function")throw Error(n(231,u,typeof g));return g}var zr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Iu=!1;if(zr)try{var Va={};Object.defineProperty(Va,"passive",{get:function(){Iu=!0}}),window.addEventListener("test",Va,Va),window.removeEventListener("test",Va,Va)}catch{Iu=!1}var Gr=null,vo=null,Jl=null;function ec(){if(Jl)return Jl;var l,u=vo,g=u.length,v,S="value"in Gr?Gr.value:Gr.textContent,T=S.length;for(l=0;l<g&&u[l]===S[l];l++);var B=g-l;for(v=1;v<=B&&u[g-v]===S[T-v];v++);return Jl=S.slice(l,1<v?1-v:void 0)}function nn(l){var u=l.keyCode;return"charCode"in l?(l=l.charCode,l===0&&u===13&&(l=13)):l=u,l===10&&(l=13),32<=l||l===13?l:0}function Hr(){return!0}function ig(){return!1}function Jn(l){function u(g,v,S,T,B){this._reactName=g,this._targetInst=S,this.type=v,this.nativeEvent=T,this.target=B,this.currentTarget=null;for(var W in l)l.hasOwnProperty(W)&&(g=l[W],this[W]=g?g(T):T[W]);return this.isDefaultPrevented=(T.defaultPrevented!=null?T.defaultPrevented:T.returnValue===!1)?Hr:ig,this.isPropagationStopped=ig,this}return f(u.prototype,{preventDefault:function(){this.defaultPrevented=!0;var g=this.nativeEvent;g&&(g.preventDefault?g.preventDefault():typeof g.returnValue!="unknown"&&(g.returnValue=!1),this.isDefaultPrevented=Hr)},stopPropagation:function(){var g=this.nativeEvent;g&&(g.stopPropagation?g.stopPropagation():typeof g.cancelBubble!="unknown"&&(g.cancelBubble=!0),this.isPropagationStopped=Hr)},persist:function(){},isPersistent:Hr}),u}var Wa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(l){return l.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ku=Jn(Wa),Ua=f({},Wa,{view:0,detail:0}),Kx=Jn(Ua),sd,Nt,_u,ys=f({},Ua,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:rd,button:0,buttons:0,relatedTarget:function(l){return l.relatedTarget===void 0?l.fromElement===l.srcElement?l.toElement:l.fromElement:l.relatedTarget},movementX:function(l){return"movementX"in l?l.movementX:(l!==_u&&(_u&&l.type==="mousemove"?(sd=l.screenX-_u.screenX,Nt=l.screenY-_u.screenY):Nt=sd=0,_u=l),sd)},movementY:function(l){return"movementY"in l?l.movementY:Nt}}),tc=Jn(ys),hy=f({},ys,{dataTransfer:0}),$x=Jn(hy),ng=f({},Ua,{relatedTarget:0}),sg=Jn(ng),dy=f({},Wa,{animationName:0,elapsedTime:0,pseudoElement:0}),Zx=Jn(dy),Xx=f({},Wa,{clipboardData:function(l){return"clipboardData"in l?l.clipboardData:window.clipboardData}}),rg=Jn(Xx),qx=f({},Wa,{data:0}),cr=Jn(qx),Qx={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},fy={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ea={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function gy(l){var u=this.nativeEvent;return u.getModifierState?u.getModifierState(l):(l=ea[l])?!!u[l]:!1}function rd(){return gy}var og=f({},Ua,{key:function(l){if(l.key){var u=Qx[l.key]||l.key;if(u!=="Unidentified")return u}return l.type==="keypress"?(l=nn(l),l===13?"Enter":String.fromCharCode(l)):l.type==="keydown"||l.type==="keyup"?fy[l.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:rd,charCode:function(l){return l.type==="keypress"?nn(l):0},keyCode:function(l){return l.type==="keydown"||l.type==="keyup"?l.keyCode:0},which:function(l){return l.type==="keypress"?nn(l):l.type==="keydown"||l.type==="keyup"?l.keyCode:0}}),Jx=Jn(og),py=f({},ys,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ag=Jn(py),e0=f({},Ua,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:rd}),t0=Jn(e0),lg=f({},Wa,{propertyName:0,elapsedTime:0,pseudoElement:0}),i0=Jn(lg),my=f({},ys,{deltaX:function(l){return"deltaX"in l?l.deltaX:"wheelDeltaX"in l?-l.wheelDeltaX:0},deltaY:function(l){return"deltaY"in l?l.deltaY:"wheelDeltaY"in l?-l.wheelDeltaY:"wheelDelta"in l?-l.wheelDelta:0},deltaZ:0,deltaMode:0}),yy=Jn(my),od=f({},Wa,{newState:0,oldState:0}),Ya=Jn(od),n0=[9,13,27,32],Ka=zr&&"CompositionEvent"in window,On=null;zr&&"documentMode"in document&&(On=document.documentMode);var vy=zr&&"TextEvent"in window&&!On,cg=zr&&(!Ka||On&&8<On&&11>=On),by=" ",ad=!1;function ld(l,u){switch(l){case"keyup":return n0.indexOf(u.keyCode)!==-1;case"keydown":return u.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Cy(l){return l=l.detail,typeof l=="object"&&"data"in l?l.data:null}var ic=!1;function xy(l,u){switch(l){case"compositionend":return Cy(u);case"keypress":return u.which!==32?null:(ad=!0,by);case"textInput":return l=u.data,l===by&&ad?null:l;default:return null}}function s0(l,u){if(ic)return l==="compositionend"||!Ka&&ld(l,u)?(l=ec(),Jl=vo=Gr=null,ic=!1,l):null;switch(l){case"paste":return null;case"keypress":if(!(u.ctrlKey||u.altKey||u.metaKey)||u.ctrlKey&&u.altKey){if(u.char&&1<u.char.length)return u.char;if(u.which)return String.fromCharCode(u.which)}return null;case"compositionend":return cg&&u.locale!=="ko"?null:u.data;default:return null}}var ur={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function $a(l){var u=l&&l.nodeName&&l.nodeName.toLowerCase();return u==="input"?!!ur[l.type]:u==="textarea"}function Sy(l,u,g,v){ja?Jo?Jo.push(v):Jo=[v]:ja=v,u=uv(u,"onChange"),0<u.length&&(g=new ku("onChange","change",null,g,v),l.push({event:g,listeners:u}))}var Rs=null,Nu=null;function nc(l){IR(l,0)}function cd(l){var u=Jt(l);if(xt(u))return l}function sc(l,u){if(l==="change")return u}var ug=!1;if(zr){var rc;if(zr){var hg="oninput"in document;if(!hg){var bo=document.createElement("div");bo.setAttribute("oninput","return;"),hg=typeof bo.oninput=="function"}rc=hg}else rc=!1;ug=rc&&(!document.documentMode||9<document.documentMode)}function Ou(){Rs&&(Rs.detachEvent("onpropertychange",wy),Nu=Rs=null)}function wy(l){if(l.propertyName==="value"&&cd(Nu)){var u=[];Sy(u,Nu,l,Ql(l)),lr(nc,u)}}function dg(l,u,g){l==="focusin"?(Ou(),Rs=u,Nu=g,Rs.attachEvent("onpropertychange",wy)):l==="focusout"&&Ou()}function r0(l){if(l==="selectionchange"||l==="keyup"||l==="keydown")return cd(Nu)}function Co(l,u){if(l==="click")return cd(u)}function o0(l,u){if(l==="input"||l==="change")return cd(u)}function oc(l,u){return l===u&&(l!==0||1/l===1/u)||l!==l&&u!==u}var Is=typeof Object.is=="function"?Object.is:oc;function ks(l,u){if(Is(l,u))return!0;if(typeof l!="object"||l===null||typeof u!="object"||u===null)return!1;var g=Object.keys(l),v=Object.keys(u);if(g.length!==v.length)return!1;for(v=0;v<g.length;v++){var S=g[v];if(!lt.call(u,S)||!Is(l[S],u[S]))return!1}return!0}function Pu(l){for(;l&&l.firstChild;)l=l.firstChild;return l}function fg(l,u){var g=Pu(l);l=0;for(var v;g;){if(g.nodeType===3){if(v=l+g.textContent.length,l<=u&&v>=u)return{node:g,offset:u-l};l=v}e:{for(;g;){if(g.nextSibling){g=g.nextSibling;break e}g=g.parentNode}g=void 0}g=Pu(g)}}function ud(l,u){return l&&u?l===u?!0:l&&l.nodeType===3?!1:u&&u.nodeType===3?ud(l,u.parentNode):"contains"in l?l.contains(u):l.compareDocumentPosition?!!(l.compareDocumentPosition(u)&16):!1:!1}function Fu(l){l=l!=null&&l.ownerDocument!=null&&l.ownerDocument.defaultView!=null?l.ownerDocument.defaultView:window;for(var u=Ai(l.document);u instanceof l.HTMLIFrameElement;){try{var g=typeof u.contentWindow.location.href=="string"}catch{g=!1}if(g)l=u.contentWindow;else break;u=Ai(l.document)}return u}function Bu(l){var u=l&&l.nodeName&&l.nodeName.toLowerCase();return u&&(u==="input"&&(l.type==="text"||l.type==="search"||l.type==="tel"||l.type==="url"||l.type==="password")||u==="textarea"||l.contentEditable==="true")}var hd=zr&&"documentMode"in document&&11>=document.documentMode,hr=null,ac=null,Za=null,dd=!1;function My(l,u,g){var v=g.window===g?g.document:g.nodeType===9?g:g.ownerDocument;dd||hr==null||hr!==Ai(v)||(v=hr,"selectionStart"in v&&Bu(v)?v={start:v.selectionStart,end:v.selectionEnd}:(v=(v.ownerDocument&&v.ownerDocument.defaultView||window).getSelection(),v={anchorNode:v.anchorNode,anchorOffset:v.anchorOffset,focusNode:v.focusNode,focusOffset:v.focusOffset}),Za&&ks(Za,v)||(Za=v,v=uv(ac,"onSelect"),0<v.length&&(u=new ku("onSelect","select",null,u,g),l.push({event:u,listeners:v}),u.target=hr)))}function jr(l,u){var g={};return g[l.toLowerCase()]=u.toLowerCase(),g["Webkit"+l]="webkit"+u,g["Moz"+l]="moz"+u,g}var lc={animationend:jr("Animation","AnimationEnd"),animationiteration:jr("Animation","AnimationIteration"),animationstart:jr("Animation","AnimationStart"),transitionrun:jr("Transition","TransitionRun"),transitionstart:jr("Transition","TransitionStart"),transitioncancel:jr("Transition","TransitionCancel"),transitionend:jr("Transition","TransitionEnd")},fd={},Dy={};zr&&(Dy=document.createElement("div").style,"AnimationEvent"in window||(delete lc.animationend.animation,delete lc.animationiteration.animation,delete lc.animationstart.animation),"TransitionEvent"in window||delete lc.transitionend.transition);function ta(l){if(fd[l])return fd[l];if(!lc[l])return l;var u=lc[l],g;for(g in u)if(u.hasOwnProperty(g)&&g in Dy)return fd[l]=u[g];return l}var Ly=ta("animationend"),dr=ta("animationiteration"),zu=ta("animationstart"),a0=ta("transitionrun"),gd=ta("transitionstart"),l0=ta("transitioncancel"),gg=ta("transitionend"),Ty=new Map,Xa="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Xa.push("scrollEnd");function fr(l,u){Ty.set(l,u),Xn(u,[l])}var qa=new WeakMap;function _s(l,u){if(typeof l=="object"&&l!==null){var g=qa.get(l);return g!==void 0?g:(u={value:l,source:u,stack:gi(u)},qa.set(l,u),u)}return{value:l,source:u,stack:gi(u)}}var Ns=[],cc=0,gr=0;function Gu(){for(var l=cc,u=gr=cc=0;u<l;){var g=Ns[u];Ns[u++]=null;var v=Ns[u];Ns[u++]=null;var S=Ns[u];Ns[u++]=null;var T=Ns[u];if(Ns[u++]=null,v!==null&&S!==null){var B=v.pending;B===null?S.next=S:(S.next=B.next,B.next=S),v.pending=S}T!==0&&ju(g,S,T)}}function Hu(l,u,g,v){Ns[cc++]=l,Ns[cc++]=u,Ns[cc++]=g,Ns[cc++]=v,gr|=v,l.lanes|=v,l=l.alternate,l!==null&&(l.lanes|=v)}function Qa(l,u,g,v){return Hu(l,u,g,v),ia(l)}function uc(l,u){return Hu(l,null,null,u),ia(l)}function ju(l,u,g){l.lanes|=g;var v=l.alternate;v!==null&&(v.lanes|=g);for(var S=!1,T=l.return;T!==null;)T.childLanes|=g,v=T.alternate,v!==null&&(v.childLanes|=g),T.tag===22&&(l=T.stateNode,l===null||l._visibility&1||(S=!0)),l=T,T=T.return;return l.tag===3?(T=l.stateNode,S&&u!==null&&(S=31-Zt(g),l=T.hiddenUpdates,v=l[S],v===null?l[S]=[u]:v.push(u),u.lane=g|536870912),T):null}function ia(l){if(50<Fg)throw Fg=0,rS=null,Error(n(185));for(var u=l.return;u!==null;)l=u,u=l.return;return l.tag===3?l.stateNode:null}var Ja={};function Ay(l,u,g,v){this.tag=l,this.key=g,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=u,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=v,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Os(l,u,g,v){return new Ay(l,u,g,v)}function pd(l){return l=l.prototype,!(!l||!l.isReactComponent)}function Vr(l,u){var g=l.alternate;return g===null?(g=Os(l.tag,u,l.key,l.mode),g.elementType=l.elementType,g.type=l.type,g.stateNode=l.stateNode,g.alternate=l,l.alternate=g):(g.pendingProps=u,g.type=l.type,g.flags=0,g.subtreeFlags=0,g.deletions=null),g.flags=l.flags&65011712,g.childLanes=l.childLanes,g.lanes=l.lanes,g.child=l.child,g.memoizedProps=l.memoizedProps,g.memoizedState=l.memoizedState,g.updateQueue=l.updateQueue,u=l.dependencies,g.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext},g.sibling=l.sibling,g.index=l.index,g.ref=l.ref,g.refCleanup=l.refCleanup,g}function pg(l,u){l.flags&=65011714;var g=l.alternate;return g===null?(l.childLanes=0,l.lanes=u,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=g.childLanes,l.lanes=g.lanes,l.child=g.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=g.memoizedProps,l.memoizedState=g.memoizedState,l.updateQueue=g.updateQueue,l.type=g.type,u=g.dependencies,l.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext}),l}function Vu(l,u,g,v,S,T){var B=0;if(v=l,typeof l=="function")pd(l)&&(B=1);else if(typeof l=="string")B=fH(l,g,se.current)?26:l==="html"||l==="head"||l==="body"?27:5;else e:switch(l){case j:return l=Os(31,g,u,S),l.elementType=j,l.lanes=T,l;case C:return na(g.children,S,T,u);case w:B=8,S|=24;break;case D:return l=Os(12,g,u,S|2),l.elementType=D,l.lanes=T,l;case F:return l=Os(13,g,u,S),l.elementType=F,l.lanes=T,l;case N:return l=Os(19,g,u,S),l.elementType=N,l.lanes=T,l;default:if(typeof l=="object"&&l!==null)switch(l.$$typeof){case M:case k:B=10;break e;case A:B=9;break e;case _:B=11;break e;case z:B=14;break e;case V:B=16,v=null;break e}B=29,g=Error(n(130,l===null?"null":typeof l,"")),v=null}return u=Os(B,g,u,S),u.elementType=l,u.type=v,u.lanes=T,u}function na(l,u,g,v){return l=Os(7,l,v,u),l.lanes=g,l}function mg(l,u,g){return l=Os(6,l,null,u),l.lanes=g,l}function md(l,u,g){return u=Os(4,l.children!==null?l.children:[],l.key,u),u.lanes=g,u.stateNode={containerInfo:l.containerInfo,pendingChildren:null,implementation:l.implementation},u}var el=[],hc=0,d=null,y=0,x=[],E=0,O=null,G=1,X="";function le(l,u){el[hc++]=y,el[hc++]=d,d=l,y=u}function pe(l,u,g){x[E++]=G,x[E++]=X,x[E++]=O,O=l;var v=G;l=X;var S=32-Zt(v)-1;v&=~(1<<S),g+=1;var T=32-Zt(u)+S;if(30<T){var B=S-S%5;T=(v&(1<<B)-1).toString(32),v>>=B,S-=B,G=1<<32-Zt(u)+S|g<<S|v,X=T+l}else G=1<<T|g<<S|v,X=l}function Ae(l){l.return!==null&&(le(l,1),pe(l,1,0))}function ze(l){for(;l===d;)d=el[--hc],el[hc]=null,y=el[--hc],el[hc]=null;for(;l===O;)O=x[--E],x[E]=null,X=x[--E],x[E]=null,G=x[--E],x[E]=null}var Ye=null,Xe=null,mt=!1,Ei=null,Yi=!1,Pn=Error(n(519));function Zs(l){var u=Error(n(418,""));throw fc(_s(u,l)),Pn}function Ey(l){var u=l.stateNode,g=l.type,v=l.memoizedProps;switch(u[De]=l,u[Oe]=v,g){case"dialog":Gt("cancel",u),Gt("close",u);break;case"iframe":case"object":case"embed":Gt("load",u);break;case"video":case"audio":for(g=0;g<zg.length;g++)Gt(zg[g],u);break;case"source":Gt("error",u);break;case"img":case"image":case"link":Gt("error",u),Gt("load",u);break;case"details":Gt("toggle",u);break;case"input":Gt("invalid",u),cy(u,v.value,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name,!0),$l(u);break;case"select":Gt("invalid",u);break;case"textarea":Gt("invalid",u),Qo(u,v.value,v.defaultValue,v.children),$l(u)}g=v.children,typeof g!="string"&&typeof g!="number"&&typeof g!="bigint"||u.textContent===""+g||v.suppressHydrationWarning===!0||OR(u.textContent,g)?(v.popover!=null&&(Gt("beforetoggle",u),Gt("toggle",u)),v.onScroll!=null&&Gt("scroll",u),v.onScrollEnd!=null&&Gt("scrollend",u),v.onClick!=null&&(u.onclick=hv),u=!0):u=!1,u||Zs(l)}function Ry(l){for(Ye=l.return;Ye;)switch(Ye.tag){case 5:case 13:Yi=!1;return;case 27:case 3:Yi=!0;return;default:Ye=Ye.return}}function Wu(l){if(l!==Ye)return!1;if(!mt)return Ry(l),mt=!0,!1;var u=l.tag,g;if((g=u!==3&&u!==27)&&((g=u===5)&&(g=l.type,g=!(g!=="form"&&g!=="button")||xS(l.type,l.memoizedProps)),g=!g),g&&Xe&&Zs(l),Ry(l),u===13){if(l=l.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(n(317));e:{for(l=l.nextSibling,u=0;l;){if(l.nodeType===8)if(g=l.data,g==="/$"){if(u===0){Xe=Mo(l.nextSibling);break e}u--}else g!=="$"&&g!=="$!"&&g!=="$?"||u++;l=l.nextSibling}Xe=null}}else u===27?(u=Xe,Ac(l.type)?(l=DS,DS=null,Xe=l):Xe=u):Xe=Ye?Mo(l.stateNode.nextSibling):null;return!0}function dc(){Xe=Ye=null,mt=!1}function Iy(){var l=Ei;return l!==null&&(Qs===null?Qs=l:Qs.push.apply(Qs,l),Ei=null),l}function fc(l){Ei===null?Ei=[l]:Ei.push(l)}var Bi=K(null),Wr=null,xo=null;function sa(l,u,g){te(Bi,u._currentValue),u._currentValue=g}function So(l){l._currentValue=Bi.current,ie(Bi)}function Uu(l,u,g){for(;l!==null;){var v=l.alternate;if((l.childLanes&u)!==u?(l.childLanes|=u,v!==null&&(v.childLanes|=u)):v!==null&&(v.childLanes&u)!==u&&(v.childLanes|=u),l===g)break;l=l.return}}function yd(l,u,g,v){var S=l.child;for(S!==null&&(S.return=l);S!==null;){var T=S.dependencies;if(T!==null){var B=S.child;T=T.firstContext;e:for(;T!==null;){var W=T;T=S;for(var q=0;q<u.length;q++)if(W.context===u[q]){T.lanes|=g,W=T.alternate,W!==null&&(W.lanes|=g),Uu(T.return,g,l),v||(B=null);break e}T=W.next}}else if(S.tag===18){if(B=S.return,B===null)throw Error(n(341));B.lanes|=g,T=B.alternate,T!==null&&(T.lanes|=g),Uu(B,g,l),B=null}else B=S.child;if(B!==null)B.return=S;else for(B=S;B!==null;){if(B===l){B=null;break}if(S=B.sibling,S!==null){S.return=B.return,B=S;break}B=B.return}S=B}}function Yu(l,u,g,v){l=null;for(var S=u,T=!1;S!==null;){if(!T){if((S.flags&524288)!==0)T=!0;else if((S.flags&262144)!==0)break}if(S.tag===10){var B=S.alternate;if(B===null)throw Error(n(387));if(B=B.memoizedProps,B!==null){var W=S.type;Is(S.pendingProps.value,B.value)||(l!==null?l.push(W):l=[W])}}else if(S===Ie.current){if(B=S.alternate,B===null)throw Error(n(387));B.memoizedState.memoizedState!==S.memoizedState.memoizedState&&(l!==null?l.push(Ug):l=[Ug])}S=S.return}l!==null&&yd(u,l,g,v),u.flags|=262144}function ky(l){for(l=l.firstContext;l!==null;){if(!Is(l.context._currentValue,l.memoizedValue))return!0;l=l.next}return!1}function Ku(l){Wr=l,xo=null,l=l.dependencies,l!==null&&(l.firstContext=null)}function vs(l){return xA(Wr,l)}function _y(l,u){return Wr===null&&Ku(l),xA(l,u)}function xA(l,u){var g=u._currentValue;if(u={context:u,memoizedValue:g,next:null},xo===null){if(l===null)throw Error(n(308));xo=u,l.dependencies={lanes:0,firstContext:u},l.flags|=524288}else xo=xo.next=u;return g}var dG=typeof AbortController<"u"?AbortController:function(){var l=[],u=this.signal={aborted:!1,addEventListener:function(g,v){l.push(v)}};this.abort=function(){u.aborted=!0,l.forEach(function(g){return g()})}},fG=e.unstable_scheduleCallback,gG=e.unstable_NormalPriority,Ln={$$typeof:k,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function c0(){return{controller:new dG,data:new Map,refCount:0}}function yg(l){l.refCount--,l.refCount===0&&fG(gG,function(){l.controller.abort()})}var vg=null,u0=0,vd=0,bd=null;function pG(l,u){if(vg===null){var g=vg=[];u0=0,vd=dS(),bd={status:"pending",value:void 0,then:function(v){g.push(v)}}}return u0++,u.then(SA,SA),u}function SA(){if(--u0===0&&vg!==null){bd!==null&&(bd.status="fulfilled");var l=vg;vg=null,vd=0,bd=null;for(var u=0;u<l.length;u++)(0,l[u])()}}function mG(l,u){var g=[],v={status:"pending",value:null,reason:null,then:function(S){g.push(S)}};return l.then(function(){v.status="fulfilled",v.value=u;for(var S=0;S<g.length;S++)(0,g[S])(u)},function(S){for(v.status="rejected",v.reason=S,S=0;S<g.length;S++)(0,g[S])(void 0)}),v}var wA=Y.S;Y.S=function(l,u){typeof u=="object"&&u!==null&&typeof u.then=="function"&&pG(l,u),wA!==null&&wA(l,u)};var $u=K(null);function h0(){var l=$u.current;return l!==null?l:Ri.pooledCache}function Ny(l,u){u===null?te($u,$u.current):te($u,u.pool)}function MA(){var l=h0();return l===null?null:{parent:Ln._currentValue,pool:l}}var bg=Error(n(460)),DA=Error(n(474)),Oy=Error(n(542)),d0={then:function(){}};function LA(l){return l=l.status,l==="fulfilled"||l==="rejected"}function Py(){}function TA(l,u,g){switch(g=l[g],g===void 0?l.push(u):g!==u&&(u.then(Py,Py),u=g),u.status){case"fulfilled":return u.value;case"rejected":throw l=u.reason,EA(l),l;default:if(typeof u.status=="string")u.then(Py,Py);else{if(l=Ri,l!==null&&100<l.shellSuspendCounter)throw Error(n(482));l=u,l.status="pending",l.then(function(v){if(u.status==="pending"){var S=u;S.status="fulfilled",S.value=v}},function(v){if(u.status==="pending"){var S=u;S.status="rejected",S.reason=v}})}switch(u.status){case"fulfilled":return u.value;case"rejected":throw l=u.reason,EA(l),l}throw Cg=u,bg}}var Cg=null;function AA(){if(Cg===null)throw Error(n(459));var l=Cg;return Cg=null,l}function EA(l){if(l===bg||l===Oy)throw Error(n(483))}var gc=!1;function f0(l){l.updateQueue={baseState:l.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function g0(l,u){l=l.updateQueue,u.updateQueue===l&&(u.updateQueue={baseState:l.baseState,firstBaseUpdate:l.firstBaseUpdate,lastBaseUpdate:l.lastBaseUpdate,shared:l.shared,callbacks:null})}function pc(l){return{lane:l,tag:0,payload:null,callback:null,next:null}}function mc(l,u,g){var v=l.updateQueue;if(v===null)return null;if(v=v.shared,(pi&2)!==0){var S=v.pending;return S===null?u.next=u:(u.next=S.next,S.next=u),v.pending=u,u=ia(l),ju(l,null,g),u}return Hu(l,v,u,g),ia(l)}function xg(l,u,g){if(u=u.updateQueue,u!==null&&(u=u.shared,(g&4194048)!==0)){var v=u.lanes;v&=l.pendingLanes,g|=v,u.lanes=g,Ga(l,g)}}function p0(l,u){var g=l.updateQueue,v=l.alternate;if(v!==null&&(v=v.updateQueue,g===v)){var S=null,T=null;if(g=g.firstBaseUpdate,g!==null){do{var B={lane:g.lane,tag:g.tag,payload:g.payload,callback:null,next:null};T===null?S=T=B:T=T.next=B,g=g.next}while(g!==null);T===null?S=T=u:T=T.next=u}else S=T=u;g={baseState:v.baseState,firstBaseUpdate:S,lastBaseUpdate:T,shared:v.shared,callbacks:v.callbacks},l.updateQueue=g;return}l=g.lastBaseUpdate,l===null?g.firstBaseUpdate=u:l.next=u,g.lastBaseUpdate=u}var m0=!1;function Sg(){if(m0){var l=bd;if(l!==null)throw l}}function wg(l,u,g,v){m0=!1;var S=l.updateQueue;gc=!1;var T=S.firstBaseUpdate,B=S.lastBaseUpdate,W=S.shared.pending;if(W!==null){S.shared.pending=null;var q=W,ue=q.next;q.next=null,B===null?T=ue:B.next=ue,B=q;var we=l.alternate;we!==null&&(we=we.updateQueue,W=we.lastBaseUpdate,W!==B&&(W===null?we.firstBaseUpdate=ue:W.next=ue,we.lastBaseUpdate=q))}if(T!==null){var Le=S.baseState;B=0,we=ue=q=null,W=T;do{var de=W.lane&-536870913,ge=de!==W.lane;if(ge?(Kt&de)===de:(v&de)===de){de!==0&&de===vd&&(m0=!0),we!==null&&(we=we.next={lane:0,tag:W.tag,payload:W.payload,callback:null,next:null});e:{var gt=l,ot=W;de=u;var Si=g;switch(ot.tag){case 1:if(gt=ot.payload,typeof gt=="function"){Le=gt.call(Si,Le,de);break e}Le=gt;break e;case 3:gt.flags=gt.flags&-65537|128;case 0:if(gt=ot.payload,de=typeof gt=="function"?gt.call(Si,Le,de):gt,de==null)break e;Le=f({},Le,de);break e;case 2:gc=!0}}de=W.callback,de!==null&&(l.flags|=64,ge&&(l.flags|=8192),ge=S.callbacks,ge===null?S.callbacks=[de]:ge.push(de))}else ge={lane:de,tag:W.tag,payload:W.payload,callback:W.callback,next:null},we===null?(ue=we=ge,q=Le):we=we.next=ge,B|=de;if(W=W.next,W===null){if(W=S.shared.pending,W===null)break;ge=W,W=ge.next,ge.next=null,S.lastBaseUpdate=ge,S.shared.pending=null}}while(!0);we===null&&(q=Le),S.baseState=q,S.firstBaseUpdate=ue,S.lastBaseUpdate=we,T===null&&(S.shared.lanes=0),Mc|=B,l.lanes=B,l.memoizedState=Le}}function RA(l,u){if(typeof l!="function")throw Error(n(191,l));l.call(u)}function IA(l,u){var g=l.callbacks;if(g!==null)for(l.callbacks=null,l=0;l<g.length;l++)RA(g[l],u)}var Cd=K(null),Fy=K(0);function kA(l,u){l=al,te(Fy,l),te(Cd,u),al=l|u.baseLanes}function y0(){te(Fy,al),te(Cd,Cd.current)}function v0(){al=Fy.current,ie(Cd),ie(Fy)}var yc=0,Rt=null,Ci=null,bn=null,By=!1,xd=!1,Zu=!1,zy=0,Mg=0,Sd=null,yG=0;function hn(){throw Error(n(321))}function b0(l,u){if(u===null)return!1;for(var g=0;g<u.length&&g<l.length;g++)if(!Is(l[g],u[g]))return!1;return!0}function C0(l,u,g,v,S,T){return yc=T,Rt=u,u.memoizedState=null,u.updateQueue=null,u.lanes=0,Y.H=l===null||l.memoizedState===null?pE:mE,Zu=!1,T=g(v,S),Zu=!1,xd&&(T=NA(u,g,v,S)),_A(l),T}function _A(l){Y.H=Uy;var u=Ci!==null&&Ci.next!==null;if(yc=0,bn=Ci=Rt=null,By=!1,Mg=0,Sd=null,u)throw Error(n(300));l===null||Fn||(l=l.dependencies,l!==null&&ky(l)&&(Fn=!0))}function NA(l,u,g,v){Rt=l;var S=0;do{if(xd&&(Sd=null),Mg=0,xd=!1,25<=S)throw Error(n(301));if(S+=1,bn=Ci=null,l.updateQueue!=null){var T=l.updateQueue;T.lastEffect=null,T.events=null,T.stores=null,T.memoCache!=null&&(T.memoCache.index=0)}Y.H=MG,T=u(g,v)}while(xd);return T}function vG(){var l=Y.H,u=l.useState()[0];return u=typeof u.then=="function"?Dg(u):u,l=l.useState()[0],(Ci!==null?Ci.memoizedState:null)!==l&&(Rt.flags|=1024),u}function x0(){var l=zy!==0;return zy=0,l}function S0(l,u,g){u.updateQueue=l.updateQueue,u.flags&=-2053,l.lanes&=~g}function w0(l){if(By){for(l=l.memoizedState;l!==null;){var u=l.queue;u!==null&&(u.pending=null),l=l.next}By=!1}yc=0,bn=Ci=Rt=null,xd=!1,Mg=zy=0,Sd=null}function Xs(){var l={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return bn===null?Rt.memoizedState=bn=l:bn=bn.next=l,bn}function Cn(){if(Ci===null){var l=Rt.alternate;l=l!==null?l.memoizedState:null}else l=Ci.next;var u=bn===null?Rt.memoizedState:bn.next;if(u!==null)bn=u,Ci=l;else{if(l===null)throw Rt.alternate===null?Error(n(467)):Error(n(310));Ci=l,l={memoizedState:Ci.memoizedState,baseState:Ci.baseState,baseQueue:Ci.baseQueue,queue:Ci.queue,next:null},bn===null?Rt.memoizedState=bn=l:bn=bn.next=l}return bn}function M0(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Dg(l){var u=Mg;return Mg+=1,Sd===null&&(Sd=[]),l=TA(Sd,l,u),u=Rt,(bn===null?u.memoizedState:bn.next)===null&&(u=u.alternate,Y.H=u===null||u.memoizedState===null?pE:mE),l}function Gy(l){if(l!==null&&typeof l=="object"){if(typeof l.then=="function")return Dg(l);if(l.$$typeof===k)return vs(l)}throw Error(n(438,String(l)))}function D0(l){var u=null,g=Rt.updateQueue;if(g!==null&&(u=g.memoCache),u==null){var v=Rt.alternate;v!==null&&(v=v.updateQueue,v!==null&&(v=v.memoCache,v!=null&&(u={data:v.data.map(function(S){return S.slice()}),index:0})))}if(u==null&&(u={data:[],index:0}),g===null&&(g=M0(),Rt.updateQueue=g),g.memoCache=u,g=u.data[u.index],g===void 0)for(g=u.data[u.index]=Array(l),v=0;v<l;v++)g[v]=U;return u.index++,g}function tl(l,u){return typeof u=="function"?u(l):u}function Hy(l){var u=Cn();return L0(u,Ci,l)}function L0(l,u,g){var v=l.queue;if(v===null)throw Error(n(311));v.lastRenderedReducer=g;var S=l.baseQueue,T=v.pending;if(T!==null){if(S!==null){var B=S.next;S.next=T.next,T.next=B}u.baseQueue=S=T,v.pending=null}if(T=l.baseState,S===null)l.memoizedState=T;else{u=S.next;var W=B=null,q=null,ue=u,we=!1;do{var Le=ue.lane&-536870913;if(Le!==ue.lane?(Kt&Le)===Le:(yc&Le)===Le){var de=ue.revertLane;if(de===0)q!==null&&(q=q.next={lane:0,revertLane:0,action:ue.action,hasEagerState:ue.hasEagerState,eagerState:ue.eagerState,next:null}),Le===vd&&(we=!0);else if((yc&de)===de){ue=ue.next,de===vd&&(we=!0);continue}else Le={lane:0,revertLane:ue.revertLane,action:ue.action,hasEagerState:ue.hasEagerState,eagerState:ue.eagerState,next:null},q===null?(W=q=Le,B=T):q=q.next=Le,Rt.lanes|=de,Mc|=de;Le=ue.action,Zu&&g(T,Le),T=ue.hasEagerState?ue.eagerState:g(T,Le)}else de={lane:Le,revertLane:ue.revertLane,action:ue.action,hasEagerState:ue.hasEagerState,eagerState:ue.eagerState,next:null},q===null?(W=q=de,B=T):q=q.next=de,Rt.lanes|=Le,Mc|=Le;ue=ue.next}while(ue!==null&&ue!==u);if(q===null?B=T:q.next=W,!Is(T,l.memoizedState)&&(Fn=!0,we&&(g=bd,g!==null)))throw g;l.memoizedState=T,l.baseState=B,l.baseQueue=q,v.lastRenderedState=T}return S===null&&(v.lanes=0),[l.memoizedState,v.dispatch]}function T0(l){var u=Cn(),g=u.queue;if(g===null)throw Error(n(311));g.lastRenderedReducer=l;var v=g.dispatch,S=g.pending,T=u.memoizedState;if(S!==null){g.pending=null;var B=S=S.next;do T=l(T,B.action),B=B.next;while(B!==S);Is(T,u.memoizedState)||(Fn=!0),u.memoizedState=T,u.baseQueue===null&&(u.baseState=T),g.lastRenderedState=T}return[T,v]}function OA(l,u,g){var v=Rt,S=Cn(),T=mt;if(T){if(g===void 0)throw Error(n(407));g=g()}else g=u();var B=!Is((Ci||S).memoizedState,g);B&&(S.memoizedState=g,Fn=!0),S=S.queue;var W=BA.bind(null,v,S,l);if(Lg(2048,8,W,[l]),S.getSnapshot!==u||B||bn!==null&&bn.memoizedState.tag&1){if(v.flags|=2048,wd(9,jy(),FA.bind(null,v,S,g,u),null),Ri===null)throw Error(n(349));T||(yc&124)!==0||PA(v,u,g)}return g}function PA(l,u,g){l.flags|=16384,l={getSnapshot:u,value:g},u=Rt.updateQueue,u===null?(u=M0(),Rt.updateQueue=u,u.stores=[l]):(g=u.stores,g===null?u.stores=[l]:g.push(l))}function FA(l,u,g,v){u.value=g,u.getSnapshot=v,zA(u)&&GA(l)}function BA(l,u,g){return g(function(){zA(u)&&GA(l)})}function zA(l){var u=l.getSnapshot;l=l.value;try{var g=u();return!Is(l,g)}catch{return!0}}function GA(l){var u=uc(l,2);u!==null&&br(u,l,2)}function A0(l){var u=Xs();if(typeof l=="function"){var g=l;if(l=g(),Zu){_t(!0);try{g()}finally{_t(!1)}}}return u.memoizedState=u.baseState=l,u.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:tl,lastRenderedState:l},u}function HA(l,u,g,v){return l.baseState=g,L0(l,Ci,typeof v=="function"?v:tl)}function bG(l,u,g,v,S){if(Wy(l))throw Error(n(485));if(l=u.action,l!==null){var T={payload:S,action:l,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(B){T.listeners.push(B)}};Y.T!==null?g(!0):T.isTransition=!1,v(T),g=u.pending,g===null?(T.next=u.pending=T,jA(u,T)):(T.next=g.next,u.pending=g.next=T)}}function jA(l,u){var g=u.action,v=u.payload,S=l.state;if(u.isTransition){var T=Y.T,B={};Y.T=B;try{var W=g(S,v),q=Y.S;q!==null&&q(B,W),VA(l,u,W)}catch(ue){E0(l,u,ue)}finally{Y.T=T}}else try{T=g(S,v),VA(l,u,T)}catch(ue){E0(l,u,ue)}}function VA(l,u,g){g!==null&&typeof g=="object"&&typeof g.then=="function"?g.then(function(v){WA(l,u,v)},function(v){return E0(l,u,v)}):WA(l,u,g)}function WA(l,u,g){u.status="fulfilled",u.value=g,UA(u),l.state=g,u=l.pending,u!==null&&(g=u.next,g===u?l.pending=null:(g=g.next,u.next=g,jA(l,g)))}function E0(l,u,g){var v=l.pending;if(l.pending=null,v!==null){v=v.next;do u.status="rejected",u.reason=g,UA(u),u=u.next;while(u!==v)}l.action=null}function UA(l){l=l.listeners;for(var u=0;u<l.length;u++)(0,l[u])()}function YA(l,u){return u}function KA(l,u){if(mt){var g=Ri.formState;if(g!==null){e:{var v=Rt;if(mt){if(Xe){t:{for(var S=Xe,T=Yi;S.nodeType!==8;){if(!T){S=null;break t}if(S=Mo(S.nextSibling),S===null){S=null;break t}}T=S.data,S=T==="F!"||T==="F"?S:null}if(S){Xe=Mo(S.nextSibling),v=S.data==="F!";break e}}Zs(v)}v=!1}v&&(u=g[0])}}return g=Xs(),g.memoizedState=g.baseState=u,v={pending:null,lanes:0,dispatch:null,lastRenderedReducer:YA,lastRenderedState:u},g.queue=v,g=dE.bind(null,Rt,v),v.dispatch=g,v=A0(!1),T=N0.bind(null,Rt,!1,v.queue),v=Xs(),S={state:u,dispatch:null,action:l,pending:null},v.queue=S,g=bG.bind(null,Rt,S,T,g),S.dispatch=g,v.memoizedState=l,[u,g,!1]}function $A(l){var u=Cn();return ZA(u,Ci,l)}function ZA(l,u,g){if(u=L0(l,u,YA)[0],l=Hy(tl)[0],typeof u=="object"&&u!==null&&typeof u.then=="function")try{var v=Dg(u)}catch(B){throw B===bg?Oy:B}else v=u;u=Cn();var S=u.queue,T=S.dispatch;return g!==u.memoizedState&&(Rt.flags|=2048,wd(9,jy(),CG.bind(null,S,g),null)),[v,T,l]}function CG(l,u){l.action=u}function XA(l){var u=Cn(),g=Ci;if(g!==null)return ZA(u,g,l);Cn(),u=u.memoizedState,g=Cn();var v=g.queue.dispatch;return g.memoizedState=l,[u,v,!1]}function wd(l,u,g,v){return l={tag:l,create:g,deps:v,inst:u,next:null},u=Rt.updateQueue,u===null&&(u=M0(),Rt.updateQueue=u),g=u.lastEffect,g===null?u.lastEffect=l.next=l:(v=g.next,g.next=l,l.next=v,u.lastEffect=l),l}function jy(){return{destroy:void 0,resource:void 0}}function qA(){return Cn().memoizedState}function Vy(l,u,g,v){var S=Xs();v=v===void 0?null:v,Rt.flags|=l,S.memoizedState=wd(1|u,jy(),g,v)}function Lg(l,u,g,v){var S=Cn();v=v===void 0?null:v;var T=S.memoizedState.inst;Ci!==null&&v!==null&&b0(v,Ci.memoizedState.deps)?S.memoizedState=wd(u,T,g,v):(Rt.flags|=l,S.memoizedState=wd(1|u,T,g,v))}function QA(l,u){Vy(8390656,8,l,u)}function JA(l,u){Lg(2048,8,l,u)}function eE(l,u){return Lg(4,2,l,u)}function tE(l,u){return Lg(4,4,l,u)}function iE(l,u){if(typeof u=="function"){l=l();var g=u(l);return function(){typeof g=="function"?g():u(null)}}if(u!=null)return l=l(),u.current=l,function(){u.current=null}}function nE(l,u,g){g=g!=null?g.concat([l]):null,Lg(4,4,iE.bind(null,u,l),g)}function R0(){}function sE(l,u){var g=Cn();u=u===void 0?null:u;var v=g.memoizedState;return u!==null&&b0(u,v[1])?v[0]:(g.memoizedState=[l,u],l)}function rE(l,u){var g=Cn();u=u===void 0?null:u;var v=g.memoizedState;if(u!==null&&b0(u,v[1]))return v[0];if(v=l(),Zu){_t(!0);try{l()}finally{_t(!1)}}return g.memoizedState=[v,u],v}function I0(l,u,g){return g===void 0||(yc&1073741824)!==0?l.memoizedState=u:(l.memoizedState=g,l=lR(),Rt.lanes|=l,Mc|=l,g)}function oE(l,u,g,v){return Is(g,u)?g:Cd.current!==null?(l=I0(l,g,v),Is(l,u)||(Fn=!0),l):(yc&42)===0?(Fn=!0,l.memoizedState=g):(l=lR(),Rt.lanes|=l,Mc|=l,u)}function aE(l,u,g,v,S){var T=re.p;re.p=T!==0&&8>T?T:8;var B=Y.T,W={};Y.T=W,N0(l,!1,u,g);try{var q=S(),ue=Y.S;if(ue!==null&&ue(W,q),q!==null&&typeof q=="object"&&typeof q.then=="function"){var we=mG(q,v);Tg(l,u,we,vr(l))}else Tg(l,u,v,vr(l))}catch(Le){Tg(l,u,{then:function(){},status:"rejected",reason:Le},vr())}finally{re.p=T,Y.T=B}}function xG(){}function k0(l,u,g,v){if(l.tag!==5)throw Error(n(476));var S=lE(l).queue;aE(l,S,u,Z,g===null?xG:function(){return cE(l),g(v)})}function lE(l){var u=l.memoizedState;if(u!==null)return u;u={memoizedState:Z,baseState:Z,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:tl,lastRenderedState:Z},next:null};var g={};return u.next={memoizedState:g,baseState:g,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:tl,lastRenderedState:g},next:null},l.memoizedState=u,l=l.alternate,l!==null&&(l.memoizedState=u),u}function cE(l){var u=lE(l).next.queue;Tg(l,u,{},vr())}function _0(){return vs(Ug)}function uE(){return Cn().memoizedState}function hE(){return Cn().memoizedState}function SG(l){for(var u=l.return;u!==null;){switch(u.tag){case 24:case 3:var g=vr();l=pc(g);var v=mc(u,l,g);v!==null&&(br(v,u,g),xg(v,u,g)),u={cache:c0()},l.payload=u;return}u=u.return}}function wG(l,u,g){var v=vr();g={lane:v,revertLane:0,action:g,hasEagerState:!1,eagerState:null,next:null},Wy(l)?fE(u,g):(g=Qa(l,u,g,v),g!==null&&(br(g,l,v),gE(g,u,v)))}function dE(l,u,g){var v=vr();Tg(l,u,g,v)}function Tg(l,u,g,v){var S={lane:v,revertLane:0,action:g,hasEagerState:!1,eagerState:null,next:null};if(Wy(l))fE(u,S);else{var T=l.alternate;if(l.lanes===0&&(T===null||T.lanes===0)&&(T=u.lastRenderedReducer,T!==null))try{var B=u.lastRenderedState,W=T(B,g);if(S.hasEagerState=!0,S.eagerState=W,Is(W,B))return Hu(l,u,S,0),Ri===null&&Gu(),!1}catch{}finally{}if(g=Qa(l,u,S,v),g!==null)return br(g,l,v),gE(g,u,v),!0}return!1}function N0(l,u,g,v){if(v={lane:2,revertLane:dS(),action:v,hasEagerState:!1,eagerState:null,next:null},Wy(l)){if(u)throw Error(n(479))}else u=Qa(l,g,v,2),u!==null&&br(u,l,2)}function Wy(l){var u=l.alternate;return l===Rt||u!==null&&u===Rt}function fE(l,u){xd=By=!0;var g=l.pending;g===null?u.next=u:(u.next=g.next,g.next=u),l.pending=u}function gE(l,u,g){if((g&4194048)!==0){var v=u.lanes;v&=l.pendingLanes,g|=v,u.lanes=g,Ga(l,g)}}var Uy={readContext:vs,use:Gy,useCallback:hn,useContext:hn,useEffect:hn,useImperativeHandle:hn,useLayoutEffect:hn,useInsertionEffect:hn,useMemo:hn,useReducer:hn,useRef:hn,useState:hn,useDebugValue:hn,useDeferredValue:hn,useTransition:hn,useSyncExternalStore:hn,useId:hn,useHostTransitionStatus:hn,useFormState:hn,useActionState:hn,useOptimistic:hn,useMemoCache:hn,useCacheRefresh:hn},pE={readContext:vs,use:Gy,useCallback:function(l,u){return Xs().memoizedState=[l,u===void 0?null:u],l},useContext:vs,useEffect:QA,useImperativeHandle:function(l,u,g){g=g!=null?g.concat([l]):null,Vy(4194308,4,iE.bind(null,u,l),g)},useLayoutEffect:function(l,u){return Vy(4194308,4,l,u)},useInsertionEffect:function(l,u){Vy(4,2,l,u)},useMemo:function(l,u){var g=Xs();u=u===void 0?null:u;var v=l();if(Zu){_t(!0);try{l()}finally{_t(!1)}}return g.memoizedState=[v,u],v},useReducer:function(l,u,g){var v=Xs();if(g!==void 0){var S=g(u);if(Zu){_t(!0);try{g(u)}finally{_t(!1)}}}else S=u;return v.memoizedState=v.baseState=S,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:l,lastRenderedState:S},v.queue=l,l=l.dispatch=wG.bind(null,Rt,l),[v.memoizedState,l]},useRef:function(l){var u=Xs();return l={current:l},u.memoizedState=l},useState:function(l){l=A0(l);var u=l.queue,g=dE.bind(null,Rt,u);return u.dispatch=g,[l.memoizedState,g]},useDebugValue:R0,useDeferredValue:function(l,u){var g=Xs();return I0(g,l,u)},useTransition:function(){var l=A0(!1);return l=aE.bind(null,Rt,l.queue,!0,!1),Xs().memoizedState=l,[!1,l]},useSyncExternalStore:function(l,u,g){var v=Rt,S=Xs();if(mt){if(g===void 0)throw Error(n(407));g=g()}else{if(g=u(),Ri===null)throw Error(n(349));(Kt&124)!==0||PA(v,u,g)}S.memoizedState=g;var T={value:g,getSnapshot:u};return S.queue=T,QA(BA.bind(null,v,T,l),[l]),v.flags|=2048,wd(9,jy(),FA.bind(null,v,T,g,u),null),g},useId:function(){var l=Xs(),u=Ri.identifierPrefix;if(mt){var g=X,v=G;g=(v&~(1<<32-Zt(v)-1)).toString(32)+g,u="«"+u+"R"+g,g=zy++,0<g&&(u+="H"+g.toString(32)),u+="»"}else g=yG++,u="«"+u+"r"+g.toString(32)+"»";return l.memoizedState=u},useHostTransitionStatus:_0,useFormState:KA,useActionState:KA,useOptimistic:function(l){var u=Xs();u.memoizedState=u.baseState=l;var g={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return u.queue=g,u=N0.bind(null,Rt,!0,g),g.dispatch=u,[l,u]},useMemoCache:D0,useCacheRefresh:function(){return Xs().memoizedState=SG.bind(null,Rt)}},mE={readContext:vs,use:Gy,useCallback:sE,useContext:vs,useEffect:JA,useImperativeHandle:nE,useInsertionEffect:eE,useLayoutEffect:tE,useMemo:rE,useReducer:Hy,useRef:qA,useState:function(){return Hy(tl)},useDebugValue:R0,useDeferredValue:function(l,u){var g=Cn();return oE(g,Ci.memoizedState,l,u)},useTransition:function(){var l=Hy(tl)[0],u=Cn().memoizedState;return[typeof l=="boolean"?l:Dg(l),u]},useSyncExternalStore:OA,useId:uE,useHostTransitionStatus:_0,useFormState:$A,useActionState:$A,useOptimistic:function(l,u){var g=Cn();return HA(g,Ci,l,u)},useMemoCache:D0,useCacheRefresh:hE},MG={readContext:vs,use:Gy,useCallback:sE,useContext:vs,useEffect:JA,useImperativeHandle:nE,useInsertionEffect:eE,useLayoutEffect:tE,useMemo:rE,useReducer:T0,useRef:qA,useState:function(){return T0(tl)},useDebugValue:R0,useDeferredValue:function(l,u){var g=Cn();return Ci===null?I0(g,l,u):oE(g,Ci.memoizedState,l,u)},useTransition:function(){var l=T0(tl)[0],u=Cn().memoizedState;return[typeof l=="boolean"?l:Dg(l),u]},useSyncExternalStore:OA,useId:uE,useHostTransitionStatus:_0,useFormState:XA,useActionState:XA,useOptimistic:function(l,u){var g=Cn();return Ci!==null?HA(g,Ci,l,u):(g.baseState=l,[l,g.queue.dispatch])},useMemoCache:D0,useCacheRefresh:hE},Md=null,Ag=0;function Yy(l){var u=Ag;return Ag+=1,Md===null&&(Md=[]),TA(Md,l,u)}function Eg(l,u){u=u.props.ref,l.ref=u!==void 0?u:null}function Ky(l,u){throw u.$$typeof===p?Error(n(525)):(l=Object.prototype.toString.call(u),Error(n(31,l==="[object Object]"?"object with keys {"+Object.keys(u).join(", ")+"}":l)))}function yE(l){var u=l._init;return u(l._payload)}function vE(l){function u(oe,ne){if(l){var ce=oe.deletions;ce===null?(oe.deletions=[ne],oe.flags|=16):ce.push(ne)}}function g(oe,ne){if(!l)return null;for(;ne!==null;)u(oe,ne),ne=ne.sibling;return null}function v(oe){for(var ne=new Map;oe!==null;)oe.key!==null?ne.set(oe.key,oe):ne.set(oe.index,oe),oe=oe.sibling;return ne}function S(oe,ne){return oe=Vr(oe,ne),oe.index=0,oe.sibling=null,oe}function T(oe,ne,ce){return oe.index=ce,l?(ce=oe.alternate,ce!==null?(ce=ce.index,ce<ne?(oe.flags|=67108866,ne):ce):(oe.flags|=67108866,ne)):(oe.flags|=1048576,ne)}function B(oe){return l&&oe.alternate===null&&(oe.flags|=67108866),oe}function W(oe,ne,ce,Me){return ne===null||ne.tag!==6?(ne=mg(ce,oe.mode,Me),ne.return=oe,ne):(ne=S(ne,ce),ne.return=oe,ne)}function q(oe,ne,ce,Me){var $e=ce.type;return $e===C?we(oe,ne,ce.props.children,Me,ce.key):ne!==null&&(ne.elementType===$e||typeof $e=="object"&&$e!==null&&$e.$$typeof===V&&yE($e)===ne.type)?(ne=S(ne,ce.props),Eg(ne,ce),ne.return=oe,ne):(ne=Vu(ce.type,ce.key,ce.props,null,oe.mode,Me),Eg(ne,ce),ne.return=oe,ne)}function ue(oe,ne,ce,Me){return ne===null||ne.tag!==4||ne.stateNode.containerInfo!==ce.containerInfo||ne.stateNode.implementation!==ce.implementation?(ne=md(ce,oe.mode,Me),ne.return=oe,ne):(ne=S(ne,ce.children||[]),ne.return=oe,ne)}function we(oe,ne,ce,Me,$e){return ne===null||ne.tag!==7?(ne=na(ce,oe.mode,Me,$e),ne.return=oe,ne):(ne=S(ne,ce),ne.return=oe,ne)}function Le(oe,ne,ce){if(typeof ne=="string"&&ne!==""||typeof ne=="number"||typeof ne=="bigint")return ne=mg(""+ne,oe.mode,ce),ne.return=oe,ne;if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case m:return ce=Vu(ne.type,ne.key,ne.props,null,oe.mode,ce),Eg(ce,ne),ce.return=oe,ce;case b:return ne=md(ne,oe.mode,ce),ne.return=oe,ne;case V:var Me=ne._init;return ne=Me(ne._payload),Le(oe,ne,ce)}if(me(ne)||Q(ne))return ne=na(ne,oe.mode,ce,null),ne.return=oe,ne;if(typeof ne.then=="function")return Le(oe,Yy(ne),ce);if(ne.$$typeof===k)return Le(oe,_y(oe,ne),ce);Ky(oe,ne)}return null}function de(oe,ne,ce,Me){var $e=ne!==null?ne.key:null;if(typeof ce=="string"&&ce!==""||typeof ce=="number"||typeof ce=="bigint")return $e!==null?null:W(oe,ne,""+ce,Me);if(typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case m:return ce.key===$e?q(oe,ne,ce,Me):null;case b:return ce.key===$e?ue(oe,ne,ce,Me):null;case V:return $e=ce._init,ce=$e(ce._payload),de(oe,ne,ce,Me)}if(me(ce)||Q(ce))return $e!==null?null:we(oe,ne,ce,Me,null);if(typeof ce.then=="function")return de(oe,ne,Yy(ce),Me);if(ce.$$typeof===k)return de(oe,ne,_y(oe,ce),Me);Ky(oe,ce)}return null}function ge(oe,ne,ce,Me,$e){if(typeof Me=="string"&&Me!==""||typeof Me=="number"||typeof Me=="bigint")return oe=oe.get(ce)||null,W(ne,oe,""+Me,$e);if(typeof Me=="object"&&Me!==null){switch(Me.$$typeof){case m:return oe=oe.get(Me.key===null?ce:Me.key)||null,q(ne,oe,Me,$e);case b:return oe=oe.get(Me.key===null?ce:Me.key)||null,ue(ne,oe,Me,$e);case V:var Ot=Me._init;return Me=Ot(Me._payload),ge(oe,ne,ce,Me,$e)}if(me(Me)||Q(Me))return oe=oe.get(ce)||null,we(ne,oe,Me,$e,null);if(typeof Me.then=="function")return ge(oe,ne,ce,Yy(Me),$e);if(Me.$$typeof===k)return ge(oe,ne,ce,_y(ne,Me),$e);Ky(ne,Me)}return null}function gt(oe,ne,ce,Me){for(var $e=null,Ot=null,tt=ne,ct=ne=0,zn=null;tt!==null&&ct<ce.length;ct++){tt.index>ct?(zn=tt,tt=null):zn=tt.sibling;var ti=de(oe,tt,ce[ct],Me);if(ti===null){tt===null&&(tt=zn);break}l&&tt&&ti.alternate===null&&u(oe,tt),ne=T(ti,ne,ct),Ot===null?$e=ti:Ot.sibling=ti,Ot=ti,tt=zn}if(ct===ce.length)return g(oe,tt),mt&&le(oe,ct),$e;if(tt===null){for(;ct<ce.length;ct++)tt=Le(oe,ce[ct],Me),tt!==null&&(ne=T(tt,ne,ct),Ot===null?$e=tt:Ot.sibling=tt,Ot=tt);return mt&&le(oe,ct),$e}for(tt=v(tt);ct<ce.length;ct++)zn=ge(tt,oe,ct,ce[ct],Me),zn!==null&&(l&&zn.alternate!==null&&tt.delete(zn.key===null?ct:zn.key),ne=T(zn,ne,ct),Ot===null?$e=zn:Ot.sibling=zn,Ot=zn);return l&&tt.forEach(function(_c){return u(oe,_c)}),mt&&le(oe,ct),$e}function ot(oe,ne,ce,Me){if(ce==null)throw Error(n(151));for(var $e=null,Ot=null,tt=ne,ct=ne=0,zn=null,ti=ce.next();tt!==null&&!ti.done;ct++,ti=ce.next()){tt.index>ct?(zn=tt,tt=null):zn=tt.sibling;var _c=de(oe,tt,ti.value,Me);if(_c===null){tt===null&&(tt=zn);break}l&&tt&&_c.alternate===null&&u(oe,tt),ne=T(_c,ne,ct),Ot===null?$e=_c:Ot.sibling=_c,Ot=_c,tt=zn}if(ti.done)return g(oe,tt),mt&&le(oe,ct),$e;if(tt===null){for(;!ti.done;ct++,ti=ce.next())ti=Le(oe,ti.value,Me),ti!==null&&(ne=T(ti,ne,ct),Ot===null?$e=ti:Ot.sibling=ti,Ot=ti);return mt&&le(oe,ct),$e}for(tt=v(tt);!ti.done;ct++,ti=ce.next())ti=ge(tt,oe,ct,ti.value,Me),ti!==null&&(l&&ti.alternate!==null&&tt.delete(ti.key===null?ct:ti.key),ne=T(ti,ne,ct),Ot===null?$e=ti:Ot.sibling=ti,Ot=ti);return l&&tt.forEach(function(DH){return u(oe,DH)}),mt&&le(oe,ct),$e}function Si(oe,ne,ce,Me){if(typeof ce=="object"&&ce!==null&&ce.type===C&&ce.key===null&&(ce=ce.props.children),typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case m:e:{for(var $e=ce.key;ne!==null;){if(ne.key===$e){if($e=ce.type,$e===C){if(ne.tag===7){g(oe,ne.sibling),Me=S(ne,ce.props.children),Me.return=oe,oe=Me;break e}}else if(ne.elementType===$e||typeof $e=="object"&&$e!==null&&$e.$$typeof===V&&yE($e)===ne.type){g(oe,ne.sibling),Me=S(ne,ce.props),Eg(Me,ce),Me.return=oe,oe=Me;break e}g(oe,ne);break}else u(oe,ne);ne=ne.sibling}ce.type===C?(Me=na(ce.props.children,oe.mode,Me,ce.key),Me.return=oe,oe=Me):(Me=Vu(ce.type,ce.key,ce.props,null,oe.mode,Me),Eg(Me,ce),Me.return=oe,oe=Me)}return B(oe);case b:e:{for($e=ce.key;ne!==null;){if(ne.key===$e)if(ne.tag===4&&ne.stateNode.containerInfo===ce.containerInfo&&ne.stateNode.implementation===ce.implementation){g(oe,ne.sibling),Me=S(ne,ce.children||[]),Me.return=oe,oe=Me;break e}else{g(oe,ne);break}else u(oe,ne);ne=ne.sibling}Me=md(ce,oe.mode,Me),Me.return=oe,oe=Me}return B(oe);case V:return $e=ce._init,ce=$e(ce._payload),Si(oe,ne,ce,Me)}if(me(ce))return gt(oe,ne,ce,Me);if(Q(ce)){if($e=Q(ce),typeof $e!="function")throw Error(n(150));return ce=$e.call(ce),ot(oe,ne,ce,Me)}if(typeof ce.then=="function")return Si(oe,ne,Yy(ce),Me);if(ce.$$typeof===k)return Si(oe,ne,_y(oe,ce),Me);Ky(oe,ce)}return typeof ce=="string"&&ce!==""||typeof ce=="number"||typeof ce=="bigint"?(ce=""+ce,ne!==null&&ne.tag===6?(g(oe,ne.sibling),Me=S(ne,ce),Me.return=oe,oe=Me):(g(oe,ne),Me=mg(ce,oe.mode,Me),Me.return=oe,oe=Me),B(oe)):g(oe,ne)}return function(oe,ne,ce,Me){try{Ag=0;var $e=Si(oe,ne,ce,Me);return Md=null,$e}catch(tt){if(tt===bg||tt===Oy)throw tt;var Ot=Os(29,tt,null,oe.mode);return Ot.lanes=Me,Ot.return=oe,Ot}finally{}}}var Dd=vE(!0),bE=vE(!1),Ur=K(null),ra=null;function vc(l){var u=l.alternate;te(Tn,Tn.current&1),te(Ur,l),ra===null&&(u===null||Cd.current!==null||u.memoizedState!==null)&&(ra=l)}function CE(l){if(l.tag===22){if(te(Tn,Tn.current),te(Ur,l),ra===null){var u=l.alternate;u!==null&&u.memoizedState!==null&&(ra=l)}}else bc()}function bc(){te(Tn,Tn.current),te(Ur,Ur.current)}function il(l){ie(Ur),ra===l&&(ra=null),ie(Tn)}var Tn=K(0);function $y(l){for(var u=l;u!==null;){if(u.tag===13){var g=u.memoizedState;if(g!==null&&(g=g.dehydrated,g===null||g.data==="$?"||MS(g)))return u}else if(u.tag===19&&u.memoizedProps.revealOrder!==void 0){if((u.flags&128)!==0)return u}else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===l)break;for(;u.sibling===null;){if(u.return===null||u.return===l)return null;u=u.return}u.sibling.return=u.return,u=u.sibling}return null}function O0(l,u,g,v){u=l.memoizedState,g=g(v,u),g=g==null?u:f({},u,g),l.memoizedState=g,l.lanes===0&&(l.updateQueue.baseState=g)}var P0={enqueueSetState:function(l,u,g){l=l._reactInternals;var v=vr(),S=pc(v);S.payload=u,g!=null&&(S.callback=g),u=mc(l,S,v),u!==null&&(br(u,l,v),xg(u,l,v))},enqueueReplaceState:function(l,u,g){l=l._reactInternals;var v=vr(),S=pc(v);S.tag=1,S.payload=u,g!=null&&(S.callback=g),u=mc(l,S,v),u!==null&&(br(u,l,v),xg(u,l,v))},enqueueForceUpdate:function(l,u){l=l._reactInternals;var g=vr(),v=pc(g);v.tag=2,u!=null&&(v.callback=u),u=mc(l,v,g),u!==null&&(br(u,l,g),xg(u,l,g))}};function xE(l,u,g,v,S,T,B){return l=l.stateNode,typeof l.shouldComponentUpdate=="function"?l.shouldComponentUpdate(v,T,B):u.prototype&&u.prototype.isPureReactComponent?!ks(g,v)||!ks(S,T):!0}function SE(l,u,g,v){l=u.state,typeof u.componentWillReceiveProps=="function"&&u.componentWillReceiveProps(g,v),typeof u.UNSAFE_componentWillReceiveProps=="function"&&u.UNSAFE_componentWillReceiveProps(g,v),u.state!==l&&P0.enqueueReplaceState(u,u.state,null)}function Xu(l,u){var g=u;if("ref"in u){g={};for(var v in u)v!=="ref"&&(g[v]=u[v])}if(l=l.defaultProps){g===u&&(g=f({},g));for(var S in l)g[S]===void 0&&(g[S]=l[S])}return g}var Zy=typeof reportError=="function"?reportError:function(l){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var u=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof l=="object"&&l!==null&&typeof l.message=="string"?String(l.message):String(l),error:l});if(!window.dispatchEvent(u))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",l);return}console.error(l)};function wE(l){Zy(l)}function ME(l){console.error(l)}function DE(l){Zy(l)}function Xy(l,u){try{var g=l.onUncaughtError;g(u.value,{componentStack:u.stack})}catch(v){setTimeout(function(){throw v})}}function LE(l,u,g){try{var v=l.onCaughtError;v(g.value,{componentStack:g.stack,errorBoundary:u.tag===1?u.stateNode:null})}catch(S){setTimeout(function(){throw S})}}function F0(l,u,g){return g=pc(g),g.tag=3,g.payload={element:null},g.callback=function(){Xy(l,u)},g}function TE(l){return l=pc(l),l.tag=3,l}function AE(l,u,g,v){var S=g.type.getDerivedStateFromError;if(typeof S=="function"){var T=v.value;l.payload=function(){return S(T)},l.callback=function(){LE(u,g,v)}}var B=g.stateNode;B!==null&&typeof B.componentDidCatch=="function"&&(l.callback=function(){LE(u,g,v),typeof S!="function"&&(Dc===null?Dc=new Set([this]):Dc.add(this));var W=v.stack;this.componentDidCatch(v.value,{componentStack:W!==null?W:""})})}function DG(l,u,g,v,S){if(g.flags|=32768,v!==null&&typeof v=="object"&&typeof v.then=="function"){if(u=g.alternate,u!==null&&Yu(u,g,S,!0),g=Ur.current,g!==null){switch(g.tag){case 13:return ra===null?aS():g.alternate===null&&sn===0&&(sn=3),g.flags&=-257,g.flags|=65536,g.lanes=S,v===d0?g.flags|=16384:(u=g.updateQueue,u===null?g.updateQueue=new Set([v]):u.add(v),cS(l,v,S)),!1;case 22:return g.flags|=65536,v===d0?g.flags|=16384:(u=g.updateQueue,u===null?(u={transitions:null,markerInstances:null,retryQueue:new Set([v])},g.updateQueue=u):(g=u.retryQueue,g===null?u.retryQueue=new Set([v]):g.add(v)),cS(l,v,S)),!1}throw Error(n(435,g.tag))}return cS(l,v,S),aS(),!1}if(mt)return u=Ur.current,u!==null?((u.flags&65536)===0&&(u.flags|=256),u.flags|=65536,u.lanes=S,v!==Pn&&(l=Error(n(422),{cause:v}),fc(_s(l,g)))):(v!==Pn&&(u=Error(n(423),{cause:v}),fc(_s(u,g))),l=l.current.alternate,l.flags|=65536,S&=-S,l.lanes|=S,v=_s(v,g),S=F0(l.stateNode,v,S),p0(l,S),sn!==4&&(sn=2)),!1;var T=Error(n(520),{cause:v});if(T=_s(T,g),Pg===null?Pg=[T]:Pg.push(T),sn!==4&&(sn=2),u===null)return!0;v=_s(v,g),g=u;do{switch(g.tag){case 3:return g.flags|=65536,l=S&-S,g.lanes|=l,l=F0(g.stateNode,v,l),p0(g,l),!1;case 1:if(u=g.type,T=g.stateNode,(g.flags&128)===0&&(typeof u.getDerivedStateFromError=="function"||T!==null&&typeof T.componentDidCatch=="function"&&(Dc===null||!Dc.has(T))))return g.flags|=65536,S&=-S,g.lanes|=S,S=TE(S),AE(S,l,g,v),p0(g,S),!1}g=g.return}while(g!==null);return!1}var EE=Error(n(461)),Fn=!1;function es(l,u,g,v){u.child=l===null?bE(u,null,g,v):Dd(u,l.child,g,v)}function RE(l,u,g,v,S){g=g.render;var T=u.ref;if("ref"in v){var B={};for(var W in v)W!=="ref"&&(B[W]=v[W])}else B=v;return Ku(u),v=C0(l,u,g,B,T,S),W=x0(),l!==null&&!Fn?(S0(l,u,S),nl(l,u,S)):(mt&&W&&Ae(u),u.flags|=1,es(l,u,v,S),u.child)}function IE(l,u,g,v,S){if(l===null){var T=g.type;return typeof T=="function"&&!pd(T)&&T.defaultProps===void 0&&g.compare===null?(u.tag=15,u.type=T,kE(l,u,T,v,S)):(l=Vu(g.type,null,v,u,u.mode,S),l.ref=u.ref,l.return=u,u.child=l)}if(T=l.child,!U0(l,S)){var B=T.memoizedProps;if(g=g.compare,g=g!==null?g:ks,g(B,v)&&l.ref===u.ref)return nl(l,u,S)}return u.flags|=1,l=Vr(T,v),l.ref=u.ref,l.return=u,u.child=l}function kE(l,u,g,v,S){if(l!==null){var T=l.memoizedProps;if(ks(T,v)&&l.ref===u.ref)if(Fn=!1,u.pendingProps=v=T,U0(l,S))(l.flags&131072)!==0&&(Fn=!0);else return u.lanes=l.lanes,nl(l,u,S)}return B0(l,u,g,v,S)}function _E(l,u,g){var v=u.pendingProps,S=v.children,T=l!==null?l.memoizedState:null;if(v.mode==="hidden"){if((u.flags&128)!==0){if(v=T!==null?T.baseLanes|g:g,l!==null){for(S=u.child=l.child,T=0;S!==null;)T=T|S.lanes|S.childLanes,S=S.sibling;u.childLanes=T&~v}else u.childLanes=0,u.child=null;return NE(l,u,v,g)}if((g&536870912)!==0)u.memoizedState={baseLanes:0,cachePool:null},l!==null&&Ny(u,T!==null?T.cachePool:null),T!==null?kA(u,T):y0(),CE(u);else return u.lanes=u.childLanes=536870912,NE(l,u,T!==null?T.baseLanes|g:g,g)}else T!==null?(Ny(u,T.cachePool),kA(u,T),bc(),u.memoizedState=null):(l!==null&&Ny(u,null),y0(),bc());return es(l,u,S,g),u.child}function NE(l,u,g,v){var S=h0();return S=S===null?null:{parent:Ln._currentValue,pool:S},u.memoizedState={baseLanes:g,cachePool:S},l!==null&&Ny(u,null),y0(),CE(u),l!==null&&Yu(l,u,v,!0),null}function qy(l,u){var g=u.ref;if(g===null)l!==null&&l.ref!==null&&(u.flags|=4194816);else{if(typeof g!="function"&&typeof g!="object")throw Error(n(284));(l===null||l.ref!==g)&&(u.flags|=4194816)}}function B0(l,u,g,v,S){return Ku(u),g=C0(l,u,g,v,void 0,S),v=x0(),l!==null&&!Fn?(S0(l,u,S),nl(l,u,S)):(mt&&v&&Ae(u),u.flags|=1,es(l,u,g,S),u.child)}function OE(l,u,g,v,S,T){return Ku(u),u.updateQueue=null,g=NA(u,v,g,S),_A(l),v=x0(),l!==null&&!Fn?(S0(l,u,T),nl(l,u,T)):(mt&&v&&Ae(u),u.flags|=1,es(l,u,g,T),u.child)}function PE(l,u,g,v,S){if(Ku(u),u.stateNode===null){var T=Ja,B=g.contextType;typeof B=="object"&&B!==null&&(T=vs(B)),T=new g(v,T),u.memoizedState=T.state!==null&&T.state!==void 0?T.state:null,T.updater=P0,u.stateNode=T,T._reactInternals=u,T=u.stateNode,T.props=v,T.state=u.memoizedState,T.refs={},f0(u),B=g.contextType,T.context=typeof B=="object"&&B!==null?vs(B):Ja,T.state=u.memoizedState,B=g.getDerivedStateFromProps,typeof B=="function"&&(O0(u,g,B,v),T.state=u.memoizedState),typeof g.getDerivedStateFromProps=="function"||typeof T.getSnapshotBeforeUpdate=="function"||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(B=T.state,typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount(),B!==T.state&&P0.enqueueReplaceState(T,T.state,null),wg(u,v,T,S),Sg(),T.state=u.memoizedState),typeof T.componentDidMount=="function"&&(u.flags|=4194308),v=!0}else if(l===null){T=u.stateNode;var W=u.memoizedProps,q=Xu(g,W);T.props=q;var ue=T.context,we=g.contextType;B=Ja,typeof we=="object"&&we!==null&&(B=vs(we));var Le=g.getDerivedStateFromProps;we=typeof Le=="function"||typeof T.getSnapshotBeforeUpdate=="function",W=u.pendingProps!==W,we||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(W||ue!==B)&&SE(u,T,v,B),gc=!1;var de=u.memoizedState;T.state=de,wg(u,v,T,S),Sg(),ue=u.memoizedState,W||de!==ue||gc?(typeof Le=="function"&&(O0(u,g,Le,v),ue=u.memoizedState),(q=gc||xE(u,g,q,v,de,ue,B))?(we||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount()),typeof T.componentDidMount=="function"&&(u.flags|=4194308)):(typeof T.componentDidMount=="function"&&(u.flags|=4194308),u.memoizedProps=v,u.memoizedState=ue),T.props=v,T.state=ue,T.context=B,v=q):(typeof T.componentDidMount=="function"&&(u.flags|=4194308),v=!1)}else{T=u.stateNode,g0(l,u),B=u.memoizedProps,we=Xu(g,B),T.props=we,Le=u.pendingProps,de=T.context,ue=g.contextType,q=Ja,typeof ue=="object"&&ue!==null&&(q=vs(ue)),W=g.getDerivedStateFromProps,(ue=typeof W=="function"||typeof T.getSnapshotBeforeUpdate=="function")||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(B!==Le||de!==q)&&SE(u,T,v,q),gc=!1,de=u.memoizedState,T.state=de,wg(u,v,T,S),Sg();var ge=u.memoizedState;B!==Le||de!==ge||gc||l!==null&&l.dependencies!==null&&ky(l.dependencies)?(typeof W=="function"&&(O0(u,g,W,v),ge=u.memoizedState),(we=gc||xE(u,g,we,v,de,ge,q)||l!==null&&l.dependencies!==null&&ky(l.dependencies))?(ue||typeof T.UNSAFE_componentWillUpdate!="function"&&typeof T.componentWillUpdate!="function"||(typeof T.componentWillUpdate=="function"&&T.componentWillUpdate(v,ge,q),typeof T.UNSAFE_componentWillUpdate=="function"&&T.UNSAFE_componentWillUpdate(v,ge,q)),typeof T.componentDidUpdate=="function"&&(u.flags|=4),typeof T.getSnapshotBeforeUpdate=="function"&&(u.flags|=1024)):(typeof T.componentDidUpdate!="function"||B===l.memoizedProps&&de===l.memoizedState||(u.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||B===l.memoizedProps&&de===l.memoizedState||(u.flags|=1024),u.memoizedProps=v,u.memoizedState=ge),T.props=v,T.state=ge,T.context=q,v=we):(typeof T.componentDidUpdate!="function"||B===l.memoizedProps&&de===l.memoizedState||(u.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||B===l.memoizedProps&&de===l.memoizedState||(u.flags|=1024),v=!1)}return T=v,qy(l,u),v=(u.flags&128)!==0,T||v?(T=u.stateNode,g=v&&typeof g.getDerivedStateFromError!="function"?null:T.render(),u.flags|=1,l!==null&&v?(u.child=Dd(u,l.child,null,S),u.child=Dd(u,null,g,S)):es(l,u,g,S),u.memoizedState=T.state,l=u.child):l=nl(l,u,S),l}function FE(l,u,g,v){return dc(),u.flags|=256,es(l,u,g,v),u.child}var z0={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function G0(l){return{baseLanes:l,cachePool:MA()}}function H0(l,u,g){return l=l!==null?l.childLanes&~g:0,u&&(l|=Yr),l}function BE(l,u,g){var v=u.pendingProps,S=!1,T=(u.flags&128)!==0,B;if((B=T)||(B=l!==null&&l.memoizedState===null?!1:(Tn.current&2)!==0),B&&(S=!0,u.flags&=-129),B=(u.flags&32)!==0,u.flags&=-33,l===null){if(mt){if(S?vc(u):bc(),mt){var W=Xe,q;if(q=W){e:{for(q=W,W=Yi;q.nodeType!==8;){if(!W){W=null;break e}if(q=Mo(q.nextSibling),q===null){W=null;break e}}W=q}W!==null?(u.memoizedState={dehydrated:W,treeContext:O!==null?{id:G,overflow:X}:null,retryLane:536870912,hydrationErrors:null},q=Os(18,null,null,0),q.stateNode=W,q.return=u,u.child=q,Ye=u,Xe=null,q=!0):q=!1}q||Zs(u)}if(W=u.memoizedState,W!==null&&(W=W.dehydrated,W!==null))return MS(W)?u.lanes=32:u.lanes=536870912,null;il(u)}return W=v.children,v=v.fallback,S?(bc(),S=u.mode,W=Qy({mode:"hidden",children:W},S),v=na(v,S,g,null),W.return=u,v.return=u,W.sibling=v,u.child=W,S=u.child,S.memoizedState=G0(g),S.childLanes=H0(l,B,g),u.memoizedState=z0,v):(vc(u),j0(u,W))}if(q=l.memoizedState,q!==null&&(W=q.dehydrated,W!==null)){if(T)u.flags&256?(vc(u),u.flags&=-257,u=V0(l,u,g)):u.memoizedState!==null?(bc(),u.child=l.child,u.flags|=128,u=null):(bc(),S=v.fallback,W=u.mode,v=Qy({mode:"visible",children:v.children},W),S=na(S,W,g,null),S.flags|=2,v.return=u,S.return=u,v.sibling=S,u.child=v,Dd(u,l.child,null,g),v=u.child,v.memoizedState=G0(g),v.childLanes=H0(l,B,g),u.memoizedState=z0,u=S);else if(vc(u),MS(W)){if(B=W.nextSibling&&W.nextSibling.dataset,B)var ue=B.dgst;B=ue,v=Error(n(419)),v.stack="",v.digest=B,fc({value:v,source:null,stack:null}),u=V0(l,u,g)}else if(Fn||Yu(l,u,g,!1),B=(g&l.childLanes)!==0,Fn||B){if(B=Ri,B!==null&&(v=g&-g,v=(v&42)!==0?1:Du(v),v=(v&(B.suspendedLanes|g))!==0?0:v,v!==0&&v!==q.retryLane))throw q.retryLane=v,uc(l,v),br(B,l,v),EE;W.data==="$?"||aS(),u=V0(l,u,g)}else W.data==="$?"?(u.flags|=192,u.child=l.child,u=null):(l=q.treeContext,Xe=Mo(W.nextSibling),Ye=u,mt=!0,Ei=null,Yi=!1,l!==null&&(x[E++]=G,x[E++]=X,x[E++]=O,G=l.id,X=l.overflow,O=u),u=j0(u,v.children),u.flags|=4096);return u}return S?(bc(),S=v.fallback,W=u.mode,q=l.child,ue=q.sibling,v=Vr(q,{mode:"hidden",children:v.children}),v.subtreeFlags=q.subtreeFlags&65011712,ue!==null?S=Vr(ue,S):(S=na(S,W,g,null),S.flags|=2),S.return=u,v.return=u,v.sibling=S,u.child=v,v=S,S=u.child,W=l.child.memoizedState,W===null?W=G0(g):(q=W.cachePool,q!==null?(ue=Ln._currentValue,q=q.parent!==ue?{parent:ue,pool:ue}:q):q=MA(),W={baseLanes:W.baseLanes|g,cachePool:q}),S.memoizedState=W,S.childLanes=H0(l,B,g),u.memoizedState=z0,v):(vc(u),g=l.child,l=g.sibling,g=Vr(g,{mode:"visible",children:v.children}),g.return=u,g.sibling=null,l!==null&&(B=u.deletions,B===null?(u.deletions=[l],u.flags|=16):B.push(l)),u.child=g,u.memoizedState=null,g)}function j0(l,u){return u=Qy({mode:"visible",children:u},l.mode),u.return=l,l.child=u}function Qy(l,u){return l=Os(22,l,null,u),l.lanes=0,l.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},l}function V0(l,u,g){return Dd(u,l.child,null,g),l=j0(u,u.pendingProps.children),l.flags|=2,u.memoizedState=null,l}function zE(l,u,g){l.lanes|=u;var v=l.alternate;v!==null&&(v.lanes|=u),Uu(l.return,u,g)}function W0(l,u,g,v,S){var T=l.memoizedState;T===null?l.memoizedState={isBackwards:u,rendering:null,renderingStartTime:0,last:v,tail:g,tailMode:S}:(T.isBackwards=u,T.rendering=null,T.renderingStartTime=0,T.last=v,T.tail=g,T.tailMode=S)}function GE(l,u,g){var v=u.pendingProps,S=v.revealOrder,T=v.tail;if(es(l,u,v.children,g),v=Tn.current,(v&2)!==0)v=v&1|2,u.flags|=128;else{if(l!==null&&(l.flags&128)!==0)e:for(l=u.child;l!==null;){if(l.tag===13)l.memoizedState!==null&&zE(l,g,u);else if(l.tag===19)zE(l,g,u);else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===u)break e;for(;l.sibling===null;){if(l.return===null||l.return===u)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}v&=1}switch(te(Tn,v),S){case"forwards":for(g=u.child,S=null;g!==null;)l=g.alternate,l!==null&&$y(l)===null&&(S=g),g=g.sibling;g=S,g===null?(S=u.child,u.child=null):(S=g.sibling,g.sibling=null),W0(u,!1,S,g,T);break;case"backwards":for(g=null,S=u.child,u.child=null;S!==null;){if(l=S.alternate,l!==null&&$y(l)===null){u.child=S;break}l=S.sibling,S.sibling=g,g=S,S=l}W0(u,!0,g,null,T);break;case"together":W0(u,!1,null,null,void 0);break;default:u.memoizedState=null}return u.child}function nl(l,u,g){if(l!==null&&(u.dependencies=l.dependencies),Mc|=u.lanes,(g&u.childLanes)===0)if(l!==null){if(Yu(l,u,g,!1),(g&u.childLanes)===0)return null}else return null;if(l!==null&&u.child!==l.child)throw Error(n(153));if(u.child!==null){for(l=u.child,g=Vr(l,l.pendingProps),u.child=g,g.return=u;l.sibling!==null;)l=l.sibling,g=g.sibling=Vr(l,l.pendingProps),g.return=u;g.sibling=null}return u.child}function U0(l,u){return(l.lanes&u)!==0?!0:(l=l.dependencies,!!(l!==null&&ky(l)))}function LG(l,u,g){switch(u.tag){case 3:xe(u,u.stateNode.containerInfo),sa(u,Ln,l.memoizedState.cache),dc();break;case 27:case 5:Ne(u);break;case 4:xe(u,u.stateNode.containerInfo);break;case 10:sa(u,u.type,u.memoizedProps.value);break;case 13:var v=u.memoizedState;if(v!==null)return v.dehydrated!==null?(vc(u),u.flags|=128,null):(g&u.child.childLanes)!==0?BE(l,u,g):(vc(u),l=nl(l,u,g),l!==null?l.sibling:null);vc(u);break;case 19:var S=(l.flags&128)!==0;if(v=(g&u.childLanes)!==0,v||(Yu(l,u,g,!1),v=(g&u.childLanes)!==0),S){if(v)return GE(l,u,g);u.flags|=128}if(S=u.memoizedState,S!==null&&(S.rendering=null,S.tail=null,S.lastEffect=null),te(Tn,Tn.current),v)break;return null;case 22:case 23:return u.lanes=0,_E(l,u,g);case 24:sa(u,Ln,l.memoizedState.cache)}return nl(l,u,g)}function HE(l,u,g){if(l!==null)if(l.memoizedProps!==u.pendingProps)Fn=!0;else{if(!U0(l,g)&&(u.flags&128)===0)return Fn=!1,LG(l,u,g);Fn=(l.flags&131072)!==0}else Fn=!1,mt&&(u.flags&1048576)!==0&&pe(u,y,u.index);switch(u.lanes=0,u.tag){case 16:e:{l=u.pendingProps;var v=u.elementType,S=v._init;if(v=S(v._payload),u.type=v,typeof v=="function")pd(v)?(l=Xu(v,l),u.tag=1,u=PE(null,u,v,l,g)):(u.tag=0,u=B0(null,u,v,l,g));else{if(v!=null){if(S=v.$$typeof,S===_){u.tag=11,u=RE(null,u,v,l,g);break e}else if(S===z){u.tag=14,u=IE(null,u,v,l,g);break e}}throw u=be(v)||v,Error(n(306,u,""))}}return u;case 0:return B0(l,u,u.type,u.pendingProps,g);case 1:return v=u.type,S=Xu(v,u.pendingProps),PE(l,u,v,S,g);case 3:e:{if(xe(u,u.stateNode.containerInfo),l===null)throw Error(n(387));v=u.pendingProps;var T=u.memoizedState;S=T.element,g0(l,u),wg(u,v,null,g);var B=u.memoizedState;if(v=B.cache,sa(u,Ln,v),v!==T.cache&&yd(u,[Ln],g,!0),Sg(),v=B.element,T.isDehydrated)if(T={element:v,isDehydrated:!1,cache:B.cache},u.updateQueue.baseState=T,u.memoizedState=T,u.flags&256){u=FE(l,u,v,g);break e}else if(v!==S){S=_s(Error(n(424)),u),fc(S),u=FE(l,u,v,g);break e}else{switch(l=u.stateNode.containerInfo,l.nodeType){case 9:l=l.body;break;default:l=l.nodeName==="HTML"?l.ownerDocument.body:l}for(Xe=Mo(l.firstChild),Ye=u,mt=!0,Ei=null,Yi=!0,g=bE(u,null,v,g),u.child=g;g;)g.flags=g.flags&-3|4096,g=g.sibling}else{if(dc(),v===S){u=nl(l,u,g);break e}es(l,u,v,g)}u=u.child}return u;case 26:return qy(l,u),l===null?(g=UR(u.type,null,u.pendingProps,null))?u.memoizedState=g:mt||(g=u.type,l=u.pendingProps,v=dv(he.current).createElement(g),v[De]=u,v[Oe]=l,is(v,g,l),Yt(v),u.stateNode=v):u.memoizedState=UR(u.type,l.memoizedProps,u.pendingProps,l.memoizedState),null;case 27:return Ne(u),l===null&&mt&&(v=u.stateNode=jR(u.type,u.pendingProps,he.current),Ye=u,Yi=!0,S=Xe,Ac(u.type)?(DS=S,Xe=Mo(v.firstChild)):Xe=S),es(l,u,u.pendingProps.children,g),qy(l,u),l===null&&(u.flags|=4194304),u.child;case 5:return l===null&&mt&&((S=v=Xe)&&(v=eH(v,u.type,u.pendingProps,Yi),v!==null?(u.stateNode=v,Ye=u,Xe=Mo(v.firstChild),Yi=!1,S=!0):S=!1),S||Zs(u)),Ne(u),S=u.type,T=u.pendingProps,B=l!==null?l.memoizedProps:null,v=T.children,xS(S,T)?v=null:B!==null&&xS(S,B)&&(u.flags|=32),u.memoizedState!==null&&(S=C0(l,u,vG,null,null,g),Ug._currentValue=S),qy(l,u),es(l,u,v,g),u.child;case 6:return l===null&&mt&&((l=g=Xe)&&(g=tH(g,u.pendingProps,Yi),g!==null?(u.stateNode=g,Ye=u,Xe=null,l=!0):l=!1),l||Zs(u)),null;case 13:return BE(l,u,g);case 4:return xe(u,u.stateNode.containerInfo),v=u.pendingProps,l===null?u.child=Dd(u,null,v,g):es(l,u,v,g),u.child;case 11:return RE(l,u,u.type,u.pendingProps,g);case 7:return es(l,u,u.pendingProps,g),u.child;case 8:return es(l,u,u.pendingProps.children,g),u.child;case 12:return es(l,u,u.pendingProps.children,g),u.child;case 10:return v=u.pendingProps,sa(u,u.type,v.value),es(l,u,v.children,g),u.child;case 9:return S=u.type._context,v=u.pendingProps.children,Ku(u),S=vs(S),v=v(S),u.flags|=1,es(l,u,v,g),u.child;case 14:return IE(l,u,u.type,u.pendingProps,g);case 15:return kE(l,u,u.type,u.pendingProps,g);case 19:return GE(l,u,g);case 31:return v=u.pendingProps,g=u.mode,v={mode:v.mode,children:v.children},l===null?(g=Qy(v,g),g.ref=u.ref,u.child=g,g.return=u,u=g):(g=Vr(l.child,v),g.ref=u.ref,u.child=g,g.return=u,u=g),u;case 22:return _E(l,u,g);case 24:return Ku(u),v=vs(Ln),l===null?(S=h0(),S===null&&(S=Ri,T=c0(),S.pooledCache=T,T.refCount++,T!==null&&(S.pooledCacheLanes|=g),S=T),u.memoizedState={parent:v,cache:S},f0(u),sa(u,Ln,S)):((l.lanes&g)!==0&&(g0(l,u),wg(u,null,null,g),Sg()),S=l.memoizedState,T=u.memoizedState,S.parent!==v?(S={parent:v,cache:v},u.memoizedState=S,u.lanes===0&&(u.memoizedState=u.updateQueue.baseState=S),sa(u,Ln,v)):(v=T.cache,sa(u,Ln,v),v!==S.cache&&yd(u,[Ln],g,!0))),es(l,u,u.pendingProps.children,g),u.child;case 29:throw u.pendingProps}throw Error(n(156,u.tag))}function sl(l){l.flags|=4}function jE(l,u){if(u.type!=="stylesheet"||(u.state.loading&4)!==0)l.flags&=-16777217;else if(l.flags|=16777216,!XR(u)){if(u=Ur.current,u!==null&&((Kt&4194048)===Kt?ra!==null:(Kt&62914560)!==Kt&&(Kt&536870912)===0||u!==ra))throw Cg=d0,DA;l.flags|=8192}}function Jy(l,u){u!==null&&(l.flags|=4),l.flags&16384&&(u=l.tag!==22?Mu():536870912,l.lanes|=u,Ed|=u)}function Rg(l,u){if(!mt)switch(l.tailMode){case"hidden":u=l.tail;for(var g=null;u!==null;)u.alternate!==null&&(g=u),u=u.sibling;g===null?l.tail=null:g.sibling=null;break;case"collapsed":g=l.tail;for(var v=null;g!==null;)g.alternate!==null&&(v=g),g=g.sibling;v===null?u||l.tail===null?l.tail=null:l.tail.sibling=null:v.sibling=null}}function Ki(l){var u=l.alternate!==null&&l.alternate.child===l.child,g=0,v=0;if(u)for(var S=l.child;S!==null;)g|=S.lanes|S.childLanes,v|=S.subtreeFlags&65011712,v|=S.flags&65011712,S.return=l,S=S.sibling;else for(S=l.child;S!==null;)g|=S.lanes|S.childLanes,v|=S.subtreeFlags,v|=S.flags,S.return=l,S=S.sibling;return l.subtreeFlags|=v,l.childLanes=g,u}function TG(l,u,g){var v=u.pendingProps;switch(ze(u),u.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ki(u),null;case 1:return Ki(u),null;case 3:return g=u.stateNode,v=null,l!==null&&(v=l.memoizedState.cache),u.memoizedState.cache!==v&&(u.flags|=2048),So(Ln),Re(),g.pendingContext&&(g.context=g.pendingContext,g.pendingContext=null),(l===null||l.child===null)&&(Wu(u)?sl(u):l===null||l.memoizedState.isDehydrated&&(u.flags&256)===0||(u.flags|=1024,Iy())),Ki(u),null;case 26:return g=u.memoizedState,l===null?(sl(u),g!==null?(Ki(u),jE(u,g)):(Ki(u),u.flags&=-16777217)):g?g!==l.memoizedState?(sl(u),Ki(u),jE(u,g)):(Ki(u),u.flags&=-16777217):(l.memoizedProps!==v&&sl(u),Ki(u),u.flags&=-16777217),null;case 27:We(u),g=he.current;var S=u.type;if(l!==null&&u.stateNode!=null)l.memoizedProps!==v&&sl(u);else{if(!v){if(u.stateNode===null)throw Error(n(166));return Ki(u),null}l=se.current,Wu(u)?Ey(u):(l=jR(S,v,g),u.stateNode=l,sl(u))}return Ki(u),null;case 5:if(We(u),g=u.type,l!==null&&u.stateNode!=null)l.memoizedProps!==v&&sl(u);else{if(!v){if(u.stateNode===null)throw Error(n(166));return Ki(u),null}if(l=se.current,Wu(u))Ey(u);else{switch(S=dv(he.current),l){case 1:l=S.createElementNS("http://www.w3.org/2000/svg",g);break;case 2:l=S.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;default:switch(g){case"svg":l=S.createElementNS("http://www.w3.org/2000/svg",g);break;case"math":l=S.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;case"script":l=S.createElement("div"),l.innerHTML="<script><\/script>",l=l.removeChild(l.firstChild);break;case"select":l=typeof v.is=="string"?S.createElement("select",{is:v.is}):S.createElement("select"),v.multiple?l.multiple=!0:v.size&&(l.size=v.size);break;default:l=typeof v.is=="string"?S.createElement(g,{is:v.is}):S.createElement(g)}}l[De]=u,l[Oe]=v;e:for(S=u.child;S!==null;){if(S.tag===5||S.tag===6)l.appendChild(S.stateNode);else if(S.tag!==4&&S.tag!==27&&S.child!==null){S.child.return=S,S=S.child;continue}if(S===u)break e;for(;S.sibling===null;){if(S.return===null||S.return===u)break e;S=S.return}S.sibling.return=S.return,S=S.sibling}u.stateNode=l;e:switch(is(l,g,v),g){case"button":case"input":case"select":case"textarea":l=!!v.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&sl(u)}}return Ki(u),u.flags&=-16777217,null;case 6:if(l&&u.stateNode!=null)l.memoizedProps!==v&&sl(u);else{if(typeof v!="string"&&u.stateNode===null)throw Error(n(166));if(l=he.current,Wu(u)){if(l=u.stateNode,g=u.memoizedProps,v=null,S=Ye,S!==null)switch(S.tag){case 27:case 5:v=S.memoizedProps}l[De]=u,l=!!(l.nodeValue===g||v!==null&&v.suppressHydrationWarning===!0||OR(l.nodeValue,g)),l||Zs(u)}else l=dv(l).createTextNode(v),l[De]=u,u.stateNode=l}return Ki(u),null;case 13:if(v=u.memoizedState,l===null||l.memoizedState!==null&&l.memoizedState.dehydrated!==null){if(S=Wu(u),v!==null&&v.dehydrated!==null){if(l===null){if(!S)throw Error(n(318));if(S=u.memoizedState,S=S!==null?S.dehydrated:null,!S)throw Error(n(317));S[De]=u}else dc(),(u.flags&128)===0&&(u.memoizedState=null),u.flags|=4;Ki(u),S=!1}else S=Iy(),l!==null&&l.memoizedState!==null&&(l.memoizedState.hydrationErrors=S),S=!0;if(!S)return u.flags&256?(il(u),u):(il(u),null)}if(il(u),(u.flags&128)!==0)return u.lanes=g,u;if(g=v!==null,l=l!==null&&l.memoizedState!==null,g){v=u.child,S=null,v.alternate!==null&&v.alternate.memoizedState!==null&&v.alternate.memoizedState.cachePool!==null&&(S=v.alternate.memoizedState.cachePool.pool);var T=null;v.memoizedState!==null&&v.memoizedState.cachePool!==null&&(T=v.memoizedState.cachePool.pool),T!==S&&(v.flags|=2048)}return g!==l&&g&&(u.child.flags|=8192),Jy(u,u.updateQueue),Ki(u),null;case 4:return Re(),l===null&&mS(u.stateNode.containerInfo),Ki(u),null;case 10:return So(u.type),Ki(u),null;case 19:if(ie(Tn),S=u.memoizedState,S===null)return Ki(u),null;if(v=(u.flags&128)!==0,T=S.rendering,T===null)if(v)Rg(S,!1);else{if(sn!==0||l!==null&&(l.flags&128)!==0)for(l=u.child;l!==null;){if(T=$y(l),T!==null){for(u.flags|=128,Rg(S,!1),l=T.updateQueue,u.updateQueue=l,Jy(u,l),u.subtreeFlags=0,l=g,g=u.child;g!==null;)pg(g,l),g=g.sibling;return te(Tn,Tn.current&1|2),u.child}l=l.sibling}S.tail!==null&&je()>iv&&(u.flags|=128,v=!0,Rg(S,!1),u.lanes=4194304)}else{if(!v)if(l=$y(T),l!==null){if(u.flags|=128,v=!0,l=l.updateQueue,u.updateQueue=l,Jy(u,l),Rg(S,!0),S.tail===null&&S.tailMode==="hidden"&&!T.alternate&&!mt)return Ki(u),null}else 2*je()-S.renderingStartTime>iv&&g!==536870912&&(u.flags|=128,v=!0,Rg(S,!1),u.lanes=4194304);S.isBackwards?(T.sibling=u.child,u.child=T):(l=S.last,l!==null?l.sibling=T:u.child=T,S.last=T)}return S.tail!==null?(u=S.tail,S.rendering=u,S.tail=u.sibling,S.renderingStartTime=je(),u.sibling=null,l=Tn.current,te(Tn,v?l&1|2:l&1),u):(Ki(u),null);case 22:case 23:return il(u),v0(),v=u.memoizedState!==null,l!==null?l.memoizedState!==null!==v&&(u.flags|=8192):v&&(u.flags|=8192),v?(g&536870912)!==0&&(u.flags&128)===0&&(Ki(u),u.subtreeFlags&6&&(u.flags|=8192)):Ki(u),g=u.updateQueue,g!==null&&Jy(u,g.retryQueue),g=null,l!==null&&l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(g=l.memoizedState.cachePool.pool),v=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(v=u.memoizedState.cachePool.pool),v!==g&&(u.flags|=2048),l!==null&&ie($u),null;case 24:return g=null,l!==null&&(g=l.memoizedState.cache),u.memoizedState.cache!==g&&(u.flags|=2048),So(Ln),Ki(u),null;case 25:return null;case 30:return null}throw Error(n(156,u.tag))}function AG(l,u){switch(ze(u),u.tag){case 1:return l=u.flags,l&65536?(u.flags=l&-65537|128,u):null;case 3:return So(Ln),Re(),l=u.flags,(l&65536)!==0&&(l&128)===0?(u.flags=l&-65537|128,u):null;case 26:case 27:case 5:return We(u),null;case 13:if(il(u),l=u.memoizedState,l!==null&&l.dehydrated!==null){if(u.alternate===null)throw Error(n(340));dc()}return l=u.flags,l&65536?(u.flags=l&-65537|128,u):null;case 19:return ie(Tn),null;case 4:return Re(),null;case 10:return So(u.type),null;case 22:case 23:return il(u),v0(),l!==null&&ie($u),l=u.flags,l&65536?(u.flags=l&-65537|128,u):null;case 24:return So(Ln),null;case 25:return null;default:return null}}function VE(l,u){switch(ze(u),u.tag){case 3:So(Ln),Re();break;case 26:case 27:case 5:We(u);break;case 4:Re();break;case 13:il(u);break;case 19:ie(Tn);break;case 10:So(u.type);break;case 22:case 23:il(u),v0(),l!==null&&ie($u);break;case 24:So(Ln)}}function Ig(l,u){try{var g=u.updateQueue,v=g!==null?g.lastEffect:null;if(v!==null){var S=v.next;g=S;do{if((g.tag&l)===l){v=void 0;var T=g.create,B=g.inst;v=T(),B.destroy=v}g=g.next}while(g!==S)}}catch(W){Di(u,u.return,W)}}function Cc(l,u,g){try{var v=u.updateQueue,S=v!==null?v.lastEffect:null;if(S!==null){var T=S.next;v=T;do{if((v.tag&l)===l){var B=v.inst,W=B.destroy;if(W!==void 0){B.destroy=void 0,S=u;var q=g,ue=W;try{ue()}catch(we){Di(S,q,we)}}}v=v.next}while(v!==T)}}catch(we){Di(u,u.return,we)}}function WE(l){var u=l.updateQueue;if(u!==null){var g=l.stateNode;try{IA(u,g)}catch(v){Di(l,l.return,v)}}}function UE(l,u,g){g.props=Xu(l.type,l.memoizedProps),g.state=l.memoizedState;try{g.componentWillUnmount()}catch(v){Di(l,u,v)}}function kg(l,u){try{var g=l.ref;if(g!==null){switch(l.tag){case 26:case 27:case 5:var v=l.stateNode;break;case 30:v=l.stateNode;break;default:v=l.stateNode}typeof g=="function"?l.refCleanup=g(v):g.current=v}}catch(S){Di(l,u,S)}}function oa(l,u){var g=l.ref,v=l.refCleanup;if(g!==null)if(typeof v=="function")try{v()}catch(S){Di(l,u,S)}finally{l.refCleanup=null,l=l.alternate,l!=null&&(l.refCleanup=null)}else if(typeof g=="function")try{g(null)}catch(S){Di(l,u,S)}else g.current=null}function YE(l){var u=l.type,g=l.memoizedProps,v=l.stateNode;try{e:switch(u){case"button":case"input":case"select":case"textarea":g.autoFocus&&v.focus();break e;case"img":g.src?v.src=g.src:g.srcSet&&(v.srcset=g.srcSet)}}catch(S){Di(l,l.return,S)}}function Y0(l,u,g){try{var v=l.stateNode;ZG(v,l.type,g,u),v[Oe]=u}catch(S){Di(l,l.return,S)}}function KE(l){return l.tag===5||l.tag===3||l.tag===26||l.tag===27&&Ac(l.type)||l.tag===4}function K0(l){e:for(;;){for(;l.sibling===null;){if(l.return===null||KE(l.return))return null;l=l.return}for(l.sibling.return=l.return,l=l.sibling;l.tag!==5&&l.tag!==6&&l.tag!==18;){if(l.tag===27&&Ac(l.type)||l.flags&2||l.child===null||l.tag===4)continue e;l.child.return=l,l=l.child}if(!(l.flags&2))return l.stateNode}}function $0(l,u,g){var v=l.tag;if(v===5||v===6)l=l.stateNode,u?(g.nodeType===9?g.body:g.nodeName==="HTML"?g.ownerDocument.body:g).insertBefore(l,u):(u=g.nodeType===9?g.body:g.nodeName==="HTML"?g.ownerDocument.body:g,u.appendChild(l),g=g._reactRootContainer,g!=null||u.onclick!==null||(u.onclick=hv));else if(v!==4&&(v===27&&Ac(l.type)&&(g=l.stateNode,u=null),l=l.child,l!==null))for($0(l,u,g),l=l.sibling;l!==null;)$0(l,u,g),l=l.sibling}function ev(l,u,g){var v=l.tag;if(v===5||v===6)l=l.stateNode,u?g.insertBefore(l,u):g.appendChild(l);else if(v!==4&&(v===27&&Ac(l.type)&&(g=l.stateNode),l=l.child,l!==null))for(ev(l,u,g),l=l.sibling;l!==null;)ev(l,u,g),l=l.sibling}function $E(l){var u=l.stateNode,g=l.memoizedProps;try{for(var v=l.type,S=u.attributes;S.length;)u.removeAttributeNode(S[0]);is(u,v,g),u[De]=l,u[Oe]=g}catch(T){Di(l,l.return,T)}}var rl=!1,dn=!1,Z0=!1,ZE=typeof WeakSet=="function"?WeakSet:Set,Bn=null;function EG(l,u){if(l=l.containerInfo,bS=vv,l=Fu(l),Bu(l)){if("selectionStart"in l)var g={start:l.selectionStart,end:l.selectionEnd};else e:{g=(g=l.ownerDocument)&&g.defaultView||window;var v=g.getSelection&&g.getSelection();if(v&&v.rangeCount!==0){g=v.anchorNode;var S=v.anchorOffset,T=v.focusNode;v=v.focusOffset;try{g.nodeType,T.nodeType}catch{g=null;break e}var B=0,W=-1,q=-1,ue=0,we=0,Le=l,de=null;t:for(;;){for(var ge;Le!==g||S!==0&&Le.nodeType!==3||(W=B+S),Le!==T||v!==0&&Le.nodeType!==3||(q=B+v),Le.nodeType===3&&(B+=Le.nodeValue.length),(ge=Le.firstChild)!==null;)de=Le,Le=ge;for(;;){if(Le===l)break t;if(de===g&&++ue===S&&(W=B),de===T&&++we===v&&(q=B),(ge=Le.nextSibling)!==null)break;Le=de,de=Le.parentNode}Le=ge}g=W===-1||q===-1?null:{start:W,end:q}}else g=null}g=g||{start:0,end:0}}else g=null;for(CS={focusedElem:l,selectionRange:g},vv=!1,Bn=u;Bn!==null;)if(u=Bn,l=u.child,(u.subtreeFlags&1024)!==0&&l!==null)l.return=u,Bn=l;else for(;Bn!==null;){switch(u=Bn,T=u.alternate,l=u.flags,u.tag){case 0:break;case 11:case 15:break;case 1:if((l&1024)!==0&&T!==null){l=void 0,g=u,S=T.memoizedProps,T=T.memoizedState,v=g.stateNode;try{var gt=Xu(g.type,S,g.elementType===g.type);l=v.getSnapshotBeforeUpdate(gt,T),v.__reactInternalSnapshotBeforeUpdate=l}catch(ot){Di(g,g.return,ot)}}break;case 3:if((l&1024)!==0){if(l=u.stateNode.containerInfo,g=l.nodeType,g===9)wS(l);else if(g===1)switch(l.nodeName){case"HEAD":case"HTML":case"BODY":wS(l);break;default:l.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((l&1024)!==0)throw Error(n(163))}if(l=u.sibling,l!==null){l.return=u.return,Bn=l;break}Bn=u.return}}function XE(l,u,g){var v=g.flags;switch(g.tag){case 0:case 11:case 15:xc(l,g),v&4&&Ig(5,g);break;case 1:if(xc(l,g),v&4)if(l=g.stateNode,u===null)try{l.componentDidMount()}catch(B){Di(g,g.return,B)}else{var S=Xu(g.type,u.memoizedProps);u=u.memoizedState;try{l.componentDidUpdate(S,u,l.__reactInternalSnapshotBeforeUpdate)}catch(B){Di(g,g.return,B)}}v&64&&WE(g),v&512&&kg(g,g.return);break;case 3:if(xc(l,g),v&64&&(l=g.updateQueue,l!==null)){if(u=null,g.child!==null)switch(g.child.tag){case 27:case 5:u=g.child.stateNode;break;case 1:u=g.child.stateNode}try{IA(l,u)}catch(B){Di(g,g.return,B)}}break;case 27:u===null&&v&4&&$E(g);case 26:case 5:xc(l,g),u===null&&v&4&&YE(g),v&512&&kg(g,g.return);break;case 12:xc(l,g);break;case 13:xc(l,g),v&4&&JE(l,g),v&64&&(l=g.memoizedState,l!==null&&(l=l.dehydrated,l!==null&&(g=BG.bind(null,g),iH(l,g))));break;case 22:if(v=g.memoizedState!==null||rl,!v){u=u!==null&&u.memoizedState!==null||dn,S=rl;var T=dn;rl=v,(dn=u)&&!T?Sc(l,g,(g.subtreeFlags&8772)!==0):xc(l,g),rl=S,dn=T}break;case 30:break;default:xc(l,g)}}function qE(l){var u=l.alternate;u!==null&&(l.alternate=null,qE(u)),l.child=null,l.deletions=null,l.sibling=null,l.tag===5&&(u=l.stateNode,u!==null&&Qe(u)),l.stateNode=null,l.return=null,l.dependencies=null,l.memoizedProps=null,l.memoizedState=null,l.pendingProps=null,l.stateNode=null,l.updateQueue=null}var zi=null,qs=!1;function ol(l,u,g){for(g=g.child;g!==null;)QE(l,u,g),g=g.sibling}function QE(l,u,g){if(fi&&typeof fi.onCommitFiberUnmount=="function")try{fi.onCommitFiberUnmount(Wi,g)}catch{}switch(g.tag){case 26:dn||oa(g,u),ol(l,u,g),g.memoizedState?g.memoizedState.count--:g.stateNode&&(g=g.stateNode,g.parentNode.removeChild(g));break;case 27:dn||oa(g,u);var v=zi,S=qs;Ac(g.type)&&(zi=g.stateNode,qs=!1),ol(l,u,g),Hg(g.stateNode),zi=v,qs=S;break;case 5:dn||oa(g,u);case 6:if(v=zi,S=qs,zi=null,ol(l,u,g),zi=v,qs=S,zi!==null)if(qs)try{(zi.nodeType===9?zi.body:zi.nodeName==="HTML"?zi.ownerDocument.body:zi).removeChild(g.stateNode)}catch(T){Di(g,u,T)}else try{zi.removeChild(g.stateNode)}catch(T){Di(g,u,T)}break;case 18:zi!==null&&(qs?(l=zi,GR(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,g.stateNode),Zg(l)):GR(zi,g.stateNode));break;case 4:v=zi,S=qs,zi=g.stateNode.containerInfo,qs=!0,ol(l,u,g),zi=v,qs=S;break;case 0:case 11:case 14:case 15:dn||Cc(2,g,u),dn||Cc(4,g,u),ol(l,u,g);break;case 1:dn||(oa(g,u),v=g.stateNode,typeof v.componentWillUnmount=="function"&&UE(g,u,v)),ol(l,u,g);break;case 21:ol(l,u,g);break;case 22:dn=(v=dn)||g.memoizedState!==null,ol(l,u,g),dn=v;break;default:ol(l,u,g)}}function JE(l,u){if(u.memoizedState===null&&(l=u.alternate,l!==null&&(l=l.memoizedState,l!==null&&(l=l.dehydrated,l!==null))))try{Zg(l)}catch(g){Di(u,u.return,g)}}function RG(l){switch(l.tag){case 13:case 19:var u=l.stateNode;return u===null&&(u=l.stateNode=new ZE),u;case 22:return l=l.stateNode,u=l._retryCache,u===null&&(u=l._retryCache=new ZE),u;default:throw Error(n(435,l.tag))}}function X0(l,u){var g=RG(l);u.forEach(function(v){var S=zG.bind(null,l,v);g.has(v)||(g.add(v),v.then(S,S))})}function pr(l,u){var g=u.deletions;if(g!==null)for(var v=0;v<g.length;v++){var S=g[v],T=l,B=u,W=B;e:for(;W!==null;){switch(W.tag){case 27:if(Ac(W.type)){zi=W.stateNode,qs=!1;break e}break;case 5:zi=W.stateNode,qs=!1;break e;case 3:case 4:zi=W.stateNode.containerInfo,qs=!0;break e}W=W.return}if(zi===null)throw Error(n(160));QE(T,B,S),zi=null,qs=!1,T=S.alternate,T!==null&&(T.return=null),S.return=null}if(u.subtreeFlags&13878)for(u=u.child;u!==null;)eR(u,l),u=u.sibling}var wo=null;function eR(l,u){var g=l.alternate,v=l.flags;switch(l.tag){case 0:case 11:case 14:case 15:pr(u,l),mr(l),v&4&&(Cc(3,l,l.return),Ig(3,l),Cc(5,l,l.return));break;case 1:pr(u,l),mr(l),v&512&&(dn||g===null||oa(g,g.return)),v&64&&rl&&(l=l.updateQueue,l!==null&&(v=l.callbacks,v!==null&&(g=l.shared.hiddenCallbacks,l.shared.hiddenCallbacks=g===null?v:g.concat(v))));break;case 26:var S=wo;if(pr(u,l),mr(l),v&512&&(dn||g===null||oa(g,g.return)),v&4){var T=g!==null?g.memoizedState:null;if(v=l.memoizedState,g===null)if(v===null)if(l.stateNode===null){e:{v=l.type,g=l.memoizedProps,S=S.ownerDocument||S;t:switch(v){case"title":T=S.getElementsByTagName("title")[0],(!T||T[st]||T[De]||T.namespaceURI==="http://www.w3.org/2000/svg"||T.hasAttribute("itemprop"))&&(T=S.createElement(v),S.head.insertBefore(T,S.querySelector("head > title"))),is(T,v,g),T[De]=l,Yt(T),v=T;break e;case"link":var B=$R("link","href",S).get(v+(g.href||""));if(B){for(var W=0;W<B.length;W++)if(T=B[W],T.getAttribute("href")===(g.href==null||g.href===""?null:g.href)&&T.getAttribute("rel")===(g.rel==null?null:g.rel)&&T.getAttribute("title")===(g.title==null?null:g.title)&&T.getAttribute("crossorigin")===(g.crossOrigin==null?null:g.crossOrigin)){B.splice(W,1);break t}}T=S.createElement(v),is(T,v,g),S.head.appendChild(T);break;case"meta":if(B=$R("meta","content",S).get(v+(g.content||""))){for(W=0;W<B.length;W++)if(T=B[W],T.getAttribute("content")===(g.content==null?null:""+g.content)&&T.getAttribute("name")===(g.name==null?null:g.name)&&T.getAttribute("property")===(g.property==null?null:g.property)&&T.getAttribute("http-equiv")===(g.httpEquiv==null?null:g.httpEquiv)&&T.getAttribute("charset")===(g.charSet==null?null:g.charSet)){B.splice(W,1);break t}}T=S.createElement(v),is(T,v,g),S.head.appendChild(T);break;default:throw Error(n(468,v))}T[De]=l,Yt(T),v=T}l.stateNode=v}else ZR(S,l.type,l.stateNode);else l.stateNode=KR(S,v,l.memoizedProps);else T!==v?(T===null?g.stateNode!==null&&(g=g.stateNode,g.parentNode.removeChild(g)):T.count--,v===null?ZR(S,l.type,l.stateNode):KR(S,v,l.memoizedProps)):v===null&&l.stateNode!==null&&Y0(l,l.memoizedProps,g.memoizedProps)}break;case 27:pr(u,l),mr(l),v&512&&(dn||g===null||oa(g,g.return)),g!==null&&v&4&&Y0(l,l.memoizedProps,g.memoizedProps);break;case 5:if(pr(u,l),mr(l),v&512&&(dn||g===null||oa(g,g.return)),l.flags&32){S=l.stateNode;try{Br(S,"")}catch(ge){Di(l,l.return,ge)}}v&4&&l.stateNode!=null&&(S=l.memoizedProps,Y0(l,S,g!==null?g.memoizedProps:S)),v&1024&&(Z0=!0);break;case 6:if(pr(u,l),mr(l),v&4){if(l.stateNode===null)throw Error(n(162));v=l.memoizedProps,g=l.stateNode;try{g.nodeValue=v}catch(ge){Di(l,l.return,ge)}}break;case 3:if(pv=null,S=wo,wo=fv(u.containerInfo),pr(u,l),wo=S,mr(l),v&4&&g!==null&&g.memoizedState.isDehydrated)try{Zg(u.containerInfo)}catch(ge){Di(l,l.return,ge)}Z0&&(Z0=!1,tR(l));break;case 4:v=wo,wo=fv(l.stateNode.containerInfo),pr(u,l),mr(l),wo=v;break;case 12:pr(u,l),mr(l);break;case 13:pr(u,l),mr(l),l.child.flags&8192&&l.memoizedState!==null!=(g!==null&&g.memoizedState!==null)&&(iS=je()),v&4&&(v=l.updateQueue,v!==null&&(l.updateQueue=null,X0(l,v)));break;case 22:S=l.memoizedState!==null;var q=g!==null&&g.memoizedState!==null,ue=rl,we=dn;if(rl=ue||S,dn=we||q,pr(u,l),dn=we,rl=ue,mr(l),v&8192)e:for(u=l.stateNode,u._visibility=S?u._visibility&-2:u._visibility|1,S&&(g===null||q||rl||dn||qu(l)),g=null,u=l;;){if(u.tag===5||u.tag===26){if(g===null){q=g=u;try{if(T=q.stateNode,S)B=T.style,typeof B.setProperty=="function"?B.setProperty("display","none","important"):B.display="none";else{W=q.stateNode;var Le=q.memoizedProps.style,de=Le!=null&&Le.hasOwnProperty("display")?Le.display:null;W.style.display=de==null||typeof de=="boolean"?"":(""+de).trim()}}catch(ge){Di(q,q.return,ge)}}}else if(u.tag===6){if(g===null){q=u;try{q.stateNode.nodeValue=S?"":q.memoizedProps}catch(ge){Di(q,q.return,ge)}}}else if((u.tag!==22&&u.tag!==23||u.memoizedState===null||u===l)&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===l)break e;for(;u.sibling===null;){if(u.return===null||u.return===l)break e;g===u&&(g=null),u=u.return}g===u&&(g=null),u.sibling.return=u.return,u=u.sibling}v&4&&(v=l.updateQueue,v!==null&&(g=v.retryQueue,g!==null&&(v.retryQueue=null,X0(l,g))));break;case 19:pr(u,l),mr(l),v&4&&(v=l.updateQueue,v!==null&&(l.updateQueue=null,X0(l,v)));break;case 30:break;case 21:break;default:pr(u,l),mr(l)}}function mr(l){var u=l.flags;if(u&2){try{for(var g,v=l.return;v!==null;){if(KE(v)){g=v;break}v=v.return}if(g==null)throw Error(n(160));switch(g.tag){case 27:var S=g.stateNode,T=K0(l);ev(l,T,S);break;case 5:var B=g.stateNode;g.flags&32&&(Br(B,""),g.flags&=-33);var W=K0(l);ev(l,W,B);break;case 3:case 4:var q=g.stateNode.containerInfo,ue=K0(l);$0(l,ue,q);break;default:throw Error(n(161))}}catch(we){Di(l,l.return,we)}l.flags&=-3}u&4096&&(l.flags&=-4097)}function tR(l){if(l.subtreeFlags&1024)for(l=l.child;l!==null;){var u=l;tR(u),u.tag===5&&u.flags&1024&&u.stateNode.reset(),l=l.sibling}}function xc(l,u){if(u.subtreeFlags&8772)for(u=u.child;u!==null;)XE(l,u.alternate,u),u=u.sibling}function qu(l){for(l=l.child;l!==null;){var u=l;switch(u.tag){case 0:case 11:case 14:case 15:Cc(4,u,u.return),qu(u);break;case 1:oa(u,u.return);var g=u.stateNode;typeof g.componentWillUnmount=="function"&&UE(u,u.return,g),qu(u);break;case 27:Hg(u.stateNode);case 26:case 5:oa(u,u.return),qu(u);break;case 22:u.memoizedState===null&&qu(u);break;case 30:qu(u);break;default:qu(u)}l=l.sibling}}function Sc(l,u,g){for(g=g&&(u.subtreeFlags&8772)!==0,u=u.child;u!==null;){var v=u.alternate,S=l,T=u,B=T.flags;switch(T.tag){case 0:case 11:case 15:Sc(S,T,g),Ig(4,T);break;case 1:if(Sc(S,T,g),v=T,S=v.stateNode,typeof S.componentDidMount=="function")try{S.componentDidMount()}catch(ue){Di(v,v.return,ue)}if(v=T,S=v.updateQueue,S!==null){var W=v.stateNode;try{var q=S.shared.hiddenCallbacks;if(q!==null)for(S.shared.hiddenCallbacks=null,S=0;S<q.length;S++)RA(q[S],W)}catch(ue){Di(v,v.return,ue)}}g&&B&64&&WE(T),kg(T,T.return);break;case 27:$E(T);case 26:case 5:Sc(S,T,g),g&&v===null&&B&4&&YE(T),kg(T,T.return);break;case 12:Sc(S,T,g);break;case 13:Sc(S,T,g),g&&B&4&&JE(S,T);break;case 22:T.memoizedState===null&&Sc(S,T,g),kg(T,T.return);break;case 30:break;default:Sc(S,T,g)}u=u.sibling}}function q0(l,u){var g=null;l!==null&&l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(g=l.memoizedState.cachePool.pool),l=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(l=u.memoizedState.cachePool.pool),l!==g&&(l!=null&&l.refCount++,g!=null&&yg(g))}function Q0(l,u){l=null,u.alternate!==null&&(l=u.alternate.memoizedState.cache),u=u.memoizedState.cache,u!==l&&(u.refCount++,l!=null&&yg(l))}function aa(l,u,g,v){if(u.subtreeFlags&10256)for(u=u.child;u!==null;)iR(l,u,g,v),u=u.sibling}function iR(l,u,g,v){var S=u.flags;switch(u.tag){case 0:case 11:case 15:aa(l,u,g,v),S&2048&&Ig(9,u);break;case 1:aa(l,u,g,v);break;case 3:aa(l,u,g,v),S&2048&&(l=null,u.alternate!==null&&(l=u.alternate.memoizedState.cache),u=u.memoizedState.cache,u!==l&&(u.refCount++,l!=null&&yg(l)));break;case 12:if(S&2048){aa(l,u,g,v),l=u.stateNode;try{var T=u.memoizedProps,B=T.id,W=T.onPostCommit;typeof W=="function"&&W(B,u.alternate===null?"mount":"update",l.passiveEffectDuration,-0)}catch(q){Di(u,u.return,q)}}else aa(l,u,g,v);break;case 13:aa(l,u,g,v);break;case 23:break;case 22:T=u.stateNode,B=u.alternate,u.memoizedState!==null?T._visibility&2?aa(l,u,g,v):_g(l,u):T._visibility&2?aa(l,u,g,v):(T._visibility|=2,Ld(l,u,g,v,(u.subtreeFlags&10256)!==0)),S&2048&&q0(B,u);break;case 24:aa(l,u,g,v),S&2048&&Q0(u.alternate,u);break;default:aa(l,u,g,v)}}function Ld(l,u,g,v,S){for(S=S&&(u.subtreeFlags&10256)!==0,u=u.child;u!==null;){var T=l,B=u,W=g,q=v,ue=B.flags;switch(B.tag){case 0:case 11:case 15:Ld(T,B,W,q,S),Ig(8,B);break;case 23:break;case 22:var we=B.stateNode;B.memoizedState!==null?we._visibility&2?Ld(T,B,W,q,S):_g(T,B):(we._visibility|=2,Ld(T,B,W,q,S)),S&&ue&2048&&q0(B.alternate,B);break;case 24:Ld(T,B,W,q,S),S&&ue&2048&&Q0(B.alternate,B);break;default:Ld(T,B,W,q,S)}u=u.sibling}}function _g(l,u){if(u.subtreeFlags&10256)for(u=u.child;u!==null;){var g=l,v=u,S=v.flags;switch(v.tag){case 22:_g(g,v),S&2048&&q0(v.alternate,v);break;case 24:_g(g,v),S&2048&&Q0(v.alternate,v);break;default:_g(g,v)}u=u.sibling}}var Ng=8192;function Td(l){if(l.subtreeFlags&Ng)for(l=l.child;l!==null;)nR(l),l=l.sibling}function nR(l){switch(l.tag){case 26:Td(l),l.flags&Ng&&l.memoizedState!==null&&pH(wo,l.memoizedState,l.memoizedProps);break;case 5:Td(l);break;case 3:case 4:var u=wo;wo=fv(l.stateNode.containerInfo),Td(l),wo=u;break;case 22:l.memoizedState===null&&(u=l.alternate,u!==null&&u.memoizedState!==null?(u=Ng,Ng=16777216,Td(l),Ng=u):Td(l));break;default:Td(l)}}function sR(l){var u=l.alternate;if(u!==null&&(l=u.child,l!==null)){u.child=null;do u=l.sibling,l.sibling=null,l=u;while(l!==null)}}function Og(l){var u=l.deletions;if((l.flags&16)!==0){if(u!==null)for(var g=0;g<u.length;g++){var v=u[g];Bn=v,oR(v,l)}sR(l)}if(l.subtreeFlags&10256)for(l=l.child;l!==null;)rR(l),l=l.sibling}function rR(l){switch(l.tag){case 0:case 11:case 15:Og(l),l.flags&2048&&Cc(9,l,l.return);break;case 3:Og(l);break;case 12:Og(l);break;case 22:var u=l.stateNode;l.memoizedState!==null&&u._visibility&2&&(l.return===null||l.return.tag!==13)?(u._visibility&=-3,tv(l)):Og(l);break;default:Og(l)}}function tv(l){var u=l.deletions;if((l.flags&16)!==0){if(u!==null)for(var g=0;g<u.length;g++){var v=u[g];Bn=v,oR(v,l)}sR(l)}for(l=l.child;l!==null;){switch(u=l,u.tag){case 0:case 11:case 15:Cc(8,u,u.return),tv(u);break;case 22:g=u.stateNode,g._visibility&2&&(g._visibility&=-3,tv(u));break;default:tv(u)}l=l.sibling}}function oR(l,u){for(;Bn!==null;){var g=Bn;switch(g.tag){case 0:case 11:case 15:Cc(8,g,u);break;case 23:case 22:if(g.memoizedState!==null&&g.memoizedState.cachePool!==null){var v=g.memoizedState.cachePool.pool;v!=null&&v.refCount++}break;case 24:yg(g.memoizedState.cache)}if(v=g.child,v!==null)v.return=g,Bn=v;else e:for(g=l;Bn!==null;){v=Bn;var S=v.sibling,T=v.return;if(qE(v),v===g){Bn=null;break e}if(S!==null){S.return=T,Bn=S;break e}Bn=T}}}var IG={getCacheForType:function(l){var u=vs(Ln),g=u.data.get(l);return g===void 0&&(g=l(),u.data.set(l,g)),g}},kG=typeof WeakMap=="function"?WeakMap:Map,pi=0,Ri=null,zt=null,Kt=0,mi=0,yr=null,wc=!1,Ad=!1,J0=!1,al=0,sn=0,Mc=0,Qu=0,eS=0,Yr=0,Ed=0,Pg=null,Qs=null,tS=!1,iS=0,iv=1/0,nv=null,Dc=null,ts=0,Lc=null,Rd=null,Id=0,nS=0,sS=null,aR=null,Fg=0,rS=null;function vr(){if((pi&2)!==0&&Kt!==0)return Kt&-Kt;if(Y.T!==null){var l=vd;return l!==0?l:dS()}return ee()}function lR(){Yr===0&&(Yr=(Kt&536870912)===0||mt?Yl():536870912);var l=Ur.current;return l!==null&&(l.flags|=32),Yr}function br(l,u,g){(l===Ri&&(mi===2||mi===9)||l.cancelPendingCommit!==null)&&(kd(l,0),Tc(l,Kt,Yr,!1)),$o(l,g),((pi&2)===0||l!==Ri)&&(l===Ri&&((pi&2)===0&&(Qu|=g),sn===4&&Tc(l,Kt,Yr,!1)),la(l))}function cR(l,u,g){if((pi&6)!==0)throw Error(n(327));var v=!g&&(u&124)===0&&(u&l.expiredLanes)===0||gs(l,u),S=v?OG(l,u):lS(l,u,!0),T=v;do{if(S===0){Ad&&!v&&Tc(l,u,0,!1);break}else{if(g=l.current.alternate,T&&!_G(g)){S=lS(l,u,!1),T=!1;continue}if(S===2){if(T=u,l.errorRecoveryDisabledLanes&T)var B=0;else B=l.pendingLanes&-536870913,B=B!==0?B:B&536870912?536870912:0;if(B!==0){u=B;e:{var W=l;S=Pg;var q=W.current.memoizedState.isDehydrated;if(q&&(kd(W,B).flags|=256),B=lS(W,B,!1),B!==2){if(J0&&!q){W.errorRecoveryDisabledLanes|=T,Qu|=T,S=4;break e}T=Qs,Qs=S,T!==null&&(Qs===null?Qs=T:Qs.push.apply(Qs,T))}S=B}if(T=!1,S!==2)continue}}if(S===1){kd(l,0),Tc(l,u,0,!0);break}e:{switch(v=l,T=S,T){case 0:case 1:throw Error(n(345));case 4:if((u&4194048)!==u)break;case 6:Tc(v,u,Yr,!wc);break e;case 2:Qs=null;break;case 3:case 5:break;default:throw Error(n(329))}if((u&62914560)===u&&(S=iS+300-je(),10<S)){if(Tc(v,u,Yr,!wc),Fa(v,0,!0)!==0)break e;v.timeoutHandle=BR(uR.bind(null,v,g,Qs,nv,tS,u,Yr,Qu,Ed,wc,T,2,-0,0),S);break e}uR(v,g,Qs,nv,tS,u,Yr,Qu,Ed,wc,T,0,-0,0)}}break}while(!0);la(l)}function uR(l,u,g,v,S,T,B,W,q,ue,we,Le,de,ge){if(l.timeoutHandle=-1,Le=u.subtreeFlags,(Le&8192||(Le&16785408)===16785408)&&(Wg={stylesheets:null,count:0,unsuspend:gH},nR(u),Le=mH(),Le!==null)){l.cancelPendingCommit=Le(yR.bind(null,l,u,T,g,v,S,B,W,q,we,1,de,ge)),Tc(l,T,B,!ue);return}yR(l,u,T,g,v,S,B,W,q)}function _G(l){for(var u=l;;){var g=u.tag;if((g===0||g===11||g===15)&&u.flags&16384&&(g=u.updateQueue,g!==null&&(g=g.stores,g!==null)))for(var v=0;v<g.length;v++){var S=g[v],T=S.getSnapshot;S=S.value;try{if(!Is(T(),S))return!1}catch{return!1}}if(g=u.child,u.subtreeFlags&16384&&g!==null)g.return=u,u=g;else{if(u===l)break;for(;u.sibling===null;){if(u.return===null||u.return===l)return!0;u=u.return}u.sibling.return=u.return,u=u.sibling}}return!0}function Tc(l,u,g,v){u&=~eS,u&=~Qu,l.suspendedLanes|=u,l.pingedLanes&=~u,v&&(l.warmLanes|=u),v=l.expirationTimes;for(var S=u;0<S;){var T=31-Zt(S),B=1<<T;v[T]=-1,S&=~B}g!==0&&za(l,g,u)}function sv(){return(pi&6)===0?(Bg(0),!1):!0}function oS(){if(zt!==null){if(mi===0)var l=zt.return;else l=zt,xo=Wr=null,w0(l),Md=null,Ag=0,l=zt;for(;l!==null;)VE(l.alternate,l),l=l.return;zt=null}}function kd(l,u){var g=l.timeoutHandle;g!==-1&&(l.timeoutHandle=-1,qG(g)),g=l.cancelPendingCommit,g!==null&&(l.cancelPendingCommit=null,g()),oS(),Ri=l,zt=g=Vr(l.current,null),Kt=u,mi=0,yr=null,wc=!1,Ad=gs(l,u),J0=!1,Ed=Yr=eS=Qu=Mc=sn=0,Qs=Pg=null,tS=!1,(u&8)!==0&&(u|=u&32);var v=l.entangledLanes;if(v!==0)for(l=l.entanglements,v&=u;0<v;){var S=31-Zt(v),T=1<<S;u|=l[S],v&=~T}return al=u,Gu(),g}function hR(l,u){Rt=null,Y.H=Uy,u===bg||u===Oy?(u=AA(),mi=3):u===DA?(u=AA(),mi=4):mi=u===EE?8:u!==null&&typeof u=="object"&&typeof u.then=="function"?6:1,yr=u,zt===null&&(sn=1,Xy(l,_s(u,l.current)))}function dR(){var l=Y.H;return Y.H=Uy,l===null?Uy:l}function fR(){var l=Y.A;return Y.A=IG,l}function aS(){sn=4,wc||(Kt&4194048)!==Kt&&Ur.current!==null||(Ad=!0),(Mc&134217727)===0&&(Qu&134217727)===0||Ri===null||Tc(Ri,Kt,Yr,!1)}function lS(l,u,g){var v=pi;pi|=2;var S=dR(),T=fR();(Ri!==l||Kt!==u)&&(nv=null,kd(l,u)),u=!1;var B=sn;e:do try{if(mi!==0&&zt!==null){var W=zt,q=yr;switch(mi){case 8:oS(),B=6;break e;case 3:case 2:case 9:case 6:Ur.current===null&&(u=!0);var ue=mi;if(mi=0,yr=null,_d(l,W,q,ue),g&&Ad){B=0;break e}break;default:ue=mi,mi=0,yr=null,_d(l,W,q,ue)}}NG(),B=sn;break}catch(we){hR(l,we)}while(!0);return u&&l.shellSuspendCounter++,xo=Wr=null,pi=v,Y.H=S,Y.A=T,zt===null&&(Ri=null,Kt=0,Gu()),B}function NG(){for(;zt!==null;)gR(zt)}function OG(l,u){var g=pi;pi|=2;var v=dR(),S=fR();Ri!==l||Kt!==u?(nv=null,iv=je()+500,kd(l,u)):Ad=gs(l,u);e:do try{if(mi!==0&&zt!==null){u=zt;var T=yr;t:switch(mi){case 1:mi=0,yr=null,_d(l,u,T,1);break;case 2:case 9:if(LA(T)){mi=0,yr=null,pR(u);break}u=function(){mi!==2&&mi!==9||Ri!==l||(mi=7),la(l)},T.then(u,u);break e;case 3:mi=7;break e;case 4:mi=5;break e;case 7:LA(T)?(mi=0,yr=null,pR(u)):(mi=0,yr=null,_d(l,u,T,7));break;case 5:var B=null;switch(zt.tag){case 26:B=zt.memoizedState;case 5:case 27:var W=zt;if(!B||XR(B)){mi=0,yr=null;var q=W.sibling;if(q!==null)zt=q;else{var ue=W.return;ue!==null?(zt=ue,rv(ue)):zt=null}break t}}mi=0,yr=null,_d(l,u,T,5);break;case 6:mi=0,yr=null,_d(l,u,T,6);break;case 8:oS(),sn=6;break e;default:throw Error(n(462))}}PG();break}catch(we){hR(l,we)}while(!0);return xo=Wr=null,Y.H=v,Y.A=S,pi=g,zt!==null?0:(Ri=null,Kt=0,Gu(),sn)}function PG(){for(;zt!==null&&!Ve();)gR(zt)}function gR(l){var u=HE(l.alternate,l,al);l.memoizedProps=l.pendingProps,u===null?rv(l):zt=u}function pR(l){var u=l,g=u.alternate;switch(u.tag){case 15:case 0:u=OE(g,u,u.pendingProps,u.type,void 0,Kt);break;case 11:u=OE(g,u,u.pendingProps,u.type.render,u.ref,Kt);break;case 5:w0(u);default:VE(g,u),u=zt=pg(u,al),u=HE(g,u,al)}l.memoizedProps=l.pendingProps,u===null?rv(l):zt=u}function _d(l,u,g,v){xo=Wr=null,w0(u),Md=null,Ag=0;var S=u.return;try{if(DG(l,S,u,g,Kt)){sn=1,Xy(l,_s(g,l.current)),zt=null;return}}catch(T){if(S!==null)throw zt=S,T;sn=1,Xy(l,_s(g,l.current)),zt=null;return}u.flags&32768?(mt||v===1?l=!0:Ad||(Kt&536870912)!==0?l=!1:(wc=l=!0,(v===2||v===9||v===3||v===6)&&(v=Ur.current,v!==null&&v.tag===13&&(v.flags|=16384))),mR(u,l)):rv(u)}function rv(l){var u=l;do{if((u.flags&32768)!==0){mR(u,wc);return}l=u.return;var g=TG(u.alternate,u,al);if(g!==null){zt=g;return}if(u=u.sibling,u!==null){zt=u;return}zt=u=l}while(u!==null);sn===0&&(sn=5)}function mR(l,u){do{var g=AG(l.alternate,l);if(g!==null){g.flags&=32767,zt=g;return}if(g=l.return,g!==null&&(g.flags|=32768,g.subtreeFlags=0,g.deletions=null),!u&&(l=l.sibling,l!==null)){zt=l;return}zt=l=g}while(l!==null);sn=6,zt=null}function yR(l,u,g,v,S,T,B,W,q){l.cancelPendingCommit=null;do ov();while(ts!==0);if((pi&6)!==0)throw Error(n(327));if(u!==null){if(u===l.current)throw Error(n(177));if(T=u.lanes|u.childLanes,T|=gr,td(l,g,T,B,W,q),l===Ri&&(zt=Ri=null,Kt=0),Rd=u,Lc=l,Id=g,nS=T,sS=S,aR=v,(u.subtreeFlags&10256)!==0||(u.flags&10256)!==0?(l.callbackNode=null,l.callbackPriority=0,GG(ft,function(){return SR(),null})):(l.callbackNode=null,l.callbackPriority=0),v=(u.flags&13878)!==0,(u.subtreeFlags&13878)!==0||v){v=Y.T,Y.T=null,S=re.p,re.p=2,B=pi,pi|=4;try{EG(l,u,g)}finally{pi=B,re.p=S,Y.T=v}}ts=1,vR(),bR(),CR()}}function vR(){if(ts===1){ts=0;var l=Lc,u=Rd,g=(u.flags&13878)!==0;if((u.subtreeFlags&13878)!==0||g){g=Y.T,Y.T=null;var v=re.p;re.p=2;var S=pi;pi|=4;try{eR(u,l);var T=CS,B=Fu(l.containerInfo),W=T.focusedElem,q=T.selectionRange;if(B!==W&&W&&W.ownerDocument&&ud(W.ownerDocument.documentElement,W)){if(q!==null&&Bu(W)){var ue=q.start,we=q.end;if(we===void 0&&(we=ue),"selectionStart"in W)W.selectionStart=ue,W.selectionEnd=Math.min(we,W.value.length);else{var Le=W.ownerDocument||document,de=Le&&Le.defaultView||window;if(de.getSelection){var ge=de.getSelection(),gt=W.textContent.length,ot=Math.min(q.start,gt),Si=q.end===void 0?ot:Math.min(q.end,gt);!ge.extend&&ot>Si&&(B=Si,Si=ot,ot=B);var oe=fg(W,ot),ne=fg(W,Si);if(oe&&ne&&(ge.rangeCount!==1||ge.anchorNode!==oe.node||ge.anchorOffset!==oe.offset||ge.focusNode!==ne.node||ge.focusOffset!==ne.offset)){var ce=Le.createRange();ce.setStart(oe.node,oe.offset),ge.removeAllRanges(),ot>Si?(ge.addRange(ce),ge.extend(ne.node,ne.offset)):(ce.setEnd(ne.node,ne.offset),ge.addRange(ce))}}}}for(Le=[],ge=W;ge=ge.parentNode;)ge.nodeType===1&&Le.push({element:ge,left:ge.scrollLeft,top:ge.scrollTop});for(typeof W.focus=="function"&&W.focus(),W=0;W<Le.length;W++){var Me=Le[W];Me.element.scrollLeft=Me.left,Me.element.scrollTop=Me.top}}vv=!!bS,CS=bS=null}finally{pi=S,re.p=v,Y.T=g}}l.current=u,ts=2}}function bR(){if(ts===2){ts=0;var l=Lc,u=Rd,g=(u.flags&8772)!==0;if((u.subtreeFlags&8772)!==0||g){g=Y.T,Y.T=null;var v=re.p;re.p=2;var S=pi;pi|=4;try{XE(l,u.alternate,u)}finally{pi=S,re.p=v,Y.T=g}}ts=3}}function CR(){if(ts===4||ts===3){ts=0,Et();var l=Lc,u=Rd,g=Id,v=aR;(u.subtreeFlags&10256)!==0||(u.flags&10256)!==0?ts=5:(ts=0,Rd=Lc=null,xR(l,l.pendingLanes));var S=l.pendingLanes;if(S===0&&(Dc=null),Lu(g),u=u.stateNode,fi&&typeof fi.onCommitFiberRoot=="function")try{fi.onCommitFiberRoot(Wi,u,void 0,(u.current.flags&128)===128)}catch{}if(v!==null){u=Y.T,S=re.p,re.p=2,Y.T=null;try{for(var T=l.onRecoverableError,B=0;B<v.length;B++){var W=v[B];T(W.value,{componentStack:W.stack})}}finally{Y.T=u,re.p=S}}(Id&3)!==0&&ov(),la(l),S=l.pendingLanes,(g&4194090)!==0&&(S&42)!==0?l===rS?Fg++:(Fg=0,rS=l):Fg=0,Bg(0)}}function xR(l,u){(l.pooledCacheLanes&=u)===0&&(u=l.pooledCache,u!=null&&(l.pooledCache=null,yg(u)))}function ov(l){return vR(),bR(),CR(),SR()}function SR(){if(ts!==5)return!1;var l=Lc,u=nS;nS=0;var g=Lu(Id),v=Y.T,S=re.p;try{re.p=32>g?32:g,Y.T=null,g=sS,sS=null;var T=Lc,B=Id;if(ts=0,Rd=Lc=null,Id=0,(pi&6)!==0)throw Error(n(331));var W=pi;if(pi|=4,rR(T.current),iR(T,T.current,B,g),pi=W,Bg(0,!1),fi&&typeof fi.onPostCommitFiberRoot=="function")try{fi.onPostCommitFiberRoot(Wi,T)}catch{}return!0}finally{re.p=S,Y.T=v,xR(l,u)}}function wR(l,u,g){u=_s(g,u),u=F0(l.stateNode,u,2),l=mc(l,u,2),l!==null&&($o(l,2),la(l))}function Di(l,u,g){if(l.tag===3)wR(l,l,g);else for(;u!==null;){if(u.tag===3){wR(u,l,g);break}else if(u.tag===1){var v=u.stateNode;if(typeof u.type.getDerivedStateFromError=="function"||typeof v.componentDidCatch=="function"&&(Dc===null||!Dc.has(v))){l=_s(g,l),g=TE(2),v=mc(u,g,2),v!==null&&(AE(g,v,u,l),$o(v,2),la(v));break}}u=u.return}}function cS(l,u,g){var v=l.pingCache;if(v===null){v=l.pingCache=new kG;var S=new Set;v.set(u,S)}else S=v.get(u),S===void 0&&(S=new Set,v.set(u,S));S.has(g)||(J0=!0,S.add(g),l=FG.bind(null,l,u,g),u.then(l,l))}function FG(l,u,g){var v=l.pingCache;v!==null&&v.delete(u),l.pingedLanes|=l.suspendedLanes&g,l.warmLanes&=~g,Ri===l&&(Kt&g)===g&&(sn===4||sn===3&&(Kt&62914560)===Kt&&300>je()-iS?(pi&2)===0&&kd(l,0):eS|=g,Ed===Kt&&(Ed=0)),la(l)}function MR(l,u){u===0&&(u=Mu()),l=uc(l,u),l!==null&&($o(l,u),la(l))}function BG(l){var u=l.memoizedState,g=0;u!==null&&(g=u.retryLane),MR(l,g)}function zG(l,u){var g=0;switch(l.tag){case 13:var v=l.stateNode,S=l.memoizedState;S!==null&&(g=S.retryLane);break;case 19:v=l.stateNode;break;case 22:v=l.stateNode._retryCache;break;default:throw Error(n(314))}v!==null&&v.delete(u),MR(l,g)}function GG(l,u){return qe(l,u)}var av=null,Nd=null,uS=!1,lv=!1,hS=!1,Ju=0;function la(l){l!==Nd&&l.next===null&&(Nd===null?av=Nd=l:Nd=Nd.next=l),lv=!0,uS||(uS=!0,jG())}function Bg(l,u){if(!hS&&lv){hS=!0;do for(var g=!1,v=av;v!==null;){if(l!==0){var S=v.pendingLanes;if(S===0)var T=0;else{var B=v.suspendedLanes,W=v.pingedLanes;T=(1<<31-Zt(42|l)+1)-1,T&=S&~(B&~W),T=T&201326741?T&201326741|1:T?T|2:0}T!==0&&(g=!0,AR(v,T))}else T=Kt,T=Fa(v,v===Ri?T:0,v.cancelPendingCommit!==null||v.timeoutHandle!==-1),(T&3)===0||gs(v,T)||(g=!0,AR(v,T));v=v.next}while(g);hS=!1}}function HG(){DR()}function DR(){lv=uS=!1;var l=0;Ju!==0&&(XG()&&(l=Ju),Ju=0);for(var u=je(),g=null,v=av;v!==null;){var S=v.next,T=LR(v,u);T===0?(v.next=null,g===null?av=S:g.next=S,S===null&&(Nd=g)):(g=v,(l!==0||(T&3)!==0)&&(lv=!0)),v=S}Bg(l)}function LR(l,u){for(var g=l.suspendedLanes,v=l.pingedLanes,S=l.expirationTimes,T=l.pendingLanes&-62914561;0<T;){var B=31-Zt(T),W=1<<B,q=S[B];q===-1?((W&g)===0||(W&v)!==0)&&(S[B]=ed(W,u)):q<=u&&(l.expiredLanes|=W),T&=~W}if(u=Ri,g=Kt,g=Fa(l,l===u?g:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),v=l.callbackNode,g===0||l===u&&(mi===2||mi===9)||l.cancelPendingCommit!==null)return v!==null&&v!==null&&Ue(v),l.callbackNode=null,l.callbackPriority=0;if((g&3)===0||gs(l,g)){if(u=g&-g,u===l.callbackPriority)return u;switch(v!==null&&Ue(v),Lu(g)){case 2:case 8:g=St;break;case 32:g=ft;break;case 268435456:g=di;break;default:g=ft}return v=TR.bind(null,l),g=qe(g,v),l.callbackPriority=u,l.callbackNode=g,u}return v!==null&&v!==null&&Ue(v),l.callbackPriority=2,l.callbackNode=null,2}function TR(l,u){if(ts!==0&&ts!==5)return l.callbackNode=null,l.callbackPriority=0,null;var g=l.callbackNode;if(ov()&&l.callbackNode!==g)return null;var v=Kt;return v=Fa(l,l===Ri?v:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),v===0?null:(cR(l,v,u),LR(l,je()),l.callbackNode!=null&&l.callbackNode===g?TR.bind(null,l):null)}function AR(l,u){if(ov())return null;cR(l,u,!0)}function jG(){QG(function(){(pi&6)!==0?qe(Qt,HG):DR()})}function dS(){return Ju===0&&(Ju=Yl()),Ju}function ER(l){return l==null||typeof l=="symbol"||typeof l=="boolean"?null:typeof l=="function"?l:ql(""+l)}function RR(l,u){var g=u.ownerDocument.createElement("input");return g.name=u.name,g.value=u.value,l.id&&g.setAttribute("form",l.id),u.parentNode.insertBefore(g,u),l=new FormData(l),g.parentNode.removeChild(g),l}function VG(l,u,g,v,S){if(u==="submit"&&g&&g.stateNode===S){var T=ER((S[Oe]||null).action),B=v.submitter;B&&(u=(u=B[Oe]||null)?ER(u.formAction):B.getAttribute("formAction"),u!==null&&(T=u,B=null));var W=new ku("action","action",null,v,S);l.push({event:W,listeners:[{instance:null,listener:function(){if(v.defaultPrevented){if(Ju!==0){var q=B?RR(S,B):new FormData(S);k0(g,{pending:!0,data:q,method:S.method,action:T},null,q)}}else typeof T=="function"&&(W.preventDefault(),q=B?RR(S,B):new FormData(S),k0(g,{pending:!0,data:q,method:S.method,action:T},T,q))},currentTarget:S}]})}}for(var fS=0;fS<Xa.length;fS++){var gS=Xa[fS],WG=gS.toLowerCase(),UG=gS[0].toUpperCase()+gS.slice(1);fr(WG,"on"+UG)}fr(Ly,"onAnimationEnd"),fr(dr,"onAnimationIteration"),fr(zu,"onAnimationStart"),fr("dblclick","onDoubleClick"),fr("focusin","onFocus"),fr("focusout","onBlur"),fr(a0,"onTransitionRun"),fr(gd,"onTransitionStart"),fr(l0,"onTransitionCancel"),fr(gg,"onTransitionEnd"),Es("onMouseEnter",["mouseout","mouseover"]),Es("onMouseLeave",["mouseout","mouseover"]),Es("onPointerEnter",["pointerout","pointerover"]),Es("onPointerLeave",["pointerout","pointerover"]),Xn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Xn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Xn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Xn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Xn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Xn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var zg="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),YG=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(zg));function IR(l,u){u=(u&4)!==0;for(var g=0;g<l.length;g++){var v=l[g],S=v.event;v=v.listeners;e:{var T=void 0;if(u)for(var B=v.length-1;0<=B;B--){var W=v[B],q=W.instance,ue=W.currentTarget;if(W=W.listener,q!==T&&S.isPropagationStopped())break e;T=W,S.currentTarget=ue;try{T(S)}catch(we){Zy(we)}S.currentTarget=null,T=q}else for(B=0;B<v.length;B++){if(W=v[B],q=W.instance,ue=W.currentTarget,W=W.listener,q!==T&&S.isPropagationStopped())break e;T=W,S.currentTarget=ue;try{T(S)}catch(we){Zy(we)}S.currentTarget=null,T=q}}}}function Gt(l,u){var g=u[Ze];g===void 0&&(g=u[Ze]=new Set);var v=l+"__bubble";g.has(v)||(kR(u,l,2,!1),g.add(v))}function pS(l,u,g){var v=0;u&&(v|=4),kR(g,l,v,u)}var cv="_reactListening"+Math.random().toString(36).slice(2);function mS(l){if(!l[cv]){l[cv]=!0,Bt.forEach(function(g){g!=="selectionchange"&&(YG.has(g)||pS(g,!1,l),pS(g,!0,l))});var u=l.nodeType===9?l:l.ownerDocument;u===null||u[cv]||(u[cv]=!0,pS("selectionchange",!1,u))}}function kR(l,u,g,v){switch(iI(u)){case 2:var S=bH;break;case 8:S=CH;break;default:S=RS}g=S.bind(null,u,g,l),S=void 0,!Iu||u!=="touchstart"&&u!=="touchmove"&&u!=="wheel"||(S=!0),v?S!==void 0?l.addEventListener(u,g,{capture:!0,passive:S}):l.addEventListener(u,g,!0):S!==void 0?l.addEventListener(u,g,{passive:S}):l.addEventListener(u,g,!1)}function yS(l,u,g,v,S){var T=v;if((u&1)===0&&(u&2)===0&&v!==null)e:for(;;){if(v===null)return;var B=v.tag;if(B===3||B===4){var W=v.stateNode.containerInfo;if(W===S)break;if(B===4)for(B=v.return;B!==null;){var q=B.tag;if((q===3||q===4)&&B.stateNode.containerInfo===S)return;B=B.return}for(;W!==null;){if(B=rt(W),B===null)return;if(q=B.tag,q===5||q===6||q===26||q===27){v=T=B;continue e}W=W.parentNode}}v=v.return}lr(function(){var ue=T,we=Ql(g),Le=[];e:{var de=Ty.get(l);if(de!==void 0){var ge=ku,gt=l;switch(l){case"keypress":if(nn(g)===0)break e;case"keydown":case"keyup":ge=Jx;break;case"focusin":gt="focus",ge=sg;break;case"focusout":gt="blur",ge=sg;break;case"beforeblur":case"afterblur":ge=sg;break;case"click":if(g.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ge=tc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ge=$x;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ge=t0;break;case Ly:case dr:case zu:ge=Zx;break;case gg:ge=i0;break;case"scroll":case"scrollend":ge=Kx;break;case"wheel":ge=yy;break;case"copy":case"cut":case"paste":ge=rg;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ge=ag;break;case"toggle":case"beforetoggle":ge=Ya}var ot=(u&4)!==0,Si=!ot&&(l==="scroll"||l==="scrollend"),oe=ot?de!==null?de+"Capture":null:de;ot=[];for(var ne=ue,ce;ne!==null;){var Me=ne;if(ce=Me.stateNode,Me=Me.tag,Me!==5&&Me!==26&&Me!==27||ce===null||oe===null||(Me=ei(ne,oe),Me!=null&&ot.push(Gg(ne,Me,ce))),Si)break;ne=ne.return}0<ot.length&&(de=new ge(de,gt,null,g,we),Le.push({event:de,listeners:ot}))}}if((u&7)===0){e:{if(de=l==="mouseover"||l==="pointerover",ge=l==="mouseout"||l==="pointerout",de&&g!==Ru&&(gt=g.relatedTarget||g.fromElement)&&(rt(gt)||gt[Ke]))break e;if((ge||de)&&(de=we.window===we?we:(de=we.ownerDocument)?de.defaultView||de.parentWindow:window,ge?(gt=g.relatedTarget||g.toElement,ge=ue,gt=gt?rt(gt):null,gt!==null&&(Si=r(gt),ot=gt.tag,gt!==Si||ot!==5&&ot!==27&&ot!==6)&&(gt=null)):(ge=null,gt=ue),ge!==gt)){if(ot=tc,Me="onMouseLeave",oe="onMouseEnter",ne="mouse",(l==="pointerout"||l==="pointerover")&&(ot=ag,Me="onPointerLeave",oe="onPointerEnter",ne="pointer"),Si=ge==null?de:Jt(ge),ce=gt==null?de:Jt(gt),de=new ot(Me,ne+"leave",ge,g,we),de.target=Si,de.relatedTarget=ce,Me=null,rt(we)===ue&&(ot=new ot(oe,ne+"enter",gt,g,we),ot.target=ce,ot.relatedTarget=Si,Me=ot),Si=Me,ge&&gt)t:{for(ot=ge,oe=gt,ne=0,ce=ot;ce;ce=Od(ce))ne++;for(ce=0,Me=oe;Me;Me=Od(Me))ce++;for(;0<ne-ce;)ot=Od(ot),ne--;for(;0<ce-ne;)oe=Od(oe),ce--;for(;ne--;){if(ot===oe||oe!==null&&ot===oe.alternate)break t;ot=Od(ot),oe=Od(oe)}ot=null}else ot=null;ge!==null&&_R(Le,de,ge,ot,!1),gt!==null&&Si!==null&&_R(Le,Si,gt,ot,!0)}}e:{if(de=ue?Jt(ue):window,ge=de.nodeName&&de.nodeName.toLowerCase(),ge==="select"||ge==="input"&&de.type==="file")var $e=sc;else if($a(de))if(ug)$e=o0;else{$e=r0;var Ot=dg}else ge=de.nodeName,!ge||ge.toLowerCase()!=="input"||de.type!=="checkbox"&&de.type!=="radio"?ue&&Eu(ue.elementType)&&($e=sc):$e=Co;if($e&&($e=$e(l,ue))){Sy(Le,$e,g,we);break e}Ot&&Ot(l,de,ue),l==="focusout"&&ue&&de.type==="number"&&ue.memoizedProps.value!=null&&Zl(de,"number",de.value)}switch(Ot=ue?Jt(ue):window,l){case"focusin":($a(Ot)||Ot.contentEditable==="true")&&(hr=Ot,ac=ue,Za=null);break;case"focusout":Za=ac=hr=null;break;case"mousedown":dd=!0;break;case"contextmenu":case"mouseup":case"dragend":dd=!1,My(Le,g,we);break;case"selectionchange":if(hd)break;case"keydown":case"keyup":My(Le,g,we)}var tt;if(Ka)e:{switch(l){case"compositionstart":var ct="onCompositionStart";break e;case"compositionend":ct="onCompositionEnd";break e;case"compositionupdate":ct="onCompositionUpdate";break e}ct=void 0}else ic?ld(l,g)&&(ct="onCompositionEnd"):l==="keydown"&&g.keyCode===229&&(ct="onCompositionStart");ct&&(cg&&g.locale!=="ko"&&(ic||ct!=="onCompositionStart"?ct==="onCompositionEnd"&&ic&&(tt=ec()):(Gr=we,vo="value"in Gr?Gr.value:Gr.textContent,ic=!0)),Ot=uv(ue,ct),0<Ot.length&&(ct=new cr(ct,l,null,g,we),Le.push({event:ct,listeners:Ot}),tt?ct.data=tt:(tt=Cy(g),tt!==null&&(ct.data=tt)))),(tt=vy?xy(l,g):s0(l,g))&&(ct=uv(ue,"onBeforeInput"),0<ct.length&&(Ot=new cr("onBeforeInput","beforeinput",null,g,we),Le.push({event:Ot,listeners:ct}),Ot.data=tt)),VG(Le,l,ue,g,we)}IR(Le,u)})}function Gg(l,u,g){return{instance:l,listener:u,currentTarget:g}}function uv(l,u){for(var g=u+"Capture",v=[];l!==null;){var S=l,T=S.stateNode;if(S=S.tag,S!==5&&S!==26&&S!==27||T===null||(S=ei(l,g),S!=null&&v.unshift(Gg(l,S,T)),S=ei(l,u),S!=null&&v.push(Gg(l,S,T))),l.tag===3)return v;l=l.return}return[]}function Od(l){if(l===null)return null;do l=l.return;while(l&&l.tag!==5&&l.tag!==27);return l||null}function _R(l,u,g,v,S){for(var T=u._reactName,B=[];g!==null&&g!==v;){var W=g,q=W.alternate,ue=W.stateNode;if(W=W.tag,q!==null&&q===v)break;W!==5&&W!==26&&W!==27||ue===null||(q=ue,S?(ue=ei(g,T),ue!=null&&B.unshift(Gg(g,ue,q))):S||(ue=ei(g,T),ue!=null&&B.push(Gg(g,ue,q)))),g=g.return}B.length!==0&&l.push({event:u,listeners:B})}var KG=/\r\n?/g,$G=/\u0000|\uFFFD/g;function NR(l){return(typeof l=="string"?l:""+l).replace(KG,`
`).replace($G,"")}function OR(l,u){return u=NR(u),NR(l)===u}function hv(){}function xi(l,u,g,v,S,T){switch(g){case"children":typeof v=="string"?u==="body"||u==="textarea"&&v===""||Br(l,v):(typeof v=="number"||typeof v=="bigint")&&u!=="body"&&Br(l,""+v);break;case"className":yo(l,"class",v);break;case"tabIndex":yo(l,"tabindex",v);break;case"dir":case"role":case"viewBox":case"width":case"height":yo(l,g,v);break;case"style":Xl(l,v,T);break;case"data":if(u!=="object"){yo(l,"data",v);break}case"src":case"href":if(v===""&&(u!=="a"||g!=="href")){l.removeAttribute(g);break}if(v==null||typeof v=="function"||typeof v=="symbol"||typeof v=="boolean"){l.removeAttribute(g);break}v=ql(""+v),l.setAttribute(g,v);break;case"action":case"formAction":if(typeof v=="function"){l.setAttribute(g,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof T=="function"&&(g==="formAction"?(u!=="input"&&xi(l,u,"name",S.name,S,null),xi(l,u,"formEncType",S.formEncType,S,null),xi(l,u,"formMethod",S.formMethod,S,null),xi(l,u,"formTarget",S.formTarget,S,null)):(xi(l,u,"encType",S.encType,S,null),xi(l,u,"method",S.method,S,null),xi(l,u,"target",S.target,S,null)));if(v==null||typeof v=="symbol"||typeof v=="boolean"){l.removeAttribute(g);break}v=ql(""+v),l.setAttribute(g,v);break;case"onClick":v!=null&&(l.onclick=hv);break;case"onScroll":v!=null&&Gt("scroll",l);break;case"onScrollEnd":v!=null&&Gt("scrollend",l);break;case"dangerouslySetInnerHTML":if(v!=null){if(typeof v!="object"||!("__html"in v))throw Error(n(61));if(g=v.__html,g!=null){if(S.children!=null)throw Error(n(60));l.innerHTML=g}}break;case"multiple":l.multiple=v&&typeof v!="function"&&typeof v!="symbol";break;case"muted":l.muted=v&&typeof v!="function"&&typeof v!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(v==null||typeof v=="function"||typeof v=="boolean"||typeof v=="symbol"){l.removeAttribute("xlink:href");break}g=ql(""+v),l.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",g);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":v!=null&&typeof v!="function"&&typeof v!="symbol"?l.setAttribute(g,""+v):l.removeAttribute(g);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":v&&typeof v!="function"&&typeof v!="symbol"?l.setAttribute(g,""):l.removeAttribute(g);break;case"capture":case"download":v===!0?l.setAttribute(g,""):v!==!1&&v!=null&&typeof v!="function"&&typeof v!="symbol"?l.setAttribute(g,v):l.removeAttribute(g);break;case"cols":case"rows":case"size":case"span":v!=null&&typeof v!="function"&&typeof v!="symbol"&&!isNaN(v)&&1<=v?l.setAttribute(g,v):l.removeAttribute(g);break;case"rowSpan":case"start":v==null||typeof v=="function"||typeof v=="symbol"||isNaN(v)?l.removeAttribute(g):l.setAttribute(g,v);break;case"popover":Gt("beforetoggle",l),Gt("toggle",l),Ys(l,"popover",v);break;case"xlinkActuate":Tt(l,"http://www.w3.org/1999/xlink","xlink:actuate",v);break;case"xlinkArcrole":Tt(l,"http://www.w3.org/1999/xlink","xlink:arcrole",v);break;case"xlinkRole":Tt(l,"http://www.w3.org/1999/xlink","xlink:role",v);break;case"xlinkShow":Tt(l,"http://www.w3.org/1999/xlink","xlink:show",v);break;case"xlinkTitle":Tt(l,"http://www.w3.org/1999/xlink","xlink:title",v);break;case"xlinkType":Tt(l,"http://www.w3.org/1999/xlink","xlink:type",v);break;case"xmlBase":Tt(l,"http://www.w3.org/XML/1998/namespace","xml:base",v);break;case"xmlLang":Tt(l,"http://www.w3.org/XML/1998/namespace","xml:lang",v);break;case"xmlSpace":Tt(l,"http://www.w3.org/XML/1998/namespace","xml:space",v);break;case"is":Ys(l,"is",v);break;case"innerText":case"textContent":break;default:(!(2<g.length)||g[0]!=="o"&&g[0]!=="O"||g[1]!=="n"&&g[1]!=="N")&&(g=tg.get(g)||g,Ys(l,g,v))}}function vS(l,u,g,v,S,T){switch(g){case"style":Xl(l,v,T);break;case"dangerouslySetInnerHTML":if(v!=null){if(typeof v!="object"||!("__html"in v))throw Error(n(61));if(g=v.__html,g!=null){if(S.children!=null)throw Error(n(60));l.innerHTML=g}}break;case"children":typeof v=="string"?Br(l,v):(typeof v=="number"||typeof v=="bigint")&&Br(l,""+v);break;case"onScroll":v!=null&&Gt("scroll",l);break;case"onScrollEnd":v!=null&&Gt("scrollend",l);break;case"onClick":v!=null&&(l.onclick=hv);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Zo.hasOwnProperty(g))e:{if(g[0]==="o"&&g[1]==="n"&&(S=g.endsWith("Capture"),u=g.slice(2,S?g.length-7:void 0),T=l[Oe]||null,T=T!=null?T[g]:null,typeof T=="function"&&l.removeEventListener(u,T,S),typeof v=="function")){typeof T!="function"&&T!==null&&(g in l?l[g]=null:l.hasAttribute(g)&&l.removeAttribute(g)),l.addEventListener(u,v,S);break e}g in l?l[g]=v:v===!0?l.setAttribute(g,""):Ys(l,g,v)}}}function is(l,u,g){switch(u){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Gt("error",l),Gt("load",l);var v=!1,S=!1,T;for(T in g)if(g.hasOwnProperty(T)){var B=g[T];if(B!=null)switch(T){case"src":v=!0;break;case"srcSet":S=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,u));default:xi(l,u,T,B,g,null)}}S&&xi(l,u,"srcSet",g.srcSet,g,null),v&&xi(l,u,"src",g.src,g,null);return;case"input":Gt("invalid",l);var W=T=B=S=null,q=null,ue=null;for(v in g)if(g.hasOwnProperty(v)){var we=g[v];if(we!=null)switch(v){case"name":S=we;break;case"type":B=we;break;case"checked":q=we;break;case"defaultChecked":ue=we;break;case"value":T=we;break;case"defaultValue":W=we;break;case"children":case"dangerouslySetInnerHTML":if(we!=null)throw Error(n(137,u));break;default:xi(l,u,v,we,g,null)}}cy(l,T,W,q,ue,B,S,!1),$l(l);return;case"select":Gt("invalid",l),v=B=T=null;for(S in g)if(g.hasOwnProperty(S)&&(W=g[S],W!=null))switch(S){case"value":T=W;break;case"defaultValue":B=W;break;case"multiple":v=W;default:xi(l,u,S,W,g,null)}u=T,g=B,l.multiple=!!v,u!=null?$s(l,!!v,u,!1):g!=null&&$s(l,!!v,g,!0);return;case"textarea":Gt("invalid",l),T=S=v=null;for(B in g)if(g.hasOwnProperty(B)&&(W=g[B],W!=null))switch(B){case"value":v=W;break;case"defaultValue":S=W;break;case"children":T=W;break;case"dangerouslySetInnerHTML":if(W!=null)throw Error(n(91));break;default:xi(l,u,B,W,g,null)}Qo(l,v,S,T),$l(l);return;case"option":for(q in g)if(g.hasOwnProperty(q)&&(v=g[q],v!=null))switch(q){case"selected":l.selected=v&&typeof v!="function"&&typeof v!="symbol";break;default:xi(l,u,q,v,g,null)}return;case"dialog":Gt("beforetoggle",l),Gt("toggle",l),Gt("cancel",l),Gt("close",l);break;case"iframe":case"object":Gt("load",l);break;case"video":case"audio":for(v=0;v<zg.length;v++)Gt(zg[v],l);break;case"image":Gt("error",l),Gt("load",l);break;case"details":Gt("toggle",l);break;case"embed":case"source":case"link":Gt("error",l),Gt("load",l);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ue in g)if(g.hasOwnProperty(ue)&&(v=g[ue],v!=null))switch(ue){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,u));default:xi(l,u,ue,v,g,null)}return;default:if(Eu(u)){for(we in g)g.hasOwnProperty(we)&&(v=g[we],v!==void 0&&vS(l,u,we,v,g,void 0));return}}for(W in g)g.hasOwnProperty(W)&&(v=g[W],v!=null&&xi(l,u,W,v,g,null))}function ZG(l,u,g,v){switch(u){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var S=null,T=null,B=null,W=null,q=null,ue=null,we=null;for(ge in g){var Le=g[ge];if(g.hasOwnProperty(ge)&&Le!=null)switch(ge){case"checked":break;case"value":break;case"defaultValue":q=Le;default:v.hasOwnProperty(ge)||xi(l,u,ge,null,v,Le)}}for(var de in v){var ge=v[de];if(Le=g[de],v.hasOwnProperty(de)&&(ge!=null||Le!=null))switch(de){case"type":T=ge;break;case"name":S=ge;break;case"checked":ue=ge;break;case"defaultChecked":we=ge;break;case"value":B=ge;break;case"defaultValue":W=ge;break;case"children":case"dangerouslySetInnerHTML":if(ge!=null)throw Error(n(137,u));break;default:ge!==Le&&xi(l,u,de,ge,v,Le)}}ms(l,B,W,q,ue,we,T,S);return;case"select":ge=B=W=de=null;for(T in g)if(q=g[T],g.hasOwnProperty(T)&&q!=null)switch(T){case"value":break;case"multiple":ge=q;default:v.hasOwnProperty(T)||xi(l,u,T,null,v,q)}for(S in v)if(T=v[S],q=g[S],v.hasOwnProperty(S)&&(T!=null||q!=null))switch(S){case"value":de=T;break;case"defaultValue":W=T;break;case"multiple":B=T;default:T!==q&&xi(l,u,S,T,v,q)}u=W,g=B,v=ge,de!=null?$s(l,!!g,de,!1):!!v!=!!g&&(u!=null?$s(l,!!g,u,!0):$s(l,!!g,g?[]:"",!1));return;case"textarea":ge=de=null;for(W in g)if(S=g[W],g.hasOwnProperty(W)&&S!=null&&!v.hasOwnProperty(W))switch(W){case"value":break;case"children":break;default:xi(l,u,W,null,v,S)}for(B in v)if(S=v[B],T=g[B],v.hasOwnProperty(B)&&(S!=null||T!=null))switch(B){case"value":de=S;break;case"defaultValue":ge=S;break;case"children":break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(n(91));break;default:S!==T&&xi(l,u,B,S,v,T)}Ui(l,de,ge);return;case"option":for(var gt in g)if(de=g[gt],g.hasOwnProperty(gt)&&de!=null&&!v.hasOwnProperty(gt))switch(gt){case"selected":l.selected=!1;break;default:xi(l,u,gt,null,v,de)}for(q in v)if(de=v[q],ge=g[q],v.hasOwnProperty(q)&&de!==ge&&(de!=null||ge!=null))switch(q){case"selected":l.selected=de&&typeof de!="function"&&typeof de!="symbol";break;default:xi(l,u,q,de,v,ge)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ot in g)de=g[ot],g.hasOwnProperty(ot)&&de!=null&&!v.hasOwnProperty(ot)&&xi(l,u,ot,null,v,de);for(ue in v)if(de=v[ue],ge=g[ue],v.hasOwnProperty(ue)&&de!==ge&&(de!=null||ge!=null))switch(ue){case"children":case"dangerouslySetInnerHTML":if(de!=null)throw Error(n(137,u));break;default:xi(l,u,ue,de,v,ge)}return;default:if(Eu(u)){for(var Si in g)de=g[Si],g.hasOwnProperty(Si)&&de!==void 0&&!v.hasOwnProperty(Si)&&vS(l,u,Si,void 0,v,de);for(we in v)de=v[we],ge=g[we],!v.hasOwnProperty(we)||de===ge||de===void 0&&ge===void 0||vS(l,u,we,de,v,ge);return}}for(var oe in g)de=g[oe],g.hasOwnProperty(oe)&&de!=null&&!v.hasOwnProperty(oe)&&xi(l,u,oe,null,v,de);for(Le in v)de=v[Le],ge=g[Le],!v.hasOwnProperty(Le)||de===ge||de==null&&ge==null||xi(l,u,Le,de,v,ge)}var bS=null,CS=null;function dv(l){return l.nodeType===9?l:l.ownerDocument}function PR(l){switch(l){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function FR(l,u){if(l===0)switch(u){case"svg":return 1;case"math":return 2;default:return 0}return l===1&&u==="foreignObject"?0:l}function xS(l,u){return l==="textarea"||l==="noscript"||typeof u.children=="string"||typeof u.children=="number"||typeof u.children=="bigint"||typeof u.dangerouslySetInnerHTML=="object"&&u.dangerouslySetInnerHTML!==null&&u.dangerouslySetInnerHTML.__html!=null}var SS=null;function XG(){var l=window.event;return l&&l.type==="popstate"?l===SS?!1:(SS=l,!0):(SS=null,!1)}var BR=typeof setTimeout=="function"?setTimeout:void 0,qG=typeof clearTimeout=="function"?clearTimeout:void 0,zR=typeof Promise=="function"?Promise:void 0,QG=typeof queueMicrotask=="function"?queueMicrotask:typeof zR<"u"?function(l){return zR.resolve(null).then(l).catch(JG)}:BR;function JG(l){setTimeout(function(){throw l})}function Ac(l){return l==="head"}function GR(l,u){var g=u,v=0,S=0;do{var T=g.nextSibling;if(l.removeChild(g),T&&T.nodeType===8)if(g=T.data,g==="/$"){if(0<v&&8>v){g=v;var B=l.ownerDocument;if(g&1&&Hg(B.documentElement),g&2&&Hg(B.body),g&4)for(g=B.head,Hg(g),B=g.firstChild;B;){var W=B.nextSibling,q=B.nodeName;B[st]||q==="SCRIPT"||q==="STYLE"||q==="LINK"&&B.rel.toLowerCase()==="stylesheet"||g.removeChild(B),B=W}}if(S===0){l.removeChild(T),Zg(u);return}S--}else g==="$"||g==="$?"||g==="$!"?S++:v=g.charCodeAt(0)-48;else v=0;g=T}while(g);Zg(u)}function wS(l){var u=l.firstChild;for(u&&u.nodeType===10&&(u=u.nextSibling);u;){var g=u;switch(u=u.nextSibling,g.nodeName){case"HTML":case"HEAD":case"BODY":wS(g),Qe(g);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(g.rel.toLowerCase()==="stylesheet")continue}l.removeChild(g)}}function eH(l,u,g,v){for(;l.nodeType===1;){var S=g;if(l.nodeName.toLowerCase()!==u.toLowerCase()){if(!v&&(l.nodeName!=="INPUT"||l.type!=="hidden"))break}else if(v){if(!l[st])switch(u){case"meta":if(!l.hasAttribute("itemprop"))break;return l;case"link":if(T=l.getAttribute("rel"),T==="stylesheet"&&l.hasAttribute("data-precedence"))break;if(T!==S.rel||l.getAttribute("href")!==(S.href==null||S.href===""?null:S.href)||l.getAttribute("crossorigin")!==(S.crossOrigin==null?null:S.crossOrigin)||l.getAttribute("title")!==(S.title==null?null:S.title))break;return l;case"style":if(l.hasAttribute("data-precedence"))break;return l;case"script":if(T=l.getAttribute("src"),(T!==(S.src==null?null:S.src)||l.getAttribute("type")!==(S.type==null?null:S.type)||l.getAttribute("crossorigin")!==(S.crossOrigin==null?null:S.crossOrigin))&&T&&l.hasAttribute("async")&&!l.hasAttribute("itemprop"))break;return l;default:return l}}else if(u==="input"&&l.type==="hidden"){var T=S.name==null?null:""+S.name;if(S.type==="hidden"&&l.getAttribute("name")===T)return l}else return l;if(l=Mo(l.nextSibling),l===null)break}return null}function tH(l,u,g){if(u==="")return null;for(;l.nodeType!==3;)if((l.nodeType!==1||l.nodeName!=="INPUT"||l.type!=="hidden")&&!g||(l=Mo(l.nextSibling),l===null))return null;return l}function MS(l){return l.data==="$!"||l.data==="$?"&&l.ownerDocument.readyState==="complete"}function iH(l,u){var g=l.ownerDocument;if(l.data!=="$?"||g.readyState==="complete")u();else{var v=function(){u(),g.removeEventListener("DOMContentLoaded",v)};g.addEventListener("DOMContentLoaded",v),l._reactRetry=v}}function Mo(l){for(;l!=null;l=l.nextSibling){var u=l.nodeType;if(u===1||u===3)break;if(u===8){if(u=l.data,u==="$"||u==="$!"||u==="$?"||u==="F!"||u==="F")break;if(u==="/$")return null}}return l}var DS=null;function HR(l){l=l.previousSibling;for(var u=0;l;){if(l.nodeType===8){var g=l.data;if(g==="$"||g==="$!"||g==="$?"){if(u===0)return l;u--}else g==="/$"&&u++}l=l.previousSibling}return null}function jR(l,u,g){switch(u=dv(g),l){case"html":if(l=u.documentElement,!l)throw Error(n(452));return l;case"head":if(l=u.head,!l)throw Error(n(453));return l;case"body":if(l=u.body,!l)throw Error(n(454));return l;default:throw Error(n(451))}}function Hg(l){for(var u=l.attributes;u.length;)l.removeAttributeNode(u[0]);Qe(l)}var Kr=new Map,VR=new Set;function fv(l){return typeof l.getRootNode=="function"?l.getRootNode():l.nodeType===9?l:l.ownerDocument}var ll=re.d;re.d={f:nH,r:sH,D:rH,C:oH,L:aH,m:lH,X:uH,S:cH,M:hH};function nH(){var l=ll.f(),u=sv();return l||u}function sH(l){var u=jt(l);u!==null&&u.tag===5&&u.type==="form"?cE(u):ll.r(l)}var Pd=typeof document>"u"?null:document;function WR(l,u,g){var v=Pd;if(v&&typeof u=="string"&&u){var S=Qn(u);S='link[rel="'+l+'"][href="'+S+'"]',typeof g=="string"&&(S+='[crossorigin="'+g+'"]'),VR.has(S)||(VR.add(S),l={rel:l,crossOrigin:g,href:u},v.querySelector(S)===null&&(u=v.createElement("link"),is(u,"link",l),Yt(u),v.head.appendChild(u)))}}function rH(l){ll.D(l),WR("dns-prefetch",l,null)}function oH(l,u){ll.C(l,u),WR("preconnect",l,u)}function aH(l,u,g){ll.L(l,u,g);var v=Pd;if(v&&l&&u){var S='link[rel="preload"][as="'+Qn(u)+'"]';u==="image"&&g&&g.imageSrcSet?(S+='[imagesrcset="'+Qn(g.imageSrcSet)+'"]',typeof g.imageSizes=="string"&&(S+='[imagesizes="'+Qn(g.imageSizes)+'"]')):S+='[href="'+Qn(l)+'"]';var T=S;switch(u){case"style":T=Fd(l);break;case"script":T=Bd(l)}Kr.has(T)||(l=f({rel:"preload",href:u==="image"&&g&&g.imageSrcSet?void 0:l,as:u},g),Kr.set(T,l),v.querySelector(S)!==null||u==="style"&&v.querySelector(jg(T))||u==="script"&&v.querySelector(Vg(T))||(u=v.createElement("link"),is(u,"link",l),Yt(u),v.head.appendChild(u)))}}function lH(l,u){ll.m(l,u);var g=Pd;if(g&&l){var v=u&&typeof u.as=="string"?u.as:"script",S='link[rel="modulepreload"][as="'+Qn(v)+'"][href="'+Qn(l)+'"]',T=S;switch(v){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":T=Bd(l)}if(!Kr.has(T)&&(l=f({rel:"modulepreload",href:l},u),Kr.set(T,l),g.querySelector(S)===null)){switch(v){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(g.querySelector(Vg(T)))return}v=g.createElement("link"),is(v,"link",l),Yt(v),g.head.appendChild(v)}}}function cH(l,u,g){ll.S(l,u,g);var v=Pd;if(v&&l){var S=Ti(v).hoistableStyles,T=Fd(l);u=u||"default";var B=S.get(T);if(!B){var W={loading:0,preload:null};if(B=v.querySelector(jg(T)))W.loading=5;else{l=f({rel:"stylesheet",href:l,"data-precedence":u},g),(g=Kr.get(T))&&LS(l,g);var q=B=v.createElement("link");Yt(q),is(q,"link",l),q._p=new Promise(function(ue,we){q.onload=ue,q.onerror=we}),q.addEventListener("load",function(){W.loading|=1}),q.addEventListener("error",function(){W.loading|=2}),W.loading|=4,gv(B,u,v)}B={type:"stylesheet",instance:B,count:1,state:W},S.set(T,B)}}}function uH(l,u){ll.X(l,u);var g=Pd;if(g&&l){var v=Ti(g).hoistableScripts,S=Bd(l),T=v.get(S);T||(T=g.querySelector(Vg(S)),T||(l=f({src:l,async:!0},u),(u=Kr.get(S))&&TS(l,u),T=g.createElement("script"),Yt(T),is(T,"link",l),g.head.appendChild(T)),T={type:"script",instance:T,count:1,state:null},v.set(S,T))}}function hH(l,u){ll.M(l,u);var g=Pd;if(g&&l){var v=Ti(g).hoistableScripts,S=Bd(l),T=v.get(S);T||(T=g.querySelector(Vg(S)),T||(l=f({src:l,async:!0,type:"module"},u),(u=Kr.get(S))&&TS(l,u),T=g.createElement("script"),Yt(T),is(T,"link",l),g.head.appendChild(T)),T={type:"script",instance:T,count:1,state:null},v.set(S,T))}}function UR(l,u,g,v){var S=(S=he.current)?fv(S):null;if(!S)throw Error(n(446));switch(l){case"meta":case"title":return null;case"style":return typeof g.precedence=="string"&&typeof g.href=="string"?(u=Fd(g.href),g=Ti(S).hoistableStyles,v=g.get(u),v||(v={type:"style",instance:null,count:0,state:null},g.set(u,v)),v):{type:"void",instance:null,count:0,state:null};case"link":if(g.rel==="stylesheet"&&typeof g.href=="string"&&typeof g.precedence=="string"){l=Fd(g.href);var T=Ti(S).hoistableStyles,B=T.get(l);if(B||(S=S.ownerDocument||S,B={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},T.set(l,B),(T=S.querySelector(jg(l)))&&!T._p&&(B.instance=T,B.state.loading=5),Kr.has(l)||(g={rel:"preload",as:"style",href:g.href,crossOrigin:g.crossOrigin,integrity:g.integrity,media:g.media,hrefLang:g.hrefLang,referrerPolicy:g.referrerPolicy},Kr.set(l,g),T||dH(S,l,g,B.state))),u&&v===null)throw Error(n(528,""));return B}if(u&&v!==null)throw Error(n(529,""));return null;case"script":return u=g.async,g=g.src,typeof g=="string"&&u&&typeof u!="function"&&typeof u!="symbol"?(u=Bd(g),g=Ti(S).hoistableScripts,v=g.get(u),v||(v={type:"script",instance:null,count:0,state:null},g.set(u,v)),v):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,l))}}function Fd(l){return'href="'+Qn(l)+'"'}function jg(l){return'link[rel="stylesheet"]['+l+"]"}function YR(l){return f({},l,{"data-precedence":l.precedence,precedence:null})}function dH(l,u,g,v){l.querySelector('link[rel="preload"][as="style"]['+u+"]")?v.loading=1:(u=l.createElement("link"),v.preload=u,u.addEventListener("load",function(){return v.loading|=1}),u.addEventListener("error",function(){return v.loading|=2}),is(u,"link",g),Yt(u),l.head.appendChild(u))}function Bd(l){return'[src="'+Qn(l)+'"]'}function Vg(l){return"script[async]"+l}function KR(l,u,g){if(u.count++,u.instance===null)switch(u.type){case"style":var v=l.querySelector('style[data-href~="'+Qn(g.href)+'"]');if(v)return u.instance=v,Yt(v),v;var S=f({},g,{"data-href":g.href,"data-precedence":g.precedence,href:null,precedence:null});return v=(l.ownerDocument||l).createElement("style"),Yt(v),is(v,"style",S),gv(v,g.precedence,l),u.instance=v;case"stylesheet":S=Fd(g.href);var T=l.querySelector(jg(S));if(T)return u.state.loading|=4,u.instance=T,Yt(T),T;v=YR(g),(S=Kr.get(S))&&LS(v,S),T=(l.ownerDocument||l).createElement("link"),Yt(T);var B=T;return B._p=new Promise(function(W,q){B.onload=W,B.onerror=q}),is(T,"link",v),u.state.loading|=4,gv(T,g.precedence,l),u.instance=T;case"script":return T=Bd(g.src),(S=l.querySelector(Vg(T)))?(u.instance=S,Yt(S),S):(v=g,(S=Kr.get(T))&&(v=f({},g),TS(v,S)),l=l.ownerDocument||l,S=l.createElement("script"),Yt(S),is(S,"link",v),l.head.appendChild(S),u.instance=S);case"void":return null;default:throw Error(n(443,u.type))}else u.type==="stylesheet"&&(u.state.loading&4)===0&&(v=u.instance,u.state.loading|=4,gv(v,g.precedence,l));return u.instance}function gv(l,u,g){for(var v=g.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),S=v.length?v[v.length-1]:null,T=S,B=0;B<v.length;B++){var W=v[B];if(W.dataset.precedence===u)T=W;else if(T!==S)break}T?T.parentNode.insertBefore(l,T.nextSibling):(u=g.nodeType===9?g.head:g,u.insertBefore(l,u.firstChild))}function LS(l,u){l.crossOrigin==null&&(l.crossOrigin=u.crossOrigin),l.referrerPolicy==null&&(l.referrerPolicy=u.referrerPolicy),l.title==null&&(l.title=u.title)}function TS(l,u){l.crossOrigin==null&&(l.crossOrigin=u.crossOrigin),l.referrerPolicy==null&&(l.referrerPolicy=u.referrerPolicy),l.integrity==null&&(l.integrity=u.integrity)}var pv=null;function $R(l,u,g){if(pv===null){var v=new Map,S=pv=new Map;S.set(g,v)}else S=pv,v=S.get(g),v||(v=new Map,S.set(g,v));if(v.has(l))return v;for(v.set(l,null),g=g.getElementsByTagName(l),S=0;S<g.length;S++){var T=g[S];if(!(T[st]||T[De]||l==="link"&&T.getAttribute("rel")==="stylesheet")&&T.namespaceURI!=="http://www.w3.org/2000/svg"){var B=T.getAttribute(u)||"";B=l+B;var W=v.get(B);W?W.push(T):v.set(B,[T])}}return v}function ZR(l,u,g){l=l.ownerDocument||l,l.head.insertBefore(g,u==="title"?l.querySelector("head > title"):null)}function fH(l,u,g){if(g===1||u.itemProp!=null)return!1;switch(l){case"meta":case"title":return!0;case"style":if(typeof u.precedence!="string"||typeof u.href!="string"||u.href==="")break;return!0;case"link":if(typeof u.rel!="string"||typeof u.href!="string"||u.href===""||u.onLoad||u.onError)break;switch(u.rel){case"stylesheet":return l=u.disabled,typeof u.precedence=="string"&&l==null;default:return!0}case"script":if(u.async&&typeof u.async!="function"&&typeof u.async!="symbol"&&!u.onLoad&&!u.onError&&u.src&&typeof u.src=="string")return!0}return!1}function XR(l){return!(l.type==="stylesheet"&&(l.state.loading&3)===0)}var Wg=null;function gH(){}function pH(l,u,g){if(Wg===null)throw Error(n(475));var v=Wg;if(u.type==="stylesheet"&&(typeof g.media!="string"||matchMedia(g.media).matches!==!1)&&(u.state.loading&4)===0){if(u.instance===null){var S=Fd(g.href),T=l.querySelector(jg(S));if(T){l=T._p,l!==null&&typeof l=="object"&&typeof l.then=="function"&&(v.count++,v=mv.bind(v),l.then(v,v)),u.state.loading|=4,u.instance=T,Yt(T);return}T=l.ownerDocument||l,g=YR(g),(S=Kr.get(S))&&LS(g,S),T=T.createElement("link"),Yt(T);var B=T;B._p=new Promise(function(W,q){B.onload=W,B.onerror=q}),is(T,"link",g),u.instance=T}v.stylesheets===null&&(v.stylesheets=new Map),v.stylesheets.set(u,l),(l=u.state.preload)&&(u.state.loading&3)===0&&(v.count++,u=mv.bind(v),l.addEventListener("load",u),l.addEventListener("error",u))}}function mH(){if(Wg===null)throw Error(n(475));var l=Wg;return l.stylesheets&&l.count===0&&AS(l,l.stylesheets),0<l.count?function(u){var g=setTimeout(function(){if(l.stylesheets&&AS(l,l.stylesheets),l.unsuspend){var v=l.unsuspend;l.unsuspend=null,v()}},6e4);return l.unsuspend=u,function(){l.unsuspend=null,clearTimeout(g)}}:null}function mv(){if(this.count--,this.count===0){if(this.stylesheets)AS(this,this.stylesheets);else if(this.unsuspend){var l=this.unsuspend;this.unsuspend=null,l()}}}var yv=null;function AS(l,u){l.stylesheets=null,l.unsuspend!==null&&(l.count++,yv=new Map,u.forEach(yH,l),yv=null,mv.call(l))}function yH(l,u){if(!(u.state.loading&4)){var g=yv.get(l);if(g)var v=g.get(null);else{g=new Map,yv.set(l,g);for(var S=l.querySelectorAll("link[data-precedence],style[data-precedence]"),T=0;T<S.length;T++){var B=S[T];(B.nodeName==="LINK"||B.getAttribute("media")!=="not all")&&(g.set(B.dataset.precedence,B),v=B)}v&&g.set(null,v)}S=u.instance,B=S.getAttribute("data-precedence"),T=g.get(B)||v,T===v&&g.set(null,S),g.set(B,S),this.count++,v=mv.bind(this),S.addEventListener("load",v),S.addEventListener("error",v),T?T.parentNode.insertBefore(S,T.nextSibling):(l=l.nodeType===9?l.head:l,l.insertBefore(S,l.firstChild)),u.state.loading|=4}}var Ug={$$typeof:k,Provider:null,Consumer:null,_currentValue:Z,_currentValue2:Z,_threadCount:0};function vH(l,u,g,v,S,T,B,W){this.tag=1,this.containerInfo=l,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ba(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ba(0),this.hiddenUpdates=Ba(null),this.identifierPrefix=v,this.onUncaughtError=S,this.onCaughtError=T,this.onRecoverableError=B,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=W,this.incompleteTransitions=new Map}function qR(l,u,g,v,S,T,B,W,q,ue,we,Le){return l=new vH(l,u,g,B,W,q,ue,Le),u=1,T===!0&&(u|=24),T=Os(3,null,null,u),l.current=T,T.stateNode=l,u=c0(),u.refCount++,l.pooledCache=u,u.refCount++,T.memoizedState={element:v,isDehydrated:g,cache:u},f0(T),l}function QR(l){return l?(l=Ja,l):Ja}function JR(l,u,g,v,S,T){S=QR(S),v.context===null?v.context=S:v.pendingContext=S,v=pc(u),v.payload={element:g},T=T===void 0?null:T,T!==null&&(v.callback=T),g=mc(l,v,u),g!==null&&(br(g,l,u),xg(g,l,u))}function eI(l,u){if(l=l.memoizedState,l!==null&&l.dehydrated!==null){var g=l.retryLane;l.retryLane=g!==0&&g<u?g:u}}function ES(l,u){eI(l,u),(l=l.alternate)&&eI(l,u)}function tI(l){if(l.tag===13){var u=uc(l,67108864);u!==null&&br(u,l,67108864),ES(l,67108864)}}var vv=!0;function bH(l,u,g,v){var S=Y.T;Y.T=null;var T=re.p;try{re.p=2,RS(l,u,g,v)}finally{re.p=T,Y.T=S}}function CH(l,u,g,v){var S=Y.T;Y.T=null;var T=re.p;try{re.p=8,RS(l,u,g,v)}finally{re.p=T,Y.T=S}}function RS(l,u,g,v){if(vv){var S=IS(v);if(S===null)yS(l,u,v,bv,g),nI(l,v);else if(SH(S,l,u,g,v))v.stopPropagation();else if(nI(l,v),u&4&&-1<xH.indexOf(l)){for(;S!==null;){var T=jt(S);if(T!==null)switch(T.tag){case 3:if(T=T.stateNode,T.current.memoizedState.isDehydrated){var B=Fr(T.pendingLanes);if(B!==0){var W=T;for(W.pendingLanes|=2,W.entangledLanes|=2;B;){var q=1<<31-Zt(B);W.entanglements[1]|=q,B&=~q}la(T),(pi&6)===0&&(iv=je()+500,Bg(0))}}break;case 13:W=uc(T,2),W!==null&&br(W,T,2),sv(),ES(T,2)}if(T=IS(v),T===null&&yS(l,u,v,bv,g),T===S)break;S=T}S!==null&&v.stopPropagation()}else yS(l,u,v,null,g)}}function IS(l){return l=Ql(l),kS(l)}var bv=null;function kS(l){if(bv=null,l=rt(l),l!==null){var u=r(l);if(u===null)l=null;else{var g=u.tag;if(g===13){if(l=o(u),l!==null)return l;l=null}else if(g===3){if(u.stateNode.current.memoizedState.isDehydrated)return u.tag===3?u.stateNode.containerInfo:null;l=null}else u!==l&&(l=null)}}return bv=l,null}function iI(l){switch(l){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ct()){case Qt:return 2;case St:return 8;case ft:case kt:return 32;case di:return 268435456;default:return 32}default:return 32}}var _S=!1,Ec=null,Rc=null,Ic=null,Yg=new Map,Kg=new Map,kc=[],xH="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function nI(l,u){switch(l){case"focusin":case"focusout":Ec=null;break;case"dragenter":case"dragleave":Rc=null;break;case"mouseover":case"mouseout":Ic=null;break;case"pointerover":case"pointerout":Yg.delete(u.pointerId);break;case"gotpointercapture":case"lostpointercapture":Kg.delete(u.pointerId)}}function $g(l,u,g,v,S,T){return l===null||l.nativeEvent!==T?(l={blockedOn:u,domEventName:g,eventSystemFlags:v,nativeEvent:T,targetContainers:[S]},u!==null&&(u=jt(u),u!==null&&tI(u)),l):(l.eventSystemFlags|=v,u=l.targetContainers,S!==null&&u.indexOf(S)===-1&&u.push(S),l)}function SH(l,u,g,v,S){switch(u){case"focusin":return Ec=$g(Ec,l,u,g,v,S),!0;case"dragenter":return Rc=$g(Rc,l,u,g,v,S),!0;case"mouseover":return Ic=$g(Ic,l,u,g,v,S),!0;case"pointerover":var T=S.pointerId;return Yg.set(T,$g(Yg.get(T)||null,l,u,g,v,S)),!0;case"gotpointercapture":return T=S.pointerId,Kg.set(T,$g(Kg.get(T)||null,l,u,g,v,S)),!0}return!1}function sI(l){var u=rt(l.target);if(u!==null){var g=r(u);if(g!==null){if(u=g.tag,u===13){if(u=o(g),u!==null){l.blockedOn=u,ae(l.priority,function(){if(g.tag===13){var v=vr();v=Du(v);var S=uc(g,v);S!==null&&br(S,g,v),ES(g,v)}});return}}else if(u===3&&g.stateNode.current.memoizedState.isDehydrated){l.blockedOn=g.tag===3?g.stateNode.containerInfo:null;return}}}l.blockedOn=null}function Cv(l){if(l.blockedOn!==null)return!1;for(var u=l.targetContainers;0<u.length;){var g=IS(l.nativeEvent);if(g===null){g=l.nativeEvent;var v=new g.constructor(g.type,g);Ru=v,g.target.dispatchEvent(v),Ru=null}else return u=jt(g),u!==null&&tI(u),l.blockedOn=g,!1;u.shift()}return!0}function rI(l,u,g){Cv(l)&&g.delete(u)}function wH(){_S=!1,Ec!==null&&Cv(Ec)&&(Ec=null),Rc!==null&&Cv(Rc)&&(Rc=null),Ic!==null&&Cv(Ic)&&(Ic=null),Yg.forEach(rI),Kg.forEach(rI)}function xv(l,u){l.blockedOn===u&&(l.blockedOn=null,_S||(_S=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,wH)))}var Sv=null;function oI(l){Sv!==l&&(Sv=l,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){Sv===l&&(Sv=null);for(var u=0;u<l.length;u+=3){var g=l[u],v=l[u+1],S=l[u+2];if(typeof v!="function"){if(kS(v||g)===null)continue;break}var T=jt(g);T!==null&&(l.splice(u,3),u-=3,k0(T,{pending:!0,data:S,method:g.method,action:v},v,S))}}))}function Zg(l){function u(q){return xv(q,l)}Ec!==null&&xv(Ec,l),Rc!==null&&xv(Rc,l),Ic!==null&&xv(Ic,l),Yg.forEach(u),Kg.forEach(u);for(var g=0;g<kc.length;g++){var v=kc[g];v.blockedOn===l&&(v.blockedOn=null)}for(;0<kc.length&&(g=kc[0],g.blockedOn===null);)sI(g),g.blockedOn===null&&kc.shift();if(g=(l.ownerDocument||l).$$reactFormReplay,g!=null)for(v=0;v<g.length;v+=3){var S=g[v],T=g[v+1],B=S[Oe]||null;if(typeof T=="function")B||oI(g);else if(B){var W=null;if(T&&T.hasAttribute("formAction")){if(S=T,B=T[Oe]||null)W=B.formAction;else if(kS(S)!==null)continue}else W=B.action;typeof W=="function"?g[v+1]=W:(g.splice(v,3),v-=3),oI(g)}}}function NS(l){this._internalRoot=l}wv.prototype.render=NS.prototype.render=function(l){var u=this._internalRoot;if(u===null)throw Error(n(409));var g=u.current,v=vr();JR(g,v,l,u,null,null)},wv.prototype.unmount=NS.prototype.unmount=function(){var l=this._internalRoot;if(l!==null){this._internalRoot=null;var u=l.containerInfo;JR(l.current,2,null,l,null,null),sv(),u[Ke]=null}};function wv(l){this._internalRoot=l}wv.prototype.unstable_scheduleHydration=function(l){if(l){var u=ee();l={blockedOn:null,target:l,priority:u};for(var g=0;g<kc.length&&u!==0&&u<kc[g].priority;g++);kc.splice(g,0,l),g===0&&sI(l)}};var aI=t.version;if(aI!=="19.1.0")throw Error(n(527,aI,"19.1.0"));re.findDOMNode=function(l){var u=l._reactInternals;if(u===void 0)throw typeof l.render=="function"?Error(n(188)):(l=Object.keys(l).join(","),Error(n(268,l)));return l=c(u),l=l!==null?h(l):null,l=l===null?null:l.stateNode,l};var MH={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:Y,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Mv=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Mv.isDisabled&&Mv.supportsFiber)try{Wi=Mv.inject(MH),fi=Mv}catch{}}return qg.createRoot=function(l,u){if(!s(l))throw Error(n(299));var g=!1,v="",S=wE,T=ME,B=DE,W=null;return u!=null&&(u.unstable_strictMode===!0&&(g=!0),u.identifierPrefix!==void 0&&(v=u.identifierPrefix),u.onUncaughtError!==void 0&&(S=u.onUncaughtError),u.onCaughtError!==void 0&&(T=u.onCaughtError),u.onRecoverableError!==void 0&&(B=u.onRecoverableError),u.unstable_transitionCallbacks!==void 0&&(W=u.unstable_transitionCallbacks)),u=qR(l,1,!1,null,null,g,v,S,T,B,W,null),l[Ke]=u.current,mS(l),new NS(u)},qg.hydrateRoot=function(l,u,g){if(!s(l))throw Error(n(299));var v=!1,S="",T=wE,B=ME,W=DE,q=null,ue=null;return g!=null&&(g.unstable_strictMode===!0&&(v=!0),g.identifierPrefix!==void 0&&(S=g.identifierPrefix),g.onUncaughtError!==void 0&&(T=g.onUncaughtError),g.onCaughtError!==void 0&&(B=g.onCaughtError),g.onRecoverableError!==void 0&&(W=g.onRecoverableError),g.unstable_transitionCallbacks!==void 0&&(q=g.unstable_transitionCallbacks),g.formState!==void 0&&(ue=g.formState)),u=qR(l,1,!0,u,g??null,v,S,T,B,W,q,ue),u.context=QR(null),g=u.current,v=vr(),v=Du(v),S=pc(v),S.callback=null,mc(g,S,v),g=v,u.current.lanes=g,$o(u,g),la(u),l[Ke]=u.current,mS(l),new wv(u)},qg.version="19.1.0",qg}var yI;function _H(){if(yI)return FS.exports;yI=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),FS.exports=kH(),FS.exports}var NH=_H(),Qg={},vI;function OH(){if(vI)return Qg;vI=1,Object.defineProperty(Qg,"__esModule",{value:!0}),Qg.parse=o,Qg.serialize=h;const e=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,t=/^[\u0021-\u003A\u003C-\u007E]*$/,i=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,n=/^[\u0020-\u003A\u003D-\u007E]*$/,s=Object.prototype.toString,r=(()=>{const m=function(){};return m.prototype=Object.create(null),m})();function o(m,b){const C=new r,w=m.length;if(w<2)return C;const D=(b==null?void 0:b.decode)||f;let M=0;do{const A=m.indexOf("=",M);if(A===-1)break;const k=m.indexOf(";",M),_=k===-1?w:k;if(A>_){M=m.lastIndexOf(";",A-1)+1;continue}const F=a(m,M,A),N=c(m,A,F),z=m.slice(F,N);if(C[z]===void 0){let V=a(m,A+1,_),j=c(m,_,V);const U=D(m.slice(V,j));C[z]=U}M=_+1}while(M<w);return C}function a(m,b,C){do{const w=m.charCodeAt(b);if(w!==32&&w!==9)return b}while(++b<C);return C}function c(m,b,C){for(;b>C;){const w=m.charCodeAt(--b);if(w!==32&&w!==9)return b+1}return C}function h(m,b,C){const w=(C==null?void 0:C.encode)||encodeURIComponent;if(!e.test(m))throw new TypeError(`argument name is invalid: ${m}`);const D=w(b);if(!t.test(D))throw new TypeError(`argument val is invalid: ${b}`);let M=m+"="+D;if(!C)return M;if(C.maxAge!==void 0){if(!Number.isInteger(C.maxAge))throw new TypeError(`option maxAge is invalid: ${C.maxAge}`);M+="; Max-Age="+C.maxAge}if(C.domain){if(!i.test(C.domain))throw new TypeError(`option domain is invalid: ${C.domain}`);M+="; Domain="+C.domain}if(C.path){if(!n.test(C.path))throw new TypeError(`option path is invalid: ${C.path}`);M+="; Path="+C.path}if(C.expires){if(!p(C.expires)||!Number.isFinite(C.expires.valueOf()))throw new TypeError(`option expires is invalid: ${C.expires}`);M+="; Expires="+C.expires.toUTCString()}if(C.httpOnly&&(M+="; HttpOnly"),C.secure&&(M+="; Secure"),C.partitioned&&(M+="; Partitioned"),C.priority)switch(typeof C.priority=="string"?C.priority.toLowerCase():void 0){case"low":M+="; Priority=Low";break;case"medium":M+="; Priority=Medium";break;case"high":M+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${C.priority}`)}if(C.sameSite)switch(typeof C.sameSite=="string"?C.sameSite.toLowerCase():C.sameSite){case!0:case"strict":M+="; SameSite=Strict";break;case"lax":M+="; SameSite=Lax";break;case"none":M+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${C.sameSite}`)}return M}function f(m){if(m.indexOf("%")===-1)return m;try{return decodeURIComponent(m)}catch{return m}}function p(m){return s.call(m)==="[object Date]"}return Qg}OH();/**
 * react-router v7.6.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var F_=e=>{throw TypeError(e)},PH=(e,t,i)=>t.has(e)||F_("Cannot "+i),HS=(e,t,i)=>(PH(e,t,"read from private field"),i?i.call(e):t.get(e)),FH=(e,t,i)=>t.has(e)?F_("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,i),bI="popstate";function BH(e={}){function t(s,r){let{pathname:o="/",search:a="",hash:c=""}=El(s.location.hash.substring(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),Bp("",{pathname:o,search:a,hash:c},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function i(s,r){let o=s.document.querySelector("base"),a="";if(o&&o.getAttribute("href")){let c=s.location.href,h=c.indexOf("#");a=h===-1?c:c.slice(0,h)}return a+"#"+(typeof r=="string"?r:su(r))}function n(s,r){mn(s.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(r)})`)}return GH(t,i,n,e)}function Ht(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function mn(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function zH(){return Math.random().toString(36).substring(2,10)}function CI(e,t){return{usr:e.state,key:e.key,idx:t}}function Bp(e,t,i=null,n){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?El(t):t,state:i,key:t&&t.key||n||zH()}}function su({pathname:e="/",search:t="",hash:i=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),i&&i!=="#"&&(e+=i.charAt(0)==="#"?i:"#"+i),e}function El(e){let t={};if(e){let i=e.indexOf("#");i>=0&&(t.hash=e.substring(i),e=e.substring(0,i));let n=e.indexOf("?");n>=0&&(t.search=e.substring(n),e=e.substring(0,n)),e&&(t.pathname=e)}return t}function GH(e,t,i,n={}){let{window:s=document.defaultView,v5Compat:r=!1}=n,o=s.history,a="POP",c=null,h=f();h==null&&(h=0,o.replaceState({...o.state,idx:h},""));function f(){return(o.state||{idx:null}).idx}function p(){a="POP";let D=f(),M=D==null?null:D-h;h=D,c&&c({action:a,location:w.location,delta:M})}function m(D,M){a="PUSH";let A=Bp(w.location,D,M);i&&i(A,D),h=f()+1;let k=CI(A,h),_=w.createHref(A);try{o.pushState(k,"",_)}catch(F){if(F instanceof DOMException&&F.name==="DataCloneError")throw F;s.location.assign(_)}r&&c&&c({action:a,location:w.location,delta:1})}function b(D,M){a="REPLACE";let A=Bp(w.location,D,M);i&&i(A,D),h=f();let k=CI(A,h),_=w.createHref(A);o.replaceState(k,"",_),r&&c&&c({action:a,location:w.location,delta:0})}function C(D){return B_(D)}let w={get action(){return a},get location(){return e(s,o)},listen(D){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(bI,p),c=D,()=>{s.removeEventListener(bI,p),c=null}},createHref(D){return t(s,D)},createURL:C,encodeLocation(D){let M=C(D);return{pathname:M.pathname,search:M.search,hash:M.hash}},push:m,replace:b,go(D){return o.go(D)}};return w}function B_(e,t=!1){let i="http://localhost";typeof window<"u"&&(i=window.location.origin!=="null"?window.location.origin:window.location.href),Ht(i,"No window.location.(origin|href) available to create URL");let n=typeof e=="string"?e:su(e);return n=n.replace(/ $/,"%20"),!t&&n.startsWith("//")&&(n=i+n),new URL(n,i)}var pp,xI=class{constructor(e){if(FH(this,pp,new Map),e)for(let[t,i]of e)this.set(t,i)}get(e){if(HS(this,pp).has(e))return HS(this,pp).get(e);if(e.defaultValue!==void 0)return e.defaultValue;throw new Error("No value found for context")}set(e,t){HS(this,pp).set(e,t)}};pp=new WeakMap;var HH=new Set(["lazy","caseSensitive","path","id","index","children"]);function jH(e){return HH.has(e)}var VH=new Set(["lazy","caseSensitive","path","id","index","unstable_middleware","children"]);function WH(e){return VH.has(e)}function UH(e){return e.index===!0}function yb(e,t,i=[],n={}){return e.map((s,r)=>{let o=[...i,String(r)],a=typeof s.id=="string"?s.id:o.join("-");if(Ht(s.index!==!0||!s.children,"Cannot specify children on an index route"),Ht(!n[a],`Found a route id collision on id "${a}".  Route id's must be globally unique within Data Router usages`),UH(s)){let c={...s,...t(s),id:a};return n[a]=c,c}else{let c={...s,...t(s),id:a,children:void 0};return n[a]=c,s.children&&(c.children=yb(s.children,t,o,n)),c}})}function Vc(e,t,i="/"){return Xv(e,t,i,!1)}function Xv(e,t,i,n){let s=typeof t=="string"?El(t):t,r=lo(s.pathname||"/",i);if(r==null)return null;let o=z_(e);KH(o);let a=null;for(let c=0;a==null&&c<o.length;++c){let h=sj(r);a=ij(o[c],h,n)}return a}function YH(e,t){let{route:i,pathname:n,params:s}=e;return{id:i.id,pathname:n,params:s,data:t[i.id],handle:i.handle}}function z_(e,t=[],i=[],n=""){let s=(r,o,a)=>{let c={relativePath:a===void 0?r.path||"":a,caseSensitive:r.caseSensitive===!0,childrenIndex:o,route:r};c.relativePath.startsWith("/")&&(Ht(c.relativePath.startsWith(n),`Absolute route path "${c.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),c.relativePath=c.relativePath.slice(n.length));let h=ya([n,c.relativePath]),f=i.concat(c);r.children&&r.children.length>0&&(Ht(r.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${h}".`),z_(r.children,t,f,h)),!(r.path==null&&!r.index)&&t.push({path:h,score:ej(h,r.index),routesMeta:f})};return e.forEach((r,o)=>{var a;if(r.path===""||!((a=r.path)!=null&&a.includes("?")))s(r,o);else for(let c of G_(r.path))s(r,o,c)}),t}function G_(e){let t=e.split("/");if(t.length===0)return[];let[i,...n]=t,s=i.endsWith("?"),r=i.replace(/\?$/,"");if(n.length===0)return s?[r,""]:[r];let o=G_(n.join("/")),a=[];return a.push(...o.map(c=>c===""?r:[r,c].join("/"))),s&&a.push(...o),a.map(c=>e.startsWith("/")&&c===""?"/":c)}function KH(e){e.sort((t,i)=>t.score!==i.score?i.score-t.score:tj(t.routesMeta.map(n=>n.childrenIndex),i.routesMeta.map(n=>n.childrenIndex)))}var $H=/^:[\w-]+$/,ZH=3,XH=2,qH=1,QH=10,JH=-2,SI=e=>e==="*";function ej(e,t){let i=e.split("/"),n=i.length;return i.some(SI)&&(n+=JH),t&&(n+=XH),i.filter(s=>!SI(s)).reduce((s,r)=>s+($H.test(r)?ZH:r===""?qH:QH),n)}function tj(e,t){return e.length===t.length&&e.slice(0,-1).every((n,s)=>n===t[s])?e[e.length-1]-t[t.length-1]:0}function ij(e,t,i=!1){let{routesMeta:n}=e,s={},r="/",o=[];for(let a=0;a<n.length;++a){let c=n[a],h=a===n.length-1,f=r==="/"?t:t.slice(r.length)||"/",p=vb({path:c.relativePath,caseSensitive:c.caseSensitive,end:h},f),m=c.route;if(!p&&h&&i&&!n[n.length-1].route.index&&(p=vb({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},f)),!p)return null;Object.assign(s,p.params),o.push({params:s,pathname:ya([r,p.pathname]),pathnameBase:aj(ya([r,p.pathnameBase])),route:m}),p.pathnameBase!=="/"&&(r=ya([r,p.pathnameBase]))}return o}function vb(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[i,n]=nj(e.path,e.caseSensitive,e.end),s=t.match(i);if(!s)return null;let r=s[0],o=r.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:n.reduce((h,{paramName:f,isOptional:p},m)=>{if(f==="*"){let C=a[m]||"";o=r.slice(0,r.length-C.length).replace(/(.)\/+$/,"$1")}const b=a[m];return p&&!b?h[f]=void 0:h[f]=(b||"").replace(/%2F/g,"/"),h},{}),pathname:r,pathnameBase:o,pattern:e}}function nj(e,t=!1,i=!0){mn(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let n=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,c)=>(n.push({paramName:a,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),n]}function sj(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return mn(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function lo(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let i=t.endsWith("/")?t.length-1:t.length,n=e.charAt(i);return n&&n!=="/"?null:e.slice(i)||"/"}function rj(e,t="/"){let{pathname:i,search:n="",hash:s=""}=typeof e=="string"?El(e):e;return{pathname:i?i.startsWith("/")?i:oj(i,t):t,search:lj(n),hash:cj(s)}}function oj(e,t){let i=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?i.length>1&&i.pop():s!=="."&&i.push(s)}),i.length>1?i.join("/"):"/"}function jS(e,t,i,n){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${i}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function H_(e){return e.filter((t,i)=>i===0||t.route.path&&t.route.path.length>0)}function xD(e){let t=H_(e);return t.map((i,n)=>n===t.length-1?i.pathname:i.pathnameBase)}function SD(e,t,i,n=!1){let s;typeof e=="string"?s=El(e):(s={...e},Ht(!s.pathname||!s.pathname.includes("?"),jS("?","pathname","search",s)),Ht(!s.pathname||!s.pathname.includes("#"),jS("#","pathname","hash",s)),Ht(!s.search||!s.search.includes("#"),jS("#","search","hash",s)));let r=e===""||s.pathname==="",o=r?"/":s.pathname,a;if(o==null)a=i;else{let p=t.length-1;if(!n&&o.startsWith("..")){let m=o.split("/");for(;m[0]==="..";)m.shift(),p-=1;s.pathname=m.join("/")}a=p>=0?t[p]:"/"}let c=rj(s,a),h=o&&o!=="/"&&o.endsWith("/"),f=(r||o===".")&&i.endsWith("/");return!c.pathname.endsWith("/")&&(h||f)&&(c.pathname+="/"),c}var ya=e=>e.join("/").replace(/\/\/+/g,"/"),aj=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),lj=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,cj=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e,bb=class{constructor(e,t,i,n=!1){this.status=e,this.statusText=t||"",this.internal=n,i instanceof Error?(this.data=i.toString(),this.error=i):this.data=i}};function zp(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var j_=["POST","PUT","PATCH","DELETE"],uj=new Set(j_),hj=["GET",...j_],dj=new Set(hj),fj=new Set([301,302,303,307,308]),gj=new Set([307,308]),VS={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},pj={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Jg={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},wD=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,mj=e=>({hasErrorBoundary:!!e.hasErrorBoundary}),V_="remix-router-transitions",W_=Symbol("ResetLoaderData");function yj(e){const t=e.window?e.window:typeof window<"u"?window:void 0,i=typeof t<"u"&&typeof t.document<"u"&&typeof t.document.createElement<"u";Ht(e.routes.length>0,"You must provide a non-empty routes array to createRouter");let n=e.hydrationRouteProperties||[],s=e.mapRouteProperties||mj,r={},o=yb(e.routes,s,void 0,r),a,c=e.basename||"/",h=e.dataStrategy||Sj,f={unstable_middleware:!1,...e.future},p=null,m=new Set,b=null,C=null,w=null,D=e.hydrationData!=null,M=Vc(o,e.history.location,c),A=!1,k=null,_;if(M==null&&!e.patchRoutesOnNavigation){let ee=qr(404,{pathname:e.history.location.pathname}),{matches:ae,route:fe}=NI(o);_=!0,M=ae,k={[fe.id]:ee}}else if(M&&!e.hydrationData&&za(M,o,e.history.location.pathname).active&&(M=null),M)if(M.some(ee=>ee.route.lazy))_=!1;else if(!M.some(ee=>ee.route.loader))_=!0;else{let ee=e.hydrationData?e.hydrationData.loaderData:null,ae=e.hydrationData?e.hydrationData.errors:null;if(ae){let fe=M.findIndex(De=>ae[De.route.id]!==void 0);_=M.slice(0,fe+1).every(De=>!cM(De.route,ee,ae))}else _=M.every(fe=>!cM(fe.route,ee,ae))}else{_=!1,M=[];let ee=za(null,o,e.history.location.pathname);ee.active&&ee.matches&&(A=!0,M=ee.matches)}let F,N={historyAction:e.history.action,location:e.history.location,matches:M,initialized:_,navigation:VS,restoreScrollPosition:e.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||k,fetchers:new Map,blockers:new Map},z="POP",V=!1,j,U=!1,$=new Map,Q=null,J=!1,be=!1,me=new Set,Y=new Map,re=0,Z=-1,Ce=new Map,H=new Set,K=new Map,ie=new Map,te=new Set,se=new Map,ye,he=null;function Ie(){if(p=e.history.listen(({action:ee,location:ae,delta:fe})=>{if(ye){ye(),ye=void 0;return}mn(se.size===0||fe!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let De=ed({currentLocation:N.location,nextLocation:ae,historyAction:ee});if(De&&fe!=null){let Oe=new Promise(Ke=>{ye=Ke});e.history.go(fe*-1),gs(De,{state:"blocked",location:ae,proceed(){gs(De,{state:"proceeding",proceed:void 0,reset:void 0,location:ae}),Oe.then(()=>e.history.go(fe))},reset(){let Ke=new Map(N.blockers);Ke.set(De,Jg),Ne({blockers:Ke})}});return}return Ue(ee,ae)}),i){_j(t,$);let ee=()=>Nj(t,$);t.addEventListener("pagehide",ee),Q=()=>t.removeEventListener("pagehide",ee)}return N.initialized||Ue("POP",N.location,{initialHydration:!0}),F}function xe(){p&&p(),Q&&Q(),m.clear(),j&&j.abort(),N.fetchers.forEach((ee,ae)=>Zt(ae)),N.blockers.forEach((ee,ae)=>Fa(ae))}function Re(ee){return m.add(ee),()=>m.delete(ee)}function Ne(ee,ae={}){N={...N,...ee};let fe=[],De=[];N.fetchers.forEach((Oe,Ke)=>{Oe.state==="idle"&&(te.has(Ke)?fe.push(Ke):De.push(Ke))}),te.forEach(Oe=>{!N.fetchers.has(Oe)&&!Y.has(Oe)&&fe.push(Oe)}),[...m].forEach(Oe=>Oe(N,{deletedFetchers:fe,viewTransitionOpts:ae.viewTransitionOpts,flushSync:ae.flushSync===!0})),fe.forEach(Oe=>Zt(Oe)),De.forEach(Oe=>N.fetchers.delete(Oe))}function We(ee,ae,{flushSync:fe}={}){var et,st;let De=N.actionData!=null&&N.navigation.formMethod!=null&&xr(N.navigation.formMethod)&&N.navigation.state==="loading"&&((et=ee.state)==null?void 0:et._isRedirect)!==!0,Oe;ae.actionData?Object.keys(ae.actionData).length>0?Oe=ae.actionData:Oe=null:De?Oe=N.actionData:Oe=null;let Ke=ae.loaderData?kI(N.loaderData,ae.loaderData,ae.matches||[],ae.errors):N.loaderData,Ze=N.blockers;Ze.size>0&&(Ze=new Map(Ze),Ze.forEach((Qe,rt)=>Ze.set(rt,Jg)));let Se=V===!0||N.navigation.formMethod!=null&&xr(N.navigation.formMethod)&&((st=ee.state)==null?void 0:st._isRedirect)!==!0;a&&(o=a,a=void 0),J||z==="POP"||(z==="PUSH"?e.history.push(ee,ee.state):z==="REPLACE"&&e.history.replace(ee,ee.state));let Je;if(z==="POP"){let Qe=$.get(N.location.pathname);Qe&&Qe.has(ee.pathname)?Je={currentLocation:N.location,nextLocation:ee}:$.has(ee.pathname)&&(Je={currentLocation:ee,nextLocation:N.location})}else if(U){let Qe=$.get(N.location.pathname);Qe?Qe.add(ee.pathname):(Qe=new Set([ee.pathname]),$.set(N.location.pathname,Qe)),Je={currentLocation:N.location,nextLocation:ee}}Ne({...ae,actionData:Oe,loaderData:Ke,historyAction:z,location:ee,initialized:!0,navigation:VS,revalidation:"idle",restoreScrollPosition:td(ee,ae.matches||N.matches),preventScrollReset:Se,blockers:Ze},{viewTransitionOpts:Je,flushSync:fe===!0}),z="POP",V=!1,U=!1,J=!1,be=!1,he==null||he.resolve(),he=null}async function lt(ee,ae){if(typeof ee=="number"){e.history.go(ee);return}let fe=lM(N.location,N.matches,c,ee,ae==null?void 0:ae.fromRouteId,ae==null?void 0:ae.relative),{path:De,submission:Oe,error:Ke}=wI(!1,fe,ae),Ze=N.location,Se=Bp(N.location,De,ae&&ae.state);Se={...Se,...e.history.encodeLocation(Se)};let Je=ae&&ae.replace!=null?ae.replace:void 0,et="PUSH";Je===!0?et="REPLACE":Je===!1||Oe!=null&&xr(Oe.formMethod)&&Oe.formAction===N.location.pathname+N.location.search&&(et="REPLACE");let st=ae&&"preventScrollReset"in ae?ae.preventScrollReset===!0:void 0,Qe=(ae&&ae.flushSync)===!0,rt=ed({currentLocation:Ze,nextLocation:Se,historyAction:et});if(rt){gs(rt,{state:"blocked",location:Se,proceed(){gs(rt,{state:"proceeding",proceed:void 0,reset:void 0,location:Se}),lt(ee,ae)},reset(){let jt=new Map(N.blockers);jt.set(rt,Jg),Ne({blockers:jt})}});return}await Ue(et,Se,{submission:Oe,pendingError:Ke,preventScrollReset:st,replace:ae&&ae.replace,enableViewTransition:ae&&ae.viewTransition,flushSync:Qe})}function qe(){he||(he=Oj()),As(),Ne({revalidation:"loading"});let ee=he.promise;return N.navigation.state==="submitting"?ee:N.navigation.state==="idle"?(Ue(N.historyAction,N.location,{startUninterruptedRevalidation:!0}),ee):(Ue(z||N.historyAction,N.navigation.location,{overrideNavigation:N.navigation,enableViewTransition:U===!0}),ee)}async function Ue(ee,ae,fe){j&&j.abort(),j=null,z=ee,J=(fe&&fe.startUninterruptedRevalidation)===!0,$o(N.location,N.matches),V=(fe&&fe.preventScrollReset)===!0,U=(fe&&fe.enableViewTransition)===!0;let De=a||o,Oe=fe&&fe.overrideNavigation,Ke=fe!=null&&fe.initialHydration&&N.matches&&N.matches.length>0&&!A?N.matches:Vc(De,ae,c),Ze=(fe&&fe.flushSync)===!0;if(Ke&&N.initialized&&!be&&Aj(N.location,ae)&&!(fe&&fe.submission&&xr(fe.submission.formMethod))){We(ae,{matches:Ke},{flushSync:Ze});return}let Se=za(Ke,De,ae.pathname);if(Se.active&&Se.matches&&(Ke=Se.matches),!Ke){let{error:Ti,notFoundMatches:Yt,route:Bt}=Yl(ae.pathname);We(ae,{matches:Yt,loaderData:{},errors:{[Bt.id]:Ti}},{flushSync:Ze});return}j=new AbortController;let Je=Yd(e.history,ae,j.signal,fe&&fe.submission),et=new xI(e.unstable_getContext?await e.unstable_getContext():void 0),st;if(fe&&fe.pendingError)st=[yh(Ke).route.id,{type:"error",error:fe.pendingError}];else if(fe&&fe.submission&&xr(fe.submission.formMethod)){let Ti=await Ve(Je,ae,fe.submission,Ke,et,Se.active,fe&&fe.initialHydration===!0,{replace:fe.replace,flushSync:Ze});if(Ti.shortCircuited)return;if(Ti.pendingActionResult){let[Yt,Bt]=Ti.pendingActionResult;if(Cr(Bt)&&zp(Bt.error)&&Bt.error.status===404){j=null,We(ae,{matches:Ti.matches,loaderData:{},errors:{[Yt]:Bt.error}});return}}Ke=Ti.matches||Ke,st=Ti.pendingActionResult,Oe=WS(ae,fe.submission),Ze=!1,Se.active=!1,Je=Yd(e.history,Je.url,Je.signal)}let{shortCircuited:Qe,matches:rt,loaderData:jt,errors:Jt}=await Et(Je,ae,Ke,et,Se.active,Oe,fe&&fe.submission,fe&&fe.fetcherSubmission,fe&&fe.replace,fe&&fe.initialHydration===!0,Ze,st);Qe||(j=null,We(ae,{matches:rt||Ke,..._I(st),loaderData:jt,errors:Jt}))}async function Ve(ee,ae,fe,De,Oe,Ke,Ze,Se={}){As();let Je=Ij(ae,fe);if(Ne({navigation:Je},{flushSync:Se.flushSync===!0}),Ke){let Qe=await Ga(De,ae.pathname,ee.signal);if(Qe.type==="aborted")return{shortCircuited:!0};if(Qe.type==="error"){let rt=yh(Qe.partialMatches).route.id;return{matches:Qe.partialMatches,pendingActionResult:[rt,{type:"error",error:Qe.error}]}}else if(Qe.matches)De=Qe.matches;else{let{notFoundMatches:rt,error:jt,route:Jt}=Yl(ae.pathname);return{matches:rt,pendingActionResult:[Jt.id,{type:"error",error:jt}]}}}let et,st=mp(De,ae);if(!st.route.action&&!st.route.lazy)et={type:"error",error:qr(405,{method:ee.method,pathname:ae.pathname,routeId:st.route.id})};else{let Qe=sf(s,r,ee,De,st,Ze?[]:n,Oe),rt=await di(ee,Qe,Oe,null);if(et=rt[st.route.id],!et){for(let jt of De)if(rt[jt.route.id]){et=rt[jt.route.id];break}}if(ee.signal.aborted)return{shortCircuited:!0}}if(Ch(et)){let Qe;return Se&&Se.replace!=null?Qe=Se.replace:Qe=EI(et.response.headers.get("Location"),new URL(ee.url),c)===N.location.pathname+N.location.search,await kt(ee,et,!0,{submission:fe,replace:Qe}),{shortCircuited:!0}}if(Cr(et)){let Qe=yh(De,st.route.id);return(Se&&Se.replace)!==!0&&(z="PUSH"),{matches:De,pendingActionResult:[Qe.route.id,et,st.route.id]}}return{matches:De,pendingActionResult:[st.route.id,et]}}async function Et(ee,ae,fe,De,Oe,Ke,Ze,Se,Je,et,st,Qe){let rt=Ke||WS(ae,Ze),jt=Ze||Se||PI(rt),Jt=!J&&!et;if(Oe){if(Jt){let vn=je(Qe);Ne({navigation:rt,...vn!==void 0?{actionData:vn}:{}},{flushSync:st})}let Tt=await Ga(fe,ae.pathname,ee.signal);if(Tt.type==="aborted")return{shortCircuited:!0};if(Tt.type==="error"){let vn=yh(Tt.partialMatches).route.id;return{matches:Tt.partialMatches,loaderData:{},errors:{[vn]:Tt.error}}}else if(Tt.matches)fe=Tt.matches;else{let{error:vn,notFoundMatches:qn,route:Ks}=Yl(ae.pathname);return{matches:qn,loaderData:{},errors:{[Ks.id]:vn}}}}let Ti=a||o,{dsMatches:Yt,revalidatingFetchers:Bt}=MI(ee,De,s,r,e.history,N,fe,jt,ae,et?[]:n,et===!0,be,me,te,K,H,Ti,c,Qe);if(Z=++re,!e.dataStrategy&&!Yt.some(Tt=>Tt.shouldLoad)&&Bt.length===0){let Tt=Ko();return We(ae,{matches:fe,loaderData:{},errors:Qe&&Cr(Qe[1])?{[Qe[0]]:Qe[1].error}:null,..._I(Qe),...Tt?{fetchers:new Map(N.fetchers)}:{}},{flushSync:st}),{shortCircuited:!0}}if(Jt){let Tt={};if(!Oe){Tt.navigation=rt;let vn=je(Qe);vn!==void 0&&(Tt.actionData=vn)}Bt.length>0&&(Tt.fetchers=Ct(Bt)),Ne(Tt,{flushSync:st})}Bt.forEach(Tt=>{or(Tt.key),Tt.controller&&Y.set(Tt.key,Tt.controller)});let Zo=()=>Bt.forEach(Tt=>or(Tt.key));j&&j.signal.addEventListener("abort",Zo);let{loaderResults:Xn,fetcherResults:Es}=await fs(Yt,Bt,ee,De);if(ee.signal.aborted)return{shortCircuited:!0};j&&j.signal.removeEventListener("abort",Zo),Bt.forEach(Tt=>Y.delete(Tt.key));let ps=Dv(Xn);if(ps)return await kt(ee,ps.result,!0,{replace:Je}),{shortCircuited:!0};if(ps=Dv(Es),ps)return H.add(ps.key),await kt(ee,ps.result,!0,{replace:Je}),{shortCircuited:!0};let{loaderData:ar,errors:Xo}=II(N,fe,Xn,Qe,Bt,Es);et&&N.errors&&(Xo={...N.errors,...Xo});let Tu=Ko(),Ys=mo(Z),yo=Tu||Ys||Bt.length>0;return{matches:fe,loaderData:ar,errors:Xo,...yo?{fetchers:new Map(N.fetchers)}:{}}}function je(ee){if(ee&&!Cr(ee[1]))return{[ee[0]]:ee[1].data};if(N.actionData)return Object.keys(N.actionData).length===0?null:N.actionData}function Ct(ee){return ee.forEach(ae=>{let fe=N.fetchers.get(ae.key),De=ep(void 0,fe?fe.data:void 0);N.fetchers.set(ae.key,De)}),new Map(N.fetchers)}async function Qt(ee,ae,fe,De){or(ee);let Oe=(De&&De.flushSync)===!0,Ke=a||o,Ze=lM(N.location,N.matches,c,fe,ae,De==null?void 0:De.relative),Se=Vc(Ke,Ze,c),Je=za(Se,Ke,Ze);if(Je.active&&Je.matches&&(Se=Je.matches),!Se){fi(ee,ae,qr(404,{pathname:Ze}),{flushSync:Oe});return}let{path:et,submission:st,error:Qe}=wI(!0,Ze,De);if(Qe){fi(ee,ae,Qe,{flushSync:Oe});return}let rt=mp(Se,et),jt=new xI(e.unstable_getContext?await e.unstable_getContext():void 0),Jt=(De&&De.preventScrollReset)===!0;if(st&&xr(st.formMethod)){await St(ee,ae,et,rt,Se,jt,Je.active,Oe,Jt,st);return}K.set(ee,{routeId:ae,path:et}),await ft(ee,ae,et,rt,Se,jt,Je.active,Oe,Jt,st)}async function St(ee,ae,fe,De,Oe,Ke,Ze,Se,Je,et){As(),K.delete(ee);function st(ui){if(!ui.route.action&&!ui.route.lazy){let Mt=qr(405,{method:et.formMethod,pathname:fe,routeId:ae});return fi(ee,ae,Mt,{flushSync:Se}),!0}return!1}if(!Ze&&st(De))return;let Qe=N.fetchers.get(ee);Wi(ee,kj(et,Qe),{flushSync:Se});let rt=new AbortController,jt=Yd(e.history,fe,rt.signal,et);if(Ze){let ui=await Ga(Oe,fe,jt.signal,ee);if(ui.type==="aborted")return;if(ui.type==="error"){fi(ee,ae,ui.error,{flushSync:Se});return}else if(ui.matches){if(Oe=ui.matches,De=mp(Oe,fe),st(De))return}else{fi(ee,ae,qr(404,{pathname:fe}),{flushSync:Se});return}}Y.set(ee,rt);let Jt=re,Ti=sf(s,r,jt,Oe,De,n,Ke),Bt=(await di(jt,Ti,Ke,ee))[De.route.id];if(jt.signal.aborted){Y.get(ee)===rt&&Y.delete(ee);return}if(te.has(ee)){if(Ch(Bt)||Cr(Bt)){Wi(ee,Fc(void 0));return}}else{if(Ch(Bt))if(Y.delete(ee),Z>Jt){Wi(ee,Fc(void 0));return}else return H.add(ee),Wi(ee,ep(et)),kt(jt,Bt,!1,{fetcherSubmission:et,preventScrollReset:Je});if(Cr(Bt)){fi(ee,ae,Bt.error);return}}let Zo=N.navigation.location||N.location,Xn=Yd(e.history,Zo,rt.signal),Es=a||o,ps=N.navigation.state!=="idle"?Vc(Es,N.navigation.location,c):N.matches;Ht(ps,"Didn't find any matches after fetcher action");let ar=++re;Ce.set(ee,ar);let Xo=ep(et,Bt.data);N.fetchers.set(ee,Xo);let{dsMatches:Tu,revalidatingFetchers:Ys}=MI(Xn,Ke,s,r,e.history,N,ps,et,Zo,n,!1,be,me,te,K,H,Es,c,[De.route.id,Bt]);Ys.filter(ui=>ui.key!==ee).forEach(ui=>{let Mt=ui.key,gi=N.fetchers.get(Mt),Dn=ep(void 0,gi?gi.data:void 0);N.fetchers.set(Mt,Dn),or(Mt),ui.controller&&Y.set(Mt,ui.controller)}),Ne({fetchers:new Map(N.fetchers)});let yo=()=>Ys.forEach(ui=>or(ui.key));rt.signal.addEventListener("abort",yo);let{loaderResults:Tt,fetcherResults:vn}=await fs(Tu,Ys,Xn,Ke);if(rt.signal.aborted)return;if(rt.signal.removeEventListener("abort",yo),Ce.delete(ee),Y.delete(ee),Ys.forEach(ui=>Y.delete(ui.key)),N.fetchers.has(ee)){let ui=Fc(Bt.data);N.fetchers.set(ee,ui)}let qn=Dv(Tt);if(qn)return kt(Xn,qn.result,!1,{preventScrollReset:Je});if(qn=Dv(vn),qn)return H.add(qn.key),kt(Xn,qn.result,!1,{preventScrollReset:Je});let{loaderData:Ks,errors:qo}=II(N,ps,Tt,void 0,Ys,vn);mo(ar),N.navigation.state==="loading"&&ar>Z?(Ht(z,"Expected pending action"),j&&j.abort(),We(N.navigation.location,{matches:ps,loaderData:Ks,errors:qo,fetchers:new Map(N.fetchers)})):(Ne({errors:qo,loaderData:kI(N.loaderData,Ks,ps,qo),fetchers:new Map(N.fetchers)}),be=!1)}async function ft(ee,ae,fe,De,Oe,Ke,Ze,Se,Je,et){let st=N.fetchers.get(ee);Wi(ee,ep(et,st?st.data:void 0),{flushSync:Se});let Qe=new AbortController,rt=Yd(e.history,fe,Qe.signal);if(Ze){let Bt=await Ga(Oe,fe,rt.signal,ee);if(Bt.type==="aborted")return;if(Bt.type==="error"){fi(ee,ae,Bt.error,{flushSync:Se});return}else if(Bt.matches)Oe=Bt.matches,De=mp(Oe,fe);else{fi(ee,ae,qr(404,{pathname:fe}),{flushSync:Se});return}}Y.set(ee,Qe);let jt=re,Jt=sf(s,r,rt,Oe,De,n,Ke),Yt=(await di(rt,Jt,Ke,ee))[De.route.id];if(Y.get(ee)===Qe&&Y.delete(ee),!rt.signal.aborted){if(te.has(ee)){Wi(ee,Fc(void 0));return}if(Ch(Yt))if(Z>jt){Wi(ee,Fc(void 0));return}else{H.add(ee),await kt(rt,Yt,!1,{preventScrollReset:Je});return}if(Cr(Yt)){fi(ee,ae,Yt.error);return}Wi(ee,Fc(Yt.data))}}async function kt(ee,ae,fe,{submission:De,fetcherSubmission:Oe,preventScrollReset:Ke,replace:Ze}={}){ae.response.headers.has("X-Remix-Revalidate")&&(be=!0);let Se=ae.response.headers.get("Location");Ht(Se,"Expected a Location header on the redirect Response"),Se=EI(Se,new URL(ee.url),c);let Je=Bp(N.location,Se,{_isRedirect:!0});if(i){let Jt=!1;if(ae.response.headers.has("X-Remix-Reload-Document"))Jt=!0;else if(wD.test(Se)){const Ti=B_(Se,!0);Jt=Ti.origin!==t.location.origin||lo(Ti.pathname,c)==null}if(Jt){Ze?t.location.replace(Se):t.location.assign(Se);return}}j=null;let et=Ze===!0||ae.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:st,formAction:Qe,formEncType:rt}=N.navigation;!De&&!Oe&&st&&Qe&&rt&&(De=PI(N.navigation));let jt=De||Oe;if(gj.has(ae.response.status)&&jt&&xr(jt.formMethod))await Ue(et,Je,{submission:{...jt,formAction:Se},preventScrollReset:Ke||V,enableViewTransition:fe?U:void 0});else{let Jt=WS(Je,De);await Ue(et,Je,{overrideNavigation:Jt,fetcherSubmission:Oe,preventScrollReset:Ke||V,enableViewTransition:fe?U:void 0})}}async function di(ee,ae,fe,De){let Oe,Ke={};try{Oe=await wj(h,ee,ae,De,fe,!1)}catch(Ze){return ae.filter(Se=>Se.shouldLoad).forEach(Se=>{Ke[Se.route.id]={type:"error",error:Ze}}),Ke}if(ee.signal.aborted)return Ke;for(let[Ze,Se]of Object.entries(Oe))if(Ej(Se)){let Je=Se.result;Ke[Ze]={type:"redirect",response:Lj(Je,ee,Ze,ae,c)}}else Ke[Ze]=await Dj(Se);return Ke}async function fs(ee,ae,fe,De){let Oe=di(fe,ee,De,null),Ke=Promise.all(ae.map(async Je=>{if(Je.matches&&Je.match&&Je.request&&Je.controller){let st=(await di(Je.request,Je.matches,De,Je.key))[Je.match.route.id];return{[Je.key]:st}}else return Promise.resolve({[Je.key]:{type:"error",error:qr(404,{pathname:Je.path})}})})),Ze=await Oe,Se=(await Ke).reduce((Je,et)=>Object.assign(Je,et),{});return{loaderResults:Ze,fetcherResults:Se}}function As(){be=!0,K.forEach((ee,ae)=>{Y.has(ae)&&me.add(ae),or(ae)})}function Wi(ee,ae,fe={}){N.fetchers.set(ee,ae),Ne({fetchers:new Map(N.fetchers)},{flushSync:(fe&&fe.flushSync)===!0})}function fi(ee,ae,fe,De={}){let Oe=yh(N.matches,ae);Zt(ee),Ne({errors:{[Oe.route.id]:fe},fetchers:new Map(N.fetchers)},{flushSync:(De&&De.flushSync)===!0})}function _t(ee){return ie.set(ee,(ie.get(ee)||0)+1),te.has(ee)&&te.delete(ee),N.fetchers.get(ee)||pj}function Zt(ee){let ae=N.fetchers.get(ee);Y.has(ee)&&!(ae&&ae.state==="loading"&&Ce.has(ee))&&or(ee),K.delete(ee),Ce.delete(ee),H.delete(ee),te.delete(ee),me.delete(ee),N.fetchers.delete(ee)}function Ul(ee){let ae=(ie.get(ee)||0)-1;ae<=0?(ie.delete(ee),te.add(ee)):ie.set(ee,ae),Ne({fetchers:new Map(N.fetchers)})}function or(ee){let ae=Y.get(ee);ae&&(ae.abort(),Y.delete(ee))}function Jh(ee){for(let ae of ee){let fe=_t(ae),De=Fc(fe.data);N.fetchers.set(ae,De)}}function Ko(){let ee=[],ae=!1;for(let fe of H){let De=N.fetchers.get(fe);Ht(De,`Expected fetcher: ${fe}`),De.state==="loading"&&(H.delete(fe),ee.push(fe),ae=!0)}return Jh(ee),ae}function mo(ee){let ae=[];for(let[fe,De]of Ce)if(De<ee){let Oe=N.fetchers.get(fe);Ht(Oe,`Expected fetcher: ${fe}`),Oe.state==="loading"&&(or(fe),Ce.delete(fe),ae.push(fe))}return Jh(ae),ae.length>0}function Fr(ee,ae){let fe=N.blockers.get(ee)||Jg;return se.get(ee)!==ae&&se.set(ee,ae),fe}function Fa(ee){N.blockers.delete(ee),se.delete(ee)}function gs(ee,ae){let fe=N.blockers.get(ee)||Jg;Ht(fe.state==="unblocked"&&ae.state==="blocked"||fe.state==="blocked"&&ae.state==="blocked"||fe.state==="blocked"&&ae.state==="proceeding"||fe.state==="blocked"&&ae.state==="unblocked"||fe.state==="proceeding"&&ae.state==="unblocked",`Invalid blocker state transition: ${fe.state} -> ${ae.state}`);let De=new Map(N.blockers);De.set(ee,ae),Ne({blockers:De})}function ed({currentLocation:ee,nextLocation:ae,historyAction:fe}){if(se.size===0)return;se.size>1&&mn(!1,"A router only supports one blocker at a time");let De=Array.from(se.entries()),[Oe,Ke]=De[De.length-1],Ze=N.blockers.get(Oe);if(!(Ze&&Ze.state==="proceeding")&&Ke({currentLocation:ee,nextLocation:ae,historyAction:fe}))return Oe}function Yl(ee){let ae=qr(404,{pathname:ee}),fe=a||o,{matches:De,route:Oe}=NI(fe);return{notFoundMatches:De,route:Oe,error:ae}}function Mu(ee,ae,fe){if(b=ee,w=ae,C=fe||null,!D&&N.navigation===VS){D=!0;let De=td(N.location,N.matches);De!=null&&Ne({restoreScrollPosition:De})}return()=>{b=null,w=null,C=null}}function Ba(ee,ae){return C&&C(ee,ae.map(De=>YH(De,N.loaderData)))||ee.key}function $o(ee,ae){if(b&&w){let fe=Ba(ee,ae);b[fe]=w()}}function td(ee,ae){if(b){let fe=Ba(ee,ae),De=b[fe];if(typeof De=="number")return De}return null}function za(ee,ae,fe){if(e.patchRoutesOnNavigation)if(ee){if(Object.keys(ee[0].params).length>0)return{active:!0,matches:Xv(ae,fe,c,!0)}}else return{active:!0,matches:Xv(ae,fe,c,!0)||[]};return{active:!1,matches:null}}async function Ga(ee,ae,fe,De){if(!e.patchRoutesOnNavigation)return{type:"success",matches:ee};let Oe=ee;for(;;){let Ke=a==null,Ze=a||o,Se=r;try{await e.patchRoutesOnNavigation({signal:fe,path:ae,matches:Oe,fetcherKey:De,patch:(st,Qe)=>{fe.aborted||DI(st,Qe,Ze,Se,s)}})}catch(st){return{type:"error",error:st,partialMatches:Oe}}finally{Ke&&!fe.aborted&&(o=[...o])}if(fe.aborted)return{type:"aborted"};let Je=Vc(Ze,ae,c);if(Je)return{type:"success",matches:Je};let et=Xv(Ze,ae,c,!0);if(!et||Oe.length===et.length&&Oe.every((st,Qe)=>st.route.id===et[Qe].route.id))return{type:"success",matches:null};Oe=et}}function Du(ee){r={},a=yb(ee,s,void 0,r)}function Lu(ee,ae){let fe=a==null;DI(ee,ae,a||o,r,s),fe&&(o=[...o],Ne({}))}return F={get basename(){return c},get future(){return f},get state(){return N},get routes(){return o},get window(){return t},initialize:Ie,subscribe:Re,enableScrollRestoration:Mu,navigate:lt,fetch:Qt,revalidate:qe,createHref:ee=>e.history.createHref(ee),encodeLocation:ee=>e.history.encodeLocation(ee),getFetcher:_t,deleteFetcher:Ul,dispose:xe,getBlocker:Fr,deleteBlocker:Fa,patchRoutes:Lu,_internalFetchControllers:Y,_internalSetRoutes:Du},F}function vj(e){return e!=null&&("formData"in e&&e.formData!=null||"body"in e&&e.body!==void 0)}function lM(e,t,i,n,s,r){let o,a;if(s){o=[];for(let h of t)if(o.push(h),h.route.id===s){a=h;break}}else o=t,a=t[t.length-1];let c=SD(n||".",xD(o),lo(e.pathname,i)||e.pathname,r==="path");if(n==null&&(c.search=e.search,c.hash=e.hash),(n==null||n===""||n===".")&&a){let h=MD(c.search);if(a.route.index&&!h)c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index";else if(!a.route.index&&h){let f=new URLSearchParams(c.search),p=f.getAll("index");f.delete("index"),p.filter(b=>b).forEach(b=>f.append("index",b));let m=f.toString();c.search=m?`?${m}`:""}}return i!=="/"&&(c.pathname=c.pathname==="/"?i:ya([i,c.pathname])),su(c)}function wI(e,t,i){if(!i||!vj(i))return{path:t};if(i.formMethod&&!Rj(i.formMethod))return{path:t,error:qr(405,{method:i.formMethod})};let n=()=>({path:t,error:qr(400,{type:"invalid-body"})}),r=(i.formMethod||"get").toUpperCase(),o=X_(t);if(i.body!==void 0){if(i.formEncType==="text/plain"){if(!xr(r))return n();let p=typeof i.body=="string"?i.body:i.body instanceof FormData||i.body instanceof URLSearchParams?Array.from(i.body.entries()).reduce((m,[b,C])=>`${m}${b}=${C}
`,""):String(i.body);return{path:t,submission:{formMethod:r,formAction:o,formEncType:i.formEncType,formData:void 0,json:void 0,text:p}}}else if(i.formEncType==="application/json"){if(!xr(r))return n();try{let p=typeof i.body=="string"?JSON.parse(i.body):i.body;return{path:t,submission:{formMethod:r,formAction:o,formEncType:i.formEncType,formData:void 0,json:p,text:void 0}}}catch{return n()}}}Ht(typeof FormData=="function","FormData is not available in this environment");let a,c;if(i.formData)a=hM(i.formData),c=i.formData;else if(i.body instanceof FormData)a=hM(i.body),c=i.body;else if(i.body instanceof URLSearchParams)a=i.body,c=RI(a);else if(i.body==null)a=new URLSearchParams,c=new FormData;else try{a=new URLSearchParams(i.body),c=RI(a)}catch{return n()}let h={formMethod:r,formAction:o,formEncType:i&&i.formEncType||"application/x-www-form-urlencoded",formData:c,json:void 0,text:void 0};if(xr(h.formMethod))return{path:t,submission:h};let f=El(t);return e&&f.search&&MD(f.search)&&a.append("index",""),f.search=`?${a}`,{path:su(f),submission:h}}function MI(e,t,i,n,s,r,o,a,c,h,f,p,m,b,C,w,D,M,A){var Q;let k=A?Cr(A[1])?A[1].error:A[1].data:void 0,_=s.createURL(r.location),F=s.createURL(c),N;if(f&&r.errors){let J=Object.keys(r.errors)[0];N=o.findIndex(be=>be.route.id===J)}else if(A&&Cr(A[1])){let J=A[0];N=o.findIndex(be=>be.route.id===J)-1}let z=A?A[1].statusCode:void 0,V=z&&z>=400,j={currentUrl:_,currentParams:((Q=r.matches[0])==null?void 0:Q.params)||{},nextUrl:F,nextParams:o[0].params,...a,actionResult:k,actionStatus:z},U=o.map((J,be)=>{let{route:me}=J,Y=null;if(N!=null&&be>N?Y=!1:me.lazy?Y=!0:me.loader==null?Y=!1:f?Y=cM(me,r.loaderData,r.errors):bj(r.loaderData,r.matches[be],J)&&(Y=!0),Y!==null)return uM(i,n,e,J,h,t,Y);let re=V?!1:p||_.pathname+_.search===F.pathname+F.search||_.search!==F.search||Cj(r.matches[be],J),Z={...j,defaultShouldRevalidate:re},Ce=Cb(J,Z);return uM(i,n,e,J,h,t,Ce,Z)}),$=[];return C.forEach((J,be)=>{if(f||!o.some(K=>K.route.id===J.routeId)||b.has(be))return;let me=Vc(D,J.path,M);if(!me){$.push({key:be,routeId:J.routeId,path:J.path,matches:null,match:null,request:null,controller:null});return}if(w.has(be))return;let Y=r.fetchers.get(be),re=mp(me,J.path),Z=new AbortController,Ce=Yd(s,J.path,Z.signal),H=null;if(m.has(be))m.delete(be),H=sf(i,n,Ce,me,re,h,t);else if(Y&&Y.state!=="idle"&&Y.data===void 0)p&&(H=sf(i,n,Ce,me,re,h,t));else{let K={...j,defaultShouldRevalidate:V?!1:p};Cb(re,K)&&(H=sf(i,n,Ce,me,re,h,t,K))}H&&$.push({key:be,routeId:J.routeId,path:J.path,matches:H,match:re,request:Ce,controller:Z})}),{dsMatches:U,revalidatingFetchers:$}}function cM(e,t,i){if(e.lazy)return!0;if(!e.loader)return!1;let n=t!=null&&e.id in t,s=i!=null&&i[e.id]!==void 0;return!n&&s?!1:typeof e.loader=="function"&&e.loader.hydrate===!0?!0:!n&&!s}function bj(e,t,i){let n=!t||i.route.id!==t.route.id,s=!e.hasOwnProperty(i.route.id);return n||s}function Cj(e,t){let i=e.route.path;return e.pathname!==t.pathname||i!=null&&i.endsWith("*")&&e.params["*"]!==t.params["*"]}function Cb(e,t){if(e.route.shouldRevalidate){let i=e.route.shouldRevalidate(t);if(typeof i=="boolean")return i}return t.defaultShouldRevalidate}function DI(e,t,i,n,s){let r;if(e){let c=n[e];Ht(c,`No route found to patch children into: routeId = ${e}`),c.children||(c.children=[]),r=c.children}else r=i;let o=t.filter(c=>!r.some(h=>U_(c,h))),a=yb(o,s,[e||"_","patch",String((r==null?void 0:r.length)||"0")],n);r.push(...a)}function U_(e,t){return"id"in e&&"id"in t&&e.id===t.id?!0:e.index===t.index&&e.path===t.path&&e.caseSensitive===t.caseSensitive?(!e.children||e.children.length===0)&&(!t.children||t.children.length===0)?!0:e.children.every((i,n)=>{var s;return(s=t.children)==null?void 0:s.some(r=>U_(i,r))}):!1}var LI=new WeakMap,Y_=({key:e,route:t,manifest:i,mapRouteProperties:n})=>{let s=i[t.id];if(Ht(s,"No route found in manifest"),!s.lazy||typeof s.lazy!="object")return;let r=s.lazy[e];if(!r)return;let o=LI.get(s);o||(o={},LI.set(s,o));let a=o[e];if(a)return a;let c=(async()=>{let h=jH(e),p=s[e]!==void 0&&e!=="hasErrorBoundary";if(h)mn(!h,"Route property "+e+" is not a supported lazy route property. This property will be ignored."),o[e]=Promise.resolve();else if(p)mn(!1,`Route "${s.id}" has a static property "${e}" defined. The lazy property will be ignored.`);else{let m=await r();m!=null&&(Object.assign(s,{[e]:m}),Object.assign(s,n(s)))}typeof s.lazy=="object"&&(s.lazy[e]=void 0,Object.values(s.lazy).every(m=>m===void 0)&&(s.lazy=void 0))})();return o[e]=c,c},TI=new WeakMap;function xj(e,t,i,n,s){let r=i[e.id];if(Ht(r,"No route found in manifest"),!e.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof e.lazy=="function"){let f=TI.get(r);if(f)return{lazyRoutePromise:f,lazyHandlerPromise:f};let p=(async()=>{Ht(typeof e.lazy=="function","No lazy route function found");let m=await e.lazy(),b={};for(let C in m){let w=m[C];if(w===void 0)continue;let D=WH(C),A=r[C]!==void 0&&C!=="hasErrorBoundary";D?mn(!D,"Route property "+C+" is not a supported property to be returned from a lazy route function. This property will be ignored."):A?mn(!A,`Route "${r.id}" has a static property "${C}" defined but its lazy function is also returning a value for this property. The lazy route property "${C}" will be ignored.`):b[C]=w}Object.assign(r,b),Object.assign(r,{...n(r),lazy:void 0})})();return TI.set(r,p),p.catch(()=>{}),{lazyRoutePromise:p,lazyHandlerPromise:p}}let o=Object.keys(e.lazy),a=[],c;for(let f of o){if(s&&s.includes(f))continue;let p=Y_({key:f,route:e,manifest:i,mapRouteProperties:n});p&&(a.push(p),f===t&&(c=p))}let h=a.length>0?Promise.all(a).then(()=>{}):void 0;return h==null||h.catch(()=>{}),c==null||c.catch(()=>{}),{lazyRoutePromise:h,lazyHandlerPromise:c}}async function AI(e){let t=e.matches.filter(s=>s.shouldLoad),i={};return(await Promise.all(t.map(s=>s.resolve()))).forEach((s,r)=>{i[t[r].route.id]=s}),i}async function Sj(e){return e.matches.some(t=>t.route.unstable_middleware)?K_(e,!1,()=>AI(e),(t,i)=>({[i]:{type:"error",result:t}})):AI(e)}async function K_(e,t,i,n){let{matches:s,request:r,params:o,context:a}=e,c={handlerResult:void 0};try{let h=s.flatMap(p=>p.route.unstable_middleware?p.route.unstable_middleware.map(m=>[p.route.id,m]):[]),f=await $_({request:r,params:o,context:a},h,t,c,i);return t?f:c.handlerResult}catch(h){if(!c.middlewareError)throw h;let f=await n(c.middlewareError.error,c.middlewareError.routeId);return c.handlerResult?Object.assign(c.handlerResult,f):f}}async function $_(e,t,i,n,s,r=0){let{request:o}=e;if(o.signal.aborted)throw o.signal.reason?o.signal.reason:new Error(`Request aborted without an \`AbortSignal.reason\`: ${o.method} ${o.url}`);let a=t[r];if(!a)return n.handlerResult=await s(),n.handlerResult;let[c,h]=a,f=!1,p,m=async()=>{if(f)throw new Error("You may only call `next()` once per middleware");f=!0,await $_(e,t,i,n,s,r+1)};try{let b=await h({request:e.request,params:e.params,context:e.context},m);return f?b===void 0?p:b:m()}catch(b){throw n.middlewareError?n.middlewareError.error!==b&&(n.middlewareError={routeId:c,error:b}):n.middlewareError={routeId:c,error:b},b}}function Z_(e,t,i,n,s){let r=Y_({key:"unstable_middleware",route:n.route,manifest:t,mapRouteProperties:e}),o=xj(n.route,xr(i.method)?"action":"loader",t,e,s);return{middleware:r,route:o.lazyRoutePromise,handler:o.lazyHandlerPromise}}function uM(e,t,i,n,s,r,o,a=null){let c=!1,h=Z_(e,t,i,n,s);return{...n,_lazyPromises:h,shouldLoad:o,unstable_shouldRevalidateArgs:a,unstable_shouldCallHandler(f){return c=!0,a?typeof f=="boolean"?Cb(n,{...a,defaultShouldRevalidate:f}):Cb(n,a):o},resolve(f){return c||o||f&&i.method==="GET"&&(n.route.lazy||n.route.loader)?Mj({request:i,match:n,lazyHandlerPromise:h==null?void 0:h.handler,lazyRoutePromise:h==null?void 0:h.route,handlerOverride:f,scopedContext:r}):Promise.resolve({type:"data",result:void 0})}}}function sf(e,t,i,n,s,r,o,a=null){return n.map(c=>c.route.id!==s.route.id?{...c,shouldLoad:!1,unstable_shouldRevalidateArgs:a,unstable_shouldCallHandler:()=>!1,_lazyPromises:Z_(e,t,i,c,r),resolve:()=>Promise.resolve({type:"data",result:void 0})}:uM(e,t,i,c,r,o,!0,a))}async function wj(e,t,i,n,s,r){i.some(h=>{var f;return(f=h._lazyPromises)==null?void 0:f.middleware})&&await Promise.all(i.map(h=>{var f;return(f=h._lazyPromises)==null?void 0:f.middleware}));let o={request:t,params:i[0].params,context:s,matches:i},c=await e({...o,fetcherKey:n,unstable_runClientMiddleware:h=>{let f=o;return K_(f,!1,()=>h({...f,fetcherKey:n,unstable_runClientMiddleware:()=>{throw new Error("Cannot call `unstable_runClientMiddleware()` from within an `unstable_runClientMiddleware` handler")}}),(p,m)=>({[m]:{type:"error",result:p}}))}});try{await Promise.all(i.flatMap(h=>{var f,p;return[(f=h._lazyPromises)==null?void 0:f.handler,(p=h._lazyPromises)==null?void 0:p.route]}))}catch{}return c}async function Mj({request:e,match:t,lazyHandlerPromise:i,lazyRoutePromise:n,handlerOverride:s,scopedContext:r}){let o,a,c=xr(e.method),h=c?"action":"loader",f=p=>{let m,b=new Promise((D,M)=>m=M);a=()=>m(),e.signal.addEventListener("abort",a);let C=D=>typeof p!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${h}" [routeId: ${t.route.id}]`)):p({request:e,params:t.params,context:r},...D!==void 0?[D]:[]),w=(async()=>{try{return{type:"data",result:await(s?s(M=>C(M)):C())}}catch(D){return{type:"error",result:D}}})();return Promise.race([w,b])};try{let p=c?t.route.action:t.route.loader;if(i||n)if(p){let m,[b]=await Promise.all([f(p).catch(C=>{m=C}),i,n]);if(m!==void 0)throw m;o=b}else{await i;let m=c?t.route.action:t.route.loader;if(m)[o]=await Promise.all([f(m),n]);else if(h==="action"){let b=new URL(e.url),C=b.pathname+b.search;throw qr(405,{method:e.method,pathname:C,routeId:t.route.id})}else return{type:"data",result:void 0}}else if(p)o=await f(p);else{let m=new URL(e.url),b=m.pathname+m.search;throw qr(404,{pathname:b})}}catch(p){return{type:"error",result:p}}finally{a&&e.signal.removeEventListener("abort",a)}return o}async function Dj(e){var n,s,r,o,a,c;let{result:t,type:i}=e;if(q_(t)){let h;try{let f=t.headers.get("Content-Type");f&&/\bapplication\/json\b/.test(f)?t.body==null?h=null:h=await t.json():h=await t.text()}catch(f){return{type:"error",error:f}}return i==="error"?{type:"error",error:new bb(t.status,t.statusText,h),statusCode:t.status,headers:t.headers}:{type:"data",data:h,statusCode:t.status,headers:t.headers}}return i==="error"?OI(t)?t.data instanceof Error?{type:"error",error:t.data,statusCode:(n=t.init)==null?void 0:n.status,headers:(s=t.init)!=null&&s.headers?new Headers(t.init.headers):void 0}:{type:"error",error:new bb(((r=t.init)==null?void 0:r.status)||500,void 0,t.data),statusCode:zp(t)?t.status:void 0,headers:(o=t.init)!=null&&o.headers?new Headers(t.init.headers):void 0}:{type:"error",error:t,statusCode:zp(t)?t.status:void 0}:OI(t)?{type:"data",data:t.data,statusCode:(a=t.init)==null?void 0:a.status,headers:(c=t.init)!=null&&c.headers?new Headers(t.init.headers):void 0}:{type:"data",data:t}}function Lj(e,t,i,n,s){let r=e.headers.get("Location");if(Ht(r,"Redirects returned/thrown from loaders/actions must have a Location header"),!wD.test(r)){let o=n.slice(0,n.findIndex(a=>a.route.id===i)+1);r=lM(new URL(t.url),o,s,r),e.headers.set("Location",r)}return e}function EI(e,t,i){if(wD.test(e)){let n=e,s=n.startsWith("//")?new URL(t.protocol+n):new URL(n),r=lo(s.pathname,i)!=null;if(s.origin===t.origin&&r)return s.pathname+s.search+s.hash}return e}function Yd(e,t,i,n){let s=e.createURL(X_(t)).toString(),r={signal:i};if(n&&xr(n.formMethod)){let{formMethod:o,formEncType:a}=n;r.method=o.toUpperCase(),a==="application/json"?(r.headers=new Headers({"Content-Type":a}),r.body=JSON.stringify(n.json)):a==="text/plain"?r.body=n.text:a==="application/x-www-form-urlencoded"&&n.formData?r.body=hM(n.formData):r.body=n.formData}return new Request(s,r)}function hM(e){let t=new URLSearchParams;for(let[i,n]of e.entries())t.append(i,typeof n=="string"?n:n.name);return t}function RI(e){let t=new FormData;for(let[i,n]of e.entries())t.append(i,n);return t}function Tj(e,t,i,n=!1,s=!1){let r={},o=null,a,c=!1,h={},f=i&&Cr(i[1])?i[1].error:void 0;return e.forEach(p=>{if(!(p.route.id in t))return;let m=p.route.id,b=t[m];if(Ht(!Ch(b),"Cannot handle redirect results in processLoaderData"),Cr(b)){let C=b.error;if(f!==void 0&&(C=f,f=void 0),o=o||{},s)o[m]=C;else{let w=yh(e,m);o[w.route.id]==null&&(o[w.route.id]=C)}n||(r[m]=W_),c||(c=!0,a=zp(b.error)?b.error.status:500),b.headers&&(h[m]=b.headers)}else r[m]=b.data,b.statusCode&&b.statusCode!==200&&!c&&(a=b.statusCode),b.headers&&(h[m]=b.headers)}),f!==void 0&&i&&(o={[i[0]]:f},i[2]&&(r[i[2]]=void 0)),{loaderData:r,errors:o,statusCode:a||200,loaderHeaders:h}}function II(e,t,i,n,s,r){let{loaderData:o,errors:a}=Tj(t,i,n);return s.filter(c=>!c.matches||c.matches.some(h=>h.shouldLoad)).forEach(c=>{let{key:h,match:f,controller:p}=c,m=r[h];if(Ht(m,"Did not find corresponding fetcher result"),!(p&&p.signal.aborted))if(Cr(m)){let b=yh(e.matches,f==null?void 0:f.route.id);a&&a[b.route.id]||(a={...a,[b.route.id]:m.error}),e.fetchers.delete(h)}else if(Ch(m))Ht(!1,"Unhandled fetcher revalidation redirect");else{let b=Fc(m.data);e.fetchers.set(h,b)}}),{loaderData:o,errors:a}}function kI(e,t,i,n){let s=Object.entries(t).filter(([,r])=>r!==W_).reduce((r,[o,a])=>(r[o]=a,r),{});for(let r of i){let o=r.route.id;if(!t.hasOwnProperty(o)&&e.hasOwnProperty(o)&&r.route.loader&&(s[o]=e[o]),n&&n.hasOwnProperty(o))break}return s}function _I(e){return e?Cr(e[1])?{actionData:{}}:{actionData:{[e[0]]:e[1].data}}:{}}function yh(e,t){return(t?e.slice(0,e.findIndex(n=>n.route.id===t)+1):[...e]).reverse().find(n=>n.route.hasErrorBoundary===!0)||e[0]}function NI(e){let t=e.length===1?e[0]:e.find(i=>i.index||!i.path||i.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:t}],route:t}}function qr(e,{pathname:t,routeId:i,method:n,type:s,message:r}={}){let o="Unknown Server Error",a="Unknown @remix-run/router error";return e===400?(o="Bad Request",n&&t&&i?a=`You made a ${n} request to "${t}" but did not provide a \`loader\` for route "${i}", so there is no way to handle the request.`:s==="invalid-body"&&(a="Unable to encode submission body")):e===403?(o="Forbidden",a=`Route "${i}" does not match URL "${t}"`):e===404?(o="Not Found",a=`No route matches URL "${t}"`):e===405&&(o="Method Not Allowed",n&&t&&i?a=`You made a ${n.toUpperCase()} request to "${t}" but did not provide an \`action\` for route "${i}", so there is no way to handle the request.`:n&&(a=`Invalid request method "${n.toUpperCase()}"`)),new bb(e||500,o,new Error(a),!0)}function Dv(e){let t=Object.entries(e);for(let i=t.length-1;i>=0;i--){let[n,s]=t[i];if(Ch(s))return{key:n,result:s}}}function X_(e){let t=typeof e=="string"?El(e):e;return su({...t,hash:""})}function Aj(e,t){return e.pathname!==t.pathname||e.search!==t.search?!1:e.hash===""?t.hash!=="":e.hash===t.hash?!0:t.hash!==""}function Ej(e){return q_(e.result)&&fj.has(e.result.status)}function Cr(e){return e.type==="error"}function Ch(e){return(e&&e.type)==="redirect"}function OI(e){return typeof e=="object"&&e!=null&&"type"in e&&"data"in e&&"init"in e&&e.type==="DataWithResponseInit"}function q_(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.headers=="object"&&typeof e.body<"u"}function Rj(e){return dj.has(e.toUpperCase())}function xr(e){return uj.has(e.toUpperCase())}function MD(e){return new URLSearchParams(e).getAll("index").some(t=>t==="")}function mp(e,t){let i=typeof t=="string"?El(t).search:t.search;if(e[e.length-1].route.index&&MD(i||""))return e[e.length-1];let n=H_(e);return n[n.length-1]}function PI(e){let{formMethod:t,formAction:i,formEncType:n,text:s,formData:r,json:o}=e;if(!(!t||!i||!n)){if(s!=null)return{formMethod:t,formAction:i,formEncType:n,formData:void 0,json:void 0,text:s};if(r!=null)return{formMethod:t,formAction:i,formEncType:n,formData:r,json:void 0,text:void 0};if(o!==void 0)return{formMethod:t,formAction:i,formEncType:n,formData:void 0,json:o,text:void 0}}}function WS(e,t){return t?{state:"loading",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}:{state:"loading",location:e,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function Ij(e,t){return{state:"submitting",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}}function ep(e,t){return e?{state:"loading",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function kj(e,t){return{state:"submitting",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t?t.data:void 0}}function Fc(e){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function _j(e,t){try{let i=e.sessionStorage.getItem(V_);if(i){let n=JSON.parse(i);for(let[s,r]of Object.entries(n||{}))r&&Array.isArray(r)&&t.set(s,new Set(r||[]))}}catch{}}function Nj(e,t){if(t.size>0){let i={};for(let[n,s]of t)i[n]=[...s];try{e.sessionStorage.setItem(V_,JSON.stringify(i))}catch(n){mn(!1,`Failed to save applied view transitions in sessionStorage (${n}).`)}}}function Oj(){let e,t,i=new Promise((n,s)=>{e=async r=>{n(r);try{await i}catch{}},t=async r=>{s(r);try{await i}catch{}}});return{promise:i,resolve:e,reject:t}}var Hh=I.createContext(null);Hh.displayName="DataRouter";var pm=I.createContext(null);pm.displayName="DataRouterState";var DD=I.createContext({isTransitioning:!1});DD.displayName="ViewTransition";var Q_=I.createContext(new Map);Q_.displayName="Fetchers";var Pj=I.createContext(null);Pj.displayName="Await";var Ea=I.createContext(null);Ea.displayName="Navigation";var wC=I.createContext(null);wC.displayName="Location";var Ra=I.createContext({outlet:null,matches:[],isDataRoute:!1});Ra.displayName="Route";var LD=I.createContext(null);LD.displayName="RouteError";function Fj(e,{relative:t}={}){Ht(mm(),"useHref() may be used only in the context of a <Router> component.");let{basename:i,navigator:n}=I.useContext(Ea),{hash:s,pathname:r,search:o}=ym(e,{relative:t}),a=r;return i!=="/"&&(a=r==="/"?i:ya([i,r])),n.createHref({pathname:a,search:o,hash:s})}function mm(){return I.useContext(wC)!=null}function jh(){return Ht(mm(),"useLocation() may be used only in the context of a <Router> component."),I.useContext(wC).location}var J_="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function eN(e){I.useContext(Ea).static||I.useLayoutEffect(e)}function Bj(){let{isDataRoute:e}=I.useContext(Ra);return e?Jj():zj()}function zj(){Ht(mm(),"useNavigate() may be used only in the context of a <Router> component.");let e=I.useContext(Hh),{basename:t,navigator:i}=I.useContext(Ea),{matches:n}=I.useContext(Ra),{pathname:s}=jh(),r=JSON.stringify(xD(n)),o=I.useRef(!1);return eN(()=>{o.current=!0}),I.useCallback((c,h={})=>{if(mn(o.current,J_),!o.current)return;if(typeof c=="number"){i.go(c);return}let f=SD(c,JSON.parse(r),s,h.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:ya([t,f.pathname])),(h.replace?i.replace:i.push)(f,h.state,h)},[t,i,r,s,e])}var Gj=I.createContext(null);function Hj(e){let t=I.useContext(Ra).outlet;return t&&I.createElement(Gj.Provider,{value:e},t)}function ym(e,{relative:t}={}){let{matches:i}=I.useContext(Ra),{pathname:n}=jh(),s=JSON.stringify(xD(i));return I.useMemo(()=>SD(e,JSON.parse(s),n,t==="path"),[e,s,n,t])}function jj(e,t,i,n){Ht(mm(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s,static:r}=I.useContext(Ea),{matches:o}=I.useContext(Ra),a=o[o.length-1],c=a?a.params:{},h=a?a.pathname:"/",f=a?a.pathnameBase:"/",p=a&&a.route;{let A=p&&p.path||"";tN(h,!p||A.endsWith("*")||A.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${A}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${A}"> to <Route path="${A==="/"?"*":`${A}/*`}">.`)}let m=jh(),b;b=m;let C=b.pathname||"/",w=C;if(f!=="/"){let A=f.replace(/^\//,"").split("/");w="/"+C.replace(/^\//,"").split("/").slice(A.length).join("/")}let D=!r&&i&&i.matches&&i.matches.length>0?i.matches:Vc(e,{pathname:w});return mn(p||D!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),mn(D==null||D[D.length-1].route.element!==void 0||D[D.length-1].route.Component!==void 0||D[D.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),Kj(D&&D.map(A=>Object.assign({},A,{params:Object.assign({},c,A.params),pathname:ya([f,s.encodeLocation?s.encodeLocation(A.pathname).pathname:A.pathname]),pathnameBase:A.pathnameBase==="/"?f:ya([f,s.encodeLocation?s.encodeLocation(A.pathnameBase).pathname:A.pathnameBase])})),o,i,n)}function Vj(){let e=Qj(),t=zp(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),i=e instanceof Error?e.stack:null,n="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:n},r={padding:"2px 4px",backgroundColor:n},o=null;return console.error("Error handled by React Router default ErrorBoundary:",e),o=I.createElement(I.Fragment,null,I.createElement("p",null,"💿 Hey developer 👋"),I.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",I.createElement("code",{style:r},"ErrorBoundary")," or"," ",I.createElement("code",{style:r},"errorElement")," prop on your route.")),I.createElement(I.Fragment,null,I.createElement("h2",null,"Unexpected Application Error!"),I.createElement("h3",{style:{fontStyle:"italic"}},t),i?I.createElement("pre",{style:s},i):null,o)}var Wj=I.createElement(Vj,null),Uj=class extends I.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?I.createElement(Ra.Provider,{value:this.props.routeContext},I.createElement(LD.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Yj({routeContext:e,match:t,children:i}){let n=I.useContext(Hh);return n&&n.static&&n.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=t.route.id),I.createElement(Ra.Provider,{value:e},i)}function Kj(e,t=[],i=null,n=null){if(e==null){if(!i)return null;if(i.errors)e=i.matches;else if(t.length===0&&!i.initialized&&i.matches.length>0)e=i.matches;else return null}let s=e,r=i==null?void 0:i.errors;if(r!=null){let c=s.findIndex(h=>h.route.id&&(r==null?void 0:r[h.route.id])!==void 0);Ht(c>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(r).join(",")}`),s=s.slice(0,Math.min(s.length,c+1))}let o=!1,a=-1;if(i)for(let c=0;c<s.length;c++){let h=s[c];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(a=c),h.route.id){let{loaderData:f,errors:p}=i,m=h.route.loader&&!f.hasOwnProperty(h.route.id)&&(!p||p[h.route.id]===void 0);if(h.route.lazy||m){o=!0,a>=0?s=s.slice(0,a+1):s=[s[0]];break}}}return s.reduceRight((c,h,f)=>{let p,m=!1,b=null,C=null;i&&(p=r&&h.route.id?r[h.route.id]:void 0,b=h.route.errorElement||Wj,o&&(a<0&&f===0?(tN("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),m=!0,C=null):a===f&&(m=!0,C=h.route.hydrateFallbackElement||null)));let w=t.concat(s.slice(0,f+1)),D=()=>{let M;return p?M=b:m?M=C:h.route.Component?M=I.createElement(h.route.Component,null):h.route.element?M=h.route.element:M=c,I.createElement(Yj,{match:h,routeContext:{outlet:c,matches:w,isDataRoute:i!=null},children:M})};return i&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?I.createElement(Uj,{location:i.location,revalidation:i.revalidation,component:b,error:p,children:D(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):D()},null)}function TD(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function $j(e){let t=I.useContext(Hh);return Ht(t,TD(e)),t}function Zj(e){let t=I.useContext(pm);return Ht(t,TD(e)),t}function Xj(e){let t=I.useContext(Ra);return Ht(t,TD(e)),t}function AD(e){let t=Xj(e),i=t.matches[t.matches.length-1];return Ht(i.route.id,`${e} can only be used on routes that contain a unique "id"`),i.route.id}function qj(){return AD("useRouteId")}function Qj(){var n;let e=I.useContext(LD),t=Zj("useRouteError"),i=AD("useRouteError");return e!==void 0?e:(n=t.errors)==null?void 0:n[i]}function Jj(){let{router:e}=$j("useNavigate"),t=AD("useNavigate"),i=I.useRef(!1);return eN(()=>{i.current=!0}),I.useCallback(async(s,r={})=>{mn(i.current,J_),i.current&&(typeof s=="number"?e.navigate(s):await e.navigate(s,{fromRouteId:t,...r}))},[e,t])}var FI={};function tN(e,t,i){!t&&!FI[e]&&(FI[e]=!0,mn(!1,i))}var BI={};function zI(e,t){!e&&!BI[t]&&(BI[t]=!0,console.warn(t))}function e4(e){let t={hasErrorBoundary:e.hasErrorBoundary||e.ErrorBoundary!=null||e.errorElement!=null};return e.Component&&(e.element&&mn(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(t,{element:I.createElement(e.Component),Component:void 0})),e.HydrateFallback&&(e.hydrateFallbackElement&&mn(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(t,{hydrateFallbackElement:I.createElement(e.HydrateFallback),HydrateFallback:void 0})),e.ErrorBoundary&&(e.errorElement&&mn(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(t,{errorElement:I.createElement(e.ErrorBoundary),ErrorBoundary:void 0})),t}var t4=["HydrateFallback","hydrateFallbackElement"],i4=class{constructor(){this.status="pending",this.promise=new Promise((e,t)=>{this.resolve=i=>{this.status==="pending"&&(this.status="resolved",e(i))},this.reject=i=>{this.status==="pending"&&(this.status="rejected",t(i))}})}};function n4({router:e,flushSync:t}){let[i,n]=I.useState(e.state),[s,r]=I.useState(),[o,a]=I.useState({isTransitioning:!1}),[c,h]=I.useState(),[f,p]=I.useState(),[m,b]=I.useState(),C=I.useRef(new Map),w=I.useCallback((k,{deletedFetchers:_,flushSync:F,viewTransitionOpts:N})=>{k.fetchers.forEach((V,j)=>{V.data!==void 0&&C.current.set(j,V.data)}),_.forEach(V=>C.current.delete(V)),zI(F===!1||t!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let z=e.window!=null&&e.window.document!=null&&typeof e.window.document.startViewTransition=="function";if(zI(N==null||z,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!N||!z){t&&F?t(()=>n(k)):I.startTransition(()=>n(k));return}if(t&&F){t(()=>{f&&(c&&c.resolve(),f.skipTransition()),a({isTransitioning:!0,flushSync:!0,currentLocation:N.currentLocation,nextLocation:N.nextLocation})});let V=e.window.document.startViewTransition(()=>{t(()=>n(k))});V.finished.finally(()=>{t(()=>{h(void 0),p(void 0),r(void 0),a({isTransitioning:!1})})}),t(()=>p(V));return}f?(c&&c.resolve(),f.skipTransition(),b({state:k,currentLocation:N.currentLocation,nextLocation:N.nextLocation})):(r(k),a({isTransitioning:!0,flushSync:!1,currentLocation:N.currentLocation,nextLocation:N.nextLocation}))},[e.window,t,f,c]);I.useLayoutEffect(()=>e.subscribe(w),[e,w]),I.useEffect(()=>{o.isTransitioning&&!o.flushSync&&h(new i4)},[o]),I.useEffect(()=>{if(c&&s&&e.window){let k=s,_=c.promise,F=e.window.document.startViewTransition(async()=>{I.startTransition(()=>n(k)),await _});F.finished.finally(()=>{h(void 0),p(void 0),r(void 0),a({isTransitioning:!1})}),p(F)}},[s,c,e.window]),I.useEffect(()=>{c&&s&&i.location.key===s.location.key&&c.resolve()},[c,f,i.location,s]),I.useEffect(()=>{!o.isTransitioning&&m&&(r(m.state),a({isTransitioning:!0,flushSync:!1,currentLocation:m.currentLocation,nextLocation:m.nextLocation}),b(void 0))},[o.isTransitioning,m]);let D=I.useMemo(()=>({createHref:e.createHref,encodeLocation:e.encodeLocation,go:k=>e.navigate(k),push:(k,_,F)=>e.navigate(k,{state:_,preventScrollReset:F==null?void 0:F.preventScrollReset}),replace:(k,_,F)=>e.navigate(k,{replace:!0,state:_,preventScrollReset:F==null?void 0:F.preventScrollReset})}),[e]),M=e.basename||"/",A=I.useMemo(()=>({router:e,navigator:D,static:!1,basename:M}),[e,D,M]);return I.createElement(I.Fragment,null,I.createElement(Hh.Provider,{value:A},I.createElement(pm.Provider,{value:i},I.createElement(Q_.Provider,{value:C.current},I.createElement(DD.Provider,{value:o},I.createElement(a4,{basename:M,location:i.location,navigationType:i.historyAction,navigator:D},I.createElement(s4,{routes:e.routes,future:e.future,state:i})))))),null)}var s4=I.memo(r4);function r4({routes:e,future:t,state:i}){return jj(e,void 0,i,t)}function o4(e){return Hj(e.context)}function a4({basename:e="/",children:t=null,location:i,navigationType:n="POP",navigator:s,static:r=!1}){Ht(!mm(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=e.replace(/^\/*/,"/"),a=I.useMemo(()=>({basename:o,navigator:s,static:r,future:{}}),[o,s,r]);typeof i=="string"&&(i=El(i));let{pathname:c="/",search:h="",hash:f="",state:p=null,key:m="default"}=i,b=I.useMemo(()=>{let C=lo(c,o);return C==null?null:{location:{pathname:C,search:h,hash:f,state:p,key:m},navigationType:n}},[o,c,h,f,p,m,n]);return mn(b!=null,`<Router basename="${o}"> is not able to match the URL "${c}${h}${f}" because it does not start with the basename, so the <Router> won't render anything.`),b==null?null:I.createElement(Ea.Provider,{value:a},I.createElement(wC.Provider,{children:t,value:b}))}var qv="get",Qv="application/x-www-form-urlencoded";function MC(e){return e!=null&&typeof e.tagName=="string"}function l4(e){return MC(e)&&e.tagName.toLowerCase()==="button"}function c4(e){return MC(e)&&e.tagName.toLowerCase()==="form"}function u4(e){return MC(e)&&e.tagName.toLowerCase()==="input"}function h4(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function d4(e,t){return e.button===0&&(!t||t==="_self")&&!h4(e)}var Lv=null;function f4(){if(Lv===null)try{new FormData(document.createElement("form"),0),Lv=!1}catch{Lv=!0}return Lv}var g4=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function US(e){return e!=null&&!g4.has(e)?(mn(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Qv}"`),null):e}function p4(e,t){let i,n,s,r,o;if(c4(e)){let a=e.getAttribute("action");n=a?lo(a,t):null,i=e.getAttribute("method")||qv,s=US(e.getAttribute("enctype"))||Qv,r=new FormData(e)}else if(l4(e)||u4(e)&&(e.type==="submit"||e.type==="image")){let a=e.form;if(a==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=e.getAttribute("formaction")||a.getAttribute("action");if(n=c?lo(c,t):null,i=e.getAttribute("formmethod")||a.getAttribute("method")||qv,s=US(e.getAttribute("formenctype"))||US(a.getAttribute("enctype"))||Qv,r=new FormData(a,e),!f4()){let{name:h,type:f,value:p}=e;if(f==="image"){let m=h?`${h}.`:"";r.append(`${m}x`,"0"),r.append(`${m}y`,"0")}else h&&r.append(h,p)}}else{if(MC(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');i=qv,n=null,s=Qv,o=e}return r&&s==="text/plain"&&(o=r,r=void 0),{action:n,method:i.toLowerCase(),encType:s,formData:r,body:o}}function ED(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}async function m4(e,t){if(e.id in t)return t[e.id];try{let i=await import(e.module);return t[e.id]=i,i}catch(i){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(i),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function y4(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function v4(e,t,i){let n=await Promise.all(e.map(async s=>{let r=t.routes[s.route.id];if(r){let o=await m4(r,i);return o.links?o.links():[]}return[]}));return S4(n.flat(1).filter(y4).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function GI(e,t,i,n,s,r){let o=(c,h)=>i[h]?c.route.id!==i[h].route.id:!0,a=(c,h)=>{var f;return i[h].pathname!==c.pathname||((f=i[h].route.path)==null?void 0:f.endsWith("*"))&&i[h].params["*"]!==c.params["*"]};return r==="assets"?t.filter((c,h)=>o(c,h)||a(c,h)):r==="data"?t.filter((c,h)=>{var p;let f=n.routes[c.route.id];if(!f||!f.hasLoader)return!1;if(o(c,h)||a(c,h))return!0;if(c.route.shouldRevalidate){let m=c.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((p=i[0])==null?void 0:p.params)||{},nextUrl:new URL(e,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof m=="boolean")return m}return!0}):[]}function b4(e,t,{includeHydrateFallback:i}={}){return C4(e.map(n=>{let s=t.routes[n.route.id];if(!s)return[];let r=[s.module];return s.clientActionModule&&(r=r.concat(s.clientActionModule)),s.clientLoaderModule&&(r=r.concat(s.clientLoaderModule)),i&&s.hydrateFallbackModule&&(r=r.concat(s.hydrateFallbackModule)),s.imports&&(r=r.concat(s.imports)),r}).flat(1))}function C4(e){return[...new Set(e)]}function x4(e){let t={},i=Object.keys(e).sort();for(let n of i)t[n]=e[n];return t}function S4(e,t){let i=new Set;return new Set(t),e.reduce((n,s)=>{let r=JSON.stringify(x4(s));return i.has(r)||(i.add(r),n.push({key:r,link:s})),n},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var w4=new Set([100,101,204,205]);function M4(e,t){let i=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return i.pathname==="/"?i.pathname="_root.data":t&&lo(i.pathname,t)==="/"?i.pathname=`${t.replace(/\/$/,"")}/_root.data`:i.pathname=`${i.pathname.replace(/\/$/,"")}.data`,i}function iN(){let e=I.useContext(Hh);return ED(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function D4(){let e=I.useContext(pm);return ED(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var RD=I.createContext(void 0);RD.displayName="FrameworkContext";function nN(){let e=I.useContext(RD);return ED(e,"You must render this element inside a <HydratedRouter> element"),e}function L4(e,t){let i=I.useContext(RD),[n,s]=I.useState(!1),[r,o]=I.useState(!1),{onFocus:a,onBlur:c,onMouseEnter:h,onMouseLeave:f,onTouchStart:p}=t,m=I.useRef(null);I.useEffect(()=>{if(e==="render"&&o(!0),e==="viewport"){let w=M=>{M.forEach(A=>{o(A.isIntersecting)})},D=new IntersectionObserver(w,{threshold:.5});return m.current&&D.observe(m.current),()=>{D.disconnect()}}},[e]),I.useEffect(()=>{if(n){let w=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(w)}}},[n]);let b=()=>{s(!0)},C=()=>{s(!1),o(!1)};return i?e!=="intent"?[r,m,{}]:[r,m,{onFocus:tp(a,b),onBlur:tp(c,C),onMouseEnter:tp(h,b),onMouseLeave:tp(f,C),onTouchStart:tp(p,b)}]:[!1,m,{}]}function tp(e,t){return i=>{e&&e(i),i.defaultPrevented||t(i)}}function T4({page:e,...t}){let{router:i}=iN(),n=I.useMemo(()=>Vc(i.routes,e,i.basename),[i.routes,e,i.basename]);return n?I.createElement(E4,{page:e,matches:n,...t}):null}function A4(e){let{manifest:t,routeModules:i}=nN(),[n,s]=I.useState([]);return I.useEffect(()=>{let r=!1;return v4(e,t,i).then(o=>{r||s(o)}),()=>{r=!0}},[e,t,i]),n}function E4({page:e,matches:t,...i}){let n=jh(),{manifest:s,routeModules:r}=nN(),{basename:o}=iN(),{loaderData:a,matches:c}=D4(),h=I.useMemo(()=>GI(e,t,c,s,n,"data"),[e,t,c,s,n]),f=I.useMemo(()=>GI(e,t,c,s,n,"assets"),[e,t,c,s,n]),p=I.useMemo(()=>{if(e===n.pathname+n.search+n.hash)return[];let C=new Set,w=!1;if(t.forEach(M=>{var k;let A=s.routes[M.route.id];!A||!A.hasLoader||(!h.some(_=>_.route.id===M.route.id)&&M.route.id in a&&((k=r[M.route.id])!=null&&k.shouldRevalidate)||A.hasClientLoader?w=!0:C.add(M.route.id))}),C.size===0)return[];let D=M4(e,o);return w&&C.size>0&&D.searchParams.set("_routes",t.filter(M=>C.has(M.route.id)).map(M=>M.route.id).join(",")),[D.pathname+D.search]},[o,a,n,s,h,t,e,r]),m=I.useMemo(()=>b4(f,s),[f,s]),b=A4(f);return I.createElement(I.Fragment,null,p.map(C=>I.createElement("link",{key:C,rel:"prefetch",as:"fetch",href:C,...i})),m.map(C=>I.createElement("link",{key:C,rel:"modulepreload",href:C,...i})),b.map(({key:C,link:w})=>I.createElement("link",{key:C,...w})))}function R4(...e){return t=>{e.forEach(i=>{typeof i=="function"?i(t):i!=null&&(i.current=t)})}}var sN=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{sN&&(window.__reactRouterVersion="7.6.0")}catch{}function I4(e,t){return yj({basename:t==null?void 0:t.basename,unstable_getContext:t==null?void 0:t.unstable_getContext,future:t==null?void 0:t.future,history:BH({window:t==null?void 0:t.window}),hydrationData:k4(),routes:e,mapRouteProperties:e4,hydrationRouteProperties:t4,dataStrategy:t==null?void 0:t.dataStrategy,patchRoutesOnNavigation:t==null?void 0:t.patchRoutesOnNavigation,window:t==null?void 0:t.window}).initialize()}function k4(){let e=window==null?void 0:window.__staticRouterHydrationData;return e&&e.errors&&(e={...e,errors:_4(e.errors)}),e}function _4(e){if(!e)return null;let t=Object.entries(e),i={};for(let[n,s]of t)if(s&&s.__type==="RouteErrorResponse")i[n]=new bb(s.status,s.statusText,s.data,s.internal===!0);else if(s&&s.__type==="Error"){if(s.__subType){let r=window[s.__subType];if(typeof r=="function")try{let o=new r(s.message);o.stack="",i[n]=o}catch{}}if(i[n]==null){let r=new Error(s.message);r.stack="",i[n]=r}}else i[n]=s;return i}var rN=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,xb=I.forwardRef(function({onClick:t,discover:i="render",prefetch:n="none",relative:s,reloadDocument:r,replace:o,state:a,target:c,to:h,preventScrollReset:f,viewTransition:p,...m},b){let{basename:C}=I.useContext(Ea),w=typeof h=="string"&&rN.test(h),D,M=!1;if(typeof h=="string"&&w&&(D=h,sN))try{let j=new URL(window.location.href),U=h.startsWith("//")?new URL(j.protocol+h):new URL(h),$=lo(U.pathname,C);U.origin===j.origin&&$!=null?h=$+U.search+U.hash:M=!0}catch{mn(!1,`<Link to="${h}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let A=Fj(h,{relative:s}),[k,_,F]=L4(n,m),N=F4(h,{replace:o,state:a,target:c,preventScrollReset:f,relative:s,viewTransition:p});function z(j){t&&t(j),j.defaultPrevented||N(j)}let V=I.createElement("a",{...m,...F,href:D||A,onClick:M||r?t:z,ref:R4(b,_),target:c,"data-discover":!w&&i==="render"?"true":void 0});return k&&!w?I.createElement(I.Fragment,null,V,I.createElement(T4,{page:A})):V});xb.displayName="Link";var N4=I.forwardRef(function({"aria-current":t="page",caseSensitive:i=!1,className:n="",end:s=!1,style:r,to:o,viewTransition:a,children:c,...h},f){let p=ym(o,{relative:h.relative}),m=jh(),b=I.useContext(pm),{navigator:C,basename:w}=I.useContext(Ea),D=b!=null&&j4(p)&&a===!0,M=C.encodeLocation?C.encodeLocation(p).pathname:p.pathname,A=m.pathname,k=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;i||(A=A.toLowerCase(),k=k?k.toLowerCase():null,M=M.toLowerCase()),k&&w&&(k=lo(k,w)||k);const _=M!=="/"&&M.endsWith("/")?M.length-1:M.length;let F=A===M||!s&&A.startsWith(M)&&A.charAt(_)==="/",N=k!=null&&(k===M||!s&&k.startsWith(M)&&k.charAt(M.length)==="/"),z={isActive:F,isPending:N,isTransitioning:D},V=F?t:void 0,j;typeof n=="function"?j=n(z):j=[n,F?"active":null,N?"pending":null,D?"transitioning":null].filter(Boolean).join(" ");let U=typeof r=="function"?r(z):r;return I.createElement(xb,{...h,"aria-current":V,className:j,ref:f,style:U,to:o,viewTransition:a},typeof c=="function"?c(z):c)});N4.displayName="NavLink";var O4=I.forwardRef(({discover:e="render",fetcherKey:t,navigate:i,reloadDocument:n,replace:s,state:r,method:o=qv,action:a,onSubmit:c,relative:h,preventScrollReset:f,viewTransition:p,...m},b)=>{let C=G4(),w=H4(a,{relative:h}),D=o.toLowerCase()==="get"?"get":"post",M=typeof a=="string"&&rN.test(a),A=k=>{if(c&&c(k),k.defaultPrevented)return;k.preventDefault();let _=k.nativeEvent.submitter,F=(_==null?void 0:_.getAttribute("formmethod"))||o;C(_||k.currentTarget,{fetcherKey:t,method:F,navigate:i,replace:s,state:r,relative:h,preventScrollReset:f,viewTransition:p})};return I.createElement("form",{ref:b,method:D,action:w,onSubmit:n?c:A,...m,"data-discover":!M&&e==="render"?"true":void 0})});O4.displayName="Form";function P4(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function oN(e){let t=I.useContext(Hh);return Ht(t,P4(e)),t}function F4(e,{target:t,replace:i,state:n,preventScrollReset:s,relative:r,viewTransition:o}={}){let a=Bj(),c=jh(),h=ym(e,{relative:r});return I.useCallback(f=>{if(d4(f,t)){f.preventDefault();let p=i!==void 0?i:su(c)===su(h);a(e,{replace:p,state:n,preventScrollReset:s,relative:r,viewTransition:o})}},[c,a,h,i,n,t,e,s,r,o])}var B4=0,z4=()=>`__${String(++B4)}__`;function G4(){let{router:e}=oN("useSubmit"),{basename:t}=I.useContext(Ea),i=qj();return I.useCallback(async(n,s={})=>{let{action:r,method:o,encType:a,formData:c,body:h}=p4(n,t);if(s.navigate===!1){let f=s.fetcherKey||z4();await e.fetch(f,i,s.action||r,{preventScrollReset:s.preventScrollReset,formData:c,body:h,formMethod:s.method||o,formEncType:s.encType||a,flushSync:s.flushSync})}else await e.navigate(s.action||r,{preventScrollReset:s.preventScrollReset,formData:c,body:h,formMethod:s.method||o,formEncType:s.encType||a,replace:s.replace,state:s.state,fromRouteId:i,flushSync:s.flushSync,viewTransition:s.viewTransition})},[e,t,i])}function H4(e,{relative:t}={}){let{basename:i}=I.useContext(Ea),n=I.useContext(Ra);Ht(n,"useFormAction must be used inside a RouteContext");let[s]=n.matches.slice(-1),r={...ym(e||".",{relative:t})},o=jh();if(e==null){r.search=o.search;let a=new URLSearchParams(r.search),c=a.getAll("index");if(c.some(f=>f==="")){a.delete("index"),c.filter(p=>p).forEach(p=>a.append("index",p));let f=a.toString();r.search=f?`?${f}`:""}}return(!e||e===".")&&s.route.index&&(r.search=r.search?r.search.replace(/^\?/,"?index&"):"?index"),i!=="/"&&(r.pathname=r.pathname==="/"?i:ya([i,r.pathname])),su(r)}function j4(e,t={}){let i=I.useContext(DD);Ht(i!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=oN("useViewTransitionState"),s=ym(e,{relative:t.relative});if(!i.isTransitioning)return!1;let r=lo(i.currentLocation.pathname,n)||i.currentLocation.pathname,o=lo(i.nextLocation.pathname,n)||i.nextLocation.pathname;return vb(s.pathname,o)!=null||vb(s.pathname,r)!=null}[...w4];var vm=P_();const xh=gm(vm);/**
 * react-router v7.6.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function V4(e){return I.createElement(n4,{flushSync:vm.flushSync,...e})}var YS={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var HI;function W4(){return HI||(HI=1,function(e){(function(){var t={}.hasOwnProperty;function i(){for(var r="",o=0;o<arguments.length;o++){var a=arguments[o];a&&(r=s(r,n(a)))}return r}function n(r){if(typeof r=="string"||typeof r=="number")return r;if(typeof r!="object")return"";if(Array.isArray(r))return i.apply(null,r);if(r.toString!==Object.prototype.toString&&!r.toString.toString().includes("[native code]"))return r.toString();var o="";for(var a in r)t.call(r,a)&&r[a]&&(o=s(o,a));return o}function s(r,o){return o?r?r+" "+o:r+o:r}e.exports?(i.default=i,e.exports=i):window.classNames=i})()}(YS)),YS.exports}var U4=W4();const ri=gm(U4);function dM(){return dM=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)({}).hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},dM.apply(null,arguments)}function aN(e,t){if(e==null)return{};var i={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.includes(n))continue;i[n]=e[n]}return i}function jI(e){return"default"+e.charAt(0).toUpperCase()+e.substr(1)}function Y4(e){var t=K4(e,"string");return typeof t=="symbol"?t:String(t)}function K4(e,t){if(typeof e!="object"||e===null)return e;var i=e[Symbol.toPrimitive];if(i!==void 0){var n=i.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function $4(e,t,i){var n=I.useRef(e!==void 0),s=I.useState(t),r=s[0],o=s[1],a=e!==void 0,c=n.current;return n.current=a,!a&&c&&r!==t&&o(t),[a?e:r,I.useCallback(function(h){for(var f=arguments.length,p=new Array(f>1?f-1:0),m=1;m<f;m++)p[m-1]=arguments[m];i&&i.apply(void 0,[h].concat(p)),o(h)},[i])]}function lN(e,t){return Object.keys(t).reduce(function(i,n){var s,r=i,o=r[jI(n)],a=r[n],c=aN(r,[jI(n),n].map(Y4)),h=t[n],f=$4(a,o,e[h]),p=f[0],m=f[1];return dM({},c,(s={},s[n]=p,s[h]=m,s))},e)}function fM(e,t){return fM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,n){return i.__proto__=n,i},fM(e,t)}function Z4(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,fM(e,t)}const X4=["xxl","xl","lg","md","sm","xs"],q4="xs",DC=I.createContext({prefixes:{},breakpoints:X4,minBreakpoint:q4}),{Consumer:qse,Provider:Qse}=DC;function ki(e,t){const{prefixes:i}=I.useContext(DC);return e||i[t]||t}function Q4(){const{breakpoints:e}=I.useContext(DC);return e}function J4(){const{minBreakpoint:e}=I.useContext(DC);return e}function ID(e){return e&&e.ownerDocument||document}function eV(e){var t=ID(e);return t&&t.defaultView||window}function tV(e,t){return eV(e).getComputedStyle(e,t)}var iV=/([A-Z])/g;function nV(e){return e.replace(iV,"-$1").toLowerCase()}var sV=/^ms-/;function Tv(e){return nV(e).replace(sV,"-ms-")}var rV=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function oV(e){return!!(e&&rV.test(e))}function vl(e,t){var i="",n="";if(typeof t=="string")return e.style.getPropertyValue(Tv(t))||tV(e).getPropertyValue(Tv(t));Object.keys(t).forEach(function(s){var r=t[s];!r&&r!==0?e.style.removeProperty(Tv(s)):oV(s)?n+=s+"("+r+") ":i+=Tv(s)+": "+r+";"}),n&&(i+="transform: "+n+";"),e.style.cssText+=";"+i}var KS={exports:{}},$S,VI;function aV(){if(VI)return $S;VI=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return $S=e,$S}var ZS,WI;function lV(){if(WI)return ZS;WI=1;var e=aV();function t(){}function i(){}return i.resetWarningCache=t,ZS=function(){function n(o,a,c,h,f,p){if(p!==e){var m=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw m.name="Invariant Violation",m}}n.isRequired=n;function s(){return n}var r={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:s,element:n,elementType:n,instanceOf:s,node:n,objectOf:s,oneOf:s,oneOfType:s,shape:s,exact:s,checkPropTypes:i,resetWarningCache:t};return r.PropTypes=r,r},ZS}var UI;function cV(){return UI||(UI=1,KS.exports=lV()()),KS.exports}var uV=cV();const bl=gm(uV),YI={disabled:!1},cN=Te.createContext(null);var hV=function(t){return t.scrollTop},yp="unmounted",Hc="exited",Ao="entering",dl="entered",Gp="exiting",Rl=function(e){Z4(t,e);function t(n,s){var r;r=e.call(this,n,s)||this;var o=s,a=o&&!o.isMounting?n.enter:n.appear,c;return r.appearStatus=null,n.in?a?(c=Hc,r.appearStatus=Ao):c=dl:n.unmountOnExit||n.mountOnEnter?c=yp:c=Hc,r.state={status:c},r.nextCallback=null,r}t.getDerivedStateFromProps=function(s,r){var o=s.in;return o&&r.status===yp?{status:Hc}:null};var i=t.prototype;return i.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},i.componentDidUpdate=function(s){var r=null;if(s!==this.props){var o=this.state.status;this.props.in?o!==Ao&&o!==dl&&(r=Ao):(o===Ao||o===dl)&&(r=Gp)}this.updateStatus(!1,r)},i.componentWillUnmount=function(){this.cancelNextCallback()},i.getTimeouts=function(){var s=this.props.timeout,r,o,a;return r=o=a=s,s!=null&&typeof s!="number"&&(r=s.exit,o=s.enter,a=s.appear!==void 0?s.appear:o),{exit:r,enter:o,appear:a}},i.updateStatus=function(s,r){if(s===void 0&&(s=!1),r!==null)if(this.cancelNextCallback(),r===Ao){if(this.props.unmountOnExit||this.props.mountOnEnter){var o=this.props.nodeRef?this.props.nodeRef.current:xh.findDOMNode(this);o&&hV(o)}this.performEnter(s)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Hc&&this.setState({status:yp})},i.performEnter=function(s){var r=this,o=this.props.enter,a=this.context?this.context.isMounting:s,c=this.props.nodeRef?[a]:[xh.findDOMNode(this),a],h=c[0],f=c[1],p=this.getTimeouts(),m=a?p.appear:p.enter;if(!s&&!o||YI.disabled){this.safeSetState({status:dl},function(){r.props.onEntered(h)});return}this.props.onEnter(h,f),this.safeSetState({status:Ao},function(){r.props.onEntering(h,f),r.onTransitionEnd(m,function(){r.safeSetState({status:dl},function(){r.props.onEntered(h,f)})})})},i.performExit=function(){var s=this,r=this.props.exit,o=this.getTimeouts(),a=this.props.nodeRef?void 0:xh.findDOMNode(this);if(!r||YI.disabled){this.safeSetState({status:Hc},function(){s.props.onExited(a)});return}this.props.onExit(a),this.safeSetState({status:Gp},function(){s.props.onExiting(a),s.onTransitionEnd(o.exit,function(){s.safeSetState({status:Hc},function(){s.props.onExited(a)})})})},i.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},i.safeSetState=function(s,r){r=this.setNextCallback(r),this.setState(s,r)},i.setNextCallback=function(s){var r=this,o=!0;return this.nextCallback=function(a){o&&(o=!1,r.nextCallback=null,s(a))},this.nextCallback.cancel=function(){o=!1},this.nextCallback},i.onTransitionEnd=function(s,r){this.setNextCallback(r);var o=this.props.nodeRef?this.props.nodeRef.current:xh.findDOMNode(this),a=s==null&&!this.props.addEndListener;if(!o||a){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var c=this.props.nodeRef?[this.nextCallback]:[o,this.nextCallback],h=c[0],f=c[1];this.props.addEndListener(h,f)}s!=null&&setTimeout(this.nextCallback,s)},i.render=function(){var s=this.state.status;if(s===yp)return null;var r=this.props,o=r.children;r.in,r.mountOnEnter,r.unmountOnExit,r.appear,r.enter,r.exit,r.timeout,r.addEndListener,r.onEnter,r.onEntering,r.onEntered,r.onExit,r.onExiting,r.onExited,r.nodeRef;var a=aN(r,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return Te.createElement(cN.Provider,{value:null},typeof o=="function"?o(s,a):Te.cloneElement(Te.Children.only(o),a))},t}(Te.Component);Rl.contextType=cN;Rl.propTypes={};function zd(){}Rl.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:zd,onEntering:zd,onEntered:zd,onExit:zd,onExiting:zd,onExited:zd};Rl.UNMOUNTED=yp;Rl.EXITED=Hc;Rl.ENTERING=Ao;Rl.ENTERED=dl;Rl.EXITING=Gp;function dV(e){return e.code==="Escape"||e.keyCode===27}function fV(){const e=I.version.split(".");return{major:+e[0],minor:+e[1],patch:+e[2]}}function Df(e){if(!e||typeof e=="function")return null;const{major:t}=fV();return t>=19?e.props.ref:e.ref}const LC=!!(typeof window<"u"&&window.document&&window.document.createElement);var gM=!1,pM=!1;try{var XS={get passive(){return gM=!0},get once(){return pM=gM=!0}};LC&&(window.addEventListener("test",XS,XS),window.removeEventListener("test",XS,!0))}catch{}function gV(e,t,i,n){if(n&&typeof n!="boolean"&&!pM){var s=n.once,r=n.capture,o=i;!pM&&s&&(o=i.__once||function a(c){this.removeEventListener(t,a,r),i.call(this,c)},i.__once=o),e.addEventListener(t,o,gM?n:r)}e.addEventListener(t,i,n)}function pV(e,t,i,n){var s=n&&typeof n!="boolean"?n.capture:n;e.removeEventListener(t,i,s),i.__once&&e.removeEventListener(t,i.__once,s)}function Sb(e,t,i,n){return gV(e,t,i,n),function(){pV(e,t,i,n)}}function mV(e,t,i,n){if(n===void 0&&(n=!0),e){var s=document.createEvent("HTMLEvents");s.initEvent(t,i,n),e.dispatchEvent(s)}}function yV(e){var t=vl(e,"transitionDuration")||"",i=t.indexOf("ms")===-1?1e3:1;return parseFloat(t)*i}function vV(e,t,i){i===void 0&&(i=5);var n=!1,s=setTimeout(function(){n||mV(e,"transitionend",!0)},t+i),r=Sb(e,"transitionend",function(){n=!0},{once:!0});return function(){clearTimeout(s),r()}}function bV(e,t,i,n){i==null&&(i=yV(e)||0);var s=vV(e,i,n),r=Sb(e,"transitionend",t);return function(){s(),r()}}function KI(e,t){const i=vl(e,t)||"",n=i.indexOf("ms")===-1?1e3:1;return parseFloat(i)*n}function kD(e,t){const i=KI(e,"transitionDuration"),n=KI(e,"transitionDelay"),s=bV(e,r=>{r.target===e&&(s(),t(r))},i+n)}function ip(...e){return e.filter(t=>t!=null).reduce((t,i)=>{if(typeof i!="function")throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return t===null?i:function(...s){t.apply(this,s),i.apply(this,s)}},null)}function uN(e){e.offsetHeight}const $I=e=>!e||typeof e=="function"?e:t=>{e.current=t};function CV(e,t){const i=$I(e),n=$I(t);return s=>{i&&i(s),n&&n(s)}}function xV(e,t){return I.useMemo(()=>CV(e,t),[e,t])}function SV(e){return e&&"setState"in e?xh.findDOMNode(e):e??null}const TC=Te.forwardRef(({onEnter:e,onEntering:t,onEntered:i,onExit:n,onExiting:s,onExited:r,addEndListener:o,children:a,childRef:c,...h},f)=>{const p=I.useRef(null),m=xV(p,c),b=N=>{m(SV(N))},C=N=>z=>{N&&p.current&&N(p.current,z)},w=I.useCallback(C(e),[e]),D=I.useCallback(C(t),[t]),M=I.useCallback(C(i),[i]),A=I.useCallback(C(n),[n]),k=I.useCallback(C(s),[s]),_=I.useCallback(C(r),[r]),F=I.useCallback(C(o),[o]);return ve.jsx(Rl,{ref:f,...h,onEnter:w,onEntered:M,onEntering:D,onExit:A,onExited:_,onExiting:k,addEndListener:F,nodeRef:p,children:typeof a=="function"?(N,z)=>a(N,{...z,ref:b}):Te.cloneElement(a,{ref:b})})});TC.displayName="TransitionWrapper";const wV={height:["marginTop","marginBottom"],width:["marginLeft","marginRight"]};function MV(e,t){const i=`offset${e[0].toUpperCase()}${e.slice(1)}`,n=t[i],s=wV[e];return n+parseInt(vl(t,s[0]),10)+parseInt(vl(t,s[1]),10)}const DV={[Hc]:"collapse",[Gp]:"collapsing",[Ao]:"collapsing",[dl]:"collapse show"},hN=Te.forwardRef(({onEnter:e,onEntering:t,onEntered:i,onExit:n,onExiting:s,className:r,children:o,dimension:a="height",in:c=!1,timeout:h=300,mountOnEnter:f=!1,unmountOnExit:p=!1,appear:m=!1,getDimensionValue:b=MV,...C},w)=>{const D=typeof a=="function"?a():a,M=I.useMemo(()=>ip(N=>{N.style[D]="0"},e),[D,e]),A=I.useMemo(()=>ip(N=>{const z=`scroll${D[0].toUpperCase()}${D.slice(1)}`;N.style[D]=`${N[z]}px`},t),[D,t]),k=I.useMemo(()=>ip(N=>{N.style[D]=null},i),[D,i]),_=I.useMemo(()=>ip(N=>{N.style[D]=`${b(D,N)}px`,uN(N)},n),[n,b,D]),F=I.useMemo(()=>ip(N=>{N.style[D]=null},s),[D,s]);return ve.jsx(TC,{ref:w,addEndListener:kD,...C,"aria-expanded":C.role?c:null,onEnter:M,onEntering:A,onEntered:k,onExit:_,onExiting:F,childRef:Df(o),in:c,timeout:h,mountOnEnter:f,unmountOnExit:p,appear:m,children:(N,z)=>Te.cloneElement(o,{...z,className:ri(r,o.props.className,DV[N],D==="width"&&"collapse-horizontal")})})});hN.displayName="Collapse";function LV(e){const t=I.useRef(e);return I.useEffect(()=>{t.current=e},[e]),t}function AC(e){const t=LV(e);return I.useCallback(function(...i){return t.current&&t.current(...i)},[t])}const TV=e=>I.forwardRef((t,i)=>ve.jsx("div",{...t,ref:i,className:ri(t.className,e)}));function AV(e){const t=I.useRef(e);return I.useEffect(()=>{t.current=e},[e]),t}function fl(e){const t=AV(e);return I.useCallback(function(...i){return t.current&&t.current(...i)},[t])}function EV(){const e=I.useRef(!0),t=I.useRef(()=>e.current);return I.useEffect(()=>(e.current=!0,()=>{e.current=!1}),[]),t.current}function RV(e){const t=I.useRef(null);return I.useEffect(()=>{t.current=e}),t.current}const IV=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",kV=typeof document<"u",ZI=kV||IV?I.useLayoutEffect:I.useEffect,_V=["as","disabled"];function NV(e,t){if(e==null)return{};var i={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;i[n]=e[n]}return i}function OV(e){return!e||e.trim()==="#"}function dN({tagName:e,disabled:t,href:i,target:n,rel:s,role:r,onClick:o,tabIndex:a=0,type:c}){e||(i!=null||n!=null||s!=null?e="a":e="button");const h={tagName:e};if(e==="button")return[{type:c||"button",disabled:t},h];const f=m=>{if((t||e==="a"&&OV(i))&&m.preventDefault(),t){m.stopPropagation();return}o==null||o(m)},p=m=>{m.key===" "&&(m.preventDefault(),f(m))};return e==="a"&&(i||(i="#"),t&&(i=void 0)),[{role:r??"button",disabled:void 0,tabIndex:t?void 0:a,href:i,target:e==="a"?n:void 0,"aria-disabled":t||void 0,rel:e==="a"?s:void 0,onClick:f,onKeyDown:p},h]}const fN=I.forwardRef((e,t)=>{let{as:i,disabled:n}=e,s=NV(e,_V);const[r,{tagName:o}]=dN(Object.assign({tagName:i,disabled:n},s));return ve.jsx(o,Object.assign({},s,r,{ref:t}))});fN.displayName="Button";const PV=["onKeyDown"];function FV(e,t){if(e==null)return{};var i={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;i[n]=e[n]}return i}function BV(e){return!e||e.trim()==="#"}const gN=I.forwardRef((e,t)=>{let{onKeyDown:i}=e,n=FV(e,PV);const[s]=dN(Object.assign({tagName:"a"},n)),r=fl(o=>{s.onKeyDown(o),i==null||i(o)});return BV(n.href)||n.role==="button"?ve.jsx("a",Object.assign({ref:t},n,s,{onKeyDown:r})):ve.jsx("a",Object.assign({ref:t},n,{onKeyDown:i}))});gN.displayName="Anchor";const zV={[Ao]:"show",[dl]:"show"},pN=I.forwardRef(({className:e,children:t,transitionClasses:i={},onEnter:n,...s},r)=>{const o={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,...s},a=I.useCallback((c,h)=>{uN(c),n==null||n(c,h)},[n]);return ve.jsx(TC,{ref:r,addEndListener:kD,...o,onEnter:a,childRef:Df(t),children:(c,h)=>I.cloneElement(t,{...h,className:ri("fade",e,t.props.className,zV[c],i[c])})})});pN.displayName="Fade";const GV={"aria-label":bl.string,onClick:bl.func,variant:bl.oneOf(["white"])},_D=I.forwardRef(({className:e,variant:t,"aria-label":i="Close",...n},s)=>ve.jsx("button",{ref:s,type:"button",className:ri("btn-close",t&&`btn-close-${t}`,e),"aria-label":i,...n}));_D.displayName="CloseButton";_D.propTypes=GV;const mN=I.createContext(null);mN.displayName="CardHeaderContext";function HV(e,t){return I.Children.toArray(e).some(i=>I.isValidElement(i)&&i.type===t)}function jV({as:e,bsPrefix:t,className:i,...n}){t=ki(t,"col");const s=Q4(),r=J4(),o=[],a=[];return s.forEach(c=>{const h=n[c];delete n[c];let f,p,m;typeof h=="object"&&h!=null?{span:f,offset:p,order:m}=h:f=h;const b=c!==r?`-${c}`:"";f&&o.push(f===!0?`${t}${b}`:`${t}${b}-${f}`),m!=null&&a.push(`order${b}-${m}`),p!=null&&a.push(`offset${b}-${p}`)}),[{...n,className:ri(i,...o,...a)},{as:e,bsPrefix:t,spans:o}]}const yN=I.forwardRef((e,t)=>{const[{className:i,...n},{as:s="div",bsPrefix:r,spans:o}]=jV(e);return ve.jsx(s,{...n,ref:t,className:ri(i,!o.length&&r)})});yN.displayName="Col";const vN=I.forwardRef(({bsPrefix:e,fluid:t=!1,as:i="div",className:n,...s},r)=>{const o=ki(e,"container"),a=typeof t=="string"?`-${t}`:"-fluid";return ve.jsx(i,{ref:r,...s,className:ri(n,t?`${o}${a}`:o)})});vN.displayName="Container";var VV=Function.prototype.bind.call(Function.prototype.call,[].slice);function dh(e,t){return VV(e.querySelectorAll(t))}function WV(){const[,e]=I.useReducer(t=>t+1,0);return e}function XI(e,t){if(e.contains)return e.contains(t);if(e.compareDocumentPosition)return e===t||!!(e.compareDocumentPosition(t)&16)}const wb=I.createContext(null),ND=(e,t=null)=>e!=null?String(e):t||null,OD=I.createContext(null);OD.displayName="NavContext";const UV="data-rr-ui-",YV="rrUi";function EC(e){return`${UV}${e}`}function KV(e){return`${YV}${e}`}const bN=I.createContext(LC?window:void 0);bN.Provider;function PD(){return I.useContext(bN)}const $V=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",ZV=typeof document<"u",XV=ZV||$V?I.useLayoutEffect:I.useEffect,Lf=I.createContext(null);Lf.displayName="NavbarContext";const qV={type:bl.string,tooltip:bl.bool,as:bl.elementType},RC=I.forwardRef(({as:e="div",className:t,type:i="valid",tooltip:n=!1,...s},r)=>ve.jsx(e,{...s,ref:r,className:ri(t,`${i}-${n?"tooltip":"feedback"}`)}));RC.displayName="Feedback";RC.propTypes=qV;const Ml=I.createContext({}),FD=I.forwardRef(({id:e,bsPrefix:t,className:i,type:n="checkbox",isValid:s=!1,isInvalid:r=!1,as:o="input",...a},c)=>{const{controlId:h}=I.useContext(Ml);return t=ki(t,"form-check-input"),ve.jsx(o,{...a,ref:c,type:n,id:e||h,className:ri(i,t,s&&"is-valid",r&&"is-invalid")})});FD.displayName="FormCheckInput";const Mb=I.forwardRef(({bsPrefix:e,className:t,htmlFor:i,...n},s)=>{const{controlId:r}=I.useContext(Ml);return e=ki(e,"form-check-label"),ve.jsx("label",{...n,ref:s,htmlFor:i||r,className:ri(t,e)})});Mb.displayName="FormCheckLabel";const CN=I.forwardRef(({id:e,bsPrefix:t,bsSwitchPrefix:i,inline:n=!1,reverse:s=!1,disabled:r=!1,isValid:o=!1,isInvalid:a=!1,feedbackTooltip:c=!1,feedback:h,feedbackType:f,className:p,style:m,title:b="",type:C="checkbox",label:w,children:D,as:M="input",...A},k)=>{t=ki(t,"form-check"),i=ki(i,"form-switch");const{controlId:_}=I.useContext(Ml),F=I.useMemo(()=>({controlId:e||_}),[_,e]),N=!D&&w!=null&&w!==!1||HV(D,Mb),z=ve.jsx(FD,{...A,type:C==="switch"?"checkbox":C,ref:k,isValid:o,isInvalid:a,disabled:r,as:M});return ve.jsx(Ml.Provider,{value:F,children:ve.jsx("div",{style:m,className:ri(p,N&&t,n&&`${t}-inline`,s&&`${t}-reverse`,C==="switch"&&i),children:D||ve.jsxs(ve.Fragment,{children:[z,N&&ve.jsx(Mb,{title:b,children:w}),h&&ve.jsx(RC,{type:f,tooltip:c,children:h})]})})})});CN.displayName="FormCheck";const Db=Object.assign(CN,{Input:FD,Label:Mb}),xN=I.forwardRef(({bsPrefix:e,type:t,size:i,htmlSize:n,id:s,className:r,isValid:o=!1,isInvalid:a=!1,plaintext:c,readOnly:h,as:f="input",...p},m)=>{const{controlId:b}=I.useContext(Ml);return e=ki(e,"form-control"),ve.jsx(f,{...p,type:t,size:n,ref:m,readOnly:h,id:s||b,className:ri(r,c?`${e}-plaintext`:e,i&&`${e}-${i}`,t==="color"&&`${e}-color`,o&&"is-valid",a&&"is-invalid")})});xN.displayName="FormControl";const QV=Object.assign(xN,{Feedback:RC}),SN=I.forwardRef(({className:e,bsPrefix:t,as:i="div",...n},s)=>(t=ki(t,"form-floating"),ve.jsx(i,{ref:s,className:ri(e,t),...n})));SN.displayName="FormFloating";const BD=I.forwardRef(({controlId:e,as:t="div",...i},n)=>{const s=I.useMemo(()=>({controlId:e}),[e]);return ve.jsx(Ml.Provider,{value:s,children:ve.jsx(t,{...i,ref:n})})});BD.displayName="FormGroup";const wN=I.forwardRef(({as:e="label",bsPrefix:t,column:i=!1,visuallyHidden:n=!1,className:s,htmlFor:r,...o},a)=>{const{controlId:c}=I.useContext(Ml);t=ki(t,"form-label");let h="col-form-label";typeof i=="string"&&(h=`${h} ${h}-${i}`);const f=ri(s,t,n&&"visually-hidden",i&&h);return r=r||c,i?ve.jsx(yN,{ref:a,as:"label",className:f,htmlFor:r,...o}):ve.jsx(e,{ref:a,className:f,htmlFor:r,...o})});wN.displayName="FormLabel";const MN=I.forwardRef(({bsPrefix:e,className:t,id:i,...n},s)=>{const{controlId:r}=I.useContext(Ml);return e=ki(e,"form-range"),ve.jsx("input",{...n,type:"range",ref:s,className:ri(t,e),id:i||r})});MN.displayName="FormRange";const DN=I.forwardRef(({bsPrefix:e,size:t,htmlSize:i,className:n,isValid:s=!1,isInvalid:r=!1,id:o,...a},c)=>{const{controlId:h}=I.useContext(Ml);return e=ki(e,"form-select"),ve.jsx("select",{...a,size:i,ref:c,className:ri(n,e,t&&`${e}-${t}`,s&&"is-valid",r&&"is-invalid"),id:o||h})});DN.displayName="FormSelect";const LN=I.forwardRef(({bsPrefix:e,className:t,as:i="small",muted:n,...s},r)=>(e=ki(e,"form-text"),ve.jsx(i,{...s,ref:r,className:ri(t,e,n&&"text-muted")})));LN.displayName="FormText";const TN=I.forwardRef((e,t)=>ve.jsx(Db,{...e,ref:t,type:"switch"}));TN.displayName="Switch";const JV=Object.assign(TN,{Input:Db.Input,Label:Db.Label}),AN=I.forwardRef(({bsPrefix:e,className:t,children:i,controlId:n,label:s,...r},o)=>(e=ki(e,"form-floating"),ve.jsxs(BD,{ref:o,className:ri(t,e),controlId:n,...r,children:[i,ve.jsx("label",{htmlFor:n,children:s})]})));AN.displayName="FloatingLabel";const eW={_ref:bl.any,validated:bl.bool,as:bl.elementType},zD=I.forwardRef(({className:e,validated:t,as:i="form",...n},s)=>ve.jsx(i,{...n,ref:s,className:ri(e,t&&"was-validated")}));zD.displayName="Form";zD.propTypes=eW;const qS=Object.assign(zD,{Group:BD,Control:QV,Floating:SN,Check:Db,Switch:JV,Label:wN,Text:LN,Range:MN,Select:DN,FloatingLabel:AN}),qI=e=>!e||typeof e=="function"?e:t=>{e.current=t};function tW(e,t){const i=qI(e),n=qI(t);return s=>{i&&i(s),n&&n(s)}}function IC(e,t){return I.useMemo(()=>tW(e,t),[e,t])}const EN=I.createContext(null),iW=["as","active","eventKey"];function nW(e,t){if(e==null)return{};var i={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;i[n]=e[n]}return i}function RN({key:e,onClick:t,active:i,id:n,role:s,disabled:r}){const o=I.useContext(wb),a=I.useContext(OD),c=I.useContext(EN);let h=i;const f={role:s};if(a){!s&&a.role==="tablist"&&(f.role="tab");const p=a.getControllerId(e??null),m=a.getControlledId(e??null);f[EC("event-key")]=e,f.id=p||n,h=i==null&&e!=null?a.activeKey===e:i,(h||!(c!=null&&c.unmountOnExit)&&!(c!=null&&c.mountOnEnter))&&(f["aria-controls"]=m)}return f.role==="tab"&&(f["aria-selected"]=h,h||(f.tabIndex=-1),r&&(f.tabIndex=-1,f["aria-disabled"]=!0)),f.onClick=fl(p=>{r||(t==null||t(p),e!=null&&o&&!p.isPropagationStopped()&&o(e,p))}),[f,{isActive:h}]}const IN=I.forwardRef((e,t)=>{let{as:i=fN,active:n,eventKey:s}=e,r=nW(e,iW);const[o,a]=RN(Object.assign({key:ND(s,r.href),active:n},r));return o[EC("active")]=a.isActive,ve.jsx(i,Object.assign({},r,o,{ref:t}))});IN.displayName="NavItem";const sW=["as","onSelect","activeKey","role","onKeyDown"];function rW(e,t){if(e==null)return{};var i={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;i[n]=e[n]}return i}const QI=()=>{},JI=EC("event-key"),kN=I.forwardRef((e,t)=>{let{as:i="div",onSelect:n,activeKey:s,role:r,onKeyDown:o}=e,a=rW(e,sW);const c=WV(),h=I.useRef(!1),f=I.useContext(wb),p=I.useContext(EN);let m,b;p&&(r=r||"tablist",s=p.activeKey,m=p.getControlledId,b=p.getControllerId);const C=I.useRef(null),w=k=>{const _=C.current;if(!_)return null;const F=dh(_,`[${JI}]:not([aria-disabled=true])`),N=_.querySelector("[aria-selected=true]");if(!N||N!==document.activeElement)return null;const z=F.indexOf(N);if(z===-1)return null;let V=z+k;return V>=F.length&&(V=0),V<0&&(V=F.length-1),F[V]},D=(k,_)=>{k!=null&&(n==null||n(k,_),f==null||f(k,_))},M=k=>{if(o==null||o(k),!p)return;let _;switch(k.key){case"ArrowLeft":case"ArrowUp":_=w(-1);break;case"ArrowRight":case"ArrowDown":_=w(1);break;default:return}_&&(k.preventDefault(),D(_.dataset[KV("EventKey")]||null,k),h.current=!0,c())};I.useEffect(()=>{if(C.current&&h.current){const k=C.current.querySelector(`[${JI}][aria-selected=true]`);k==null||k.focus()}h.current=!1});const A=IC(t,C);return ve.jsx(wb.Provider,{value:D,children:ve.jsx(OD.Provider,{value:{role:r,activeKey:ND(s),getControlledId:m||QI,getControllerId:b||QI},children:ve.jsx(i,Object.assign({},a,{onKeyDown:M,ref:A,role:r}))})})});kN.displayName="Nav";const oW=Object.assign(kN,{Item:IN});function QS(e){e===void 0&&(e=ID());try{var t=e.activeElement;return!t||!t.nodeName?null:t}catch{return e.body}}function aW(e){const t=I.useRef(e);return t.current=e,t}function lW(e){const t=aW(e);I.useEffect(()=>()=>t.current(),[])}function cW(e=document){const t=e.defaultView;return Math.abs(t.innerWidth-e.documentElement.clientWidth)}const e1=EC("modal-open");class GD{constructor({ownerDocument:t,handleContainerOverflow:i=!0,isRTL:n=!1}={}){this.handleContainerOverflow=i,this.isRTL=n,this.modals=[],this.ownerDocument=t}getScrollbarWidth(){return cW(this.ownerDocument)}getElement(){return(this.ownerDocument||document).body}setModalAttributes(t){}removeModalAttributes(t){}setContainerStyle(t){const i={overflow:"hidden"},n=this.isRTL?"paddingLeft":"paddingRight",s=this.getElement();t.style={overflow:s.style.overflow,[n]:s.style[n]},t.scrollBarWidth&&(i[n]=`${parseInt(vl(s,n)||"0",10)+t.scrollBarWidth}px`),s.setAttribute(e1,""),vl(s,i)}reset(){[...this.modals].forEach(t=>this.remove(t))}removeContainerStyle(t){const i=this.getElement();i.removeAttribute(e1),Object.assign(i.style,t.style)}add(t){let i=this.modals.indexOf(t);return i!==-1||(i=this.modals.length,this.modals.push(t),this.setModalAttributes(t),i!==0)||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),i}remove(t){const i=this.modals.indexOf(t);i!==-1&&(this.modals.splice(i,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(t))}isTopModal(t){return!!this.modals.length&&this.modals[this.modals.length-1]===t}}const JS=(e,t)=>LC?e==null?(t||ID()).body:(typeof e=="function"&&(e=e()),e&&"current"in e&&(e=e.current),e&&("nodeType"in e||e.getBoundingClientRect)?e:null):null;function uW(e,t){const i=PD(),[n,s]=I.useState(()=>JS(e,i==null?void 0:i.document));if(!n){const r=JS(e);r&&s(r)}return I.useEffect(()=>{},[t,n]),I.useEffect(()=>{const r=JS(e);r!==n&&s(r)},[e,n]),n}function hW({children:e,in:t,onExited:i,mountOnEnter:n,unmountOnExit:s}){const r=I.useRef(null),o=I.useRef(t),a=fl(i);I.useEffect(()=>{t?o.current=!0:a(r.current)},[t,a]);const c=IC(r,Df(e)),h=I.cloneElement(e,{ref:c});return t?h:s||!o.current&&n?null:h}const dW=["onEnter","onEntering","onEntered","onExit","onExiting","onExited","addEndListener","children"];function fW(e,t){if(e==null)return{};var i={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;i[n]=e[n]}return i}function gW(e){let{onEnter:t,onEntering:i,onEntered:n,onExit:s,onExiting:r,onExited:o,addEndListener:a,children:c}=e,h=fW(e,dW);const f=I.useRef(null),p=IC(f,Df(c)),m=_=>F=>{_&&f.current&&_(f.current,F)},b=I.useCallback(m(t),[t]),C=I.useCallback(m(i),[i]),w=I.useCallback(m(n),[n]),D=I.useCallback(m(s),[s]),M=I.useCallback(m(r),[r]),A=I.useCallback(m(o),[o]),k=I.useCallback(m(a),[a]);return Object.assign({},h,{nodeRef:f},t&&{onEnter:b},i&&{onEntering:C},n&&{onEntered:w},s&&{onExit:D},r&&{onExiting:M},o&&{onExited:A},a&&{addEndListener:k},{children:typeof c=="function"?(_,F)=>c(_,Object.assign({},F,{ref:p})):I.cloneElement(c,{ref:p})})}const pW=["component"];function mW(e,t){if(e==null)return{};var i={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;i[n]=e[n]}return i}const yW=I.forwardRef((e,t)=>{let{component:i}=e,n=mW(e,pW);const s=gW(n);return ve.jsx(i,Object.assign({ref:t},s))});function vW({in:e,onTransition:t}){const i=I.useRef(null),n=I.useRef(!0),s=fl(t);return ZI(()=>{if(!i.current)return;let r=!1;return s({in:e,element:i.current,initial:n.current,isStale:()=>r}),()=>{r=!0}},[e,s]),ZI(()=>(n.current=!1,()=>{n.current=!0}),[]),i}function bW({children:e,in:t,onExited:i,onEntered:n,transition:s}){const[r,o]=I.useState(!t);t&&r&&o(!1);const a=vW({in:!!t,onTransition:h=>{const f=()=>{h.isStale()||(h.in?n==null||n(h.element,h.initial):(o(!0),i==null||i(h.element)))};Promise.resolve(s(h)).then(f,p=>{throw h.in||o(!0),p})}}),c=IC(a,Df(e));return r&&!t?null:I.cloneElement(e,{ref:c})}function t1(e,t,i){return e?ve.jsx(yW,Object.assign({},i,{component:e})):t?ve.jsx(bW,Object.assign({},i,{transition:t})):ve.jsx(hW,Object.assign({},i))}const CW=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","runTransition","backdropTransition","runBackdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];function xW(e,t){if(e==null)return{};var i={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;i[n]=e[n]}return i}let ew;function SW(e){return ew||(ew=new GD({ownerDocument:e==null?void 0:e.document})),ew}function wW(e){const t=PD(),i=e||SW(t),n=I.useRef({dialog:null,backdrop:null});return Object.assign(n.current,{add:()=>i.add(n.current),remove:()=>i.remove(n.current),isTopModal:()=>i.isTopModal(n.current),setDialogRef:I.useCallback(s=>{n.current.dialog=s},[]),setBackdropRef:I.useCallback(s=>{n.current.backdrop=s},[])})}const _N=I.forwardRef((e,t)=>{let{show:i=!1,role:n="dialog",className:s,style:r,children:o,backdrop:a=!0,keyboard:c=!0,onBackdropClick:h,onEscapeKeyDown:f,transition:p,runTransition:m,backdropTransition:b,runBackdropTransition:C,autoFocus:w=!0,enforceFocus:D=!0,restoreFocus:M=!0,restoreFocusOptions:A,renderDialog:k,renderBackdrop:_=Ve=>ve.jsx("div",Object.assign({},Ve)),manager:F,container:N,onShow:z,onHide:V=()=>{},onExit:j,onExited:U,onExiting:$,onEnter:Q,onEntering:J,onEntered:be}=e,me=xW(e,CW);const Y=PD(),re=uW(N),Z=wW(F),Ce=EV(),H=RV(i),[K,ie]=I.useState(!i),te=I.useRef(null);I.useImperativeHandle(t,()=>Z,[Z]),LC&&!H&&i&&(te.current=QS(Y==null?void 0:Y.document)),i&&K&&ie(!1);const se=fl(()=>{if(Z.add(),Ne.current=Sb(document,"keydown",xe),Re.current=Sb(document,"focus",()=>setTimeout(he),!0),z&&z(),w){var Ve,Et;const je=QS((Ve=(Et=Z.dialog)==null?void 0:Et.ownerDocument)!=null?Ve:Y==null?void 0:Y.document);Z.dialog&&je&&!XI(Z.dialog,je)&&(te.current=je,Z.dialog.focus())}}),ye=fl(()=>{if(Z.remove(),Ne.current==null||Ne.current(),Re.current==null||Re.current(),M){var Ve;(Ve=te.current)==null||Ve.focus==null||Ve.focus(A),te.current=null}});I.useEffect(()=>{!i||!re||se()},[i,re,se]),I.useEffect(()=>{K&&ye()},[K,ye]),lW(()=>{ye()});const he=fl(()=>{if(!D||!Ce()||!Z.isTopModal())return;const Ve=QS(Y==null?void 0:Y.document);Z.dialog&&Ve&&!XI(Z.dialog,Ve)&&Z.dialog.focus()}),Ie=fl(Ve=>{Ve.target===Ve.currentTarget&&(h==null||h(Ve),a===!0&&V())}),xe=fl(Ve=>{c&&dV(Ve)&&Z.isTopModal()&&(f==null||f(Ve),Ve.defaultPrevented||V())}),Re=I.useRef(),Ne=I.useRef(),We=(...Ve)=>{ie(!0),U==null||U(...Ve)};if(!re)return null;const lt=Object.assign({role:n,ref:Z.setDialogRef,"aria-modal":n==="dialog"?!0:void 0},me,{style:r,className:s,tabIndex:-1});let qe=k?k(lt):ve.jsx("div",Object.assign({},lt,{children:I.cloneElement(o,{role:"document"})}));qe=t1(p,m,{unmountOnExit:!0,mountOnEnter:!0,appear:!0,in:!!i,onExit:j,onExiting:$,onExited:We,onEnter:Q,onEntering:J,onEntered:be,children:qe});let Ue=null;return a&&(Ue=_({ref:Z.setBackdropRef,onClick:Ie}),Ue=t1(b,C,{in:!!i,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:Ue})),ve.jsx(ve.Fragment,{children:xh.createPortal(ve.jsxs(ve.Fragment,{children:[Ue,qe]}),re)})});_N.displayName="Modal";const MW=Object.assign(_N,{Manager:GD});function DW(e,t){return e.classList?e.classList.contains(t):(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")!==-1}function LW(e,t){e.classList?e.classList.add(t):DW(e,t)||(typeof e.className=="string"?e.className=e.className+" "+t:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+t))}function i1(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function TW(e,t){e.classList?e.classList.remove(t):typeof e.className=="string"?e.className=i1(e.className,t):e.setAttribute("class",i1(e.className&&e.className.baseVal||"",t))}const Gd={FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",STICKY_CONTENT:".sticky-top",NAVBAR_TOGGLER:".navbar-toggler"};class NN extends GD{adjustAndStore(t,i,n){const s=i.style[t];i.dataset[t]=s,vl(i,{[t]:`${parseFloat(vl(i,t))+n}px`})}restore(t,i){const n=i.dataset[t];n!==void 0&&(delete i.dataset[t],vl(i,{[t]:n}))}setContainerStyle(t){super.setContainerStyle(t);const i=this.getElement();if(LW(i,"modal-open"),!t.scrollBarWidth)return;const n=this.isRTL?"paddingLeft":"paddingRight",s=this.isRTL?"marginLeft":"marginRight";dh(i,Gd.FIXED_CONTENT).forEach(r=>this.adjustAndStore(n,r,t.scrollBarWidth)),dh(i,Gd.STICKY_CONTENT).forEach(r=>this.adjustAndStore(s,r,-t.scrollBarWidth)),dh(i,Gd.NAVBAR_TOGGLER).forEach(r=>this.adjustAndStore(s,r,t.scrollBarWidth))}removeContainerStyle(t){super.removeContainerStyle(t);const i=this.getElement();TW(i,"modal-open");const n=this.isRTL?"paddingLeft":"paddingRight",s=this.isRTL?"marginLeft":"marginRight";dh(i,Gd.FIXED_CONTENT).forEach(r=>this.restore(n,r)),dh(i,Gd.STICKY_CONTENT).forEach(r=>this.restore(s,r)),dh(i,Gd.NAVBAR_TOGGLER).forEach(r=>this.restore(s,r))}}let tw;function AW(e){return tw||(tw=new NN(e)),tw}const ON=I.createContext({onHide(){}}),PN=I.forwardRef(({closeLabel:e="Close",closeVariant:t,closeButton:i=!1,onHide:n,children:s,...r},o)=>{const a=I.useContext(ON),c=AC(()=>{a==null||a.onHide(),n==null||n()});return ve.jsxs("div",{ref:o,...r,children:[s,i&&ve.jsx(_D,{"aria-label":e,variant:t,onClick:c})]})});PN.displayName="AbstractModalHeader";const FN=I.forwardRef(({className:e,bsPrefix:t,as:i="div",...n},s)=>(t=ki(t,"nav-item"),ve.jsx(i,{ref:s,className:ri(e,t),...n})));FN.displayName="NavItem";const BN=I.forwardRef(({bsPrefix:e,className:t,as:i=gN,active:n,eventKey:s,disabled:r=!1,...o},a)=>{e=ki(e,"nav-link");const[c,h]=RN({key:ND(s,o.href),active:n,disabled:r,...o});return ve.jsx(i,{...o,...c,ref:a,disabled:r,className:ri(t,e,r&&"disabled",h.isActive&&"active")})});BN.displayName="NavLink";const zN=I.forwardRef((e,t)=>{const{as:i="div",bsPrefix:n,variant:s,fill:r=!1,justify:o=!1,navbar:a,navbarScroll:c,className:h,activeKey:f,...p}=lN(e,{activeKey:"onSelect"}),m=ki(n,"nav");let b,C,w=!1;const D=I.useContext(Lf),M=I.useContext(mN);return D?(b=D.bsPrefix,w=a??!0):M&&({cardHeaderBsPrefix:C}=M),ve.jsx(oW,{as:i,ref:t,activeKey:f,className:ri(h,{[m]:!w,[`${b}-nav`]:w,[`${b}-nav-scroll`]:w&&c,[`${C}-${s}`]:!!C,[`${m}-${s}`]:!!s,[`${m}-fill`]:r,[`${m}-justified`]:o}),...p})});zN.displayName="Nav";const np=Object.assign(zN,{Item:FN,Link:BN}),GN=I.forwardRef(({bsPrefix:e,className:t,as:i,...n},s)=>{e=ki(e,"navbar-brand");const r=i||(n.href?"a":"span");return ve.jsx(r,{...n,ref:s,className:ri(t,e)})});GN.displayName="NavbarBrand";const HN=I.forwardRef(({children:e,bsPrefix:t,...i},n)=>{t=ki(t,"navbar-collapse");const s=I.useContext(Lf);return ve.jsx(hN,{in:!!(s&&s.expanded),...i,children:ve.jsx("div",{ref:n,className:t,children:e})})});HN.displayName="NavbarCollapse";const jN=I.forwardRef(({bsPrefix:e,className:t,children:i,label:n="Toggle navigation",as:s="button",onClick:r,...o},a)=>{e=ki(e,"navbar-toggler");const{onToggle:c,expanded:h}=I.useContext(Lf)||{},f=AC(p=>{r&&r(p),c&&c()});return s==="button"&&(o.type="button"),ve.jsx(s,{...o,ref:a,onClick:f,"aria-label":n,className:ri(t,e,!h&&"collapsed"),children:i||ve.jsx("span",{className:`${e}-icon`})})});jN.displayName="NavbarToggle";const mM=new WeakMap,n1=(e,t)=>{if(!e||!t)return;const i=mM.get(t)||new Map;mM.set(t,i);let n=i.get(e);return n||(n=t.matchMedia(e),n.refCount=0,i.set(n.media,n)),n};function EW(e,t=typeof window>"u"?void 0:window){const i=n1(e,t),[n,s]=I.useState(()=>i?i.matches:!1);return XV(()=>{let r=n1(e,t);if(!r)return s(!1);let o=mM.get(t);const a=()=>{s(r.matches)};return r.refCount++,r.addListener(a),a(),()=>{r.removeListener(a),r.refCount--,r.refCount<=0&&(o==null||o.delete(r.media)),r=void 0}},[e]),n}function RW(e){const t=Object.keys(e);function i(a,c){return a===c?c:a?`${a} and ${c}`:c}function n(a){return t[Math.min(t.indexOf(a)+1,t.length-1)]}function s(a){const c=n(a);let h=e[c];return typeof h=="number"?h=`${h-.2}px`:h=`calc(${h} - 0.2px)`,`(max-width: ${h})`}function r(a){let c=e[a];return typeof c=="number"&&(c=`${c}px`),`(min-width: ${c})`}function o(a,c,h){let f;typeof a=="object"?(f=a,h=c,c=!0):(c=c||!0,f={[a]:c});let p=I.useMemo(()=>Object.entries(f).reduce((m,[b,C])=>((C==="up"||C===!0)&&(m=i(m,r(b))),(C==="down"||C===!0)&&(m=i(m,s(b))),m),""),[JSON.stringify(f)]);return EW(p,h)}return o}const IW=RW({xs:0,sm:576,md:768,lg:992,xl:1200,xxl:1400}),VN=I.forwardRef(({className:e,bsPrefix:t,as:i="div",...n},s)=>(t=ki(t,"offcanvas-body"),ve.jsx(i,{ref:s,className:ri(e,t),...n})));VN.displayName="OffcanvasBody";const kW={[Ao]:"show",[dl]:"show"},WN=I.forwardRef(({bsPrefix:e,className:t,children:i,in:n=!1,mountOnEnter:s=!1,unmountOnExit:r=!1,appear:o=!1,...a},c)=>(e=ki(e,"offcanvas"),ve.jsx(TC,{ref:c,addEndListener:kD,in:n,mountOnEnter:s,unmountOnExit:r,appear:o,...a,childRef:Df(i),children:(h,f)=>I.cloneElement(i,{...f,className:ri(t,i.props.className,(h===Ao||h===Gp)&&`${e}-toggling`,kW[h])})})));WN.displayName="OffcanvasToggling";const UN=I.forwardRef(({bsPrefix:e,className:t,closeLabel:i="Close",closeButton:n=!1,...s},r)=>(e=ki(e,"offcanvas-header"),ve.jsx(PN,{ref:r,...s,className:ri(t,e),closeLabel:i,closeButton:n})));UN.displayName="OffcanvasHeader";const _W=TV("h5"),YN=I.forwardRef(({className:e,bsPrefix:t,as:i=_W,...n},s)=>(t=ki(t,"offcanvas-title"),ve.jsx(i,{ref:s,className:ri(e,t),...n})));YN.displayName="OffcanvasTitle";function NW(e){return ve.jsx(WN,{...e})}function OW(e){return ve.jsx(pN,{...e})}const KN=I.forwardRef(({bsPrefix:e,className:t,children:i,"aria-labelledby":n,placement:s="start",responsive:r,show:o=!1,backdrop:a=!0,keyboard:c=!0,scroll:h=!1,onEscapeKeyDown:f,onShow:p,onHide:m,container:b,autoFocus:C=!0,enforceFocus:w=!0,restoreFocus:D=!0,restoreFocusOptions:M,onEntered:A,onExit:k,onExiting:_,onEnter:F,onEntering:N,onExited:z,backdropClassName:V,manager:j,renderStaticNode:U=!1,...$},Q)=>{const J=I.useRef();e=ki(e,"offcanvas");const[be,me]=I.useState(!1),Y=AC(m),re=IW(r||"xs","up");I.useEffect(()=>{me(r?o&&!re:o)},[o,r,re]);const Z=I.useMemo(()=>({onHide:Y}),[Y]);function Ce(){return j||(h?(J.current||(J.current=new NN({handleContainerOverflow:!1})),J.current):AW())}const H=(se,...ye)=>{se&&(se.style.visibility="visible"),F==null||F(se,...ye)},K=(se,...ye)=>{se&&(se.style.visibility=""),z==null||z(...ye)},ie=I.useCallback(se=>ve.jsx("div",{...se,className:ri(`${e}-backdrop`,V)}),[V,e]),te=se=>ve.jsx("div",{...se,...$,className:ri(t,r?`${e}-${r}`:e,`${e}-${s}`),"aria-labelledby":n,children:i});return ve.jsxs(ve.Fragment,{children:[!be&&(r||U)&&te({}),ve.jsx(ON.Provider,{value:Z,children:ve.jsx(MW,{show:be,ref:Q,backdrop:a,container:b,keyboard:c,autoFocus:C,enforceFocus:w&&!h,restoreFocus:D,restoreFocusOptions:M,onEscapeKeyDown:f,onShow:p,onHide:Y,onEnter:H,onEntering:N,onEntered:A,onExit:k,onExiting:_,onExited:K,manager:Ce(),transition:NW,backdropTransition:OW,renderBackdrop:ie,renderDialog:te})})]})});KN.displayName="Offcanvas";const PW=Object.assign(KN,{Body:VN,Header:UN,Title:YN}),$N=I.forwardRef(({onHide:e,...t},i)=>{const n=I.useContext(Lf),s=AC(()=>{n==null||n.onToggle==null||n.onToggle(),e==null||e()});return ve.jsx(PW,{ref:i,show:!!(n!=null&&n.expanded),...t,renderStaticNode:!0,onHide:s})});$N.displayName="NavbarOffcanvas";const ZN=I.forwardRef(({className:e,bsPrefix:t,as:i="span",...n},s)=>(t=ki(t,"navbar-text"),ve.jsx(i,{ref:s,className:ri(e,t),...n})));ZN.displayName="NavbarText";const XN=I.forwardRef((e,t)=>{const{bsPrefix:i,expand:n=!0,variant:s="light",bg:r,fixed:o,sticky:a,className:c,as:h="nav",expanded:f,onToggle:p,onSelect:m,collapseOnSelect:b=!1,...C}=lN(e,{expanded:"onToggle"}),w=ki(i,"navbar"),D=I.useCallback((...k)=>{m==null||m(...k),b&&f&&(p==null||p(!1))},[m,b,f,p]);C.role===void 0&&h!=="nav"&&(C.role="navigation");let M=`${w}-expand`;typeof n=="string"&&(M=`${M}-${n}`);const A=I.useMemo(()=>({onToggle:()=>p==null?void 0:p(!f),bsPrefix:w,expanded:!!f,expand:n}),[w,f,n,p]);return ve.jsx(Lf.Provider,{value:A,children:ve.jsx(wb.Provider,{value:D,children:ve.jsx(h,{ref:t,...C,className:ri(c,w,n&&M,s&&`${w}-${s}`,r&&`bg-${r}`,a&&`sticky-${a}`,o&&`fixed-${o}`)})})})});XN.displayName="Navbar";const iw=Object.assign(XN,{Brand:GN,Collapse:HN,Offcanvas:$N,Text:ZN,Toggle:jN}),FW=I.createContext(null),nw={didCatch:!1,error:null};class BW extends I.Component{constructor(t){super(t),this.resetErrorBoundary=this.resetErrorBoundary.bind(this),this.state=nw}static getDerivedStateFromError(t){return{didCatch:!0,error:t}}resetErrorBoundary(){const{error:t}=this.state;if(t!==null){for(var i,n,s=arguments.length,r=new Array(s),o=0;o<s;o++)r[o]=arguments[o];(i=(n=this.props).onReset)===null||i===void 0||i.call(n,{args:r,reason:"imperative-api"}),this.setState(nw)}}componentDidCatch(t,i){var n,s;(n=(s=this.props).onError)===null||n===void 0||n.call(s,t,i)}componentDidUpdate(t,i){const{didCatch:n}=this.state,{resetKeys:s}=this.props;if(n&&i.error!==null&&zW(t.resetKeys,s)){var r,o;(r=(o=this.props).onReset)===null||r===void 0||r.call(o,{next:s,prev:t.resetKeys,reason:"keys"}),this.setState(nw)}}render(){const{children:t,fallbackRender:i,FallbackComponent:n,fallback:s}=this.props,{didCatch:r,error:o}=this.state;let a=t;if(r){const c={error:o,resetErrorBoundary:this.resetErrorBoundary};if(typeof i=="function")a=i(c);else if(n)a=I.createElement(n,c);else if(s!==void 0)a=s;else throw o}return I.createElement(FW.Provider,{value:{didCatch:r,error:o,resetErrorBoundary:this.resetErrorBoundary}},a)}}function zW(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return e.length!==t.length||e.some((i,n)=>!Object.is(i,t[n]))}function qN(e,t){const i=I.useRef(t);I.useEffect(function(){t!==i.current&&e.attributionControl!=null&&(i.current!=null&&e.attributionControl.removeAttribution(i.current),t!=null&&e.attributionControl.addAttribution(t)),i.current=t},[e,t])}const GW=1;function HW(e){return Object.freeze({__version:GW,map:e})}function jW(e,t){return Object.freeze({...e,...t})}const HD=I.createContext(null);function QN(){const e=I.use(HD);if(e==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return e}function VW(e){function t(i,n){const{instance:s,context:r}=e(i).current;I.useImperativeHandle(n,()=>s);const{children:o}=i;return o==null?null:Te.createElement(HD,{value:r},o)}return I.forwardRef(t)}function WW(e){function t(i,n){const[s,r]=I.useState(!1),{instance:o}=e(i,r).current;I.useImperativeHandle(n,()=>o),I.useEffect(function(){s&&o.update()},[o,s,i.children]);const a=o._contentNode;return a?vm.createPortal(i.children,a):null}return I.forwardRef(t)}function UW(e){function t(i,n){const{instance:s}=e(i).current;return I.useImperativeHandle(n,()=>s),null}return I.forwardRef(t)}function JN(e,t){const i=I.useRef(void 0);I.useEffect(function(){return t!=null&&e.instance.on(t),i.current=t,function(){i.current!=null&&e.instance.off(i.current),i.current=null}},[e,t])}function jD(e,t){const i=e.pane??t.pane;return i?{...e,pane:i}:e}function YW(e,t){return function(n,s){const r=QN(),o=e(jD(n,r),r);return qN(r.map,n.attribution),JN(o.current,n.eventHandlers),t(o.current,r,n,s),o}}var vp={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */var KW=vp.exports,s1;function $W(){return s1||(s1=1,function(e,t){(function(i,n){n(t)})(KW,function(i){var n="1.9.4";function s(d){var y,x,E,O;for(x=1,E=arguments.length;x<E;x++){O=arguments[x];for(y in O)d[y]=O[y]}return d}var r=Object.create||function(){function d(){}return function(y){return d.prototype=y,new d}}();function o(d,y){var x=Array.prototype.slice;if(d.bind)return d.bind.apply(d,x.call(arguments,1));var E=x.call(arguments,2);return function(){return d.apply(y,E.length?E.concat(x.call(arguments)):arguments)}}var a=0;function c(d){return"_leaflet_id"in d||(d._leaflet_id=++a),d._leaflet_id}function h(d,y,x){var E,O,G,X;return X=function(){E=!1,O&&(G.apply(x,O),O=!1)},G=function(){E?O=arguments:(d.apply(x,arguments),setTimeout(X,y),E=!0)},G}function f(d,y,x){var E=y[1],O=y[0],G=E-O;return d===E&&x?d:((d-O)%G+G)%G+O}function p(){return!1}function m(d,y){if(y===!1)return d;var x=Math.pow(10,y===void 0?6:y);return Math.round(d*x)/x}function b(d){return d.trim?d.trim():d.replace(/^\s+|\s+$/g,"")}function C(d){return b(d).split(/\s+/)}function w(d,y){Object.prototype.hasOwnProperty.call(d,"options")||(d.options=d.options?r(d.options):{});for(var x in y)d.options[x]=y[x];return d.options}function D(d,y,x){var E=[];for(var O in d)E.push(encodeURIComponent(x?O.toUpperCase():O)+"="+encodeURIComponent(d[O]));return(!y||y.indexOf("?")===-1?"?":"&")+E.join("&")}var M=/\{ *([\w_ -]+) *\}/g;function A(d,y){return d.replace(M,function(x,E){var O=y[E];if(O===void 0)throw new Error("No value provided for variable "+x);return typeof O=="function"&&(O=O(y)),O})}var k=Array.isArray||function(d){return Object.prototype.toString.call(d)==="[object Array]"};function _(d,y){for(var x=0;x<d.length;x++)if(d[x]===y)return x;return-1}var F="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function N(d){return window["webkit"+d]||window["moz"+d]||window["ms"+d]}var z=0;function V(d){var y=+new Date,x=Math.max(0,16-(y-z));return z=y+x,window.setTimeout(d,x)}var j=window.requestAnimationFrame||N("RequestAnimationFrame")||V,U=window.cancelAnimationFrame||N("CancelAnimationFrame")||N("CancelRequestAnimationFrame")||function(d){window.clearTimeout(d)};function $(d,y,x){if(x&&j===V)d.call(y);else return j.call(window,o(d,y))}function Q(d){d&&U.call(window,d)}var J={__proto__:null,extend:s,create:r,bind:o,get lastId(){return a},stamp:c,throttle:h,wrapNum:f,falseFn:p,formatNum:m,trim:b,splitWords:C,setOptions:w,getParamString:D,template:A,isArray:k,indexOf:_,emptyImageUrl:F,requestFn:j,cancelFn:U,requestAnimFrame:$,cancelAnimFrame:Q};function be(){}be.extend=function(d){var y=function(){w(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},x=y.__super__=this.prototype,E=r(x);E.constructor=y,y.prototype=E;for(var O in this)Object.prototype.hasOwnProperty.call(this,O)&&O!=="prototype"&&O!=="__super__"&&(y[O]=this[O]);return d.statics&&s(y,d.statics),d.includes&&(me(d.includes),s.apply(null,[E].concat(d.includes))),s(E,d),delete E.statics,delete E.includes,E.options&&(E.options=x.options?r(x.options):{},s(E.options,d.options)),E._initHooks=[],E.callInitHooks=function(){if(!this._initHooksCalled){x.callInitHooks&&x.callInitHooks.call(this),this._initHooksCalled=!0;for(var G=0,X=E._initHooks.length;G<X;G++)E._initHooks[G].call(this)}},y},be.include=function(d){var y=this.prototype.options;return s(this.prototype,d),d.options&&(this.prototype.options=y,this.mergeOptions(d.options)),this},be.mergeOptions=function(d){return s(this.prototype.options,d),this},be.addInitHook=function(d){var y=Array.prototype.slice.call(arguments,1),x=typeof d=="function"?d:function(){this[d].apply(this,y)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(x),this};function me(d){if(!(typeof L>"u"||!L||!L.Mixin)){d=k(d)?d:[d];for(var y=0;y<d.length;y++)d[y]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var Y={on:function(d,y,x){if(typeof d=="object")for(var E in d)this._on(E,d[E],y);else{d=C(d);for(var O=0,G=d.length;O<G;O++)this._on(d[O],y,x)}return this},off:function(d,y,x){if(!arguments.length)delete this._events;else if(typeof d=="object")for(var E in d)this._off(E,d[E],y);else{d=C(d);for(var O=arguments.length===1,G=0,X=d.length;G<X;G++)O?this._off(d[G]):this._off(d[G],y,x)}return this},_on:function(d,y,x,E){if(typeof y!="function"){console.warn("wrong listener type: "+typeof y);return}if(this._listens(d,y,x)===!1){x===this&&(x=void 0);var O={fn:y,ctx:x};E&&(O.once=!0),this._events=this._events||{},this._events[d]=this._events[d]||[],this._events[d].push(O)}},_off:function(d,y,x){var E,O,G;if(this._events&&(E=this._events[d],!!E)){if(arguments.length===1){if(this._firingCount)for(O=0,G=E.length;O<G;O++)E[O].fn=p;delete this._events[d];return}if(typeof y!="function"){console.warn("wrong listener type: "+typeof y);return}var X=this._listens(d,y,x);if(X!==!1){var le=E[X];this._firingCount&&(le.fn=p,this._events[d]=E=E.slice()),E.splice(X,1)}}},fire:function(d,y,x){if(!this.listens(d,x))return this;var E=s({},y,{type:d,target:this,sourceTarget:y&&y.sourceTarget||this});if(this._events){var O=this._events[d];if(O){this._firingCount=this._firingCount+1||1;for(var G=0,X=O.length;G<X;G++){var le=O[G],pe=le.fn;le.once&&this.off(d,pe,le.ctx),pe.call(le.ctx||this,E)}this._firingCount--}}return x&&this._propagateEvent(E),this},listens:function(d,y,x,E){typeof d!="string"&&console.warn('"string" type argument expected');var O=y;typeof y!="function"&&(E=!!y,O=void 0,x=void 0);var G=this._events&&this._events[d];if(G&&G.length&&this._listens(d,O,x)!==!1)return!0;if(E){for(var X in this._eventParents)if(this._eventParents[X].listens(d,y,x,E))return!0}return!1},_listens:function(d,y,x){if(!this._events)return!1;var E=this._events[d]||[];if(!y)return!!E.length;x===this&&(x=void 0);for(var O=0,G=E.length;O<G;O++)if(E[O].fn===y&&E[O].ctx===x)return O;return!1},once:function(d,y,x){if(typeof d=="object")for(var E in d)this._on(E,d[E],y,!0);else{d=C(d);for(var O=0,G=d.length;O<G;O++)this._on(d[O],y,x,!0)}return this},addEventParent:function(d){return this._eventParents=this._eventParents||{},this._eventParents[c(d)]=d,this},removeEventParent:function(d){return this._eventParents&&delete this._eventParents[c(d)],this},_propagateEvent:function(d){for(var y in this._eventParents)this._eventParents[y].fire(d.type,s({layer:d.target,propagatedFrom:d.target},d),!0)}};Y.addEventListener=Y.on,Y.removeEventListener=Y.clearAllEventListeners=Y.off,Y.addOneTimeEventListener=Y.once,Y.fireEvent=Y.fire,Y.hasEventListeners=Y.listens;var re=be.extend(Y);function Z(d,y,x){this.x=x?Math.round(d):d,this.y=x?Math.round(y):y}var Ce=Math.trunc||function(d){return d>0?Math.floor(d):Math.ceil(d)};Z.prototype={clone:function(){return new Z(this.x,this.y)},add:function(d){return this.clone()._add(H(d))},_add:function(d){return this.x+=d.x,this.y+=d.y,this},subtract:function(d){return this.clone()._subtract(H(d))},_subtract:function(d){return this.x-=d.x,this.y-=d.y,this},divideBy:function(d){return this.clone()._divideBy(d)},_divideBy:function(d){return this.x/=d,this.y/=d,this},multiplyBy:function(d){return this.clone()._multiplyBy(d)},_multiplyBy:function(d){return this.x*=d,this.y*=d,this},scaleBy:function(d){return new Z(this.x*d.x,this.y*d.y)},unscaleBy:function(d){return new Z(this.x/d.x,this.y/d.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=Ce(this.x),this.y=Ce(this.y),this},distanceTo:function(d){d=H(d);var y=d.x-this.x,x=d.y-this.y;return Math.sqrt(y*y+x*x)},equals:function(d){return d=H(d),d.x===this.x&&d.y===this.y},contains:function(d){return d=H(d),Math.abs(d.x)<=Math.abs(this.x)&&Math.abs(d.y)<=Math.abs(this.y)},toString:function(){return"Point("+m(this.x)+", "+m(this.y)+")"}};function H(d,y,x){return d instanceof Z?d:k(d)?new Z(d[0],d[1]):d==null?d:typeof d=="object"&&"x"in d&&"y"in d?new Z(d.x,d.y):new Z(d,y,x)}function K(d,y){if(d)for(var x=y?[d,y]:d,E=0,O=x.length;E<O;E++)this.extend(x[E])}K.prototype={extend:function(d){var y,x;if(!d)return this;if(d instanceof Z||typeof d[0]=="number"||"x"in d)y=x=H(d);else if(d=ie(d),y=d.min,x=d.max,!y||!x)return this;return!this.min&&!this.max?(this.min=y.clone(),this.max=x.clone()):(this.min.x=Math.min(y.x,this.min.x),this.max.x=Math.max(x.x,this.max.x),this.min.y=Math.min(y.y,this.min.y),this.max.y=Math.max(x.y,this.max.y)),this},getCenter:function(d){return H((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,d)},getBottomLeft:function(){return H(this.min.x,this.max.y)},getTopRight:function(){return H(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(d){var y,x;return typeof d[0]=="number"||d instanceof Z?d=H(d):d=ie(d),d instanceof K?(y=d.min,x=d.max):y=x=d,y.x>=this.min.x&&x.x<=this.max.x&&y.y>=this.min.y&&x.y<=this.max.y},intersects:function(d){d=ie(d);var y=this.min,x=this.max,E=d.min,O=d.max,G=O.x>=y.x&&E.x<=x.x,X=O.y>=y.y&&E.y<=x.y;return G&&X},overlaps:function(d){d=ie(d);var y=this.min,x=this.max,E=d.min,O=d.max,G=O.x>y.x&&E.x<x.x,X=O.y>y.y&&E.y<x.y;return G&&X},isValid:function(){return!!(this.min&&this.max)},pad:function(d){var y=this.min,x=this.max,E=Math.abs(y.x-x.x)*d,O=Math.abs(y.y-x.y)*d;return ie(H(y.x-E,y.y-O),H(x.x+E,x.y+O))},equals:function(d){return d?(d=ie(d),this.min.equals(d.getTopLeft())&&this.max.equals(d.getBottomRight())):!1}};function ie(d,y){return!d||d instanceof K?d:new K(d,y)}function te(d,y){if(d)for(var x=y?[d,y]:d,E=0,O=x.length;E<O;E++)this.extend(x[E])}te.prototype={extend:function(d){var y=this._southWest,x=this._northEast,E,O;if(d instanceof ye)E=d,O=d;else if(d instanceof te){if(E=d._southWest,O=d._northEast,!E||!O)return this}else return d?this.extend(he(d)||se(d)):this;return!y&&!x?(this._southWest=new ye(E.lat,E.lng),this._northEast=new ye(O.lat,O.lng)):(y.lat=Math.min(E.lat,y.lat),y.lng=Math.min(E.lng,y.lng),x.lat=Math.max(O.lat,x.lat),x.lng=Math.max(O.lng,x.lng)),this},pad:function(d){var y=this._southWest,x=this._northEast,E=Math.abs(y.lat-x.lat)*d,O=Math.abs(y.lng-x.lng)*d;return new te(new ye(y.lat-E,y.lng-O),new ye(x.lat+E,x.lng+O))},getCenter:function(){return new ye((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new ye(this.getNorth(),this.getWest())},getSouthEast:function(){return new ye(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(d){typeof d[0]=="number"||d instanceof ye||"lat"in d?d=he(d):d=se(d);var y=this._southWest,x=this._northEast,E,O;return d instanceof te?(E=d.getSouthWest(),O=d.getNorthEast()):E=O=d,E.lat>=y.lat&&O.lat<=x.lat&&E.lng>=y.lng&&O.lng<=x.lng},intersects:function(d){d=se(d);var y=this._southWest,x=this._northEast,E=d.getSouthWest(),O=d.getNorthEast(),G=O.lat>=y.lat&&E.lat<=x.lat,X=O.lng>=y.lng&&E.lng<=x.lng;return G&&X},overlaps:function(d){d=se(d);var y=this._southWest,x=this._northEast,E=d.getSouthWest(),O=d.getNorthEast(),G=O.lat>y.lat&&E.lat<x.lat,X=O.lng>y.lng&&E.lng<x.lng;return G&&X},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(d,y){return d?(d=se(d),this._southWest.equals(d.getSouthWest(),y)&&this._northEast.equals(d.getNorthEast(),y)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function se(d,y){return d instanceof te?d:new te(d,y)}function ye(d,y,x){if(isNaN(d)||isNaN(y))throw new Error("Invalid LatLng object: ("+d+", "+y+")");this.lat=+d,this.lng=+y,x!==void 0&&(this.alt=+x)}ye.prototype={equals:function(d,y){if(!d)return!1;d=he(d);var x=Math.max(Math.abs(this.lat-d.lat),Math.abs(this.lng-d.lng));return x<=(y===void 0?1e-9:y)},toString:function(d){return"LatLng("+m(this.lat,d)+", "+m(this.lng,d)+")"},distanceTo:function(d){return xe.distance(this,he(d))},wrap:function(){return xe.wrapLatLng(this)},toBounds:function(d){var y=180*d/40075017,x=y/Math.cos(Math.PI/180*this.lat);return se([this.lat-y,this.lng-x],[this.lat+y,this.lng+x])},clone:function(){return new ye(this.lat,this.lng,this.alt)}};function he(d,y,x){return d instanceof ye?d:k(d)&&typeof d[0]!="object"?d.length===3?new ye(d[0],d[1],d[2]):d.length===2?new ye(d[0],d[1]):null:d==null?d:typeof d=="object"&&"lat"in d?new ye(d.lat,"lng"in d?d.lng:d.lon,d.alt):y===void 0?null:new ye(d,y,x)}var Ie={latLngToPoint:function(d,y){var x=this.projection.project(d),E=this.scale(y);return this.transformation._transform(x,E)},pointToLatLng:function(d,y){var x=this.scale(y),E=this.transformation.untransform(d,x);return this.projection.unproject(E)},project:function(d){return this.projection.project(d)},unproject:function(d){return this.projection.unproject(d)},scale:function(d){return 256*Math.pow(2,d)},zoom:function(d){return Math.log(d/256)/Math.LN2},getProjectedBounds:function(d){if(this.infinite)return null;var y=this.projection.bounds,x=this.scale(d),E=this.transformation.transform(y.min,x),O=this.transformation.transform(y.max,x);return new K(E,O)},infinite:!1,wrapLatLng:function(d){var y=this.wrapLng?f(d.lng,this.wrapLng,!0):d.lng,x=this.wrapLat?f(d.lat,this.wrapLat,!0):d.lat,E=d.alt;return new ye(x,y,E)},wrapLatLngBounds:function(d){var y=d.getCenter(),x=this.wrapLatLng(y),E=y.lat-x.lat,O=y.lng-x.lng;if(E===0&&O===0)return d;var G=d.getSouthWest(),X=d.getNorthEast(),le=new ye(G.lat-E,G.lng-O),pe=new ye(X.lat-E,X.lng-O);return new te(le,pe)}},xe=s({},Ie,{wrapLng:[-180,180],R:6371e3,distance:function(d,y){var x=Math.PI/180,E=d.lat*x,O=y.lat*x,G=Math.sin((y.lat-d.lat)*x/2),X=Math.sin((y.lng-d.lng)*x/2),le=G*G+Math.cos(E)*Math.cos(O)*X*X,pe=2*Math.atan2(Math.sqrt(le),Math.sqrt(1-le));return this.R*pe}}),Re=6378137,Ne={R:Re,MAX_LATITUDE:85.0511287798,project:function(d){var y=Math.PI/180,x=this.MAX_LATITUDE,E=Math.max(Math.min(x,d.lat),-x),O=Math.sin(E*y);return new Z(this.R*d.lng*y,this.R*Math.log((1+O)/(1-O))/2)},unproject:function(d){var y=180/Math.PI;return new ye((2*Math.atan(Math.exp(d.y/this.R))-Math.PI/2)*y,d.x*y/this.R)},bounds:function(){var d=Re*Math.PI;return new K([-d,-d],[d,d])}()};function We(d,y,x,E){if(k(d)){this._a=d[0],this._b=d[1],this._c=d[2],this._d=d[3];return}this._a=d,this._b=y,this._c=x,this._d=E}We.prototype={transform:function(d,y){return this._transform(d.clone(),y)},_transform:function(d,y){return y=y||1,d.x=y*(this._a*d.x+this._b),d.y=y*(this._c*d.y+this._d),d},untransform:function(d,y){return y=y||1,new Z((d.x/y-this._b)/this._a,(d.y/y-this._d)/this._c)}};function lt(d,y,x,E){return new We(d,y,x,E)}var qe=s({},xe,{code:"EPSG:3857",projection:Ne,transformation:function(){var d=.5/(Math.PI*Ne.R);return lt(d,.5,-d,.5)}()}),Ue=s({},qe,{code:"EPSG:900913"});function Ve(d){return document.createElementNS("http://www.w3.org/2000/svg",d)}function Et(d,y){var x="",E,O,G,X,le,pe;for(E=0,G=d.length;E<G;E++){for(le=d[E],O=0,X=le.length;O<X;O++)pe=le[O],x+=(O?"L":"M")+pe.x+" "+pe.y;x+=y?Se.svg?"z":"x":""}return x||"M0 0"}var je=document.documentElement.style,Ct="ActiveXObject"in window,Qt=Ct&&!document.addEventListener,St="msLaunchUri"in navigator&&!("documentMode"in document),ft=Ze("webkit"),kt=Ze("android"),di=Ze("android 2")||Ze("android 3"),fs=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),As=kt&&Ze("Google")&&fs<537&&!("AudioNode"in window),Wi=!!window.opera,fi=!St&&Ze("chrome"),_t=Ze("gecko")&&!ft&&!Wi&&!Ct,Zt=!fi&&Ze("safari"),Ul=Ze("phantom"),or="OTransition"in je,Jh=navigator.platform.indexOf("Win")===0,Ko=Ct&&"transition"in je,mo="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!di,Fr="MozPerspective"in je,Fa=!window.L_DISABLE_3D&&(Ko||mo||Fr)&&!or&&!Ul,gs=typeof orientation<"u"||Ze("mobile"),ed=gs&&ft,Yl=gs&&mo,Mu=!window.PointerEvent&&window.MSPointerEvent,Ba=!!(window.PointerEvent||Mu),$o="ontouchstart"in window||!!window.TouchEvent,td=!window.L_NO_TOUCH&&($o||Ba),za=gs&&Wi,Ga=gs&&_t,Du=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Lu=function(){var d=!1;try{var y=Object.defineProperty({},"passive",{get:function(){d=!0}});window.addEventListener("testPassiveEventSupport",p,y),window.removeEventListener("testPassiveEventSupport",p,y)}catch{}return d}(),ee=function(){return!!document.createElement("canvas").getContext}(),ae=!!(document.createElementNS&&Ve("svg").createSVGRect),fe=!!ae&&function(){var d=document.createElement("div");return d.innerHTML="<svg/>",(d.firstChild&&d.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),De=!ae&&function(){try{var d=document.createElement("div");d.innerHTML='<v:shape adj="1"/>';var y=d.firstChild;return y.style.behavior="url(#default#VML)",y&&typeof y.adj=="object"}catch{return!1}}(),Oe=navigator.platform.indexOf("Mac")===0,Ke=navigator.platform.indexOf("Linux")===0;function Ze(d){return navigator.userAgent.toLowerCase().indexOf(d)>=0}var Se={ie:Ct,ielt9:Qt,edge:St,webkit:ft,android:kt,android23:di,androidStock:As,opera:Wi,chrome:fi,gecko:_t,safari:Zt,phantom:Ul,opera12:or,win:Jh,ie3d:Ko,webkit3d:mo,gecko3d:Fr,any3d:Fa,mobile:gs,mobileWebkit:ed,mobileWebkit3d:Yl,msPointer:Mu,pointer:Ba,touch:td,touchNative:$o,mobileOpera:za,mobileGecko:Ga,retina:Du,passiveEvents:Lu,canvas:ee,svg:ae,vml:De,inlineSvg:fe,mac:Oe,linux:Ke},Je=Se.msPointer?"MSPointerDown":"pointerdown",et=Se.msPointer?"MSPointerMove":"pointermove",st=Se.msPointer?"MSPointerUp":"pointerup",Qe=Se.msPointer?"MSPointerCancel":"pointercancel",rt={touchstart:Je,touchmove:et,touchend:st,touchcancel:Qe},jt={touchstart:Xo,touchmove:ar,touchend:ar,touchcancel:ar},Jt={},Ti=!1;function Yt(d,y,x){return y==="touchstart"&&ps(),jt[y]?(x=jt[y].bind(this,x),d.addEventListener(rt[y],x,!1),x):(console.warn("wrong event specified:",y),p)}function Bt(d,y,x){if(!rt[y]){console.warn("wrong event specified:",y);return}d.removeEventListener(rt[y],x,!1)}function Zo(d){Jt[d.pointerId]=d}function Xn(d){Jt[d.pointerId]&&(Jt[d.pointerId]=d)}function Es(d){delete Jt[d.pointerId]}function ps(){Ti||(document.addEventListener(Je,Zo,!0),document.addEventListener(et,Xn,!0),document.addEventListener(st,Es,!0),document.addEventListener(Qe,Es,!0),Ti=!0)}function ar(d,y){if(y.pointerType!==(y.MSPOINTER_TYPE_MOUSE||"mouse")){y.touches=[];for(var x in Jt)y.touches.push(Jt[x]);y.changedTouches=[y],d(y)}}function Xo(d,y){y.MSPOINTER_TYPE_TOUCH&&y.pointerType===y.MSPOINTER_TYPE_TOUCH&&nn(y),ar(d,y)}function Tu(d){var y={},x,E;for(E in d)x=d[E],y[E]=x&&x.bind?x.bind(d):x;return d=y,y.type="dblclick",y.detail=2,y.isTrusted=!1,y._simulated=!0,y}var Ys=200;function yo(d,y){d.addEventListener("dblclick",y);var x=0,E;function O(G){if(G.detail!==1){E=G.detail;return}if(!(G.pointerType==="mouse"||G.sourceCapabilities&&!G.sourceCapabilities.firesTouchEvents)){var X=ig(G);if(!(X.some(function(pe){return pe instanceof HTMLLabelElement&&pe.attributes.for})&&!X.some(function(pe){return pe instanceof HTMLInputElement||pe instanceof HTMLSelectElement}))){var le=Date.now();le-x<=Ys?(E++,E===2&&y(Tu(G))):E=1,x=le}}}return d.addEventListener("click",O),{dblclick:y,simDblclick:O}}function Tt(d,y){d.removeEventListener("dblclick",y.dblclick),d.removeEventListener("click",y.simDblclick)}var vn=Zl(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),qn=Zl(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Ks=qn==="webkitTransition"||qn==="OTransition"?qn+"End":"transitionend";function qo(d){return typeof d=="string"?document.getElementById(d):d}function ui(d,y){var x=d.style[y]||d.currentStyle&&d.currentStyle[y];if((!x||x==="auto")&&document.defaultView){var E=document.defaultView.getComputedStyle(d,null);x=E?E[y]:null}return x==="auto"?null:x}function Mt(d,y,x){var E=document.createElement(d);return E.className=y||"",x&&x.appendChild(E),E}function gi(d){var y=d.parentNode;y&&y.removeChild(d)}function Dn(d){for(;d.firstChild;)d.removeChild(d.firstChild)}function Ha(d){var y=d.parentNode;y&&y.lastChild!==d&&y.appendChild(d)}function Kl(d){var y=d.parentNode;y&&y.firstChild!==d&&y.insertBefore(d,y.firstChild)}function $l(d,y){if(d.classList!==void 0)return d.classList.contains(y);var x=Qn(d);return x.length>0&&new RegExp("(^|\\s)"+y+"(\\s|$)").test(x)}function xt(d,y){if(d.classList!==void 0)for(var x=C(y),E=0,O=x.length;E<O;E++)d.classList.add(x[E]);else if(!$l(d,y)){var G=Qn(d);eg(d,(G?G+" ":"")+y)}}function Ai(d,y){d.classList!==void 0?d.classList.remove(y):eg(d,b((" "+Qn(d)+" ").replace(" "+y+" "," ")))}function eg(d,y){d.className.baseVal===void 0?d.className=y:d.className.baseVal=y}function Qn(d){return d.correspondingElement&&(d=d.correspondingElement),d.className.baseVal===void 0?d.className:d.className.baseVal}function ms(d,y){"opacity"in d.style?d.style.opacity=y:"filter"in d.style&&cy(d,y)}function cy(d,y){var x=!1,E="DXImageTransform.Microsoft.Alpha";try{x=d.filters.item(E)}catch{if(y===1)return}y=Math.round(y*100),x?(x.Enabled=y!==100,x.Opacity=y):d.style.filter+=" progid:"+E+"(opacity="+y+")"}function Zl(d){for(var y=document.documentElement.style,x=0;x<d.length;x++)if(d[x]in y)return d[x];return!1}function $s(d,y,x){var E=y||new Z(0,0);d.style[vn]=(Se.ie3d?"translate("+E.x+"px,"+E.y+"px)":"translate3d("+E.x+"px,"+E.y+"px,0)")+(x?" scale("+x+")":"")}function Ui(d,y){d._leaflet_pos=y,Se.any3d?$s(d,y):(d.style.left=y.x+"px",d.style.top=y.y+"px")}function Qo(d){return d._leaflet_pos||new Z(0,0)}var Br,Au,id;if("onselectstart"in document)Br=function(){yt(window,"selectstart",nn)},Au=function(){ei(window,"selectstart",nn)};else{var Xl=Zl(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Br=function(){if(Xl){var d=document.documentElement.style;id=d[Xl],d[Xl]="none"}},Au=function(){Xl&&(document.documentElement.style[Xl]=id,id=void 0)}}function Eu(){yt(window,"dragstart",nn)}function tg(){ei(window,"dragstart",nn)}var nd,ql;function Ru(d){for(;d.tabIndex===-1;)d=d.parentNode;d.style&&(Ql(),nd=d,ql=d.style.outlineStyle,d.style.outlineStyle="none",yt(window,"keydown",Ql))}function Ql(){nd&&(nd.style.outlineStyle=ql,nd=void 0,ql=void 0,ei(window,"keydown",Ql))}function ja(d){do d=d.parentNode;while((!d.offsetWidth||!d.offsetHeight)&&d!==document.body);return d}function Jo(d){var y=d.getBoundingClientRect();return{x:y.width/d.offsetWidth||1,y:y.height/d.offsetHeight||1,boundingClientRect:y}}var uy={__proto__:null,TRANSFORM:vn,TRANSITION:qn,TRANSITION_END:Ks,get:qo,getStyle:ui,create:Mt,remove:gi,empty:Dn,toFront:Ha,toBack:Kl,hasClass:$l,addClass:xt,removeClass:Ai,setClass:eg,getClass:Qn,setOpacity:ms,testProp:Zl,setTransform:$s,setPosition:Ui,getPosition:Qo,get disableTextSelection(){return Br},get enableTextSelection(){return Au},disableImageDrag:Eu,enableImageDrag:tg,preventOutline:Ru,restoreOutline:Ql,getSizedParentNode:ja,getScale:Jo};function yt(d,y,x,E){if(y&&typeof y=="object")for(var O in y)Va(d,O,y[O],x);else{y=C(y);for(var G=0,X=y.length;G<X;G++)Va(d,y[G],x,E)}return this}var lr="_leaflet_events";function ei(d,y,x,E){if(arguments.length===1)zr(d),delete d[lr];else if(y&&typeof y=="object")for(var O in y)Gr(d,O,y[O],x);else if(y=C(y),arguments.length===2)zr(d,function(le){return _(y,le)!==-1});else for(var G=0,X=y.length;G<X;G++)Gr(d,y[G],x,E);return this}function zr(d,y){for(var x in d[lr]){var E=x.split(/\d/)[0];(!y||y(E))&&Gr(d,E,null,null,x)}}var Iu={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Va(d,y,x,E){var O=y+c(x)+(E?"_"+c(E):"");if(d[lr]&&d[lr][O])return this;var G=function(le){return x.call(E||d,le||window.event)},X=G;!Se.touchNative&&Se.pointer&&y.indexOf("touch")===0?G=Yt(d,y,G):Se.touch&&y==="dblclick"?G=yo(d,G):"addEventListener"in d?y==="touchstart"||y==="touchmove"||y==="wheel"||y==="mousewheel"?d.addEventListener(Iu[y]||y,G,Se.passiveEvents?{passive:!1}:!1):y==="mouseenter"||y==="mouseleave"?(G=function(le){le=le||window.event,Ua(d,le)&&X(le)},d.addEventListener(Iu[y],G,!1)):d.addEventListener(y,X,!1):d.attachEvent("on"+y,G),d[lr]=d[lr]||{},d[lr][O]=G}function Gr(d,y,x,E,O){O=O||y+c(x)+(E?"_"+c(E):"");var G=d[lr]&&d[lr][O];if(!G)return this;!Se.touchNative&&Se.pointer&&y.indexOf("touch")===0?Bt(d,y,G):Se.touch&&y==="dblclick"?Tt(d,G):"removeEventListener"in d?d.removeEventListener(Iu[y]||y,G,!1):d.detachEvent("on"+y,G),d[lr][O]=null}function vo(d){return d.stopPropagation?d.stopPropagation():d.originalEvent?d.originalEvent._stopped=!0:d.cancelBubble=!0,this}function Jl(d){return Va(d,"wheel",vo),this}function ec(d){return yt(d,"mousedown touchstart dblclick contextmenu",vo),d._leaflet_disable_click=!0,this}function nn(d){return d.preventDefault?d.preventDefault():d.returnValue=!1,this}function Hr(d){return nn(d),vo(d),this}function ig(d){if(d.composedPath)return d.composedPath();for(var y=[],x=d.target;x;)y.push(x),x=x.parentNode;return y}function Jn(d,y){if(!y)return new Z(d.clientX,d.clientY);var x=Jo(y),E=x.boundingClientRect;return new Z((d.clientX-E.left)/x.x-y.clientLeft,(d.clientY-E.top)/x.y-y.clientTop)}var Wa=Se.linux&&Se.chrome?window.devicePixelRatio:Se.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function ku(d){return Se.edge?d.wheelDeltaY/2:d.deltaY&&d.deltaMode===0?-d.deltaY/Wa:d.deltaY&&d.deltaMode===1?-d.deltaY*20:d.deltaY&&d.deltaMode===2?-d.deltaY*60:d.deltaX||d.deltaZ?0:d.wheelDelta?(d.wheelDeltaY||d.wheelDelta)/2:d.detail&&Math.abs(d.detail)<32765?-d.detail*20:d.detail?d.detail/-32765*60:0}function Ua(d,y){var x=y.relatedTarget;if(!x)return!0;try{for(;x&&x!==d;)x=x.parentNode}catch{return!1}return x!==d}var Kx={__proto__:null,on:yt,off:ei,stopPropagation:vo,disableScrollPropagation:Jl,disableClickPropagation:ec,preventDefault:nn,stop:Hr,getPropagationPath:ig,getMousePosition:Jn,getWheelDelta:ku,isExternalTarget:Ua,addListener:yt,removeListener:ei},sd=re.extend({run:function(d,y,x,E){this.stop(),this._el=d,this._inProgress=!0,this._duration=x||.25,this._easeOutPower=1/Math.max(E||.5,.2),this._startPos=Qo(d),this._offset=y.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=$(this._animate,this),this._step()},_step:function(d){var y=+new Date-this._startTime,x=this._duration*1e3;y<x?this._runFrame(this._easeOut(y/x),d):(this._runFrame(1),this._complete())},_runFrame:function(d,y){var x=this._startPos.add(this._offset.multiplyBy(d));y&&x._round(),Ui(this._el,x),this.fire("step")},_complete:function(){Q(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(d){return 1-Math.pow(1-d,this._easeOutPower)}}),Nt=re.extend({options:{crs:qe,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(d,y){y=w(this,y),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(d),this._initLayout(),this._onResize=o(this._onResize,this),this._initEvents(),y.maxBounds&&this.setMaxBounds(y.maxBounds),y.zoom!==void 0&&(this._zoom=this._limitZoom(y.zoom)),y.center&&y.zoom!==void 0&&this.setView(he(y.center),y.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=qn&&Se.any3d&&!Se.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),yt(this._proxy,Ks,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(d,y,x){if(y=y===void 0?this._zoom:this._limitZoom(y),d=this._limitCenter(he(d),y,this.options.maxBounds),x=x||{},this._stop(),this._loaded&&!x.reset&&x!==!0){x.animate!==void 0&&(x.zoom=s({animate:x.animate},x.zoom),x.pan=s({animate:x.animate,duration:x.duration},x.pan));var E=this._zoom!==y?this._tryAnimatedZoom&&this._tryAnimatedZoom(d,y,x.zoom):this._tryAnimatedPan(d,x.pan);if(E)return clearTimeout(this._sizeTimer),this}return this._resetView(d,y,x.pan&&x.pan.noMoveStart),this},setZoom:function(d,y){return this._loaded?this.setView(this.getCenter(),d,{zoom:y}):(this._zoom=d,this)},zoomIn:function(d,y){return d=d||(Se.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+d,y)},zoomOut:function(d,y){return d=d||(Se.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-d,y)},setZoomAround:function(d,y,x){var E=this.getZoomScale(y),O=this.getSize().divideBy(2),G=d instanceof Z?d:this.latLngToContainerPoint(d),X=G.subtract(O).multiplyBy(1-1/E),le=this.containerPointToLatLng(O.add(X));return this.setView(le,y,{zoom:x})},_getBoundsCenterZoom:function(d,y){y=y||{},d=d.getBounds?d.getBounds():se(d);var x=H(y.paddingTopLeft||y.padding||[0,0]),E=H(y.paddingBottomRight||y.padding||[0,0]),O=this.getBoundsZoom(d,!1,x.add(E));if(O=typeof y.maxZoom=="number"?Math.min(y.maxZoom,O):O,O===1/0)return{center:d.getCenter(),zoom:O};var G=E.subtract(x).divideBy(2),X=this.project(d.getSouthWest(),O),le=this.project(d.getNorthEast(),O),pe=this.unproject(X.add(le).divideBy(2).add(G),O);return{center:pe,zoom:O}},fitBounds:function(d,y){if(d=se(d),!d.isValid())throw new Error("Bounds are not valid.");var x=this._getBoundsCenterZoom(d,y);return this.setView(x.center,x.zoom,y)},fitWorld:function(d){return this.fitBounds([[-90,-180],[90,180]],d)},panTo:function(d,y){return this.setView(d,this._zoom,{pan:y})},panBy:function(d,y){if(d=H(d).round(),y=y||{},!d.x&&!d.y)return this.fire("moveend");if(y.animate!==!0&&!this.getSize().contains(d))return this._resetView(this.unproject(this.project(this.getCenter()).add(d)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new sd,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),y.noMoveStart||this.fire("movestart"),y.animate!==!1){xt(this._mapPane,"leaflet-pan-anim");var x=this._getMapPanePos().subtract(d).round();this._panAnim.run(this._mapPane,x,y.duration||.25,y.easeLinearity)}else this._rawPanBy(d),this.fire("move").fire("moveend");return this},flyTo:function(d,y,x){if(x=x||{},x.animate===!1||!Se.any3d)return this.setView(d,y,x);this._stop();var E=this.project(this.getCenter()),O=this.project(d),G=this.getSize(),X=this._zoom;d=he(d),y=y===void 0?X:y;var le=Math.max(G.x,G.y),pe=le*this.getZoomScale(X,y),Ae=O.distanceTo(E)||1,ze=1.42,Ye=ze*ze;function Xe(Bi){var Wr=Bi?-1:1,xo=Bi?pe:le,sa=pe*pe-le*le+Wr*Ye*Ye*Ae*Ae,So=2*xo*Ye*Ae,Uu=sa/So,yd=Math.sqrt(Uu*Uu+1)-Uu,Yu=yd<1e-9?-18:Math.log(yd);return Yu}function mt(Bi){return(Math.exp(Bi)-Math.exp(-Bi))/2}function Ei(Bi){return(Math.exp(Bi)+Math.exp(-Bi))/2}function Yi(Bi){return mt(Bi)/Ei(Bi)}var Pn=Xe(0);function Zs(Bi){return le*(Ei(Pn)/Ei(Pn+ze*Bi))}function Ey(Bi){return le*(Ei(Pn)*Yi(Pn+ze*Bi)-mt(Pn))/Ye}function Ry(Bi){return 1-Math.pow(1-Bi,1.5)}var Wu=Date.now(),dc=(Xe(1)-Pn)/ze,Iy=x.duration?1e3*x.duration:1e3*dc*.8;function fc(){var Bi=(Date.now()-Wu)/Iy,Wr=Ry(Bi)*dc;Bi<=1?(this._flyToFrame=$(fc,this),this._move(this.unproject(E.add(O.subtract(E).multiplyBy(Ey(Wr)/Ae)),X),this.getScaleZoom(le/Zs(Wr),X),{flyTo:!0})):this._move(d,y)._moveEnd(!0)}return this._moveStart(!0,x.noMoveStart),fc.call(this),this},flyToBounds:function(d,y){var x=this._getBoundsCenterZoom(d,y);return this.flyTo(x.center,x.zoom,y)},setMaxBounds:function(d){return d=se(d),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),d.isValid()?(this.options.maxBounds=d,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(d){var y=this.options.minZoom;return this.options.minZoom=d,this._loaded&&y!==d&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(d):this},setMaxZoom:function(d){var y=this.options.maxZoom;return this.options.maxZoom=d,this._loaded&&y!==d&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(d):this},panInsideBounds:function(d,y){this._enforcingBounds=!0;var x=this.getCenter(),E=this._limitCenter(x,this._zoom,se(d));return x.equals(E)||this.panTo(E,y),this._enforcingBounds=!1,this},panInside:function(d,y){y=y||{};var x=H(y.paddingTopLeft||y.padding||[0,0]),E=H(y.paddingBottomRight||y.padding||[0,0]),O=this.project(this.getCenter()),G=this.project(d),X=this.getPixelBounds(),le=ie([X.min.add(x),X.max.subtract(E)]),pe=le.getSize();if(!le.contains(G)){this._enforcingBounds=!0;var Ae=G.subtract(le.getCenter()),ze=le.extend(G).getSize().subtract(pe);O.x+=Ae.x<0?-ze.x:ze.x,O.y+=Ae.y<0?-ze.y:ze.y,this.panTo(this.unproject(O),y),this._enforcingBounds=!1}return this},invalidateSize:function(d){if(!this._loaded)return this;d=s({animate:!1,pan:!0},d===!0?{animate:!0}:d);var y=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var x=this.getSize(),E=y.divideBy(2).round(),O=x.divideBy(2).round(),G=E.subtract(O);return!G.x&&!G.y?this:(d.animate&&d.pan?this.panBy(G):(d.pan&&this._rawPanBy(G),this.fire("move"),d.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(o(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:y,newSize:x}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(d){if(d=this._locateOptions=s({timeout:1e4,watch:!1},d),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var y=o(this._handleGeolocationResponse,this),x=o(this._handleGeolocationError,this);return d.watch?this._locationWatchId=navigator.geolocation.watchPosition(y,x,d):navigator.geolocation.getCurrentPosition(y,x,d),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(d){if(this._container._leaflet_id){var y=d.code,x=d.message||(y===1?"permission denied":y===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:y,message:"Geolocation error: "+x+"."})}},_handleGeolocationResponse:function(d){if(this._container._leaflet_id){var y=d.coords.latitude,x=d.coords.longitude,E=new ye(y,x),O=E.toBounds(d.coords.accuracy*2),G=this._locateOptions;if(G.setView){var X=this.getBoundsZoom(O);this.setView(E,G.maxZoom?Math.min(X,G.maxZoom):X)}var le={latlng:E,bounds:O,timestamp:d.timestamp};for(var pe in d.coords)typeof d.coords[pe]=="number"&&(le[pe]=d.coords[pe]);this.fire("locationfound",le)}},addHandler:function(d,y){if(!y)return this;var x=this[d]=new y(this);return this._handlers.push(x),this.options[d]&&x.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),gi(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(Q(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var d;for(d in this._layers)this._layers[d].remove();for(d in this._panes)gi(this._panes[d]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(d,y){var x="leaflet-pane"+(d?" leaflet-"+d.replace("Pane","")+"-pane":""),E=Mt("div",x,y||this._mapPane);return d&&(this._panes[d]=E),E},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var d=this.getPixelBounds(),y=this.unproject(d.getBottomLeft()),x=this.unproject(d.getTopRight());return new te(y,x)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(d,y,x){d=se(d),x=H(x||[0,0]);var E=this.getZoom()||0,O=this.getMinZoom(),G=this.getMaxZoom(),X=d.getNorthWest(),le=d.getSouthEast(),pe=this.getSize().subtract(x),Ae=ie(this.project(le,E),this.project(X,E)).getSize(),ze=Se.any3d?this.options.zoomSnap:1,Ye=pe.x/Ae.x,Xe=pe.y/Ae.y,mt=y?Math.max(Ye,Xe):Math.min(Ye,Xe);return E=this.getScaleZoom(mt,E),ze&&(E=Math.round(E/(ze/100))*(ze/100),E=y?Math.ceil(E/ze)*ze:Math.floor(E/ze)*ze),Math.max(O,Math.min(G,E))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new Z(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(d,y){var x=this._getTopLeftPoint(d,y);return new K(x,x.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(d){return this.options.crs.getProjectedBounds(d===void 0?this.getZoom():d)},getPane:function(d){return typeof d=="string"?this._panes[d]:d},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(d,y){var x=this.options.crs;return y=y===void 0?this._zoom:y,x.scale(d)/x.scale(y)},getScaleZoom:function(d,y){var x=this.options.crs;y=y===void 0?this._zoom:y;var E=x.zoom(d*x.scale(y));return isNaN(E)?1/0:E},project:function(d,y){return y=y===void 0?this._zoom:y,this.options.crs.latLngToPoint(he(d),y)},unproject:function(d,y){return y=y===void 0?this._zoom:y,this.options.crs.pointToLatLng(H(d),y)},layerPointToLatLng:function(d){var y=H(d).add(this.getPixelOrigin());return this.unproject(y)},latLngToLayerPoint:function(d){var y=this.project(he(d))._round();return y._subtract(this.getPixelOrigin())},wrapLatLng:function(d){return this.options.crs.wrapLatLng(he(d))},wrapLatLngBounds:function(d){return this.options.crs.wrapLatLngBounds(se(d))},distance:function(d,y){return this.options.crs.distance(he(d),he(y))},containerPointToLayerPoint:function(d){return H(d).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(d){return H(d).add(this._getMapPanePos())},containerPointToLatLng:function(d){var y=this.containerPointToLayerPoint(H(d));return this.layerPointToLatLng(y)},latLngToContainerPoint:function(d){return this.layerPointToContainerPoint(this.latLngToLayerPoint(he(d)))},mouseEventToContainerPoint:function(d){return Jn(d,this._container)},mouseEventToLayerPoint:function(d){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(d))},mouseEventToLatLng:function(d){return this.layerPointToLatLng(this.mouseEventToLayerPoint(d))},_initContainer:function(d){var y=this._container=qo(d);if(y){if(y._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");yt(y,"scroll",this._onScroll,this),this._containerId=c(y)},_initLayout:function(){var d=this._container;this._fadeAnimated=this.options.fadeAnimation&&Se.any3d,xt(d,"leaflet-container"+(Se.touch?" leaflet-touch":"")+(Se.retina?" leaflet-retina":"")+(Se.ielt9?" leaflet-oldie":"")+(Se.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var y=ui(d,"position");y!=="absolute"&&y!=="relative"&&y!=="fixed"&&y!=="sticky"&&(d.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var d=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Ui(this._mapPane,new Z(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(xt(d.markerPane,"leaflet-zoom-hide"),xt(d.shadowPane,"leaflet-zoom-hide"))},_resetView:function(d,y,x){Ui(this._mapPane,new Z(0,0));var E=!this._loaded;this._loaded=!0,y=this._limitZoom(y),this.fire("viewprereset");var O=this._zoom!==y;this._moveStart(O,x)._move(d,y)._moveEnd(O),this.fire("viewreset"),E&&this.fire("load")},_moveStart:function(d,y){return d&&this.fire("zoomstart"),y||this.fire("movestart"),this},_move:function(d,y,x,E){y===void 0&&(y=this._zoom);var O=this._zoom!==y;return this._zoom=y,this._lastCenter=d,this._pixelOrigin=this._getNewPixelOrigin(d),E?x&&x.pinch&&this.fire("zoom",x):((O||x&&x.pinch)&&this.fire("zoom",x),this.fire("move",x)),this},_moveEnd:function(d){return d&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return Q(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(d){Ui(this._mapPane,this._getMapPanePos().subtract(d))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(d){this._targets={},this._targets[c(this._container)]=this;var y=d?ei:yt;y(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&y(window,"resize",this._onResize,this),Se.any3d&&this.options.transform3DLimit&&(d?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){Q(this._resizeRequest),this._resizeRequest=$(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var d=this._getMapPanePos();Math.max(Math.abs(d.x),Math.abs(d.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(d,y){for(var x=[],E,O=y==="mouseout"||y==="mouseover",G=d.target||d.srcElement,X=!1;G;){if(E=this._targets[c(G)],E&&(y==="click"||y==="preclick")&&this._draggableMoved(E)){X=!0;break}if(E&&E.listens(y,!0)&&(O&&!Ua(G,d)||(x.push(E),O))||G===this._container)break;G=G.parentNode}return!x.length&&!X&&!O&&this.listens(y,!0)&&(x=[this]),x},_isClickDisabled:function(d){for(;d&&d!==this._container;){if(d._leaflet_disable_click)return!0;d=d.parentNode}},_handleDOMEvent:function(d){var y=d.target||d.srcElement;if(!(!this._loaded||y._leaflet_disable_events||d.type==="click"&&this._isClickDisabled(y))){var x=d.type;x==="mousedown"&&Ru(y),this._fireDOMEvent(d,x)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(d,y,x){if(d.type==="click"){var E=s({},d);E.type="preclick",this._fireDOMEvent(E,E.type,x)}var O=this._findEventTargets(d,y);if(x){for(var G=[],X=0;X<x.length;X++)x[X].listens(y,!0)&&G.push(x[X]);O=G.concat(O)}if(O.length){y==="contextmenu"&&nn(d);var le=O[0],pe={originalEvent:d};if(d.type!=="keypress"&&d.type!=="keydown"&&d.type!=="keyup"){var Ae=le.getLatLng&&(!le._radius||le._radius<=10);pe.containerPoint=Ae?this.latLngToContainerPoint(le.getLatLng()):this.mouseEventToContainerPoint(d),pe.layerPoint=this.containerPointToLayerPoint(pe.containerPoint),pe.latlng=Ae?le.getLatLng():this.layerPointToLatLng(pe.layerPoint)}for(X=0;X<O.length;X++)if(O[X].fire(y,pe,!0),pe.originalEvent._stopped||O[X].options.bubblingMouseEvents===!1&&_(this._mouseEvents,y)!==-1)return}},_draggableMoved:function(d){return d=d.dragging&&d.dragging.enabled()?d:this,d.dragging&&d.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var d=0,y=this._handlers.length;d<y;d++)this._handlers[d].disable()},whenReady:function(d,y){return this._loaded?d.call(y||this,{target:this}):this.on("load",d,y),this},_getMapPanePos:function(){return Qo(this._mapPane)||new Z(0,0)},_moved:function(){var d=this._getMapPanePos();return d&&!d.equals([0,0])},_getTopLeftPoint:function(d,y){var x=d&&y!==void 0?this._getNewPixelOrigin(d,y):this.getPixelOrigin();return x.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(d,y){var x=this.getSize()._divideBy(2);return this.project(d,y)._subtract(x)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(d,y,x){var E=this._getNewPixelOrigin(x,y);return this.project(d,y)._subtract(E)},_latLngBoundsToNewLayerBounds:function(d,y,x){var E=this._getNewPixelOrigin(x,y);return ie([this.project(d.getSouthWest(),y)._subtract(E),this.project(d.getNorthWest(),y)._subtract(E),this.project(d.getSouthEast(),y)._subtract(E),this.project(d.getNorthEast(),y)._subtract(E)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(d){return this.latLngToLayerPoint(d).subtract(this._getCenterLayerPoint())},_limitCenter:function(d,y,x){if(!x)return d;var E=this.project(d,y),O=this.getSize().divideBy(2),G=new K(E.subtract(O),E.add(O)),X=this._getBoundsOffset(G,x,y);return Math.abs(X.x)<=1&&Math.abs(X.y)<=1?d:this.unproject(E.add(X),y)},_limitOffset:function(d,y){if(!y)return d;var x=this.getPixelBounds(),E=new K(x.min.add(d),x.max.add(d));return d.add(this._getBoundsOffset(E,y))},_getBoundsOffset:function(d,y,x){var E=ie(this.project(y.getNorthEast(),x),this.project(y.getSouthWest(),x)),O=E.min.subtract(d.min),G=E.max.subtract(d.max),X=this._rebound(O.x,-G.x),le=this._rebound(O.y,-G.y);return new Z(X,le)},_rebound:function(d,y){return d+y>0?Math.round(d-y)/2:Math.max(0,Math.ceil(d))-Math.max(0,Math.floor(y))},_limitZoom:function(d){var y=this.getMinZoom(),x=this.getMaxZoom(),E=Se.any3d?this.options.zoomSnap:1;return E&&(d=Math.round(d/E)*E),Math.max(y,Math.min(x,d))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Ai(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(d,y){var x=this._getCenterOffset(d)._trunc();return(y&&y.animate)!==!0&&!this.getSize().contains(x)?!1:(this.panBy(x,y),!0)},_createAnimProxy:function(){var d=this._proxy=Mt("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(d),this.on("zoomanim",function(y){var x=vn,E=this._proxy.style[x];$s(this._proxy,this.project(y.center,y.zoom),this.getZoomScale(y.zoom,1)),E===this._proxy.style[x]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){gi(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var d=this.getCenter(),y=this.getZoom();$s(this._proxy,this.project(d,y),this.getZoomScale(y,1))},_catchTransitionEnd:function(d){this._animatingZoom&&d.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(d,y,x){if(this._animatingZoom)return!0;if(x=x||{},!this._zoomAnimated||x.animate===!1||this._nothingToAnimate()||Math.abs(y-this._zoom)>this.options.zoomAnimationThreshold)return!1;var E=this.getZoomScale(y),O=this._getCenterOffset(d)._divideBy(1-1/E);return x.animate!==!0&&!this.getSize().contains(O)?!1:($(function(){this._moveStart(!0,x.noMoveStart||!1)._animateZoom(d,y,!0)},this),!0)},_animateZoom:function(d,y,x,E){this._mapPane&&(x&&(this._animatingZoom=!0,this._animateToCenter=d,this._animateToZoom=y,xt(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:d,zoom:y,noUpdate:E}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(o(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Ai(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function _u(d,y){return new Nt(d,y)}var ys=be.extend({options:{position:"topright"},initialize:function(d){w(this,d)},getPosition:function(){return this.options.position},setPosition:function(d){var y=this._map;return y&&y.removeControl(this),this.options.position=d,y&&y.addControl(this),this},getContainer:function(){return this._container},addTo:function(d){this.remove(),this._map=d;var y=this._container=this.onAdd(d),x=this.getPosition(),E=d._controlCorners[x];return xt(y,"leaflet-control"),x.indexOf("bottom")!==-1?E.insertBefore(y,E.firstChild):E.appendChild(y),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(gi(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(d){this._map&&d&&d.screenX>0&&d.screenY>0&&this._map.getContainer().focus()}}),tc=function(d){return new ys(d)};Nt.include({addControl:function(d){return d.addTo(this),this},removeControl:function(d){return d.remove(),this},_initControlPos:function(){var d=this._controlCorners={},y="leaflet-",x=this._controlContainer=Mt("div",y+"control-container",this._container);function E(O,G){var X=y+O+" "+y+G;d[O+G]=Mt("div",X,x)}E("top","left"),E("top","right"),E("bottom","left"),E("bottom","right")},_clearControlPos:function(){for(var d in this._controlCorners)gi(this._controlCorners[d]);gi(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var hy=ys.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(d,y,x,E){return x<E?-1:E<x?1:0}},initialize:function(d,y,x){w(this,x),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var E in d)this._addLayer(d[E],E);for(E in y)this._addLayer(y[E],E,!0)},onAdd:function(d){this._initLayout(),this._update(),this._map=d,d.on("zoomend",this._checkDisabledLayers,this);for(var y=0;y<this._layers.length;y++)this._layers[y].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(d){return ys.prototype.addTo.call(this,d),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var d=0;d<this._layers.length;d++)this._layers[d].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(d,y){return this._addLayer(d,y),this._map?this._update():this},addOverlay:function(d,y){return this._addLayer(d,y,!0),this._map?this._update():this},removeLayer:function(d){d.off("add remove",this._onLayerChange,this);var y=this._getLayer(c(d));return y&&this._layers.splice(this._layers.indexOf(y),1),this._map?this._update():this},expand:function(){xt(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var d=this._map.getSize().y-(this._container.offsetTop+50);return d<this._section.clientHeight?(xt(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=d+"px"):Ai(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Ai(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var d="leaflet-control-layers",y=this._container=Mt("div",d),x=this.options.collapsed;y.setAttribute("aria-haspopup",!0),ec(y),Jl(y);var E=this._section=Mt("section",d+"-list");x&&(this._map.on("click",this.collapse,this),yt(y,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var O=this._layersLink=Mt("a",d+"-toggle",y);O.href="#",O.title="Layers",O.setAttribute("role","button"),yt(O,{keydown:function(G){G.keyCode===13&&this._expandSafely()},click:function(G){nn(G),this._expandSafely()}},this),x||this.expand(),this._baseLayersList=Mt("div",d+"-base",E),this._separator=Mt("div",d+"-separator",E),this._overlaysList=Mt("div",d+"-overlays",E),y.appendChild(E)},_getLayer:function(d){for(var y=0;y<this._layers.length;y++)if(this._layers[y]&&c(this._layers[y].layer)===d)return this._layers[y]},_addLayer:function(d,y,x){this._map&&d.on("add remove",this._onLayerChange,this),this._layers.push({layer:d,name:y,overlay:x}),this.options.sortLayers&&this._layers.sort(o(function(E,O){return this.options.sortFunction(E.layer,O.layer,E.name,O.name)},this)),this.options.autoZIndex&&d.setZIndex&&(this._lastZIndex++,d.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Dn(this._baseLayersList),Dn(this._overlaysList),this._layerControlInputs=[];var d,y,x,E,O=0;for(x=0;x<this._layers.length;x++)E=this._layers[x],this._addItem(E),y=y||E.overlay,d=d||!E.overlay,O+=E.overlay?0:1;return this.options.hideSingleBase&&(d=d&&O>1,this._baseLayersList.style.display=d?"":"none"),this._separator.style.display=y&&d?"":"none",this},_onLayerChange:function(d){this._handlingClick||this._update();var y=this._getLayer(c(d.target)),x=y.overlay?d.type==="add"?"overlayadd":"overlayremove":d.type==="add"?"baselayerchange":null;x&&this._map.fire(x,y)},_createRadioElement:function(d,y){var x='<input type="radio" class="leaflet-control-layers-selector" name="'+d+'"'+(y?' checked="checked"':"")+"/>",E=document.createElement("div");return E.innerHTML=x,E.firstChild},_addItem:function(d){var y=document.createElement("label"),x=this._map.hasLayer(d.layer),E;d.overlay?(E=document.createElement("input"),E.type="checkbox",E.className="leaflet-control-layers-selector",E.defaultChecked=x):E=this._createRadioElement("leaflet-base-layers_"+c(this),x),this._layerControlInputs.push(E),E.layerId=c(d.layer),yt(E,"click",this._onInputClick,this);var O=document.createElement("span");O.innerHTML=" "+d.name;var G=document.createElement("span");y.appendChild(G),G.appendChild(E),G.appendChild(O);var X=d.overlay?this._overlaysList:this._baseLayersList;return X.appendChild(y),this._checkDisabledLayers(),y},_onInputClick:function(){if(!this._preventClick){var d=this._layerControlInputs,y,x,E=[],O=[];this._handlingClick=!0;for(var G=d.length-1;G>=0;G--)y=d[G],x=this._getLayer(y.layerId).layer,y.checked?E.push(x):y.checked||O.push(x);for(G=0;G<O.length;G++)this._map.hasLayer(O[G])&&this._map.removeLayer(O[G]);for(G=0;G<E.length;G++)this._map.hasLayer(E[G])||this._map.addLayer(E[G]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var d=this._layerControlInputs,y,x,E=this._map.getZoom(),O=d.length-1;O>=0;O--)y=d[O],x=this._getLayer(y.layerId).layer,y.disabled=x.options.minZoom!==void 0&&E<x.options.minZoom||x.options.maxZoom!==void 0&&E>x.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var d=this._section;this._preventClick=!0,yt(d,"click",nn),this.expand();var y=this;setTimeout(function(){ei(d,"click",nn),y._preventClick=!1})}}),$x=function(d,y,x){return new hy(d,y,x)},ng=ys.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(d){var y="leaflet-control-zoom",x=Mt("div",y+" leaflet-bar"),E=this.options;return this._zoomInButton=this._createButton(E.zoomInText,E.zoomInTitle,y+"-in",x,this._zoomIn),this._zoomOutButton=this._createButton(E.zoomOutText,E.zoomOutTitle,y+"-out",x,this._zoomOut),this._updateDisabled(),d.on("zoomend zoomlevelschange",this._updateDisabled,this),x},onRemove:function(d){d.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(d){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(d.shiftKey?3:1))},_zoomOut:function(d){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(d.shiftKey?3:1))},_createButton:function(d,y,x,E,O){var G=Mt("a",x,E);return G.innerHTML=d,G.href="#",G.title=y,G.setAttribute("role","button"),G.setAttribute("aria-label",y),ec(G),yt(G,"click",Hr),yt(G,"click",O,this),yt(G,"click",this._refocusOnMap,this),G},_updateDisabled:function(){var d=this._map,y="leaflet-disabled";Ai(this._zoomInButton,y),Ai(this._zoomOutButton,y),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||d._zoom===d.getMinZoom())&&(xt(this._zoomOutButton,y),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||d._zoom===d.getMaxZoom())&&(xt(this._zoomInButton,y),this._zoomInButton.setAttribute("aria-disabled","true"))}});Nt.mergeOptions({zoomControl:!0}),Nt.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new ng,this.addControl(this.zoomControl))});var sg=function(d){return new ng(d)},dy=ys.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(d){var y="leaflet-control-scale",x=Mt("div",y),E=this.options;return this._addScales(E,y+"-line",x),d.on(E.updateWhenIdle?"moveend":"move",this._update,this),d.whenReady(this._update,this),x},onRemove:function(d){d.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(d,y,x){d.metric&&(this._mScale=Mt("div",y,x)),d.imperial&&(this._iScale=Mt("div",y,x))},_update:function(){var d=this._map,y=d.getSize().y/2,x=d.distance(d.containerPointToLatLng([0,y]),d.containerPointToLatLng([this.options.maxWidth,y]));this._updateScales(x)},_updateScales:function(d){this.options.metric&&d&&this._updateMetric(d),this.options.imperial&&d&&this._updateImperial(d)},_updateMetric:function(d){var y=this._getRoundNum(d),x=y<1e3?y+" m":y/1e3+" km";this._updateScale(this._mScale,x,y/d)},_updateImperial:function(d){var y=d*3.2808399,x,E,O;y>5280?(x=y/5280,E=this._getRoundNum(x),this._updateScale(this._iScale,E+" mi",E/x)):(O=this._getRoundNum(y),this._updateScale(this._iScale,O+" ft",O/y))},_updateScale:function(d,y,x){d.style.width=Math.round(this.options.maxWidth*x)+"px",d.innerHTML=y},_getRoundNum:function(d){var y=Math.pow(10,(Math.floor(d)+"").length-1),x=d/y;return x=x>=10?10:x>=5?5:x>=3?3:x>=2?2:1,y*x}}),Zx=function(d){return new dy(d)},Xx='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',rg=ys.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Se.inlineSvg?Xx+" ":"")+"Leaflet</a>"},initialize:function(d){w(this,d),this._attributions={}},onAdd:function(d){d.attributionControl=this,this._container=Mt("div","leaflet-control-attribution"),ec(this._container);for(var y in d._layers)d._layers[y].getAttribution&&this.addAttribution(d._layers[y].getAttribution());return this._update(),d.on("layeradd",this._addAttribution,this),this._container},onRemove:function(d){d.off("layeradd",this._addAttribution,this)},_addAttribution:function(d){d.layer.getAttribution&&(this.addAttribution(d.layer.getAttribution()),d.layer.once("remove",function(){this.removeAttribution(d.layer.getAttribution())},this))},setPrefix:function(d){return this.options.prefix=d,this._update(),this},addAttribution:function(d){return d?(this._attributions[d]||(this._attributions[d]=0),this._attributions[d]++,this._update(),this):this},removeAttribution:function(d){return d?(this._attributions[d]&&(this._attributions[d]--,this._update()),this):this},_update:function(){if(this._map){var d=[];for(var y in this._attributions)this._attributions[y]&&d.push(y);var x=[];this.options.prefix&&x.push(this.options.prefix),d.length&&x.push(d.join(", ")),this._container.innerHTML=x.join(' <span aria-hidden="true">|</span> ')}}});Nt.mergeOptions({attributionControl:!0}),Nt.addInitHook(function(){this.options.attributionControl&&new rg().addTo(this)});var qx=function(d){return new rg(d)};ys.Layers=hy,ys.Zoom=ng,ys.Scale=dy,ys.Attribution=rg,tc.layers=$x,tc.zoom=sg,tc.scale=Zx,tc.attribution=qx;var cr=be.extend({initialize:function(d){this._map=d},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});cr.addTo=function(d,y){return d.addHandler(y,this),this};var Qx={Events:Y},fy=Se.touch?"touchstart mousedown":"mousedown",ea=re.extend({options:{clickTolerance:3},initialize:function(d,y,x,E){w(this,E),this._element=d,this._dragStartTarget=y||d,this._preventOutline=x},enable:function(){this._enabled||(yt(this._dragStartTarget,fy,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(ea._dragging===this&&this.finishDrag(!0),ei(this._dragStartTarget,fy,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(d){if(this._enabled&&(this._moved=!1,!$l(this._element,"leaflet-zoom-anim"))){if(d.touches&&d.touches.length!==1){ea._dragging===this&&this.finishDrag();return}if(!(ea._dragging||d.shiftKey||d.which!==1&&d.button!==1&&!d.touches)&&(ea._dragging=this,this._preventOutline&&Ru(this._element),Eu(),Br(),!this._moving)){this.fire("down");var y=d.touches?d.touches[0]:d,x=ja(this._element);this._startPoint=new Z(y.clientX,y.clientY),this._startPos=Qo(this._element),this._parentScale=Jo(x);var E=d.type==="mousedown";yt(document,E?"mousemove":"touchmove",this._onMove,this),yt(document,E?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(d){if(this._enabled){if(d.touches&&d.touches.length>1){this._moved=!0;return}var y=d.touches&&d.touches.length===1?d.touches[0]:d,x=new Z(y.clientX,y.clientY)._subtract(this._startPoint);!x.x&&!x.y||Math.abs(x.x)+Math.abs(x.y)<this.options.clickTolerance||(x.x/=this._parentScale.x,x.y/=this._parentScale.y,nn(d),this._moved||(this.fire("dragstart"),this._moved=!0,xt(document.body,"leaflet-dragging"),this._lastTarget=d.target||d.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),xt(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(x),this._moving=!0,this._lastEvent=d,this._updatePosition())}},_updatePosition:function(){var d={originalEvent:this._lastEvent};this.fire("predrag",d),Ui(this._element,this._newPos),this.fire("drag",d)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(d){Ai(document.body,"leaflet-dragging"),this._lastTarget&&(Ai(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),ei(document,"mousemove touchmove",this._onMove,this),ei(document,"mouseup touchend touchcancel",this._onUp,this),tg(),Au();var y=this._moved&&this._moving;this._moving=!1,ea._dragging=!1,y&&this.fire("dragend",{noInertia:d,distance:this._newPos.distanceTo(this._startPos)})}});function gy(d,y,x){var E,O=[1,4,2,8],G,X,le,pe,Ae,ze,Ye,Xe;for(G=0,ze=d.length;G<ze;G++)d[G]._code=Ya(d[G],y);for(le=0;le<4;le++){for(Ye=O[le],E=[],G=0,ze=d.length,X=ze-1;G<ze;X=G++)pe=d[G],Ae=d[X],pe._code&Ye?Ae._code&Ye||(Xe=od(Ae,pe,Ye,y,x),Xe._code=Ya(Xe,y),E.push(Xe)):(Ae._code&Ye&&(Xe=od(Ae,pe,Ye,y,x),Xe._code=Ya(Xe,y),E.push(Xe)),E.push(pe));d=E}return d}function rd(d,y){var x,E,O,G,X,le,pe,Ae,ze;if(!d||d.length===0)throw new Error("latlngs not passed");On(d)||(console.warn("latlngs are not flat! Only the first ring will be used"),d=d[0]);var Ye=he([0,0]),Xe=se(d),mt=Xe.getNorthWest().distanceTo(Xe.getSouthWest())*Xe.getNorthEast().distanceTo(Xe.getNorthWest());mt<1700&&(Ye=og(d));var Ei=d.length,Yi=[];for(x=0;x<Ei;x++){var Pn=he(d[x]);Yi.push(y.project(he([Pn.lat-Ye.lat,Pn.lng-Ye.lng])))}for(le=pe=Ae=0,x=0,E=Ei-1;x<Ei;E=x++)O=Yi[x],G=Yi[E],X=O.y*G.x-G.y*O.x,pe+=(O.x+G.x)*X,Ae+=(O.y+G.y)*X,le+=X*3;le===0?ze=Yi[0]:ze=[pe/le,Ae/le];var Zs=y.unproject(H(ze));return he([Zs.lat+Ye.lat,Zs.lng+Ye.lng])}function og(d){for(var y=0,x=0,E=0,O=0;O<d.length;O++){var G=he(d[O]);y+=G.lat,x+=G.lng,E++}return he([y/E,x/E])}var Jx={__proto__:null,clipPolygon:gy,polygonCenter:rd,centroid:og};function py(d,y){if(!y||!d.length)return d.slice();var x=y*y;return d=i0(d,x),d=t0(d,x),d}function ag(d,y,x){return Math.sqrt(Ka(d,y,x,!0))}function e0(d,y,x){return Ka(d,y,x)}function t0(d,y){var x=d.length,E=typeof Uint8Array<"u"?Uint8Array:Array,O=new E(x);O[0]=O[x-1]=1,lg(d,O,y,0,x-1);var G,X=[];for(G=0;G<x;G++)O[G]&&X.push(d[G]);return X}function lg(d,y,x,E,O){var G=0,X,le,pe;for(le=E+1;le<=O-1;le++)pe=Ka(d[le],d[E],d[O],!0),pe>G&&(X=le,G=pe);G>x&&(y[X]=1,lg(d,y,x,E,X),lg(d,y,x,X,O))}function i0(d,y){for(var x=[d[0]],E=1,O=0,G=d.length;E<G;E++)n0(d[E],d[O])>y&&(x.push(d[E]),O=E);return O<G-1&&x.push(d[G-1]),x}var my;function yy(d,y,x,E,O){var G=E?my:Ya(d,x),X=Ya(y,x),le,pe,Ae;for(my=X;;){if(!(G|X))return[d,y];if(G&X)return!1;le=G||X,pe=od(d,y,le,x,O),Ae=Ya(pe,x),le===G?(d=pe,G=Ae):(y=pe,X=Ae)}}function od(d,y,x,E,O){var G=y.x-d.x,X=y.y-d.y,le=E.min,pe=E.max,Ae,ze;return x&8?(Ae=d.x+G*(pe.y-d.y)/X,ze=pe.y):x&4?(Ae=d.x+G*(le.y-d.y)/X,ze=le.y):x&2?(Ae=pe.x,ze=d.y+X*(pe.x-d.x)/G):x&1&&(Ae=le.x,ze=d.y+X*(le.x-d.x)/G),new Z(Ae,ze,O)}function Ya(d,y){var x=0;return d.x<y.min.x?x|=1:d.x>y.max.x&&(x|=2),d.y<y.min.y?x|=4:d.y>y.max.y&&(x|=8),x}function n0(d,y){var x=y.x-d.x,E=y.y-d.y;return x*x+E*E}function Ka(d,y,x,E){var O=y.x,G=y.y,X=x.x-O,le=x.y-G,pe=X*X+le*le,Ae;return pe>0&&(Ae=((d.x-O)*X+(d.y-G)*le)/pe,Ae>1?(O=x.x,G=x.y):Ae>0&&(O+=X*Ae,G+=le*Ae)),X=d.x-O,le=d.y-G,E?X*X+le*le:new Z(O,G)}function On(d){return!k(d[0])||typeof d[0][0]!="object"&&typeof d[0][0]<"u"}function vy(d){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),On(d)}function cg(d,y){var x,E,O,G,X,le,pe,Ae;if(!d||d.length===0)throw new Error("latlngs not passed");On(d)||(console.warn("latlngs are not flat! Only the first ring will be used"),d=d[0]);var ze=he([0,0]),Ye=se(d),Xe=Ye.getNorthWest().distanceTo(Ye.getSouthWest())*Ye.getNorthEast().distanceTo(Ye.getNorthWest());Xe<1700&&(ze=og(d));var mt=d.length,Ei=[];for(x=0;x<mt;x++){var Yi=he(d[x]);Ei.push(y.project(he([Yi.lat-ze.lat,Yi.lng-ze.lng])))}for(x=0,E=0;x<mt-1;x++)E+=Ei[x].distanceTo(Ei[x+1])/2;if(E===0)Ae=Ei[0];else for(x=0,G=0;x<mt-1;x++)if(X=Ei[x],le=Ei[x+1],O=X.distanceTo(le),G+=O,G>E){pe=(G-E)/O,Ae=[le.x-pe*(le.x-X.x),le.y-pe*(le.y-X.y)];break}var Pn=y.unproject(H(Ae));return he([Pn.lat+ze.lat,Pn.lng+ze.lng])}var by={__proto__:null,simplify:py,pointToSegmentDistance:ag,closestPointOnSegment:e0,clipSegment:yy,_getEdgeIntersection:od,_getBitCode:Ya,_sqClosestPointOnSegment:Ka,isFlat:On,_flat:vy,polylineCenter:cg},ad={project:function(d){return new Z(d.lng,d.lat)},unproject:function(d){return new ye(d.y,d.x)},bounds:new K([-180,-90],[180,90])},ld={R:6378137,R_MINOR:6356752314245179e-9,bounds:new K([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(d){var y=Math.PI/180,x=this.R,E=d.lat*y,O=this.R_MINOR/x,G=Math.sqrt(1-O*O),X=G*Math.sin(E),le=Math.tan(Math.PI/4-E/2)/Math.pow((1-X)/(1+X),G/2);return E=-x*Math.log(Math.max(le,1e-10)),new Z(d.lng*y*x,E)},unproject:function(d){for(var y=180/Math.PI,x=this.R,E=this.R_MINOR/x,O=Math.sqrt(1-E*E),G=Math.exp(-d.y/x),X=Math.PI/2-2*Math.atan(G),le=0,pe=.1,Ae;le<15&&Math.abs(pe)>1e-7;le++)Ae=O*Math.sin(X),Ae=Math.pow((1-Ae)/(1+Ae),O/2),pe=Math.PI/2-2*Math.atan(G*Ae)-X,X+=pe;return new ye(X*y,d.x*y/x)}},Cy={__proto__:null,LonLat:ad,Mercator:ld,SphericalMercator:Ne},ic=s({},xe,{code:"EPSG:3395",projection:ld,transformation:function(){var d=.5/(Math.PI*ld.R);return lt(d,.5,-d,.5)}()}),xy=s({},xe,{code:"EPSG:4326",projection:ad,transformation:lt(1/180,1,-1/180,.5)}),s0=s({},Ie,{projection:ad,transformation:lt(1,0,-1,0),scale:function(d){return Math.pow(2,d)},zoom:function(d){return Math.log(d)/Math.LN2},distance:function(d,y){var x=y.lng-d.lng,E=y.lat-d.lat;return Math.sqrt(x*x+E*E)},infinite:!0});Ie.Earth=xe,Ie.EPSG3395=ic,Ie.EPSG3857=qe,Ie.EPSG900913=Ue,Ie.EPSG4326=xy,Ie.Simple=s0;var ur=re.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(d){return d.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(d){return d&&d.removeLayer(this),this},getPane:function(d){return this._map.getPane(d?this.options[d]||d:this.options.pane)},addInteractiveTarget:function(d){return this._map._targets[c(d)]=this,this},removeInteractiveTarget:function(d){return delete this._map._targets[c(d)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(d){var y=d.target;if(y.hasLayer(this)){if(this._map=y,this._zoomAnimated=y._zoomAnimated,this.getEvents){var x=this.getEvents();y.on(x,this),this.once("remove",function(){y.off(x,this)},this)}this.onAdd(y),this.fire("add"),y.fire("layeradd",{layer:this})}}});Nt.include({addLayer:function(d){if(!d._layerAdd)throw new Error("The provided object is not a Layer.");var y=c(d);return this._layers[y]?this:(this._layers[y]=d,d._mapToAdd=this,d.beforeAdd&&d.beforeAdd(this),this.whenReady(d._layerAdd,d),this)},removeLayer:function(d){var y=c(d);return this._layers[y]?(this._loaded&&d.onRemove(this),delete this._layers[y],this._loaded&&(this.fire("layerremove",{layer:d}),d.fire("remove")),d._map=d._mapToAdd=null,this):this},hasLayer:function(d){return c(d)in this._layers},eachLayer:function(d,y){for(var x in this._layers)d.call(y,this._layers[x]);return this},_addLayers:function(d){d=d?k(d)?d:[d]:[];for(var y=0,x=d.length;y<x;y++)this.addLayer(d[y])},_addZoomLimit:function(d){(!isNaN(d.options.maxZoom)||!isNaN(d.options.minZoom))&&(this._zoomBoundLayers[c(d)]=d,this._updateZoomLevels())},_removeZoomLimit:function(d){var y=c(d);this._zoomBoundLayers[y]&&(delete this._zoomBoundLayers[y],this._updateZoomLevels())},_updateZoomLevels:function(){var d=1/0,y=-1/0,x=this._getZoomSpan();for(var E in this._zoomBoundLayers){var O=this._zoomBoundLayers[E].options;d=O.minZoom===void 0?d:Math.min(d,O.minZoom),y=O.maxZoom===void 0?y:Math.max(y,O.maxZoom)}this._layersMaxZoom=y===-1/0?void 0:y,this._layersMinZoom=d===1/0?void 0:d,x!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var $a=ur.extend({initialize:function(d,y){w(this,y),this._layers={};var x,E;if(d)for(x=0,E=d.length;x<E;x++)this.addLayer(d[x])},addLayer:function(d){var y=this.getLayerId(d);return this._layers[y]=d,this._map&&this._map.addLayer(d),this},removeLayer:function(d){var y=d in this._layers?d:this.getLayerId(d);return this._map&&this._layers[y]&&this._map.removeLayer(this._layers[y]),delete this._layers[y],this},hasLayer:function(d){var y=typeof d=="number"?d:this.getLayerId(d);return y in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(d){var y=Array.prototype.slice.call(arguments,1),x,E;for(x in this._layers)E=this._layers[x],E[d]&&E[d].apply(E,y);return this},onAdd:function(d){this.eachLayer(d.addLayer,d)},onRemove:function(d){this.eachLayer(d.removeLayer,d)},eachLayer:function(d,y){for(var x in this._layers)d.call(y,this._layers[x]);return this},getLayer:function(d){return this._layers[d]},getLayers:function(){var d=[];return this.eachLayer(d.push,d),d},setZIndex:function(d){return this.invoke("setZIndex",d)},getLayerId:function(d){return c(d)}}),Sy=function(d,y){return new $a(d,y)},Rs=$a.extend({addLayer:function(d){return this.hasLayer(d)?this:(d.addEventParent(this),$a.prototype.addLayer.call(this,d),this.fire("layeradd",{layer:d}))},removeLayer:function(d){return this.hasLayer(d)?(d in this._layers&&(d=this._layers[d]),d.removeEventParent(this),$a.prototype.removeLayer.call(this,d),this.fire("layerremove",{layer:d})):this},setStyle:function(d){return this.invoke("setStyle",d)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var d=new te;for(var y in this._layers){var x=this._layers[y];d.extend(x.getBounds?x.getBounds():x.getLatLng())}return d}}),Nu=function(d,y){return new Rs(d,y)},nc=be.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(d){w(this,d)},createIcon:function(d){return this._createIcon("icon",d)},createShadow:function(d){return this._createIcon("shadow",d)},_createIcon:function(d,y){var x=this._getIconUrl(d);if(!x){if(d==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var E=this._createImg(x,y&&y.tagName==="IMG"?y:null);return this._setIconStyles(E,d),(this.options.crossOrigin||this.options.crossOrigin==="")&&(E.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),E},_setIconStyles:function(d,y){var x=this.options,E=x[y+"Size"];typeof E=="number"&&(E=[E,E]);var O=H(E),G=H(y==="shadow"&&x.shadowAnchor||x.iconAnchor||O&&O.divideBy(2,!0));d.className="leaflet-marker-"+y+" "+(x.className||""),G&&(d.style.marginLeft=-G.x+"px",d.style.marginTop=-G.y+"px"),O&&(d.style.width=O.x+"px",d.style.height=O.y+"px")},_createImg:function(d,y){return y=y||document.createElement("img"),y.src=d,y},_getIconUrl:function(d){return Se.retina&&this.options[d+"RetinaUrl"]||this.options[d+"Url"]}});function cd(d){return new nc(d)}var sc=nc.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(d){return typeof sc.imagePath!="string"&&(sc.imagePath=this._detectIconPath()),(this.options.imagePath||sc.imagePath)+nc.prototype._getIconUrl.call(this,d)},_stripUrl:function(d){var y=function(x,E,O){var G=E.exec(x);return G&&G[O]};return d=y(d,/^url\((['"])?(.+)\1\)$/,2),d&&y(d,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var d=Mt("div","leaflet-default-icon-path",document.body),y=ui(d,"background-image")||ui(d,"backgroundImage");if(document.body.removeChild(d),y=this._stripUrl(y),y)return y;var x=document.querySelector('link[href$="leaflet.css"]');return x?x.href.substring(0,x.href.length-11-1):""}}),ug=cr.extend({initialize:function(d){this._marker=d},addHooks:function(){var d=this._marker._icon;this._draggable||(this._draggable=new ea(d,d,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),xt(d,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Ai(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(d){var y=this._marker,x=y._map,E=this._marker.options.autoPanSpeed,O=this._marker.options.autoPanPadding,G=Qo(y._icon),X=x.getPixelBounds(),le=x.getPixelOrigin(),pe=ie(X.min._subtract(le).add(O),X.max._subtract(le).subtract(O));if(!pe.contains(G)){var Ae=H((Math.max(pe.max.x,G.x)-pe.max.x)/(X.max.x-pe.max.x)-(Math.min(pe.min.x,G.x)-pe.min.x)/(X.min.x-pe.min.x),(Math.max(pe.max.y,G.y)-pe.max.y)/(X.max.y-pe.max.y)-(Math.min(pe.min.y,G.y)-pe.min.y)/(X.min.y-pe.min.y)).multiplyBy(E);x.panBy(Ae,{animate:!1}),this._draggable._newPos._add(Ae),this._draggable._startPos._add(Ae),Ui(y._icon,this._draggable._newPos),this._onDrag(d),this._panRequest=$(this._adjustPan.bind(this,d))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(d){this._marker.options.autoPan&&(Q(this._panRequest),this._panRequest=$(this._adjustPan.bind(this,d)))},_onDrag:function(d){var y=this._marker,x=y._shadow,E=Qo(y._icon),O=y._map.layerPointToLatLng(E);x&&Ui(x,E),y._latlng=O,d.latlng=O,d.oldLatLng=this._oldLatLng,y.fire("move",d).fire("drag",d)},_onDragEnd:function(d){Q(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",d)}}),rc=ur.extend({options:{icon:new sc,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(d,y){w(this,y),this._latlng=he(d)},onAdd:function(d){this._zoomAnimated=this._zoomAnimated&&d.options.markerZoomAnimation,this._zoomAnimated&&d.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(d){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&d.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(d){var y=this._latlng;return this._latlng=he(d),this.update(),this.fire("move",{oldLatLng:y,latlng:this._latlng})},setZIndexOffset:function(d){return this.options.zIndexOffset=d,this.update()},getIcon:function(){return this.options.icon},setIcon:function(d){return this.options.icon=d,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var d=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(d)}return this},_initIcon:function(){var d=this.options,y="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),x=d.icon.createIcon(this._icon),E=!1;x!==this._icon&&(this._icon&&this._removeIcon(),E=!0,d.title&&(x.title=d.title),x.tagName==="IMG"&&(x.alt=d.alt||"")),xt(x,y),d.keyboard&&(x.tabIndex="0",x.setAttribute("role","button")),this._icon=x,d.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&yt(x,"focus",this._panOnFocus,this);var O=d.icon.createShadow(this._shadow),G=!1;O!==this._shadow&&(this._removeShadow(),G=!0),O&&(xt(O,y),O.alt=""),this._shadow=O,d.opacity<1&&this._updateOpacity(),E&&this.getPane().appendChild(this._icon),this._initInteraction(),O&&G&&this.getPane(d.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&ei(this._icon,"focus",this._panOnFocus,this),gi(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&gi(this._shadow),this._shadow=null},_setPos:function(d){this._icon&&Ui(this._icon,d),this._shadow&&Ui(this._shadow,d),this._zIndex=d.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(d){this._icon&&(this._icon.style.zIndex=this._zIndex+d)},_animateZoom:function(d){var y=this._map._latLngToNewLayerPoint(this._latlng,d.zoom,d.center).round();this._setPos(y)},_initInteraction:function(){if(this.options.interactive&&(xt(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),ug)){var d=this.options.draggable;this.dragging&&(d=this.dragging.enabled(),this.dragging.disable()),this.dragging=new ug(this),d&&this.dragging.enable()}},setOpacity:function(d){return this.options.opacity=d,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var d=this.options.opacity;this._icon&&ms(this._icon,d),this._shadow&&ms(this._shadow,d)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var d=this._map;if(d){var y=this.options.icon.options,x=y.iconSize?H(y.iconSize):H(0,0),E=y.iconAnchor?H(y.iconAnchor):H(0,0);d.panInside(this._latlng,{paddingTopLeft:E,paddingBottomRight:x.subtract(E)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function hg(d,y){return new rc(d,y)}var bo=ur.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(d){this._renderer=d.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(d){return w(this,d),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&d&&Object.prototype.hasOwnProperty.call(d,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Ou=bo.extend({options:{fill:!0,radius:10},initialize:function(d,y){w(this,y),this._latlng=he(d),this._radius=this.options.radius},setLatLng:function(d){var y=this._latlng;return this._latlng=he(d),this.redraw(),this.fire("move",{oldLatLng:y,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(d){return this.options.radius=this._radius=d,this.redraw()},getRadius:function(){return this._radius},setStyle:function(d){var y=d&&d.radius||this._radius;return bo.prototype.setStyle.call(this,d),this.setRadius(y),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var d=this._radius,y=this._radiusY||d,x=this._clickTolerance(),E=[d+x,y+x];this._pxBounds=new K(this._point.subtract(E),this._point.add(E))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(d){return d.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function wy(d,y){return new Ou(d,y)}var dg=Ou.extend({initialize:function(d,y,x){if(typeof y=="number"&&(y=s({},x,{radius:y})),w(this,y),this._latlng=he(d),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(d){return this._mRadius=d,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var d=[this._radius,this._radiusY||this._radius];return new te(this._map.layerPointToLatLng(this._point.subtract(d)),this._map.layerPointToLatLng(this._point.add(d)))},setStyle:bo.prototype.setStyle,_project:function(){var d=this._latlng.lng,y=this._latlng.lat,x=this._map,E=x.options.crs;if(E.distance===xe.distance){var O=Math.PI/180,G=this._mRadius/xe.R/O,X=x.project([y+G,d]),le=x.project([y-G,d]),pe=X.add(le).divideBy(2),Ae=x.unproject(pe).lat,ze=Math.acos((Math.cos(G*O)-Math.sin(y*O)*Math.sin(Ae*O))/(Math.cos(y*O)*Math.cos(Ae*O)))/O;(isNaN(ze)||ze===0)&&(ze=G/Math.cos(Math.PI/180*y)),this._point=pe.subtract(x.getPixelOrigin()),this._radius=isNaN(ze)?0:pe.x-x.project([Ae,d-ze]).x,this._radiusY=pe.y-X.y}else{var Ye=E.unproject(E.project(this._latlng).subtract([this._mRadius,0]));this._point=x.latLngToLayerPoint(this._latlng),this._radius=this._point.x-x.latLngToLayerPoint(Ye).x}this._updateBounds()}});function r0(d,y,x){return new dg(d,y,x)}var Co=bo.extend({options:{smoothFactor:1,noClip:!1},initialize:function(d,y){w(this,y),this._setLatLngs(d)},getLatLngs:function(){return this._latlngs},setLatLngs:function(d){return this._setLatLngs(d),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(d){for(var y=1/0,x=null,E=Ka,O,G,X=0,le=this._parts.length;X<le;X++)for(var pe=this._parts[X],Ae=1,ze=pe.length;Ae<ze;Ae++){O=pe[Ae-1],G=pe[Ae];var Ye=E(d,O,G,!0);Ye<y&&(y=Ye,x=E(d,O,G))}return x&&(x.distance=Math.sqrt(y)),x},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return cg(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(d,y){return y=y||this._defaultShape(),d=he(d),y.push(d),this._bounds.extend(d),this.redraw()},_setLatLngs:function(d){this._bounds=new te,this._latlngs=this._convertLatLngs(d)},_defaultShape:function(){return On(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(d){for(var y=[],x=On(d),E=0,O=d.length;E<O;E++)x?(y[E]=he(d[E]),this._bounds.extend(y[E])):y[E]=this._convertLatLngs(d[E]);return y},_project:function(){var d=new K;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,d),this._bounds.isValid()&&d.isValid()&&(this._rawPxBounds=d,this._updateBounds())},_updateBounds:function(){var d=this._clickTolerance(),y=new Z(d,d);this._rawPxBounds&&(this._pxBounds=new K([this._rawPxBounds.min.subtract(y),this._rawPxBounds.max.add(y)]))},_projectLatlngs:function(d,y,x){var E=d[0]instanceof ye,O=d.length,G,X;if(E){for(X=[],G=0;G<O;G++)X[G]=this._map.latLngToLayerPoint(d[G]),x.extend(X[G]);y.push(X)}else for(G=0;G<O;G++)this._projectLatlngs(d[G],y,x)},_clipPoints:function(){var d=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(d))){if(this.options.noClip){this._parts=this._rings;return}var y=this._parts,x,E,O,G,X,le,pe;for(x=0,O=0,G=this._rings.length;x<G;x++)for(pe=this._rings[x],E=0,X=pe.length;E<X-1;E++)le=yy(pe[E],pe[E+1],d,E,!0),le&&(y[O]=y[O]||[],y[O].push(le[0]),(le[1]!==pe[E+1]||E===X-2)&&(y[O].push(le[1]),O++))}},_simplifyPoints:function(){for(var d=this._parts,y=this.options.smoothFactor,x=0,E=d.length;x<E;x++)d[x]=py(d[x],y)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(d,y){var x,E,O,G,X,le,pe=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(d))return!1;for(x=0,G=this._parts.length;x<G;x++)for(le=this._parts[x],E=0,X=le.length,O=X-1;E<X;O=E++)if(!(!y&&E===0)&&ag(d,le[O],le[E])<=pe)return!0;return!1}});function o0(d,y){return new Co(d,y)}Co._flat=vy;var oc=Co.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return rd(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(d){var y=Co.prototype._convertLatLngs.call(this,d),x=y.length;return x>=2&&y[0]instanceof ye&&y[0].equals(y[x-1])&&y.pop(),y},_setLatLngs:function(d){Co.prototype._setLatLngs.call(this,d),On(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return On(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var d=this._renderer._bounds,y=this.options.weight,x=new Z(y,y);if(d=new K(d.min.subtract(x),d.max.add(x)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(d))){if(this.options.noClip){this._parts=this._rings;return}for(var E=0,O=this._rings.length,G;E<O;E++)G=gy(this._rings[E],d,!0),G.length&&this._parts.push(G)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(d){var y=!1,x,E,O,G,X,le,pe,Ae;if(!this._pxBounds||!this._pxBounds.contains(d))return!1;for(G=0,pe=this._parts.length;G<pe;G++)for(x=this._parts[G],X=0,Ae=x.length,le=Ae-1;X<Ae;le=X++)E=x[X],O=x[le],E.y>d.y!=O.y>d.y&&d.x<(O.x-E.x)*(d.y-E.y)/(O.y-E.y)+E.x&&(y=!y);return y||Co.prototype._containsPoint.call(this,d,!0)}});function Is(d,y){return new oc(d,y)}var ks=Rs.extend({initialize:function(d,y){w(this,y),this._layers={},d&&this.addData(d)},addData:function(d){var y=k(d)?d:d.features,x,E,O;if(y){for(x=0,E=y.length;x<E;x++)O=y[x],(O.geometries||O.geometry||O.features||O.coordinates)&&this.addData(O);return this}var G=this.options;if(G.filter&&!G.filter(d))return this;var X=Pu(d,G);return X?(X.feature=ac(d),X.defaultOptions=X.options,this.resetStyle(X),G.onEachFeature&&G.onEachFeature(d,X),this.addLayer(X)):this},resetStyle:function(d){return d===void 0?this.eachLayer(this.resetStyle,this):(d.options=s({},d.defaultOptions),this._setLayerStyle(d,this.options.style),this)},setStyle:function(d){return this.eachLayer(function(y){this._setLayerStyle(y,d)},this)},_setLayerStyle:function(d,y){d.setStyle&&(typeof y=="function"&&(y=y(d.feature)),d.setStyle(y))}});function Pu(d,y){var x=d.type==="Feature"?d.geometry:d,E=x?x.coordinates:null,O=[],G=y&&y.pointToLayer,X=y&&y.coordsToLatLng||ud,le,pe,Ae,ze;if(!E&&!x)return null;switch(x.type){case"Point":return le=X(E),fg(G,d,le,y);case"MultiPoint":for(Ae=0,ze=E.length;Ae<ze;Ae++)le=X(E[Ae]),O.push(fg(G,d,le,y));return new Rs(O);case"LineString":case"MultiLineString":return pe=Fu(E,x.type==="LineString"?0:1,X),new Co(pe,y);case"Polygon":case"MultiPolygon":return pe=Fu(E,x.type==="Polygon"?1:2,X),new oc(pe,y);case"GeometryCollection":for(Ae=0,ze=x.geometries.length;Ae<ze;Ae++){var Ye=Pu({geometry:x.geometries[Ae],type:"Feature",properties:d.properties},y);Ye&&O.push(Ye)}return new Rs(O);case"FeatureCollection":for(Ae=0,ze=x.features.length;Ae<ze;Ae++){var Xe=Pu(x.features[Ae],y);Xe&&O.push(Xe)}return new Rs(O);default:throw new Error("Invalid GeoJSON object.")}}function fg(d,y,x,E){return d?d(y,x):new rc(x,E&&E.markersInheritOptions&&E)}function ud(d){return new ye(d[1],d[0],d[2])}function Fu(d,y,x){for(var E=[],O=0,G=d.length,X;O<G;O++)X=y?Fu(d[O],y-1,x):(x||ud)(d[O]),E.push(X);return E}function Bu(d,y){return d=he(d),d.alt!==void 0?[m(d.lng,y),m(d.lat,y),m(d.alt,y)]:[m(d.lng,y),m(d.lat,y)]}function hd(d,y,x,E){for(var O=[],G=0,X=d.length;G<X;G++)O.push(y?hd(d[G],On(d[G])?0:y-1,x,E):Bu(d[G],E));return!y&&x&&O.length>0&&O.push(O[0].slice()),O}function hr(d,y){return d.feature?s({},d.feature,{geometry:y}):ac(y)}function ac(d){return d.type==="Feature"||d.type==="FeatureCollection"?d:{type:"Feature",properties:{},geometry:d}}var Za={toGeoJSON:function(d){return hr(this,{type:"Point",coordinates:Bu(this.getLatLng(),d)})}};rc.include(Za),dg.include(Za),Ou.include(Za),Co.include({toGeoJSON:function(d){var y=!On(this._latlngs),x=hd(this._latlngs,y?1:0,!1,d);return hr(this,{type:(y?"Multi":"")+"LineString",coordinates:x})}}),oc.include({toGeoJSON:function(d){var y=!On(this._latlngs),x=y&&!On(this._latlngs[0]),E=hd(this._latlngs,x?2:y?1:0,!0,d);return y||(E=[E]),hr(this,{type:(x?"Multi":"")+"Polygon",coordinates:E})}}),$a.include({toMultiPoint:function(d){var y=[];return this.eachLayer(function(x){y.push(x.toGeoJSON(d).geometry.coordinates)}),hr(this,{type:"MultiPoint",coordinates:y})},toGeoJSON:function(d){var y=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(y==="MultiPoint")return this.toMultiPoint(d);var x=y==="GeometryCollection",E=[];return this.eachLayer(function(O){if(O.toGeoJSON){var G=O.toGeoJSON(d);if(x)E.push(G.geometry);else{var X=ac(G);X.type==="FeatureCollection"?E.push.apply(E,X.features):E.push(X)}}}),x?hr(this,{geometries:E,type:"GeometryCollection"}):{type:"FeatureCollection",features:E}}});function dd(d,y){return new ks(d,y)}var My=dd,jr=ur.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(d,y,x){this._url=d,this._bounds=se(y),w(this,x)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(xt(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){gi(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(d){return this.options.opacity=d,this._image&&this._updateOpacity(),this},setStyle:function(d){return d.opacity&&this.setOpacity(d.opacity),this},bringToFront:function(){return this._map&&Ha(this._image),this},bringToBack:function(){return this._map&&Kl(this._image),this},setUrl:function(d){return this._url=d,this._image&&(this._image.src=d),this},setBounds:function(d){return this._bounds=se(d),this._map&&this._reset(),this},getEvents:function(){var d={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(d.zoomanim=this._animateZoom),d},setZIndex:function(d){return this.options.zIndex=d,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var d=this._url.tagName==="IMG",y=this._image=d?this._url:Mt("img");if(xt(y,"leaflet-image-layer"),this._zoomAnimated&&xt(y,"leaflet-zoom-animated"),this.options.className&&xt(y,this.options.className),y.onselectstart=p,y.onmousemove=p,y.onload=o(this.fire,this,"load"),y.onerror=o(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(y.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),d){this._url=y.src;return}y.src=this._url,y.alt=this.options.alt},_animateZoom:function(d){var y=this._map.getZoomScale(d.zoom),x=this._map._latLngBoundsToNewLayerBounds(this._bounds,d.zoom,d.center).min;$s(this._image,x,y)},_reset:function(){var d=this._image,y=new K(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),x=y.getSize();Ui(d,y.min),d.style.width=x.x+"px",d.style.height=x.y+"px"},_updateOpacity:function(){ms(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var d=this.options.errorOverlayUrl;d&&this._url!==d&&(this._url=d,this._image.src=d)},getCenter:function(){return this._bounds.getCenter()}}),lc=function(d,y,x){return new jr(d,y,x)},fd=jr.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var d=this._url.tagName==="VIDEO",y=this._image=d?this._url:Mt("video");if(xt(y,"leaflet-image-layer"),this._zoomAnimated&&xt(y,"leaflet-zoom-animated"),this.options.className&&xt(y,this.options.className),y.onselectstart=p,y.onmousemove=p,y.onloadeddata=o(this.fire,this,"load"),d){for(var x=y.getElementsByTagName("source"),E=[],O=0;O<x.length;O++)E.push(x[O].src);this._url=x.length>0?E:[y.src];return}k(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(y.style,"objectFit")&&(y.style.objectFit="fill"),y.autoplay=!!this.options.autoplay,y.loop=!!this.options.loop,y.muted=!!this.options.muted,y.playsInline=!!this.options.playsInline;for(var G=0;G<this._url.length;G++){var X=Mt("source");X.src=this._url[G],y.appendChild(X)}}});function Dy(d,y,x){return new fd(d,y,x)}var ta=jr.extend({_initImage:function(){var d=this._image=this._url;xt(d,"leaflet-image-layer"),this._zoomAnimated&&xt(d,"leaflet-zoom-animated"),this.options.className&&xt(d,this.options.className),d.onselectstart=p,d.onmousemove=p}});function Ly(d,y,x){return new ta(d,y,x)}var dr=ur.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(d,y){d&&(d instanceof ye||k(d))?(this._latlng=he(d),w(this,y)):(w(this,d),this._source=y),this.options.content&&(this._content=this.options.content)},openOn:function(d){return d=arguments.length?d:this._source._map,d.hasLayer(this)||d.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(d){return this._map?this.close():(arguments.length?this._source=d:d=this._source,this._prepareOpen(),this.openOn(d._map)),this},onAdd:function(d){this._zoomAnimated=d._zoomAnimated,this._container||this._initLayout(),d._fadeAnimated&&ms(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),d._fadeAnimated&&ms(this._container,1),this.bringToFront(),this.options.interactive&&(xt(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(d){d._fadeAnimated?(ms(this._container,0),this._removeTimeout=setTimeout(o(gi,void 0,this._container),200)):gi(this._container),this.options.interactive&&(Ai(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(d){return this._latlng=he(d),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(d){return this._content=d,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var d={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(d.zoomanim=this._animateZoom),d},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Ha(this._container),this},bringToBack:function(){return this._map&&Kl(this._container),this},_prepareOpen:function(d){var y=this._source;if(!y._map)return!1;if(y instanceof Rs){y=null;var x=this._source._layers;for(var E in x)if(x[E]._map){y=x[E];break}if(!y)return!1;this._source=y}if(!d)if(y.getCenter)d=y.getCenter();else if(y.getLatLng)d=y.getLatLng();else if(y.getBounds)d=y.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(d),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var d=this._contentNode,y=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof y=="string")d.innerHTML=y;else{for(;d.hasChildNodes();)d.removeChild(d.firstChild);d.appendChild(y)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var d=this._map.latLngToLayerPoint(this._latlng),y=H(this.options.offset),x=this._getAnchor();this._zoomAnimated?Ui(this._container,d.add(x)):y=y.add(d).add(x);var E=this._containerBottom=-y.y,O=this._containerLeft=-Math.round(this._containerWidth/2)+y.x;this._container.style.bottom=E+"px",this._container.style.left=O+"px"}},_getAnchor:function(){return[0,0]}});Nt.include({_initOverlay:function(d,y,x,E){var O=y;return O instanceof d||(O=new d(E).setContent(y)),x&&O.setLatLng(x),O}}),ur.include({_initOverlay:function(d,y,x,E){var O=x;return O instanceof d?(w(O,E),O._source=this):(O=y&&!E?y:new d(E,this),O.setContent(x)),O}});var zu=dr.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(d){return d=arguments.length?d:this._source._map,!d.hasLayer(this)&&d._popup&&d._popup.options.autoClose&&d.removeLayer(d._popup),d._popup=this,dr.prototype.openOn.call(this,d)},onAdd:function(d){dr.prototype.onAdd.call(this,d),d.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof bo||this._source.on("preclick",vo))},onRemove:function(d){dr.prototype.onRemove.call(this,d),d.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof bo||this._source.off("preclick",vo))},getEvents:function(){var d=dr.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(d.preclick=this.close),this.options.keepInView&&(d.moveend=this._adjustPan),d},_initLayout:function(){var d="leaflet-popup",y=this._container=Mt("div",d+" "+(this.options.className||"")+" leaflet-zoom-animated"),x=this._wrapper=Mt("div",d+"-content-wrapper",y);if(this._contentNode=Mt("div",d+"-content",x),ec(y),Jl(this._contentNode),yt(y,"contextmenu",vo),this._tipContainer=Mt("div",d+"-tip-container",y),this._tip=Mt("div",d+"-tip",this._tipContainer),this.options.closeButton){var E=this._closeButton=Mt("a",d+"-close-button",y);E.setAttribute("role","button"),E.setAttribute("aria-label","Close popup"),E.href="#close",E.innerHTML='<span aria-hidden="true">&#215;</span>',yt(E,"click",function(O){nn(O),this.close()},this)}},_updateLayout:function(){var d=this._contentNode,y=d.style;y.width="",y.whiteSpace="nowrap";var x=d.offsetWidth;x=Math.min(x,this.options.maxWidth),x=Math.max(x,this.options.minWidth),y.width=x+1+"px",y.whiteSpace="",y.height="";var E=d.offsetHeight,O=this.options.maxHeight,G="leaflet-popup-scrolled";O&&E>O?(y.height=O+"px",xt(d,G)):Ai(d,G),this._containerWidth=this._container.offsetWidth},_animateZoom:function(d){var y=this._map._latLngToNewLayerPoint(this._latlng,d.zoom,d.center),x=this._getAnchor();Ui(this._container,y.add(x))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var d=this._map,y=parseInt(ui(this._container,"marginBottom"),10)||0,x=this._container.offsetHeight+y,E=this._containerWidth,O=new Z(this._containerLeft,-x-this._containerBottom);O._add(Qo(this._container));var G=d.layerPointToContainerPoint(O),X=H(this.options.autoPanPadding),le=H(this.options.autoPanPaddingTopLeft||X),pe=H(this.options.autoPanPaddingBottomRight||X),Ae=d.getSize(),ze=0,Ye=0;G.x+E+pe.x>Ae.x&&(ze=G.x+E-Ae.x+pe.x),G.x-ze-le.x<0&&(ze=G.x-le.x),G.y+x+pe.y>Ae.y&&(Ye=G.y+x-Ae.y+pe.y),G.y-Ye-le.y<0&&(Ye=G.y-le.y),(ze||Ye)&&(this.options.keepInView&&(this._autopanning=!0),d.fire("autopanstart").panBy([ze,Ye]))}},_getAnchor:function(){return H(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),a0=function(d,y){return new zu(d,y)};Nt.mergeOptions({closePopupOnClick:!0}),Nt.include({openPopup:function(d,y,x){return this._initOverlay(zu,d,y,x).openOn(this),this},closePopup:function(d){return d=arguments.length?d:this._popup,d&&d.close(),this}}),ur.include({bindPopup:function(d,y){return this._popup=this._initOverlay(zu,this._popup,d,y),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(d){return this._popup&&(this instanceof Rs||(this._popup._source=this),this._popup._prepareOpen(d||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(d){return this._popup&&this._popup.setContent(d),this},getPopup:function(){return this._popup},_openPopup:function(d){if(!(!this._popup||!this._map)){Hr(d);var y=d.layer||d.target;if(this._popup._source===y&&!(y instanceof bo)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(d.latlng);return}this._popup._source=y,this.openPopup(d.latlng)}},_movePopup:function(d){this._popup.setLatLng(d.latlng)},_onKeyPress:function(d){d.originalEvent.keyCode===13&&this._openPopup(d)}});var gd=dr.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(d){dr.prototype.onAdd.call(this,d),this.setOpacity(this.options.opacity),d.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(d){dr.prototype.onRemove.call(this,d),d.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var d=dr.prototype.getEvents.call(this);return this.options.permanent||(d.preclick=this.close),d},_initLayout:function(){var d="leaflet-tooltip",y=d+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=Mt("div",y),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+c(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(d){var y,x,E=this._map,O=this._container,G=E.latLngToContainerPoint(E.getCenter()),X=E.layerPointToContainerPoint(d),le=this.options.direction,pe=O.offsetWidth,Ae=O.offsetHeight,ze=H(this.options.offset),Ye=this._getAnchor();le==="top"?(y=pe/2,x=Ae):le==="bottom"?(y=pe/2,x=0):le==="center"?(y=pe/2,x=Ae/2):le==="right"?(y=0,x=Ae/2):le==="left"?(y=pe,x=Ae/2):X.x<G.x?(le="right",y=0,x=Ae/2):(le="left",y=pe+(ze.x+Ye.x)*2,x=Ae/2),d=d.subtract(H(y,x,!0)).add(ze).add(Ye),Ai(O,"leaflet-tooltip-right"),Ai(O,"leaflet-tooltip-left"),Ai(O,"leaflet-tooltip-top"),Ai(O,"leaflet-tooltip-bottom"),xt(O,"leaflet-tooltip-"+le),Ui(O,d)},_updatePosition:function(){var d=this._map.latLngToLayerPoint(this._latlng);this._setPosition(d)},setOpacity:function(d){this.options.opacity=d,this._container&&ms(this._container,d)},_animateZoom:function(d){var y=this._map._latLngToNewLayerPoint(this._latlng,d.zoom,d.center);this._setPosition(y)},_getAnchor:function(){return H(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),l0=function(d,y){return new gd(d,y)};Nt.include({openTooltip:function(d,y,x){return this._initOverlay(gd,d,y,x).openOn(this),this},closeTooltip:function(d){return d.close(),this}}),ur.include({bindTooltip:function(d,y){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(gd,this._tooltip,d,y),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(d){if(!(!d&&this._tooltipHandlersAdded)){var y=d?"off":"on",x={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?x.add=this._openTooltip:(x.mouseover=this._openTooltip,x.mouseout=this.closeTooltip,x.click=this._openTooltip,this._map?this._addFocusListeners():x.add=this._addFocusListeners),this._tooltip.options.sticky&&(x.mousemove=this._moveTooltip),this[y](x),this._tooltipHandlersAdded=!d}},openTooltip:function(d){return this._tooltip&&(this instanceof Rs||(this._tooltip._source=this),this._tooltip._prepareOpen(d)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(d){return this._tooltip&&this._tooltip.setContent(d),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(d){var y=typeof d.getElement=="function"&&d.getElement();y&&(yt(y,"focus",function(){this._tooltip._source=d,this.openTooltip()},this),yt(y,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(d){var y=typeof d.getElement=="function"&&d.getElement();y&&y.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(d){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var y=this;this._map.once("moveend",function(){y._openOnceFlag=!1,y._openTooltip(d)});return}this._tooltip._source=d.layer||d.target,this.openTooltip(this._tooltip.options.sticky?d.latlng:void 0)}},_moveTooltip:function(d){var y=d.latlng,x,E;this._tooltip.options.sticky&&d.originalEvent&&(x=this._map.mouseEventToContainerPoint(d.originalEvent),E=this._map.containerPointToLayerPoint(x),y=this._map.layerPointToLatLng(E)),this._tooltip.setLatLng(y)}});var gg=nc.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(d){var y=d&&d.tagName==="DIV"?d:document.createElement("div"),x=this.options;if(x.html instanceof Element?(Dn(y),y.appendChild(x.html)):y.innerHTML=x.html!==!1?x.html:"",x.bgPos){var E=H(x.bgPos);y.style.backgroundPosition=-E.x+"px "+-E.y+"px"}return this._setIconStyles(y,"icon"),y},createShadow:function(){return null}});function Ty(d){return new gg(d)}nc.Default=sc;var Xa=ur.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Se.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(d){w(this,d)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(d){d._addZoomLimit(this)},onRemove:function(d){this._removeAllTiles(),gi(this._container),d._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Ha(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Kl(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(d){return this.options.opacity=d,this._updateOpacity(),this},setZIndex:function(d){return this.options.zIndex=d,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var d=this._clampZoom(this._map.getZoom());d!==this._tileZoom&&(this._tileZoom=d,this._updateLevels()),this._update()}return this},getEvents:function(){var d={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=h(this._onMoveEnd,this.options.updateInterval,this)),d.move=this._onMove),this._zoomAnimated&&(d.zoomanim=this._animateZoom),d},createTile:function(){return document.createElement("div")},getTileSize:function(){var d=this.options.tileSize;return d instanceof Z?d:new Z(d,d)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(d){for(var y=this.getPane().children,x=-d(-1/0,1/0),E=0,O=y.length,G;E<O;E++)G=y[E].style.zIndex,y[E]!==this._container&&G&&(x=d(x,+G));isFinite(x)&&(this.options.zIndex=x+d(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Se.ielt9){ms(this._container,this.options.opacity);var d=+new Date,y=!1,x=!1;for(var E in this._tiles){var O=this._tiles[E];if(!(!O.current||!O.loaded)){var G=Math.min(1,(d-O.loaded)/200);ms(O.el,G),G<1?y=!0:(O.active?x=!0:this._onOpaqueTile(O),O.active=!0)}}x&&!this._noPrune&&this._pruneTiles(),y&&(Q(this._fadeFrame),this._fadeFrame=$(this._updateOpacity,this))}},_onOpaqueTile:p,_initContainer:function(){this._container||(this._container=Mt("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var d=this._tileZoom,y=this.options.maxZoom;if(d!==void 0){for(var x in this._levels)x=Number(x),this._levels[x].el.children.length||x===d?(this._levels[x].el.style.zIndex=y-Math.abs(d-x),this._onUpdateLevel(x)):(gi(this._levels[x].el),this._removeTilesAtZoom(x),this._onRemoveLevel(x),delete this._levels[x]);var E=this._levels[d],O=this._map;return E||(E=this._levels[d]={},E.el=Mt("div","leaflet-tile-container leaflet-zoom-animated",this._container),E.el.style.zIndex=y,E.origin=O.project(O.unproject(O.getPixelOrigin()),d).round(),E.zoom=d,this._setZoomTransform(E,O.getCenter(),O.getZoom()),p(E.el.offsetWidth),this._onCreateLevel(E)),this._level=E,E}},_onUpdateLevel:p,_onRemoveLevel:p,_onCreateLevel:p,_pruneTiles:function(){if(this._map){var d,y,x=this._map.getZoom();if(x>this.options.maxZoom||x<this.options.minZoom){this._removeAllTiles();return}for(d in this._tiles)y=this._tiles[d],y.retain=y.current;for(d in this._tiles)if(y=this._tiles[d],y.current&&!y.active){var E=y.coords;this._retainParent(E.x,E.y,E.z,E.z-5)||this._retainChildren(E.x,E.y,E.z,E.z+2)}for(d in this._tiles)this._tiles[d].retain||this._removeTile(d)}},_removeTilesAtZoom:function(d){for(var y in this._tiles)this._tiles[y].coords.z===d&&this._removeTile(y)},_removeAllTiles:function(){for(var d in this._tiles)this._removeTile(d)},_invalidateAll:function(){for(var d in this._levels)gi(this._levels[d].el),this._onRemoveLevel(Number(d)),delete this._levels[d];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(d,y,x,E){var O=Math.floor(d/2),G=Math.floor(y/2),X=x-1,le=new Z(+O,+G);le.z=+X;var pe=this._tileCoordsToKey(le),Ae=this._tiles[pe];return Ae&&Ae.active?(Ae.retain=!0,!0):(Ae&&Ae.loaded&&(Ae.retain=!0),X>E?this._retainParent(O,G,X,E):!1)},_retainChildren:function(d,y,x,E){for(var O=2*d;O<2*d+2;O++)for(var G=2*y;G<2*y+2;G++){var X=new Z(O,G);X.z=x+1;var le=this._tileCoordsToKey(X),pe=this._tiles[le];if(pe&&pe.active){pe.retain=!0;continue}else pe&&pe.loaded&&(pe.retain=!0);x+1<E&&this._retainChildren(O,G,x+1,E)}},_resetView:function(d){var y=d&&(d.pinch||d.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),y,y)},_animateZoom:function(d){this._setView(d.center,d.zoom,!0,d.noUpdate)},_clampZoom:function(d){var y=this.options;return y.minNativeZoom!==void 0&&d<y.minNativeZoom?y.minNativeZoom:y.maxNativeZoom!==void 0&&y.maxNativeZoom<d?y.maxNativeZoom:d},_setView:function(d,y,x,E){var O=Math.round(y);this.options.maxZoom!==void 0&&O>this.options.maxZoom||this.options.minZoom!==void 0&&O<this.options.minZoom?O=void 0:O=this._clampZoom(O);var G=this.options.updateWhenZooming&&O!==this._tileZoom;(!E||G)&&(this._tileZoom=O,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),O!==void 0&&this._update(d),x||this._pruneTiles(),this._noPrune=!!x),this._setZoomTransforms(d,y)},_setZoomTransforms:function(d,y){for(var x in this._levels)this._setZoomTransform(this._levels[x],d,y)},_setZoomTransform:function(d,y,x){var E=this._map.getZoomScale(x,d.zoom),O=d.origin.multiplyBy(E).subtract(this._map._getNewPixelOrigin(y,x)).round();Se.any3d?$s(d.el,O,E):Ui(d.el,O)},_resetGrid:function(){var d=this._map,y=d.options.crs,x=this._tileSize=this.getTileSize(),E=this._tileZoom,O=this._map.getPixelWorldBounds(this._tileZoom);O&&(this._globalTileRange=this._pxBoundsToTileRange(O)),this._wrapX=y.wrapLng&&!this.options.noWrap&&[Math.floor(d.project([0,y.wrapLng[0]],E).x/x.x),Math.ceil(d.project([0,y.wrapLng[1]],E).x/x.y)],this._wrapY=y.wrapLat&&!this.options.noWrap&&[Math.floor(d.project([y.wrapLat[0],0],E).y/x.x),Math.ceil(d.project([y.wrapLat[1],0],E).y/x.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(d){var y=this._map,x=y._animatingZoom?Math.max(y._animateToZoom,y.getZoom()):y.getZoom(),E=y.getZoomScale(x,this._tileZoom),O=y.project(d,this._tileZoom).floor(),G=y.getSize().divideBy(E*2);return new K(O.subtract(G),O.add(G))},_update:function(d){var y=this._map;if(y){var x=this._clampZoom(y.getZoom());if(d===void 0&&(d=y.getCenter()),this._tileZoom!==void 0){var E=this._getTiledPixelBounds(d),O=this._pxBoundsToTileRange(E),G=O.getCenter(),X=[],le=this.options.keepBuffer,pe=new K(O.getBottomLeft().subtract([le,-le]),O.getTopRight().add([le,-le]));if(!(isFinite(O.min.x)&&isFinite(O.min.y)&&isFinite(O.max.x)&&isFinite(O.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var Ae in this._tiles){var ze=this._tiles[Ae].coords;(ze.z!==this._tileZoom||!pe.contains(new Z(ze.x,ze.y)))&&(this._tiles[Ae].current=!1)}if(Math.abs(x-this._tileZoom)>1){this._setView(d,x);return}for(var Ye=O.min.y;Ye<=O.max.y;Ye++)for(var Xe=O.min.x;Xe<=O.max.x;Xe++){var mt=new Z(Xe,Ye);if(mt.z=this._tileZoom,!!this._isValidTile(mt)){var Ei=this._tiles[this._tileCoordsToKey(mt)];Ei?Ei.current=!0:X.push(mt)}}if(X.sort(function(Pn,Zs){return Pn.distanceTo(G)-Zs.distanceTo(G)}),X.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Yi=document.createDocumentFragment();for(Xe=0;Xe<X.length;Xe++)this._addTile(X[Xe],Yi);this._level.el.appendChild(Yi)}}}},_isValidTile:function(d){var y=this._map.options.crs;if(!y.infinite){var x=this._globalTileRange;if(!y.wrapLng&&(d.x<x.min.x||d.x>x.max.x)||!y.wrapLat&&(d.y<x.min.y||d.y>x.max.y))return!1}if(!this.options.bounds)return!0;var E=this._tileCoordsToBounds(d);return se(this.options.bounds).overlaps(E)},_keyToBounds:function(d){return this._tileCoordsToBounds(this._keyToTileCoords(d))},_tileCoordsToNwSe:function(d){var y=this._map,x=this.getTileSize(),E=d.scaleBy(x),O=E.add(x),G=y.unproject(E,d.z),X=y.unproject(O,d.z);return[G,X]},_tileCoordsToBounds:function(d){var y=this._tileCoordsToNwSe(d),x=new te(y[0],y[1]);return this.options.noWrap||(x=this._map.wrapLatLngBounds(x)),x},_tileCoordsToKey:function(d){return d.x+":"+d.y+":"+d.z},_keyToTileCoords:function(d){var y=d.split(":"),x=new Z(+y[0],+y[1]);return x.z=+y[2],x},_removeTile:function(d){var y=this._tiles[d];y&&(gi(y.el),delete this._tiles[d],this.fire("tileunload",{tile:y.el,coords:this._keyToTileCoords(d)}))},_initTile:function(d){xt(d,"leaflet-tile");var y=this.getTileSize();d.style.width=y.x+"px",d.style.height=y.y+"px",d.onselectstart=p,d.onmousemove=p,Se.ielt9&&this.options.opacity<1&&ms(d,this.options.opacity)},_addTile:function(d,y){var x=this._getTilePos(d),E=this._tileCoordsToKey(d),O=this.createTile(this._wrapCoords(d),o(this._tileReady,this,d));this._initTile(O),this.createTile.length<2&&$(o(this._tileReady,this,d,null,O)),Ui(O,x),this._tiles[E]={el:O,coords:d,current:!0},y.appendChild(O),this.fire("tileloadstart",{tile:O,coords:d})},_tileReady:function(d,y,x){y&&this.fire("tileerror",{error:y,tile:x,coords:d});var E=this._tileCoordsToKey(d);x=this._tiles[E],x&&(x.loaded=+new Date,this._map._fadeAnimated?(ms(x.el,0),Q(this._fadeFrame),this._fadeFrame=$(this._updateOpacity,this)):(x.active=!0,this._pruneTiles()),y||(xt(x.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:x.el,coords:d})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Se.ielt9||!this._map._fadeAnimated?$(this._pruneTiles,this):setTimeout(o(this._pruneTiles,this),250)))},_getTilePos:function(d){return d.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(d){var y=new Z(this._wrapX?f(d.x,this._wrapX):d.x,this._wrapY?f(d.y,this._wrapY):d.y);return y.z=d.z,y},_pxBoundsToTileRange:function(d){var y=this.getTileSize();return new K(d.min.unscaleBy(y).floor(),d.max.unscaleBy(y).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var d in this._tiles)if(!this._tiles[d].loaded)return!1;return!0}});function fr(d){return new Xa(d)}var qa=Xa.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(d,y){this._url=d,y=w(this,y),y.detectRetina&&Se.retina&&y.maxZoom>0?(y.tileSize=Math.floor(y.tileSize/2),y.zoomReverse?(y.zoomOffset--,y.minZoom=Math.min(y.maxZoom,y.minZoom+1)):(y.zoomOffset++,y.maxZoom=Math.max(y.minZoom,y.maxZoom-1)),y.minZoom=Math.max(0,y.minZoom)):y.zoomReverse?y.minZoom=Math.min(y.maxZoom,y.minZoom):y.maxZoom=Math.max(y.minZoom,y.maxZoom),typeof y.subdomains=="string"&&(y.subdomains=y.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(d,y){return this._url===d&&y===void 0&&(y=!0),this._url=d,y||this.redraw(),this},createTile:function(d,y){var x=document.createElement("img");return yt(x,"load",o(this._tileOnLoad,this,y,x)),yt(x,"error",o(this._tileOnError,this,y,x)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(x.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(x.referrerPolicy=this.options.referrerPolicy),x.alt="",x.src=this.getTileUrl(d),x},getTileUrl:function(d){var y={r:Se.retina?"@2x":"",s:this._getSubdomain(d),x:d.x,y:d.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var x=this._globalTileRange.max.y-d.y;this.options.tms&&(y.y=x),y["-y"]=x}return A(this._url,s(y,this.options))},_tileOnLoad:function(d,y){Se.ielt9?setTimeout(o(d,this,null,y),0):d(null,y)},_tileOnError:function(d,y,x){var E=this.options.errorTileUrl;E&&y.getAttribute("src")!==E&&(y.src=E),d(x,y)},_onTileRemove:function(d){d.tile.onload=null},_getZoomForUrl:function(){var d=this._tileZoom,y=this.options.maxZoom,x=this.options.zoomReverse,E=this.options.zoomOffset;return x&&(d=y-d),d+E},_getSubdomain:function(d){var y=Math.abs(d.x+d.y)%this.options.subdomains.length;return this.options.subdomains[y]},_abortLoading:function(){var d,y;for(d in this._tiles)if(this._tiles[d].coords.z!==this._tileZoom&&(y=this._tiles[d].el,y.onload=p,y.onerror=p,!y.complete)){y.src=F;var x=this._tiles[d].coords;gi(y),delete this._tiles[d],this.fire("tileabort",{tile:y,coords:x})}},_removeTile:function(d){var y=this._tiles[d];if(y)return y.el.setAttribute("src",F),Xa.prototype._removeTile.call(this,d)},_tileReady:function(d,y,x){if(!(!this._map||x&&x.getAttribute("src")===F))return Xa.prototype._tileReady.call(this,d,y,x)}});function _s(d,y){return new qa(d,y)}var Ns=qa.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(d,y){this._url=d;var x=s({},this.defaultWmsParams);for(var E in y)E in this.options||(x[E]=y[E]);y=w(this,y);var O=y.detectRetina&&Se.retina?2:1,G=this.getTileSize();x.width=G.x*O,x.height=G.y*O,this.wmsParams=x},onAdd:function(d){this._crs=this.options.crs||d.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var y=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[y]=this._crs.code,qa.prototype.onAdd.call(this,d)},getTileUrl:function(d){var y=this._tileCoordsToNwSe(d),x=this._crs,E=ie(x.project(y[0]),x.project(y[1])),O=E.min,G=E.max,X=(this._wmsVersion>=1.3&&this._crs===xy?[O.y,O.x,G.y,G.x]:[O.x,O.y,G.x,G.y]).join(","),le=qa.prototype.getTileUrl.call(this,d);return le+D(this.wmsParams,le,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+X},setParams:function(d,y){return s(this.wmsParams,d),y||this.redraw(),this}});function cc(d,y){return new Ns(d,y)}qa.WMS=Ns,_s.wms=cc;var gr=ur.extend({options:{padding:.1},initialize:function(d){w(this,d),c(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),xt(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var d={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(d.zoomanim=this._onAnimZoom),d},_onAnimZoom:function(d){this._updateTransform(d.center,d.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(d,y){var x=this._map.getZoomScale(y,this._zoom),E=this._map.getSize().multiplyBy(.5+this.options.padding),O=this._map.project(this._center,y),G=E.multiplyBy(-x).add(O).subtract(this._map._getNewPixelOrigin(d,y));Se.any3d?$s(this._container,G,x):Ui(this._container,G)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var d in this._layers)this._layers[d]._reset()},_onZoomEnd:function(){for(var d in this._layers)this._layers[d]._project()},_updatePaths:function(){for(var d in this._layers)this._layers[d]._update()},_update:function(){var d=this.options.padding,y=this._map.getSize(),x=this._map.containerPointToLayerPoint(y.multiplyBy(-d)).round();this._bounds=new K(x,x.add(y.multiplyBy(1+d*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Gu=gr.extend({options:{tolerance:0},getEvents:function(){var d=gr.prototype.getEvents.call(this);return d.viewprereset=this._onViewPreReset,d},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){gr.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var d=this._container=document.createElement("canvas");yt(d,"mousemove",this._onMouseMove,this),yt(d,"click dblclick mousedown mouseup contextmenu",this._onClick,this),yt(d,"mouseout",this._handleMouseOut,this),d._leaflet_disable_events=!0,this._ctx=d.getContext("2d")},_destroyContainer:function(){Q(this._redrawRequest),delete this._ctx,gi(this._container),ei(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var d;this._redrawBounds=null;for(var y in this._layers)d=this._layers[y],d._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){gr.prototype._update.call(this);var d=this._bounds,y=this._container,x=d.getSize(),E=Se.retina?2:1;Ui(y,d.min),y.width=E*x.x,y.height=E*x.y,y.style.width=x.x+"px",y.style.height=x.y+"px",Se.retina&&this._ctx.scale(2,2),this._ctx.translate(-d.min.x,-d.min.y),this.fire("update")}},_reset:function(){gr.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(d){this._updateDashArray(d),this._layers[c(d)]=d;var y=d._order={layer:d,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=y),this._drawLast=y,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(d){this._requestRedraw(d)},_removePath:function(d){var y=d._order,x=y.next,E=y.prev;x?x.prev=E:this._drawLast=E,E?E.next=x:this._drawFirst=x,delete d._order,delete this._layers[c(d)],this._requestRedraw(d)},_updatePath:function(d){this._extendRedrawBounds(d),d._project(),d._update(),this._requestRedraw(d)},_updateStyle:function(d){this._updateDashArray(d),this._requestRedraw(d)},_updateDashArray:function(d){if(typeof d.options.dashArray=="string"){var y=d.options.dashArray.split(/[, ]+/),x=[],E,O;for(O=0;O<y.length;O++){if(E=Number(y[O]),isNaN(E))return;x.push(E)}d.options._dashArray=x}else d.options._dashArray=d.options.dashArray},_requestRedraw:function(d){this._map&&(this._extendRedrawBounds(d),this._redrawRequest=this._redrawRequest||$(this._redraw,this))},_extendRedrawBounds:function(d){if(d._pxBounds){var y=(d.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new K,this._redrawBounds.extend(d._pxBounds.min.subtract([y,y])),this._redrawBounds.extend(d._pxBounds.max.add([y,y]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var d=this._redrawBounds;if(d){var y=d.getSize();this._ctx.clearRect(d.min.x,d.min.y,y.x,y.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var d,y=this._redrawBounds;if(this._ctx.save(),y){var x=y.getSize();this._ctx.beginPath(),this._ctx.rect(y.min.x,y.min.y,x.x,x.y),this._ctx.clip()}this._drawing=!0;for(var E=this._drawFirst;E;E=E.next)d=E.layer,(!y||d._pxBounds&&d._pxBounds.intersects(y))&&d._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(d,y){if(this._drawing){var x,E,O,G,X=d._parts,le=X.length,pe=this._ctx;if(le){for(pe.beginPath(),x=0;x<le;x++){for(E=0,O=X[x].length;E<O;E++)G=X[x][E],pe[E?"lineTo":"moveTo"](G.x,G.y);y&&pe.closePath()}this._fillStroke(pe,d)}}},_updateCircle:function(d){if(!(!this._drawing||d._empty())){var y=d._point,x=this._ctx,E=Math.max(Math.round(d._radius),1),O=(Math.max(Math.round(d._radiusY),1)||E)/E;O!==1&&(x.save(),x.scale(1,O)),x.beginPath(),x.arc(y.x,y.y/O,E,0,Math.PI*2,!1),O!==1&&x.restore(),this._fillStroke(x,d)}},_fillStroke:function(d,y){var x=y.options;x.fill&&(d.globalAlpha=x.fillOpacity,d.fillStyle=x.fillColor||x.color,d.fill(x.fillRule||"evenodd")),x.stroke&&x.weight!==0&&(d.setLineDash&&d.setLineDash(y.options&&y.options._dashArray||[]),d.globalAlpha=x.opacity,d.lineWidth=x.weight,d.strokeStyle=x.color,d.lineCap=x.lineCap,d.lineJoin=x.lineJoin,d.stroke())},_onClick:function(d){for(var y=this._map.mouseEventToLayerPoint(d),x,E,O=this._drawFirst;O;O=O.next)x=O.layer,x.options.interactive&&x._containsPoint(y)&&(!(d.type==="click"||d.type==="preclick")||!this._map._draggableMoved(x))&&(E=x);this._fireEvent(E?[E]:!1,d)},_onMouseMove:function(d){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var y=this._map.mouseEventToLayerPoint(d);this._handleMouseHover(d,y)}},_handleMouseOut:function(d){var y=this._hoveredLayer;y&&(Ai(this._container,"leaflet-interactive"),this._fireEvent([y],d,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(d,y){if(!this._mouseHoverThrottled){for(var x,E,O=this._drawFirst;O;O=O.next)x=O.layer,x.options.interactive&&x._containsPoint(y)&&(E=x);E!==this._hoveredLayer&&(this._handleMouseOut(d),E&&(xt(this._container,"leaflet-interactive"),this._fireEvent([E],d,"mouseover"),this._hoveredLayer=E)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,d),this._mouseHoverThrottled=!0,setTimeout(o(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(d,y,x){this._map._fireDOMEvent(y,x||y.type,d)},_bringToFront:function(d){var y=d._order;if(y){var x=y.next,E=y.prev;if(x)x.prev=E;else return;E?E.next=x:x&&(this._drawFirst=x),y.prev=this._drawLast,this._drawLast.next=y,y.next=null,this._drawLast=y,this._requestRedraw(d)}},_bringToBack:function(d){var y=d._order;if(y){var x=y.next,E=y.prev;if(E)E.next=x;else return;x?x.prev=E:E&&(this._drawLast=E),y.prev=null,y.next=this._drawFirst,this._drawFirst.prev=y,this._drawFirst=y,this._requestRedraw(d)}}});function Hu(d){return Se.canvas?new Gu(d):null}var Qa=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(d){return document.createElement("<lvml:"+d+' class="lvml">')}}catch{}return function(d){return document.createElement("<"+d+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),uc={_initContainer:function(){this._container=Mt("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(gr.prototype._update.call(this),this.fire("update"))},_initPath:function(d){var y=d._container=Qa("shape");xt(y,"leaflet-vml-shape "+(this.options.className||"")),y.coordsize="1 1",d._path=Qa("path"),y.appendChild(d._path),this._updateStyle(d),this._layers[c(d)]=d},_addPath:function(d){var y=d._container;this._container.appendChild(y),d.options.interactive&&d.addInteractiveTarget(y)},_removePath:function(d){var y=d._container;gi(y),d.removeInteractiveTarget(y),delete this._layers[c(d)]},_updateStyle:function(d){var y=d._stroke,x=d._fill,E=d.options,O=d._container;O.stroked=!!E.stroke,O.filled=!!E.fill,E.stroke?(y||(y=d._stroke=Qa("stroke")),O.appendChild(y),y.weight=E.weight+"px",y.color=E.color,y.opacity=E.opacity,E.dashArray?y.dashStyle=k(E.dashArray)?E.dashArray.join(" "):E.dashArray.replace(/( *, *)/g," "):y.dashStyle="",y.endcap=E.lineCap.replace("butt","flat"),y.joinstyle=E.lineJoin):y&&(O.removeChild(y),d._stroke=null),E.fill?(x||(x=d._fill=Qa("fill")),O.appendChild(x),x.color=E.fillColor||E.color,x.opacity=E.fillOpacity):x&&(O.removeChild(x),d._fill=null)},_updateCircle:function(d){var y=d._point.round(),x=Math.round(d._radius),E=Math.round(d._radiusY||x);this._setPath(d,d._empty()?"M0 0":"AL "+y.x+","+y.y+" "+x+","+E+" 0,"+65535*360)},_setPath:function(d,y){d._path.v=y},_bringToFront:function(d){Ha(d._container)},_bringToBack:function(d){Kl(d._container)}},ju=Se.vml?Qa:Ve,ia=gr.extend({_initContainer:function(){this._container=ju("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=ju("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){gi(this._container),ei(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){gr.prototype._update.call(this);var d=this._bounds,y=d.getSize(),x=this._container;(!this._svgSize||!this._svgSize.equals(y))&&(this._svgSize=y,x.setAttribute("width",y.x),x.setAttribute("height",y.y)),Ui(x,d.min),x.setAttribute("viewBox",[d.min.x,d.min.y,y.x,y.y].join(" ")),this.fire("update")}},_initPath:function(d){var y=d._path=ju("path");d.options.className&&xt(y,d.options.className),d.options.interactive&&xt(y,"leaflet-interactive"),this._updateStyle(d),this._layers[c(d)]=d},_addPath:function(d){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(d._path),d.addInteractiveTarget(d._path)},_removePath:function(d){gi(d._path),d.removeInteractiveTarget(d._path),delete this._layers[c(d)]},_updatePath:function(d){d._project(),d._update()},_updateStyle:function(d){var y=d._path,x=d.options;y&&(x.stroke?(y.setAttribute("stroke",x.color),y.setAttribute("stroke-opacity",x.opacity),y.setAttribute("stroke-width",x.weight),y.setAttribute("stroke-linecap",x.lineCap),y.setAttribute("stroke-linejoin",x.lineJoin),x.dashArray?y.setAttribute("stroke-dasharray",x.dashArray):y.removeAttribute("stroke-dasharray"),x.dashOffset?y.setAttribute("stroke-dashoffset",x.dashOffset):y.removeAttribute("stroke-dashoffset")):y.setAttribute("stroke","none"),x.fill?(y.setAttribute("fill",x.fillColor||x.color),y.setAttribute("fill-opacity",x.fillOpacity),y.setAttribute("fill-rule",x.fillRule||"evenodd")):y.setAttribute("fill","none"))},_updatePoly:function(d,y){this._setPath(d,Et(d._parts,y))},_updateCircle:function(d){var y=d._point,x=Math.max(Math.round(d._radius),1),E=Math.max(Math.round(d._radiusY),1)||x,O="a"+x+","+E+" 0 1,0 ",G=d._empty()?"M0 0":"M"+(y.x-x)+","+y.y+O+x*2+",0 "+O+-x*2+",0 ";this._setPath(d,G)},_setPath:function(d,y){d._path.setAttribute("d",y)},_bringToFront:function(d){Ha(d._path)},_bringToBack:function(d){Kl(d._path)}});Se.vml&&ia.include(uc);function Ja(d){return Se.svg||Se.vml?new ia(d):null}Nt.include({getRenderer:function(d){var y=d.options.renderer||this._getPaneRenderer(d.options.pane)||this.options.renderer||this._renderer;return y||(y=this._renderer=this._createRenderer()),this.hasLayer(y)||this.addLayer(y),y},_getPaneRenderer:function(d){if(d==="overlayPane"||d===void 0)return!1;var y=this._paneRenderers[d];return y===void 0&&(y=this._createRenderer({pane:d}),this._paneRenderers[d]=y),y},_createRenderer:function(d){return this.options.preferCanvas&&Hu(d)||Ja(d)}});var Ay=oc.extend({initialize:function(d,y){oc.prototype.initialize.call(this,this._boundsToLatLngs(d),y)},setBounds:function(d){return this.setLatLngs(this._boundsToLatLngs(d))},_boundsToLatLngs:function(d){return d=se(d),[d.getSouthWest(),d.getNorthWest(),d.getNorthEast(),d.getSouthEast()]}});function Os(d,y){return new Ay(d,y)}ia.create=ju,ia.pointsToPath=Et,ks.geometryToLayer=Pu,ks.coordsToLatLng=ud,ks.coordsToLatLngs=Fu,ks.latLngToCoords=Bu,ks.latLngsToCoords=hd,ks.getFeature=hr,ks.asFeature=ac,Nt.mergeOptions({boxZoom:!0});var pd=cr.extend({initialize:function(d){this._map=d,this._container=d._container,this._pane=d._panes.overlayPane,this._resetStateTimeout=0,d.on("unload",this._destroy,this)},addHooks:function(){yt(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){ei(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){gi(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(d){if(!d.shiftKey||d.which!==1&&d.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Br(),Eu(),this._startPoint=this._map.mouseEventToContainerPoint(d),yt(document,{contextmenu:Hr,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(d){this._moved||(this._moved=!0,this._box=Mt("div","leaflet-zoom-box",this._container),xt(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(d);var y=new K(this._point,this._startPoint),x=y.getSize();Ui(this._box,y.min),this._box.style.width=x.x+"px",this._box.style.height=x.y+"px"},_finish:function(){this._moved&&(gi(this._box),Ai(this._container,"leaflet-crosshair")),Au(),tg(),ei(document,{contextmenu:Hr,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(d){if(!(d.which!==1&&d.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(o(this._resetState,this),0);var y=new te(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(y).fire("boxzoomend",{boxZoomBounds:y})}},_onKeyDown:function(d){d.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Nt.addInitHook("addHandler","boxZoom",pd),Nt.mergeOptions({doubleClickZoom:!0});var Vr=cr.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(d){var y=this._map,x=y.getZoom(),E=y.options.zoomDelta,O=d.originalEvent.shiftKey?x-E:x+E;y.options.doubleClickZoom==="center"?y.setZoom(O):y.setZoomAround(d.containerPoint,O)}});Nt.addInitHook("addHandler","doubleClickZoom",Vr),Nt.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var pg=cr.extend({addHooks:function(){if(!this._draggable){var d=this._map;this._draggable=new ea(d._mapPane,d._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),d.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),d.on("zoomend",this._onZoomEnd,this),d.whenReady(this._onZoomEnd,this))}xt(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Ai(this._map._container,"leaflet-grab"),Ai(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var d=this._map;if(d._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var y=se(this._map.options.maxBounds);this._offsetLimit=ie(this._map.latLngToContainerPoint(y.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(y.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;d.fire("movestart").fire("dragstart"),d.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(d){if(this._map.options.inertia){var y=this._lastTime=+new Date,x=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(x),this._times.push(y),this._prunePositions(y)}this._map.fire("move",d).fire("drag",d)},_prunePositions:function(d){for(;this._positions.length>1&&d-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var d=this._map.getSize().divideBy(2),y=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=y.subtract(d).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(d,y){return d-(d-y)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var d=this._draggable._newPos.subtract(this._draggable._startPos),y=this._offsetLimit;d.x<y.min.x&&(d.x=this._viscousLimit(d.x,y.min.x)),d.y<y.min.y&&(d.y=this._viscousLimit(d.y,y.min.y)),d.x>y.max.x&&(d.x=this._viscousLimit(d.x,y.max.x)),d.y>y.max.y&&(d.y=this._viscousLimit(d.y,y.max.y)),this._draggable._newPos=this._draggable._startPos.add(d)}},_onPreDragWrap:function(){var d=this._worldWidth,y=Math.round(d/2),x=this._initialWorldOffset,E=this._draggable._newPos.x,O=(E-y+x)%d+y-x,G=(E+y+x)%d-y-x,X=Math.abs(O+x)<Math.abs(G+x)?O:G;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=X},_onDragEnd:function(d){var y=this._map,x=y.options,E=!x.inertia||d.noInertia||this._times.length<2;if(y.fire("dragend",d),E)y.fire("moveend");else{this._prunePositions(+new Date);var O=this._lastPos.subtract(this._positions[0]),G=(this._lastTime-this._times[0])/1e3,X=x.easeLinearity,le=O.multiplyBy(X/G),pe=le.distanceTo([0,0]),Ae=Math.min(x.inertiaMaxSpeed,pe),ze=le.multiplyBy(Ae/pe),Ye=Ae/(x.inertiaDeceleration*X),Xe=ze.multiplyBy(-Ye/2).round();!Xe.x&&!Xe.y?y.fire("moveend"):(Xe=y._limitOffset(Xe,y.options.maxBounds),$(function(){y.panBy(Xe,{duration:Ye,easeLinearity:X,noMoveStart:!0,animate:!0})}))}}});Nt.addInitHook("addHandler","dragging",pg),Nt.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Vu=cr.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(d){this._map=d,this._setPanDelta(d.options.keyboardPanDelta),this._setZoomDelta(d.options.zoomDelta)},addHooks:function(){var d=this._map._container;d.tabIndex<=0&&(d.tabIndex="0"),yt(d,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),ei(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var d=document.body,y=document.documentElement,x=d.scrollTop||y.scrollTop,E=d.scrollLeft||y.scrollLeft;this._map._container.focus(),window.scrollTo(E,x)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(d){var y=this._panKeys={},x=this.keyCodes,E,O;for(E=0,O=x.left.length;E<O;E++)y[x.left[E]]=[-1*d,0];for(E=0,O=x.right.length;E<O;E++)y[x.right[E]]=[d,0];for(E=0,O=x.down.length;E<O;E++)y[x.down[E]]=[0,d];for(E=0,O=x.up.length;E<O;E++)y[x.up[E]]=[0,-1*d]},_setZoomDelta:function(d){var y=this._zoomKeys={},x=this.keyCodes,E,O;for(E=0,O=x.zoomIn.length;E<O;E++)y[x.zoomIn[E]]=d;for(E=0,O=x.zoomOut.length;E<O;E++)y[x.zoomOut[E]]=-d},_addHooks:function(){yt(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){ei(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(d){if(!(d.altKey||d.ctrlKey||d.metaKey)){var y=d.keyCode,x=this._map,E;if(y in this._panKeys){if(!x._panAnim||!x._panAnim._inProgress)if(E=this._panKeys[y],d.shiftKey&&(E=H(E).multiplyBy(3)),x.options.maxBounds&&(E=x._limitOffset(H(E),x.options.maxBounds)),x.options.worldCopyJump){var O=x.wrapLatLng(x.unproject(x.project(x.getCenter()).add(E)));x.panTo(O)}else x.panBy(E)}else if(y in this._zoomKeys)x.setZoom(x.getZoom()+(d.shiftKey?3:1)*this._zoomKeys[y]);else if(y===27&&x._popup&&x._popup.options.closeOnEscapeKey)x.closePopup();else return;Hr(d)}}});Nt.addInitHook("addHandler","keyboard",Vu),Nt.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var na=cr.extend({addHooks:function(){yt(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){ei(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(d){var y=ku(d),x=this._map.options.wheelDebounceTime;this._delta+=y,this._lastMousePos=this._map.mouseEventToContainerPoint(d),this._startTime||(this._startTime=+new Date);var E=Math.max(x-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(o(this._performZoom,this),E),Hr(d)},_performZoom:function(){var d=this._map,y=d.getZoom(),x=this._map.options.zoomSnap||0;d._stop();var E=this._delta/(this._map.options.wheelPxPerZoomLevel*4),O=4*Math.log(2/(1+Math.exp(-Math.abs(E))))/Math.LN2,G=x?Math.ceil(O/x)*x:O,X=d._limitZoom(y+(this._delta>0?G:-G))-y;this._delta=0,this._startTime=null,X&&(d.options.scrollWheelZoom==="center"?d.setZoom(y+X):d.setZoomAround(this._lastMousePos,y+X))}});Nt.addInitHook("addHandler","scrollWheelZoom",na);var mg=600;Nt.mergeOptions({tapHold:Se.touchNative&&Se.safari&&Se.mobile,tapTolerance:15});var md=cr.extend({addHooks:function(){yt(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){ei(this._map._container,"touchstart",this._onDown,this)},_onDown:function(d){if(clearTimeout(this._holdTimeout),d.touches.length===1){var y=d.touches[0];this._startPos=this._newPos=new Z(y.clientX,y.clientY),this._holdTimeout=setTimeout(o(function(){this._cancel(),this._isTapValid()&&(yt(document,"touchend",nn),yt(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",y))},this),mg),yt(document,"touchend touchcancel contextmenu",this._cancel,this),yt(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function d(){ei(document,"touchend",nn),ei(document,"touchend touchcancel",d)},_cancel:function(){clearTimeout(this._holdTimeout),ei(document,"touchend touchcancel contextmenu",this._cancel,this),ei(document,"touchmove",this._onMove,this)},_onMove:function(d){var y=d.touches[0];this._newPos=new Z(y.clientX,y.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(d,y){var x=new MouseEvent(d,{bubbles:!0,cancelable:!0,view:window,screenX:y.screenX,screenY:y.screenY,clientX:y.clientX,clientY:y.clientY});x._simulated=!0,y.target.dispatchEvent(x)}});Nt.addInitHook("addHandler","tapHold",md),Nt.mergeOptions({touchZoom:Se.touch,bounceAtZoomLimits:!0});var el=cr.extend({addHooks:function(){xt(this._map._container,"leaflet-touch-zoom"),yt(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Ai(this._map._container,"leaflet-touch-zoom"),ei(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(d){var y=this._map;if(!(!d.touches||d.touches.length!==2||y._animatingZoom||this._zooming)){var x=y.mouseEventToContainerPoint(d.touches[0]),E=y.mouseEventToContainerPoint(d.touches[1]);this._centerPoint=y.getSize()._divideBy(2),this._startLatLng=y.containerPointToLatLng(this._centerPoint),y.options.touchZoom!=="center"&&(this._pinchStartLatLng=y.containerPointToLatLng(x.add(E)._divideBy(2))),this._startDist=x.distanceTo(E),this._startZoom=y.getZoom(),this._moved=!1,this._zooming=!0,y._stop(),yt(document,"touchmove",this._onTouchMove,this),yt(document,"touchend touchcancel",this._onTouchEnd,this),nn(d)}},_onTouchMove:function(d){if(!(!d.touches||d.touches.length!==2||!this._zooming)){var y=this._map,x=y.mouseEventToContainerPoint(d.touches[0]),E=y.mouseEventToContainerPoint(d.touches[1]),O=x.distanceTo(E)/this._startDist;if(this._zoom=y.getScaleZoom(O,this._startZoom),!y.options.bounceAtZoomLimits&&(this._zoom<y.getMinZoom()&&O<1||this._zoom>y.getMaxZoom()&&O>1)&&(this._zoom=y._limitZoom(this._zoom)),y.options.touchZoom==="center"){if(this._center=this._startLatLng,O===1)return}else{var G=x._add(E)._divideBy(2)._subtract(this._centerPoint);if(O===1&&G.x===0&&G.y===0)return;this._center=y.unproject(y.project(this._pinchStartLatLng,this._zoom).subtract(G),this._zoom)}this._moved||(y._moveStart(!0,!1),this._moved=!0),Q(this._animRequest);var X=o(y._move,y,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=$(X,this,!0),nn(d)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,Q(this._animRequest),ei(document,"touchmove",this._onTouchMove,this),ei(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Nt.addInitHook("addHandler","touchZoom",el),Nt.BoxZoom=pd,Nt.DoubleClickZoom=Vr,Nt.Drag=pg,Nt.Keyboard=Vu,Nt.ScrollWheelZoom=na,Nt.TapHold=md,Nt.TouchZoom=el,i.Bounds=K,i.Browser=Se,i.CRS=Ie,i.Canvas=Gu,i.Circle=dg,i.CircleMarker=Ou,i.Class=be,i.Control=ys,i.DivIcon=gg,i.DivOverlay=dr,i.DomEvent=Kx,i.DomUtil=uy,i.Draggable=ea,i.Evented=re,i.FeatureGroup=Rs,i.GeoJSON=ks,i.GridLayer=Xa,i.Handler=cr,i.Icon=nc,i.ImageOverlay=jr,i.LatLng=ye,i.LatLngBounds=te,i.Layer=ur,i.LayerGroup=$a,i.LineUtil=by,i.Map=Nt,i.Marker=rc,i.Mixin=Qx,i.Path=bo,i.Point=Z,i.PolyUtil=Jx,i.Polygon=oc,i.Polyline=Co,i.Popup=zu,i.PosAnimation=sd,i.Projection=Cy,i.Rectangle=Ay,i.Renderer=gr,i.SVG=ia,i.SVGOverlay=ta,i.TileLayer=qa,i.Tooltip=gd,i.Transformation=We,i.Util=J,i.VideoOverlay=fd,i.bind=o,i.bounds=ie,i.canvas=Hu,i.circle=r0,i.circleMarker=wy,i.control=tc,i.divIcon=Ty,i.extend=s,i.featureGroup=Nu,i.geoJSON=dd,i.geoJson=My,i.gridLayer=fr,i.icon=cd,i.imageOverlay=lc,i.latLng=he,i.latLngBounds=se,i.layerGroup=Sy,i.map=_u,i.marker=hg,i.point=H,i.polygon=Is,i.polyline=o0,i.popup=a0,i.rectangle=Os,i.setOptions=w,i.stamp=c,i.svg=Ja,i.svgOverlay=Ly,i.tileLayer=_s,i.tooltip=l0,i.transformation=lt,i.version=n,i.videoOverlay=Dy;var hc=window.L;i.noConflict=function(){return window.L=hc,this},window.L=i})}(vp,vp.exports)),vp.exports}var bm=$W();const ZW=gm(bm);function VD(e,t,i){return Object.freeze({instance:e,context:t,container:i})}function WD(e,t){return t==null?function(n,s){const r=I.useRef(void 0);return r.current||(r.current=e(n,s)),r}:function(n,s){const r=I.useRef(void 0);r.current||(r.current=e(n,s));const o=I.useRef(n),{instance:a}=r.current;return I.useEffect(function(){o.current!==n&&(t(a,n,o.current),o.current=n)},[a,n,t]),r}}function XW(e,t){I.useEffect(function(){return(t.layerContainer??t.map).addLayer(e.instance),function(){var r;(r=t.layerContainer)==null||r.removeLayer(e.instance),t.map.removeLayer(e.instance)}},[t,e])}function eO(e){return function(i){const n=QN(),s=e(jD(i,n),n);return qN(n.map,i.attribution),JN(s.current,i.eventHandlers),XW(s.current,n),s}}function qW(e,t){const i=WD(e,t),n=eO(i);return VW(n)}function QW(e,t){const i=WD(e),n=YW(i,t);return WW(n)}function JW(e,t){const i=WD(e,t),n=eO(i);return UW(n)}function e3(e,t,i){const{opacity:n,zIndex:s}=t;n!=null&&n!==i.opacity&&e.setOpacity(n),s!=null&&s!==i.zIndex&&e.setZIndex(s)}function t3({bounds:e,boundsOptions:t,center:i,children:n,className:s,id:r,placeholder:o,style:a,whenReady:c,zoom:h,...f},p){const[m]=I.useState({className:s,id:r,style:a}),[b,C]=I.useState(null),w=I.useRef(void 0);I.useImperativeHandle(p,()=>(b==null?void 0:b.map)??null,[b]);const D=I.useCallback(A=>{if(A!==null&&!w.current){const k=new bm.Map(A,f);w.current=k,i!=null&&h!=null?k.setView(i,h):e!=null&&k.fitBounds(e,t),c!=null&&k.whenReady(c),C(HW(k))}},[]);I.useEffect(()=>()=>{b==null||b.map.remove()},[b]);const M=b?Te.createElement(HD,{value:b},n):o??null;return Te.createElement("div",{...m,ref:D},M)}const i3=I.forwardRef(t3),n3=qW(function({position:t,...i},n){const s=new bm.Marker(t,i);return VD(s,jW(n,{overlayContainer:s}))},function(t,i,n){i.position!==n.position&&t.setLatLng(i.position),i.icon!=null&&i.icon!==n.icon&&t.setIcon(i.icon),i.zIndexOffset!=null&&i.zIndexOffset!==n.zIndexOffset&&t.setZIndexOffset(i.zIndexOffset),i.opacity!=null&&i.opacity!==n.opacity&&t.setOpacity(i.opacity),t.dragging!=null&&i.draggable!==n.draggable&&(i.draggable===!0?t.dragging.enable():t.dragging.disable())}),s3=QW(function(t,i){const n=new bm.Popup(t,i.overlayContainer);return VD(n,i)},function(t,i,{position:n},s){I.useEffect(function(){const{instance:o}=t;function a(h){h.popup===o&&(o.update(),s(!0))}function c(h){h.popup===o&&s(!1)}return i.map.on({popupopen:a,popupclose:c}),i.overlayContainer==null?(n!=null&&o.setLatLng(n),o.openOn(i.map)):i.overlayContainer.bindPopup(o),function(){var f;i.map.off({popupopen:a,popupclose:c}),(f=i.overlayContainer)==null||f.unbindPopup(),i.map.removeLayer(o)}},[t,i,s,n])}),r3=JW(function({url:t,...i},n){const s=new bm.TileLayer(t,jD(i,n));return VD(s,n)},function(t,i,n){e3(t,i,n);const{url:s}=i;s!=null&&s!==n.url&&t.setUrl(s)});var Cm=class{constructor(){this.allSyncListeners=new Map,this.allAsyncListeners=new Map,this.globalSyncListeners=new Set,this.globalAsyncListeners=new Set,this.asyncFunctionsQueue=[],this.scheduled=!1,this.firedEvents={}}setFrameworkOverrides(e){this.frameworkOverrides=e}getListeners(e,t,i){const n=t?this.allAsyncListeners:this.allSyncListeners;let s=n.get(e);return!s&&i&&(s=new Set,n.set(e,s)),s}noRegisteredListenersExist(){return this.allSyncListeners.size===0&&this.allAsyncListeners.size===0&&this.globalSyncListeners.size===0&&this.globalAsyncListeners.size===0}addEventListener(e,t,i=!1){this.getListeners(e,i,!0).add(t)}removeEventListener(e,t,i=!1){const n=this.getListeners(e,i,!1);n&&(n.delete(t),n.size===0&&(i?this.allAsyncListeners:this.allSyncListeners).delete(e))}addGlobalListener(e,t=!1){(t?this.globalAsyncListeners:this.globalSyncListeners).add(e)}removeGlobalListener(e,t=!1){(t?this.globalAsyncListeners:this.globalSyncListeners).delete(e)}dispatchEvent(e){const t=e;this.dispatchToListeners(t,!0),this.dispatchToListeners(t,!1),this.firedEvents[t.type]=!0}dispatchEventOnce(e){this.firedEvents[e.type]||this.dispatchEvent(e)}dispatchToListeners(e,t){const i=e.type;if(t&&"event"in e){const a=e.event;a instanceof Event&&(e.eventPath=a.composedPath())}const n=(a,c)=>a.forEach(h=>{if(!c.has(h))return;const f=this.frameworkOverrides?()=>this.frameworkOverrides.wrapIncoming(()=>h(e)):()=>h(e);t?this.dispatchAsync(f):f()}),s=this.getListeners(i,t,!1)??new Set,r=new Set(s);r.size>0&&n(r,s),new Set(t?this.globalAsyncListeners:this.globalSyncListeners).forEach(a=>{const c=this.frameworkOverrides?()=>this.frameworkOverrides.wrapIncoming(()=>a(i,e)):()=>a(i,e);t?this.dispatchAsync(c):c()})}dispatchAsync(e){if(this.asyncFunctionsQueue.push(e),!this.scheduled){const t=()=>{window.setTimeout(this.flushAsyncQueue.bind(this),0)};this.frameworkOverrides?this.frameworkOverrides.wrapIncoming(t):t(),this.scheduled=!0}}flushAsyncQueue(){this.scheduled=!1;const e=this.asyncFunctionsQueue.slice();this.asyncFunctionsQueue=[],e.forEach(t=>t())}};function o3(e,t){return t}function tO(e){return(e==null?void 0:e.getLocaleTextFunc())??o3}function Tf(e,t,i){i==null||typeof i=="string"&&i==""?iO(e,t):hu(e,t,i)}function hu(e,t,i){e.setAttribute(nO(t),i.toString())}function iO(e,t){e.removeAttribute(nO(t))}function nO(e){return`aria-${e}`}function r1(e,t){t?e.setAttribute("role",t):e.removeAttribute("role")}function a3(e){let t;return e==="asc"?t="ascending":e==="desc"?t="descending":e==="mixed"?t="other":t="none",t}function l3(e){return e.getAttribute("aria-label")}function sO(e,t){Tf(e,"label",t)}function o1(e,t){Tf(e,"labelledby",t)}function rO(e,t){Tf(e,"live",t)}function c3(e,t){Tf(e,"atomic",t)}function u3(e,t){Tf(e,"relevant",t)}function oO(e,t){Tf(e,"hidden",t)}function h3(e,t){hu(e,"expanded",t)}function d3(e,t){hu(e,"rowcount",t)}function f3(e,t){hu(e,"rowindex",t)}function g3(e,t){hu(e,"colcount",t)}function aO(e,t){hu(e,"colindex",t)}function p3(e,t){hu(e,"colspan",t)}function m3(e,t){hu(e,"sort",t)}function y3(e){iO(e,"sort")}function v3(e,t){return t===void 0?e("ariaIndeterminate","indeterminate"):t===!0?e("ariaChecked","checked"):e("ariaUnchecked","unchecked")}var sw,rw,ow,aw,yM,vM,lw;function UD(){return sw===void 0&&(sw=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)),sw}function lO(){return rw===void 0&&(rw=/(firefox)/i.test(navigator.userAgent)),rw}function cO(){return ow===void 0&&(ow=/(Mac|iPhone|iPod|iPad)/i.test(navigator.platform)),ow}function Tp(){return aw===void 0&&(aw=/iPad|iPhone|iPod/.test(navigator.platform)||navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1),aw}function a1(e){if(!e)return null;const t=e.tabIndex,i=e.getAttribute("tabIndex");return t===-1&&(i===null||i===""&&!lO())?null:t.toString()}function b3(){if(lw!==void 0)return lw;if(!document.body)return-1;let e=1e6;const t=lO()?6e6:1e9,i=document.createElement("div");for(document.body.appendChild(i);;){const n=e*2;if(i.style.height=n+"px",n>t||i.clientHeight!==n)break;e=n}return document.body.removeChild(i),lw=e,e}function C3(){return vM==null&&uO(),vM}function uO(){const e=document.body,t=document.createElement("div");t.style.width=t.style.height="100px",t.style.opacity="0",t.style.overflow="scroll",t.style.msOverflowStyle="scrollbar",t.style.position="absolute",e.appendChild(t);let i=t.offsetWidth-t.clientWidth;i===0&&t.clientWidth===0&&(i=null),t.parentNode&&t.parentNode.removeChild(t),i!=null&&(vM=i,yM=i===0)}function hO(){return yM==null&&uO(),yM}var x3="[tabindex], input, select, button, textarea, [href]",dO="[disabled], .ag-disabled:not(.ag-button), .ag-disabled *";function YD(e){const t=Element.prototype.matches||Element.prototype.msMatchesSelector,n=t.call(e,"input, select, button, textarea"),s=t.call(e,dO),r=Af(e);return n&&!s&&r}function Gn(e,t,i={}){const{skipAriaHidden:n}=i;e.classList.toggle("ag-hidden",!t),n||oO(e,!t)}function S3(e,t,i={}){const{skipAriaHidden:n}=i;e.classList.toggle("ag-invisible",!t),n||oO(e,!t)}function fO(e,t){const i="disabled",n=t?r=>r.setAttribute(i,""):r=>r.removeAttribute(i);n(e);const s=e.querySelectorAll("input")??[];for(const r of s)n(r)}function rf(e,t,i){let n=0;for(;e;){if(e.classList.contains(t))return!0;if(e=e.parentElement,typeof i=="number"){if(++n>i)break}else if(e===i)break}return!1}function kC(e){const{height:t,width:i,borderTopWidth:n,borderRightWidth:s,borderBottomWidth:r,borderLeftWidth:o,paddingTop:a,paddingRight:c,paddingBottom:h,paddingLeft:f,marginTop:p,marginRight:m,marginBottom:b,marginLeft:C,boxSizing:w}=window.getComputedStyle(e);return{height:parseFloat(t||"0"),width:parseFloat(i||"0"),borderTopWidth:parseFloat(n||"0"),borderRightWidth:parseFloat(s||"0"),borderBottomWidth:parseFloat(r||"0"),borderLeftWidth:parseFloat(o||"0"),paddingTop:parseFloat(a||"0"),paddingRight:parseFloat(c||"0"),paddingBottom:parseFloat(h||"0"),paddingLeft:parseFloat(f||"0"),marginTop:parseFloat(p||"0"),marginRight:parseFloat(m||"0"),marginBottom:parseFloat(b||"0"),marginLeft:parseFloat(C||"0"),boxSizing:w}}function gO(e){const t=kC(e);return t.boxSizing==="border-box"?t.height-t.paddingTop-t.paddingBottom:t.height}function Lb(e){const t=kC(e);return t.boxSizing==="border-box"?t.width-t.paddingLeft-t.paddingRight:t.width}function w3(e){const t=e.getBoundingClientRect(),{borderTopWidth:i,borderLeftWidth:n,borderRightWidth:s,borderBottomWidth:r}=kC(e);return{top:t.top+(i||0),left:t.left+(n||0),right:t.right+(s||0),bottom:t.bottom+(r||0)}}function Tb(e,t){let i=e.scrollLeft;return t&&(i=Math.abs(i)),i}function Ab(e,t,i){i&&(t*=-1),e.scrollLeft=t}function xm(e){for(;e&&e.firstChild;)e.removeChild(e.firstChild)}function bM(e){e&&e.parentNode&&e.parentNode.removeChild(e)}function pO(e){return!!e.offsetParent}function Af(e){const t=e;return t.checkVisibility?t.checkVisibility({checkVisibilityCSS:!0}):!(!pO(e)||window.getComputedStyle(e).visibility!=="visible")}function KD(e){const t=document.createElement("div");return t.innerHTML=(e||"").trim(),t.firstChild}function M3(e){return e.clientWidth<e.scrollWidth}function D3(e){return e.clientHeight<e.scrollHeight}function mO(e,t){t==="flex"?(e.style.removeProperty("width"),e.style.removeProperty("minWidth"),e.style.removeProperty("maxWidth"),e.style.flex="1 1 auto"):qc(e,t)}function qc(e,t){t=yO(t),e.style.width=t,e.style.maxWidth=t,e.style.minWidth=t}function cw(e,t){t=yO(t),e.style.height=t,e.style.maxHeight=t,e.style.minHeight=t}function yO(e){return typeof e=="number"?`${e}px`:e}function vO(e){return e instanceof Node||e instanceof HTMLElement}function of(e,t,i){i==null||i===""?e.removeAttribute(t):e.setAttribute(t,i.toString())}function Ef(e,t,i){const s=RO(e).ResizeObserver,r=s?new s(i):null;return r==null||r.observe(t),()=>r==null?void 0:r.disconnect()}function du(e,t){const i=RO(e);i.requestAnimationFrame?i.requestAnimationFrame(t):i.webkitRequestAnimationFrame?i.webkitRequestAnimationFrame(t):i.setTimeout(t,0)}var bO="data-ref",uw;function l1(){return uw??(uw=document.createTextNode(" ")),uw.cloneNode()}function Qc(e){const{attrs:t,children:i,cls:n,ref:s,role:r,tag:o}=e,a=document.createElement(o);if(n&&(a.className=n),s&&a.setAttribute(bO,s),r&&a.setAttribute("role",r),t)for(const c of Object.keys(t))a.setAttribute(c,t[c]);if(i)if(typeof i=="string")a.textContent=i;else{let c=!0;for(const h of i)h&&(typeof h=="string"?(a.appendChild(document.createTextNode(h)),c=!1):(c&&(a.appendChild(l1()),c=!1),a.append(Qc(h)),a.appendChild(l1())))}return a}function Mh(e){return e==null||e===""?null:e}function At(e){return e!=null&&e!==""}function Vn(e){return!At(e)}function CM(e){return e!=null&&typeof e.toString=="function"?e.toString():null}function L3(e,t,i=!1){const n=e==null,s=t==null;if(e&&e.toNumber&&(e=e.toNumber()),t&&t.toNumber&&(t=t.toNumber()),n&&s)return 0;if(n)return-1;if(s)return 1;function r(o,a){return o>a?1:o<a?-1:0}if(typeof e!="string"||!i)return r(e,t);try{return e.localeCompare(t)}catch{return r(e,t)}}var CO="https://www.ag-grid.com",c1={};function xO(e,t){c1[t]||(e(),c1[t]=!0)}function Eb(e,t,...i){e.get("debug")&&console.log("AG Grid: "+t,...i)}function T3(e,...t){xO(()=>console.warn("AG Grid: "+e,...t),e+(t==null?void 0:t.join("")))}function Ap(e,...t){xO(()=>console.error("AG Grid: "+e,...t),e+(t==null?void 0:t.join("")))}var A3={pending:!1,funcs:[]},E3={pending:!1,funcs:[]};function xM(e,t="setTimeout",i){const n=t==="raf"?E3:A3;if(n.funcs.push(e),n.pending)return;n.pending=!0;const s=()=>{const r=n.funcs.slice();n.funcs.length=0,n.pending=!1,r.forEach(o=>o())};t==="raf"?du(i,s):window.setTimeout(s,0)}function bp(e,t,i){let n;return function(...s){const r=this;window.clearTimeout(n),n=window.setTimeout(function(){e.isAlive()&&t.apply(r,s)},i)}}function u1(e,t){let i=0;return function(...n){const s=this,r=Date.now();r-i<t||(i=r,e.apply(s,n))}}function R3(e,t,i=100,n){const s=Date.now();let r=null,o=!1;const a=()=>{const c=Date.now()-s>i;(e()||c)&&(t(),o=!0,r!=null&&(window.clearInterval(r),r=null))};a(),o||(r=window.setInterval(a,10))}var ji="33.2.4",h1=2e3,d1=100,SO="_version_",$D=`${CO}/javascript-data-grid`;function I3(e){$D=e}function wO(e,t,i){return[P3(e,t,i)]}function ZD(e,t,i,n){e(`error #${t}`,...wO(t,i,n))}function k3(e){if(!e)return String(e);const t={};for(const i of Object.keys(e))typeof e[i]!="object"&&typeof e[i]!="function"&&(t[i]=e[i]);return JSON.stringify(t)}function _3(e){let t=e;return e instanceof Error?t=e.toString():typeof e=="object"&&(t=k3(e)),t}function SM(e,t){return`${e}?${t.toString()}`}function N3(e,t,i){const n=Array.from(t.entries()).sort((r,o)=>o[1].length-r[1].length);let s=SM(e,t);for(const[r,o]of n){if(r===SO)continue;const a=s.length-i;if(a<=0)break;const c="...",h=a+c.length,f=o.length-h>d1?o.slice(0,o.length-h)+c:o.slice(0,d1)+c;t.set(r,f),s=SM(e,t)}return s}function O3(e,t){const i=new URLSearchParams;if(i.append(SO,ji),t)for(const r of Object.keys(t))i.append(r,_3(t[r]));const n=`${$D}/errors/${e}`,s=SM(n,i);return s.length<=h1?s:N3(n,i,h1)}var P3=(e,t,i)=>{const n=O3(e,t);return`${i?i+` 
`:""}Visit ${n}${i?"":` 
  Alternatively register the ValidationModule to see the full message in the console.`}`};function Wt(...e){ZD(T3,e[0],e[1])}function Mr(...e){ZD(Ap,e[0],e[1])}function wM(e,t,i){ZD(Ap,e,t,i)}function F3(e,t){const i=t[0];return`error #${i} `+wO(i,t[1],e).join(" ")}function MO(...e){return F3(void 0,e)}function DO(e,t){return e.get("rowModelType")===t}function _C(e,t){return DO(e,"clientSide")}function XD(e,t){return DO(e,"serverSide")}function Hs(e,t){return e.get("domLayout")===t}function LO(e){return K3(e)!==void 0}function TO(e){return typeof e.get("getRowHeight")=="function"}function B3(e,t){return t?!e.get("enableStrictPivotColumnOrder"):e.get("maintainColumnOrder")}function z3(e,t,i=!1,n){const{gos:s,environment:r}=e;if(n==null&&(n=r.getDefaultRowHeight()),TO(s)){if(i)return{height:n,estimated:!0};const c={node:t,data:t.data},h=s.getCallback("getRowHeight")(c);if(MM(h))return h===0&&Wt(23),{height:Math.max(1,h),estimated:!1}}if(t.detail&&s.get("masterDetail"))return G3(s);const o=s.get("rowHeight");return{height:o&&MM(o)?o:n,estimated:!1}}function G3(e){if(e.get("detailRowAutoHeight"))return{height:1,estimated:!1};const t=e.get("detailRowHeight");return MM(t)?{height:t,estimated:!1}:{height:300,estimated:!1}}function AO(e){const{environment:t,gos:i}=e,n=i.get("rowHeight");if(!n||Vn(n))return t.getDefaultRowHeight();const s=t.refreshRowHeightVariable();return s!==-1?s:(Wt(24),t.getDefaultRowHeight())}function MM(e){return!isNaN(e)&&typeof e=="number"&&isFinite(e)}function EO(e,t,i){const n=t[e.getDomDataKey()];return n?n[i]:void 0}function ff(e,t,i,n){const s=e.getDomDataKey();let r=t[s];Vn(r)&&(r={},t[s]=r),r[i]=n}function Ia(e){const{gos:t,eGridDiv:i}=e;let n=null;const s=t.get("getDocument");return s&&At(s)?n=s():i&&(n=i.ownerDocument),n&&At(n)?n:document}function RO(e){return Ia(e).defaultView||window}function Hp(e){return e.eGridDiv.getRootNode()}function Ss(e){return Hp(e).activeElement}function qD(e){let t=null,i=null;try{t=Ia(e).fullscreenElement}catch{}finally{t||(t=Hp(e));const n=t.querySelector("body");n?i=n:t instanceof ShadowRoot?i=t:t instanceof Document?i=t==null?void 0:t.documentElement:i=t}return i}function H3(e){const t=qD(e);return(t==null?void 0:t.clientWidth)??(window.innerHeight||-1)}function j3(e){const t=qD(e);return(t==null?void 0:t.clientHeight)??(window.innerHeight||-1)}function V3(e,t,i){const s=e.getBoundingClientRect().height,r=H3(i)-2,o=j3(i)-2;if(!e.offsetParent)return;const c=w3(e.offsetParent),{clientY:h,clientX:f}=t;let p=h-c.top-s/2,m=f-c.left-10;const b=Ia(i),C=b.defaultView||window,w=C.pageYOffset||b.documentElement.scrollTop,D=C.pageXOffset||b.documentElement.scrollLeft;r>0&&m+e.clientWidth>r+D&&(m=r+D-e.clientWidth),m<0&&(m=0),o>0&&p+e.clientHeight>o+w&&(p=o+w-e.clientHeight),p<0&&(p=0),e.style.left=`${m}px`,e.style.top=`${p}px`}function W3(e){const t=Ia(e),i=Ss(e);return i===null||i===t.body}function QD(e){return e.get("ensureDomOrder")?!1:e.get("animateRows")}function IO(e){return!(e.get("paginateChildRows")||e.get("groupHideOpenParents")||Hs(e,"print"))}function gl(e){const t=e.get("autoGroupColumnDef");return!(t!=null&&t.comparator)&&!e.get("treeData")}function kO(e,t){return t?!1:e.get("groupDisplayType")==="groupRows"}function U3(e){return(e==null?void 0:e.checkboxes)??!0}function Y3(e){if(typeof e=="object")return e.checkboxLocation??"selectionColumn"}function jp(e){const t=e.get("cellSelection");return t!==void 0?!!t:e.get("enableRangeSelection")}function K3(e){const t="beanName"in e&&e.beanName==="gos"?e.get("rowSelection"):e.rowSelection;if(typeof t=="string")switch(t){case"multiple":return"multiRow";case"single":return"singleRow";default:return}switch(t==null?void 0:t.mode){case"multiRow":case"singleRow":return t.mode;default:return}}function $3(e,t=!0){const i=e.get("rowSelection");return typeof i!="object"?t?"all":void 0:i.mode==="multiRow"?i.selectAll:"all"}function Rb(e){return e.get("columnMenu")==="legacy"}function Z3(e){return!e||e.length<2?e:"on"+e[0].toUpperCase()+e.substring(1)}function X3(e,t,i){typeof e!="object"&&(e={});const n={...e};return i.forEach(s=>{const r=t[s];typeof r<"u"&&(n[s]=r)}),n}function q3(e,t){if(!e)return;const i={};let n=!1;if(Object.keys(e).forEach(o=>{i[o]=e[o],n=!0}),!n)return;const s={type:"gridOptionsChanged",options:i};t.dispatchEvent(s);const r={type:"componentStateChanged",...i};t.dispatchEvent(r)}function wi(e,t){return e.addGridCommonParams(t)}var _O="__ag_Grid_Stop_Propagation",Q3=["touchstart","touchend","touchmove","touchcancel","scroll"],J3=["wheel"],hw={};function Ib(e){e[_O]=!0}function Jc(e){return e[_O]===!0}var NO=(()=>{const e={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"};return i=>{if(typeof hw[i]=="boolean")return hw[i];const n=document.createElement(e[i]||"div");return i="on"+i,hw[i]=i in n}})();function OO(e,t,i){let n=t;for(;n;){const s=EO(e,n,i);if(s)return s;n=n.parentElement}return null}function eU(e,t,i,n){const s=PO(i);let r;s!=null&&(r={passive:s}),e&&e.addEventListener&&e.addEventListener(t,i,n,r)}var PO=e=>{const t=Q3.includes(e),i=J3.includes(e);if(t)return!0;if(i)return!1},Be=class{constructor(){this.destroyFunctions=[],this.destroyed=!1,this.__v_skip=!0,this.propertyListenerId=0,this.lastChangeSetIdLookup={},this.isAlive=()=>!this.destroyed}preWireBeans(e){this.beans=e,this.stubContext=e.context,this.eventSvc=e.eventSvc,this.gos=e.gos}destroy(){const{destroyFunctions:e}=this;for(let t=0;t<e.length;t++)e[t]();e.length=0,this.destroyed=!0,this.dispatchLocalEvent({type:"destroyed"})}addEventListener(e,t,i){this.localEventService||(this.localEventService=new Cm),this.localEventService.addEventListener(e,t,i)}removeEventListener(e,t,i){var n;(n=this.localEventService)==null||n.removeEventListener(e,t,i)}dispatchLocalEvent(e){var t;(t=this.localEventService)==null||t.dispatchEvent(e)}addManagedElementListeners(e,t){return this._setupListeners(e,t)}addManagedEventListeners(e){return this._setupListeners(this.eventSvc,e)}addManagedListeners(e,t){return this._setupListeners(e,t)}_setupListeners(e,t){const i=[];for(const n of Object.keys(t)){const s=t[n];s&&i.push(this._setupListener(e,n,s))}return i}_setupListener(e,t,i){if(this.destroyed)return()=>null;let n;return tU(e)?(e.__addEventListener(t,i),n=()=>(e.__removeEventListener(t,i),null)):(e instanceof HTMLElement?eU(this.beans.frameworkOverrides,e,t,i):e.addEventListener(t,i),n=()=>(e.removeEventListener(t,i),null)),this.destroyFunctions.push(n),()=>(n(),this.destroyFunctions=this.destroyFunctions.filter(s=>s!==n),null)}setupGridOptionListener(e,t){const{gos:i}=this;i.addPropertyEventListener(e,t);const n=()=>(i.removePropertyEventListener(e,t),null);return this.destroyFunctions.push(n),()=>(n(),this.destroyFunctions=this.destroyFunctions.filter(s=>s!==n),null)}addManagedPropertyListener(e,t){return this.destroyed?()=>null:this.setupGridOptionListener(e,t)}addManagedPropertyListeners(e,t){if(this.destroyed)return;const i=e.join("-")+this.propertyListenerId++,n=s=>{if(s.changeSet){if(s.changeSet&&s.changeSet.id===this.lastChangeSetIdLookup[i])return;this.lastChangeSetIdLookup[i]=s.changeSet.id}const r={type:"gridPropertyChanged",changeSet:s.changeSet,source:s.source};t(r)};e.forEach(s=>this.setupGridOptionListener(s,n))}getLocaleTextFunc(){return tO(this.beans.localeSvc)}addDestroyFunc(e){this.isAlive()?this.destroyFunctions.push(e):e()}createOptionalManagedBean(e,t){return e?this.createManagedBean(e,t):void 0}createManagedBean(e,t){const i=this.createBean(e,t);return this.addDestroyFunc(this.destroyBean.bind(this,e,t)),i}createBean(e,t,i){return(t||this.stubContext).createBean(e,i)}destroyBean(e,t){return(t||this.stubContext).destroyBean(e)}destroyBeans(e,t){return(t||this.stubContext).destroyBeans(e)}};function tU(e){return e.__addEventListener!==void 0}var iU=new Set(["__proto__","constructor","prototype"]);function nU(e,t){if(e!=null){if(Array.isArray(e)){for(let i=0;i<e.length;i++)t(i.toString(),e[i]);return}for(const i of Object.keys(e))t(i,e[i])}}function Lr(e,t,i=!0,n=!1){At(t)&&nU(t,(s,r)=>{if(iU.has(s))return;let o=e[s];o!==r&&(n&&o==null&&r!=null&&typeof r=="object"&&r.constructor===Object&&(o={},e[s]=o),f1(r)&&f1(o)&&!Array.isArray(o)?Lr(o,r,i,n):(i||r!==void 0)&&(e[s]=r))})}function Jv(e,t,i){if(!t||!e)return;if(!i)return e[t];const n=t.split(".");let s=e;for(let r=0;r<n.length;r++){if(s==null)return;s=s[n[r]]}return s}function f1(e){return typeof e=="object"&&e!==null}var sU=/[&<>"']/g,rU={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function Dh(e,t){if(e==null)return null;const i=e.toString().toString();return t?i:i.replace(sU,n=>rU[n])}var oU={resizable:!0,sortable:!0},aU=0;function FO(){return aU++}function Nh(e){return e instanceof BO}var BO=class extends Be{constructor(e,t,i,n){super(),this.colDef=e,this.userProvidedColDef=t,this.colId=i,this.primary=n,this.isColumn=!0,this.instanceId=FO(),this.autoHeaderHeight=null,this.moving=!1,this.menuVisible=!1,this.lastLeftPinned=!1,this.firstRightPinned=!1,this.filterActive=!1,this.colEventSvc=new Cm,this.tooltipEnabled=!1,this.rowGroupActive=!1,this.pivotActive=!1,this.aggregationActive=!1,this.flex=null,this.colIdSanitised=Dh(i)}destroy(){var e;super.destroy(),(e=this.beans.rowSpanSvc)==null||e.deregister(this)}getInstanceId(){return this.instanceId}setState(){const{colDef:e,beans:{sortSvc:t,pinnedCols:i,colFlex:n}}=this;t==null||t.initCol(this);const s=e.hide;s!==void 0?this.visible=!s:this.visible=!e.initialHide,i==null||i.initCol(this),n==null||n.initCol(this)}setColDef(e,t,i){var s;const n=e.spanRows!==this.colDef.spanRows;this.colDef=e,this.userProvidedColDef=t,this.initMinAndMaxWidths(),this.initDotNotation(),this.initTooltip(),n&&((s=this.beans.rowSpanSvc)==null||s.deregister(this),this.initRowSpan()),this.dispatchColEvent("colDefChanged",i)}getUserProvidedColDef(){return this.userProvidedColDef}getParent(){return this.parent}getOriginalParent(){return this.originalParent}postConstruct(){this.setState(),this.initMinAndMaxWidths(),this.resetActualWidth("gridInitializing"),this.initDotNotation(),this.initTooltip(),this.initRowSpan()}initDotNotation(){const{gos:e,colDef:{field:t,tooltipField:i}}=this,n=e.get("suppressFieldDotNotation");this.fieldContainsDots=At(t)&&t.indexOf(".")>=0&&!n,this.tooltipFieldContainsDots=At(i)&&i.indexOf(".")>=0&&!n}initMinAndMaxWidths(){const e=this.colDef;this.minWidth=e.minWidth??this.beans.environment.getDefaultColumnMinWidth(),this.maxWidth=e.maxWidth??Number.MAX_SAFE_INTEGER}initTooltip(){var e;(e=this.beans.tooltipSvc)==null||e.initCol(this)}initRowSpan(){var e;this.colDef.spanRows&&((e=this.beans.rowSpanSvc)==null||e.register(this))}resetActualWidth(e){const t=this.calculateColInitialWidth(this.colDef);this.setActualWidth(t,e,!0)}calculateColInitialWidth(e){let t;const i=e.width,n=e.initialWidth;return i!=null?t=i:n!=null?t=n:t=200,Math.max(Math.min(t,this.maxWidth),this.minWidth)}isEmptyGroup(){return!1}isRowGroupDisplayed(e){var t;return((t=this.beans.showRowGroupCols)==null?void 0:t.isRowGroupDisplayed(this,e))??!1}isPrimary(){return this.primary}isFilterAllowed(){return!!this.colDef.filter}isFieldContainsDots(){return this.fieldContainsDots}isTooltipEnabled(){return this.tooltipEnabled}isTooltipFieldContainsDots(){return this.tooltipFieldContainsDots}getHighlighted(){return this.highlighted}__addEventListener(e,t){this.colEventSvc.addEventListener(e,t)}__removeEventListener(e,t){this.colEventSvc.removeEventListener(e,t)}addEventListener(e,t){var n,s,r;this.frameworkEventListenerService=(s=(n=this.beans.frameworkOverrides).createLocalEventListenerWrapper)==null?void 0:s.call(n,this.frameworkEventListenerService,this.colEventSvc);const i=((r=this.frameworkEventListenerService)==null?void 0:r.wrap(t))??t;this.colEventSvc.addEventListener(e,i)}removeEventListener(e,t){var n;const i=((n=this.frameworkEventListenerService)==null?void 0:n.unwrap(t))??t;this.colEventSvc.removeEventListener(e,i)}createColumnFunctionCallbackParams(e){return wi(this.gos,{node:e,data:e.data,column:this,colDef:this.colDef})}isSuppressNavigable(e){var t;return((t=this.beans.cellNavigation)==null?void 0:t.isSuppressNavigable(this,e))??!1}isCellEditable(e){var t;return((t=this.beans.editSvc)==null?void 0:t.isCellEditable(this,e))??!1}isSuppressFillHandle(){return!!this.colDef.suppressFillHandle}isAutoHeight(){return!!this.colDef.autoHeight}isAutoHeaderHeight(){return!!this.colDef.autoHeaderHeight}isRowDrag(e){return this.isColumnFunc(e,this.colDef.rowDrag)}isDndSource(e){return this.isColumnFunc(e,this.colDef.dndSource)}isCellCheckboxSelection(e){var t;return((t=this.beans.selectionSvc)==null?void 0:t.isCellCheckboxSelection(this,e))??!1}isSuppressPaste(e){var t;return this.isColumnFunc(e,((t=this.colDef)==null?void 0:t.suppressPaste)??null)}isResizable(){return!!this.getColDefValue("resizable")}getColDefValue(e){return this.colDef[e]??oU[e]}isColumnFunc(e,t){if(typeof t=="boolean")return t;if(typeof t=="function"){const i=this.createColumnFunctionCallbackParams(e);return t(i)}return!1}createColumnEvent(e,t){return wi(this.gos,{type:e,column:this,columns:[this],source:t})}isMoving(){return this.moving}getSort(){return this.sort}isSortable(){return!!this.getColDefValue("sortable")}isSortAscending(){return this.sort==="asc"}isSortDescending(){return this.sort==="desc"}isSortNone(){return Vn(this.sort)}isSorting(){return At(this.sort)}getSortIndex(){return this.sortIndex}isMenuVisible(){return this.menuVisible}getAggFunc(){return this.aggFunc}getLeft(){return this.left}getOldLeft(){return this.oldLeft}getRight(){return this.left+this.actualWidth}setLeft(e,t){this.oldLeft=this.left,this.left!==e&&(this.left=e,this.dispatchColEvent("leftChanged",t))}isFilterActive(){return this.filterActive}isHovered(){var e;return Wt(261),!!((e=this.beans.colHover)!=null&&e.isHovered(this))}setFirstRightPinned(e,t){this.firstRightPinned!==e&&(this.firstRightPinned=e,this.dispatchColEvent("firstRightPinnedChanged",t))}setLastLeftPinned(e,t){this.lastLeftPinned!==e&&(this.lastLeftPinned=e,this.dispatchColEvent("lastLeftPinnedChanged",t))}isFirstRightPinned(){return this.firstRightPinned}isLastLeftPinned(){return this.lastLeftPinned}isPinned(){return this.pinned==="left"||this.pinned==="right"}isPinnedLeft(){return this.pinned==="left"}isPinnedRight(){return this.pinned==="right"}getPinned(){return this.pinned}setVisible(e,t){const i=e===!0;this.visible!==i&&(this.visible=i,this.dispatchColEvent("visibleChanged",t)),this.dispatchStateUpdatedEvent("hide")}isVisible(){return this.visible}isSpanHeaderHeight(){return!this.getColDef().suppressSpanHeaderHeight}getColumnGroupPaddingInfo(){let e=this.getParent();if(!e||!e.isPadding())return{numberOfParents:0,isSpanningTotal:!1};const t=e.getPaddingLevel()+1;let i=!0;for(;e;){if(!e.isPadding()){i=!1;break}e=e.getParent()}return{numberOfParents:t,isSpanningTotal:i}}getColDef(){return this.colDef}getDefinition(){return this.colDef}getColumnGroupShow(){return this.colDef.columnGroupShow}getColId(){return this.colId}getId(){return this.colId}getUniqueId(){return this.colId}getActualWidth(){return this.actualWidth}getAutoHeaderHeight(){return this.autoHeaderHeight}setAutoHeaderHeight(e){const t=e!==this.autoHeaderHeight;return this.autoHeaderHeight=e,t}createBaseColDefParams(e){return wi(this.gos,{node:e,data:e.data,colDef:this.colDef,column:this})}getColSpan(e){if(Vn(this.colDef.colSpan))return 1;const t=this.createBaseColDefParams(e),i=this.colDef.colSpan(t);return Math.max(i,1)}getRowSpan(e){if(Vn(this.colDef.rowSpan))return 1;const t=this.createBaseColDefParams(e),i=this.colDef.rowSpan(t);return Math.max(i,1)}setActualWidth(e,t,i=!1){e=Math.max(e,this.minWidth),e=Math.min(e,this.maxWidth),this.actualWidth!==e&&(this.actualWidth=e,this.flex!=null&&t!=="flex"&&t!=="gridInitializing"&&(this.flex=null),i||this.fireColumnWidthChangedEvent(t)),this.dispatchStateUpdatedEvent("width")}fireColumnWidthChangedEvent(e){this.dispatchColEvent("widthChanged",e)}isGreaterThanMax(e){return e>this.maxWidth}getMinWidth(){return this.minWidth}getMaxWidth(){return this.maxWidth}getFlex(){return this.flex}isRowGroupActive(){return this.rowGroupActive}isPivotActive(){return this.pivotActive}isAnyFunctionActive(){return this.isPivotActive()||this.isRowGroupActive()||this.isValueActive()}isAnyFunctionAllowed(){return this.isAllowPivot()||this.isAllowRowGroup()||this.isAllowValue()}isValueActive(){return this.aggregationActive}isAllowPivot(){return this.colDef.enablePivot===!0}isAllowValue(){return this.colDef.enableValue===!0}isAllowRowGroup(){return this.colDef.enableRowGroup===!0}dispatchColEvent(e,t,i){const n=this.createColumnEvent(e,t);i&&Lr(n,i),this.colEventSvc.dispatchEvent(n)}dispatchStateUpdatedEvent(e){this.colEventSvc.dispatchEvent({type:"columnStateUpdated",key:e})}};function Bs(e){return e instanceof eb}var eb=class extends Be{constructor(e,t,i,n){super(),this.colGroupDef=e,this.groupId=t,this.padding=i,this.level=n,this.isColumn=!1,this.expandable=!1,this.instanceId=FO(),this.expandableListenerRemoveCallback=null,this.expanded=!!(e!=null&&e.openByDefault)}destroy(){this.expandableListenerRemoveCallback&&this.reset(null,void 0),super.destroy()}reset(e,t){this.colGroupDef=e,this.level=t,this.originalParent=null,this.expandableListenerRemoveCallback&&this.expandableListenerRemoveCallback(),this.children=void 0,this.expandable=void 0}getInstanceId(){return this.instanceId}getOriginalParent(){return this.originalParent}getLevel(){return this.level}isVisible(){return this.children?this.children.some(e=>e.isVisible()):!1}isPadding(){return this.padding}setExpanded(e){this.expanded=e===void 0?!1:e,this.dispatchLocalEvent({type:"expandedChanged"})}isExpandable(){return this.expandable}isExpanded(){return this.expanded}getGroupId(){return this.groupId}getId(){return this.getGroupId()}setChildren(e){this.children=e}getChildren(){return this.children}getColGroupDef(){return this.colGroupDef}getLeafColumns(){const e=[];return this.addLeafColumns(e),e}addLeafColumns(e){this.children&&this.children.forEach(t=>{Nh(t)?e.push(t):Bs(t)&&t.addLeafColumns(e)})}getColumnGroupShow(){const e=this.colGroupDef;if(e)return e.columnGroupShow}setupExpandable(){this.setExpandable(),this.expandableListenerRemoveCallback&&this.expandableListenerRemoveCallback();const e=this.onColumnVisibilityChanged.bind(this);this.getLeafColumns().forEach(t=>t.__addEventListener("visibleChanged",e)),this.expandableListenerRemoveCallback=()=>{this.getLeafColumns().forEach(t=>t.__removeEventListener("visibleChanged",e)),this.expandableListenerRemoveCallback=null}}setExpandable(){if(this.isPadding())return;let e=!1,t=!1,i=!1;const n=this.findChildrenRemovingPadding();for(let r=0,o=n.length;r<o;r++){const a=n[r];if(!a.isVisible())continue;const c=a.getColumnGroupShow();c==="open"?(e=!0,i=!0):c==="closed"?(t=!0,i=!0):(e=!0,t=!0)}const s=e&&t&&i;this.expandable!==s&&(this.expandable=s,this.dispatchLocalEvent({type:"expandableChanged"}))}findChildrenRemovingPadding(){const e=[],t=i=>{i.forEach(n=>{Bs(n)&&n.isPadding()?t(n.children):e.push(n)})};return t(this.children),e}onColumnVisibilityChanged(){this.setExpandable()}},lU={numericColumn:{headerClass:"ag-right-aligned-header",cellClass:"ag-right-aligned-cell"},rightAligned:{headerClass:"ag-right-aligned-header",cellClass:"ag-right-aligned-cell"}},cU=class{constructor(){this.existingKeys={}}addExistingKeys(e){for(let t=0;t<e.length;t++)this.existingKeys[e[t]]=!0}getUniqueKey(e,t){e=CM(e);let i=0;for(;;){let n=e??t;if(n?i!==0&&(n+="_"+i):n=i,!this.existingKeys[n])return this.existingKeys[n]=!0,String(n);i++}}};function Li(e){if(e!=null&&e.length)return e[e.length-1]}function NC(e,t,i){return e==null&&t==null?!0:e!=null&&t!=null&&e.length===t.length&&e.every((n,s)=>t[s]===n)}function Av(e,t){if(e)for(const i of e)t(i)}function ru(e,t){const i=e.indexOf(t);i>=0&&e.splice(i,1)}function g1(e,t,i){for(let n=0;n<t.length;n++)ru(e,t[n]);for(let n=t.length-1;n>=0;n--)e.splice(i,0,t[n])}var OC="ag-Grid-AutoColumn",uU="ag-Grid-SelectionColumn",hU="ag-Grid-RowNumbersColumn";function dU(e){const t=[],i=n=>{for(let s=0;s<n.length;s++){const r=n[s];Nh(r)?t.push(r):Bs(r)&&i(r.getChildren())}};return i(e),t}function Hd(e){return e.reduce((t,i)=>t+i.getActualWidth(),0)}function p1(e,t,i){const n={};if(!t)return;Cl(null,t,r=>{n[r.getInstanceId()]=r}),i&&Cl(null,i,r=>{n[r.getInstanceId()]=null});const s=Object.values(n).filter(r=>r!=null);e.context.destroyBeans(s)}function fU(e){return e.getId().startsWith(OC)}function zO(e){const t=typeof e=="string"?e:"getColId"in e?e.getColId():e.colId;return(t==null?void 0:t.startsWith(uU))??!1}function kb(e){const t=typeof e=="string"?e:"getColId"in e?e.getColId():e.colId;return(t==null?void 0:t.startsWith(hU))??!1}function _b(e){let t=[];return e instanceof Array?t=e:typeof e=="string"&&(t=e.split(",")),t}function tb(e){return e==="gridOptionsUpdated"?"gridOptionsChanged":e}function gU(e,t){const i=e===t,n=e.getColDef()===t,s=e.getColId()==t;return i||n||s}var pU=(e,t)=>(i,n)=>{const s={value1:void 0,value2:void 0};let r=!1;return e&&(e[i]!==void 0&&(s.value1=e[i],r=!0),At(n)&&e[n]!==void 0&&(s.value2=e[n],r=!0)),!r&&t&&(t[i]!==void 0&&(s.value1=t[i]),At(n)&&t[n]!==void 0&&(s.value2=t[n])),s};function mU(e,t=null,i,n,s){const r=new cU,{existingCols:o,existingGroups:a,existingColKeys:c}=yU(n);r.addExistingKeys(c);const h=GO(e,t,0,i,o,r,a,s),{colGroupSvc:f}=e,p=(f==null?void 0:f.findMaxDepth(h,0))??0,m=f?f.balanceColumnTree(h,0,p,r):h;return Cl(null,m,(C,w)=>{Bs(C)&&C.setupExpandable(),C.originalParent=w}),{columnTree:m,treeDept:p}}function yU(e){const t=[],i=[],n=[];return e&&Cl(null,e,s=>{if(Bs(s)){const r=s;i.push(r)}else{const r=s;n.push(r.getId()),t.push(r)}}),{existingCols:t,existingGroups:i,existingColKeys:n}}function GO(e,t,i,n,s,r,o,a){if(!t)return[];const{colGroupSvc:c}=e,h=new Array(t.length);for(let f=0;f<h.length;f++){const p=t[f];c&&wU(p)?h[f]=c.createProvidedColumnGroup(n,p,i,s,r,o,a):h[f]=vU(e,n,p,s,r,a)}return h}function vU(e,t,i,n,s,r){var c;const o=CU(i,n);o&&(n==null||n.splice(o.idx,1));let a=o==null?void 0:o.column;if(a){const h=DM(e,i,a.getColId());a.setColDef(h,i,r),bU(e,a,h,r)}else{const h=s.getUniqueKey(i.colId,i.field),f=DM(e,i,h);a=new BO(f,i,h,t),e.context.createBean(a)}return(c=e.dataTypeSvc)==null||c.addColumnListeners(a),a}function HO(e,t,i,n,s,r,o,a){const{sortSvc:c,pinnedCols:h,colFlex:f}=e;i!==void 0&&t.setVisible(!i,a),c&&(c.updateColSort(t,n,a),s!==void 0&&c.setColSortIndex(t,s)),r!==void 0&&(h==null||h.setColPinned(t,r)),o!==void 0&&(f==null||f.setColFlex(t,o))}function bU(e,t,i,n){HO(e,t,i.hide,i.sort,i.sortIndex,i.pinned,i.flex,n);const s=t.getFlex();if(!(s!=null&&s>0))if(i.width!=null)t.setActualWidth(i.width,n);else{const r=t.getActualWidth();t.setActualWidth(r,n)}}function CU(e,t){if(t)for(let i=0;i<t.length;i++){const n=t[i].getUserProvidedColDef();if(!n)continue;if(e.colId!=null){if(t[i].getId()===e.colId)return{idx:i,column:t[i]};continue}if(e.field!=null){if(n.field===e.field)return{idx:i,column:t[i]};continue}if(n===e)return{idx:i,column:t[i]}}}function DM(e,t,i,n){const{gos:s,dataTypeSvc:r,validation:o}=e,a={},c=s.get("defaultColDef");Lr(a,c,!1,!0);const h=xU(e,a,t,i);h&&SU(e,h,a),Lr(a,t,!1,!0);const f=s.get("autoGroupColumnDef"),p=gl(s);return t.rowGroup&&f&&p&&Lr(a,{sort:f.sort,initialSort:f.initialSort},!1,!0),r==null||r.validateColDef(a),o==null||o.validateColDef(a,i,n),a}function xU(e,t,i,n){var o;const s=(o=e.dataTypeSvc)==null?void 0:o.updateColDefAndGetColumnType(t,i,n),r=i.type??s??t.type;return t.type=r,r?_b(r):void 0}function SU(e,t,i){if(!t.length)return;const n=Object.assign({},lU),s=e.gos.get("columnTypes")||{};for(const r of Object.keys(s)){const o=s[r];r in n?Wt(34,{key:r}):(o.type&&Wt(35),n[r]=o)}t.forEach(r=>{const o=n[r.trim()];o?Lr(i,o,!1,!0):Wt(36,{t:r})})}function wU(e){return e.children!==void 0}function Cl(e,t,i){if(t)for(let n=0;n<t.length;n++){const s=t[n];Bs(s)&&Cl(s,s.getChildren(),i),i(s,e)}}function jO(e,t){const i=[],n=[],s=[];return e.forEach(o=>{const a=o.getColDef().lockPosition;a==="right"?s.push(o):a==="left"||a===!0?i.push(o):n.push(o)}),t.get("enableRtl")?[...s,...n,...i]:[...i,...n,...s]}function VO(e,t){let i=!0;return Cl(null,t,n=>{if(!Bs(n))return;const s=n,r=s.getColGroupDef();if(!(r&&r.marryChildren))return;const a=[];s.getLeafColumns().forEach(m=>{const b=e.indexOf(m);a.push(b)});const c=Math.max.apply(Math,a),h=Math.min.apply(Math,a),f=c-h,p=s.getLeafColumns().length-1;f>p&&(i=!1)}),i}function WO(e,t){if(!e||e.length==0)return;const i=t(e[0]);for(let n=1;n<e.length;n++)if(i!==t(e[n]))return;return i}function UO(e,t,i){if(!t.length)return;const n=t.length===1?t[0]:null,s=WO(t,r=>r.getPinned());e.dispatchEvent({type:"columnPinned",pinned:s??null,columns:t,column:n,source:i})}function MU(e,t,i){if(!t.length)return;const n=t.length===1?t[0]:null,s=WO(t,r=>r.isVisible());e.dispatchEvent({type:"columnVisible",visible:s,columns:t,column:n,source:i})}function DU(e,t,i,n){e.dispatchEvent({type:t,columns:i,column:i&&i.length==1?i[0]:null,source:n})}function Nb(e,t,i,n,s=null){t!=null&&t.length&&e.dispatchEvent({type:"columnResized",columns:t,column:t.length===1?t[0]:null,flexColumns:s,finished:i,source:n})}function YO(e,t,i){var _;const{colModel:n,rowGroupColsSvc:s,pivotColsSvc:r,autoColSvc:o,selectionColSvc:a,colAnimation:c,visibleCols:h,pivotResultCols:f,environment:p,valueColsSvc:m,eventSvc:b,gos:C}=e,w=n.getColDefCols()||[];if(!(w!=null&&w.length))return!1;if(t!=null&&t.state&&!t.state.forEach)return Wt(32),!1;const D=(F,N,z,V,j)=>{if(!F)return;const U=pU(N,t.defaultState),$=U("flex").value1;if(HO(e,F,U("hide").value1,U("sort").value1,U("sortIndex").value1,U("pinned").value1,$,i),$==null){const Q=U("width").value1;if(Q!=null){const J=F.getColDef().minWidth??p.getDefaultColumnMinWidth();J!=null&&Q>=J&&F.setActualWidth(Q,i)}}j||!F.isPrimary()||(m==null||m.syncColumnWithState(F,i,U),s==null||s.syncColumnWithState(F,i,U,z),r==null||r.syncColumnWithState(F,i,U,V))},M=(F,N,z)=>{var H,K;const V=KO(e,i),j=N.slice(),U={},$={},Q=[],J=[],be=[];let me=0;const Y=(s==null?void 0:s.columns.slice())??[],re=(r==null?void 0:r.columns.slice())??[];F.forEach(ie=>{const te=ie.colId;if(te.startsWith(OC)){Q.push(ie),be.push(ie);return}if(zO(te)){J.push(ie),be.push(ie);return}const ye=z(te);ye?(D(ye,ie,U,$,!1),ru(j,ye)):(be.push(ie),me+=1)});const Z=ie=>D(ie,null,U,$,!1);j.forEach(Z),s==null||s.sortColumns(y1.bind(s,U,Y)),r==null||r.sortColumns(y1.bind(r,$,re)),n.refreshCols(!1);const Ce=(ie,te,se=[])=>{te.forEach(ye=>{const he=ie(ye.colId);ru(se,he),D(he,ye,null,null,!0)}),se.forEach(Z)};return Ce(ie=>(o==null?void 0:o.getColumn(ie))??null,Q,(H=o==null?void 0:o.getColumns())==null?void 0:H.slice()),Ce(ie=>(a==null?void 0:a.getColumn(ie))??null,J,(K=a==null?void 0:a.getColumns())==null?void 0:K.slice()),TU(t,n,C),h.refresh(i),b.dispatchEvent({type:"columnEverythingChanged",source:i}),V(),{unmatchedAndAutoStates:be,unmatchedCount:me}};c==null||c.start();let{unmatchedAndAutoStates:A,unmatchedCount:k}=M(t.state||[],w,F=>n.getColDefCol(F));if(A.length>0||At(t.defaultState)){const F=((_=f==null?void 0:f.getPivotResultCols())==null?void 0:_.list)??[];k=M(A,F,N=>(f==null?void 0:f.getPivotResultCol(N))??null).unmatchedCount}return c==null||c.finish(),k===0}function KO(e,t){const{rowGroupColsSvc:i,pivotColsSvc:n,valueColsSvc:s,colModel:r,sortSvc:o,eventSvc:a}=e,c={rowGroupColumns:(i==null?void 0:i.columns.slice())??[],pivotColumns:(n==null?void 0:n.columns.slice())??[],valueColumns:(s==null?void 0:s.columns.slice())??[]},h=m1(e),f={};return h.forEach(p=>{f[p.colId]=p}),()=>{const p=(N,z,V,j)=>{const U=z.map(j),$=V.map(j);if(NC(U,$))return;const J=new Set(z);V.forEach(me=>{J.delete(me)||J.add(me)});const be=[...J];a.dispatchEvent({type:N,columns:be,column:be.length===1?be[0]:null,source:t})},m=N=>{const z=[];return r.forAllCols(V=>{const j=f[V.getColId()];j&&N(j,V)&&z.push(V)}),z},b=N=>N.getColId();p("columnRowGroupChanged",c.rowGroupColumns,(i==null?void 0:i.columns)??[],b),p("columnPivotChanged",c.pivotColumns,(n==null?void 0:n.columns)??[],b);const w=m((N,z)=>{const V=N.aggFunc!=null,j=V!=z.isValueActive(),U=V&&N.aggFunc!=z.getAggFunc();return j||U});w.length>0&&DU(a,"columnValueChanged",w,t),Nb(a,m((N,z)=>N.width!=z.getActualWidth()),!0,t),UO(a,m((N,z)=>N.pinned!=z.getPinned()),t),MU(a,m((N,z)=>N.hide==z.isVisible()),t);const _=m((N,z)=>N.sort!=z.getSort()||N.sortIndex!=z.getSortIndex());_.length>0&&(o==null||o.dispatchSortChangedEvents(t,_));const F=m1(e);EU(h,F,t,r,a)}}function m1(e){const{colModel:t,rowGroupColsSvc:i,pivotColsSvc:n}=e,s=t.getColDefCols();if(Vn(s)||!t.isAlive())return[];const r=i==null?void 0:i.columns,o=n==null?void 0:n.columns,a=[],c=f=>{const p=f.isRowGroupActive()&&r?r.indexOf(f):null,m=f.isPivotActive()&&o?o.indexOf(f):null,b=f.isValueActive()?f.getAggFunc():null,C=f.getSort()!=null?f.getSort():null,w=f.getSortIndex()!=null?f.getSortIndex():null;a.push({colId:f.getColId(),width:f.getActualWidth(),hide:!f.isVisible(),pinned:f.getPinned(),sort:C,sortIndex:w,aggFunc:b,rowGroup:f.isRowGroupActive(),rowGroupIndex:p,pivot:f.isPivotActive(),pivotIndex:m,flex:f.getFlex()??null})};t.forAllCols(f=>c(f));const h=new Map(t.getCols().map((f,p)=>[f.getColId(),p]));return a.sort((f,p)=>{const m=h.has(f.colId)?h.get(f.colId):-1,b=h.has(p.colId)?h.get(p.colId):-1;return m-b}),a}function LU(e){const t=(C,w)=>C??w??null,i=e.getColDef(),n=t(i.sort,i.initialSort),s=t(i.sortIndex,i.initialSortIndex),r=t(i.hide,i.initialHide),o=t(i.pinned,i.initialPinned),a=t(i.width,i.initialWidth),c=t(i.flex,i.initialFlex);let h=t(i.rowGroupIndex,i.initialRowGroupIndex),f=t(i.rowGroup,i.initialRowGroup);h==null&&(f==null||f==!1)&&(h=null,f=null);let p=t(i.pivotIndex,i.initialPivotIndex),m=t(i.pivot,i.initialPivot);p==null&&(m==null||m==!1)&&(p=null,m=null);const b=t(i.aggFunc,i.initialAggFunc);return{colId:e.getColId(),sort:n,sortIndex:s,hide:r,pinned:o,width:a,flex:c,rowGroup:f,rowGroupIndex:h,pivot:m,pivotIndex:p,aggFunc:b}}function TU(e,t,i){if(!e.applyOrder||!e.state)return;const n=[];e.state.forEach(s=>{s.colId!=null&&n.push(s.colId)}),AU(t.cols,n,t,i)}function AU(e,t,i,n){if(e==null)return;let s=[];const r={};t.forEach(a=>{if(r[a])return;const c=e.map[a];c&&(s.push(c),r[a]=!0)});let o=0;if(e.list.forEach(a=>{const c=a.getColId();if(r[c]!=null)return;c.startsWith(OC)?s.splice(o++,0,a):s.push(a)}),s=jO(s,n),!VO(s,i.getColTree())){Wt(39);return}e.list=s}function EU(e,t,i,n,s){const r={};t.forEach(f=>r[f.colId]=f);const o={};e.forEach(f=>{r[f.colId]&&(o[f.colId]=!0)});const a=e.filter(f=>o[f.colId]),c=t.filter(f=>o[f.colId]),h=[];c.forEach((f,p)=>{const m=a&&a[p];if(m&&m.colId!==f.colId){const b=n.getCol(m.colId);b&&h.push(b)}}),h.length&&s.dispatchEvent({type:"columnMoved",columns:h,column:h.length===1?h[0]:null,finished:!0,source:i})}var y1=(e,t,i,n)=>{const s=e[i.getId()],r=e[n.getId()],o=s!=null,a=r!=null;if(o&&a)return s-r;if(o)return-1;if(a)return 1;const c=t.indexOf(i),h=t.indexOf(n),f=c>=0,p=h>=0;return f&&p?c-h:f?-1:1},RU=class extends Be{constructor(){super(...arguments),this.beanName="colModel",this.pivotMode=!1,this.ready=!1,this.changeEventsDispatching=!1}postConstruct(){this.pivotMode=this.gos.get("pivotMode"),this.addManagedPropertyListeners(["groupDisplayType","treeData","treeDataDisplayType","groupHideOpenParents"],e=>this.refreshAll(tb(e.source))),this.addManagedPropertyListeners(["defaultColDef","defaultColGroupDef","columnTypes","suppressFieldDotNotation"],this.recreateColumnDefs.bind(this)),this.addManagedPropertyListener("pivotMode",e=>this.setPivotMode(this.gos.get("pivotMode"),tb(e.source)))}createColsFromColDefs(e){var A,k,_;const{beans:t}=this,{valueCache:i,colAutosize:n,rowGroupColsSvc:s,pivotColsSvc:r,valueColsSvc:o,visibleCols:a,colViewport:c,eventSvc:h}=t,f=this.colDefs?KO(t,e):void 0;i==null||i.expire();const p=(A=this.colDefCols)==null?void 0:A.list,m=(k=this.colDefCols)==null?void 0:k.tree,b=mU(t,this.colDefs,!0,m,e);p1(t,(_=this.colDefCols)==null?void 0:_.tree,b.columnTree);const C=b.columnTree,w=b.treeDept,D=dU(C),M={};D.forEach(F=>M[F.getId()]=F),this.colDefCols={tree:C,treeDepth:w,list:D,map:M},s==null||s.extractCols(e,p),r==null||r.extractCols(e,p),o==null||o.extractCols(e,p),this.ready=!0,this.refreshCols(!0),a.refresh(e),c.checkViewportColumns(),h.dispatchEvent({type:"columnEverythingChanged",source:e}),f&&(this.changeEventsDispatching=!0,f(),this.changeEventsDispatching=!1),h.dispatchEvent({type:"newColumnsLoaded",source:e}),e==="gridInitializing"&&(n==null||n.applyAutosizeStrategy())}refreshCols(e){var w;if(!this.colDefCols)return;const t=(w=this.cols)==null?void 0:w.tree;this.saveColOrder();const{autoColSvc:i,selectionColSvc:n,rowNumbersSvc:s,quickFilter:r,pivotResultCols:o,showRowGroupCols:a,rowAutoHeight:c,visibleCols:h,colViewport:f,eventSvc:p}=this.beans,m=this.selectCols(o,this.colDefCols);this.createColumnsForService([i,n,s],m);const b=B3(this.gos,this.showingPivotResult);(!e||b)&&this.restoreColOrder(m),this.positionLockedCols(m),a==null||a.refresh(),r==null||r.refreshCols(),this.setColSpanActive(),c==null||c.setAutoHeightActive(m),h.clear(),f.clear(),!NC(t,this.cols.tree)&&p.dispatchEvent({type:"gridColumnsChanged"})}createColumnsForService(e,t){for(const i of e)i&&(i.createColumns(t,n=>{this.lastOrder=n(this.lastOrder),this.lastPivotOrder=n(this.lastPivotOrder)}),i.addColumns(t))}selectCols(e,t){const i=(e==null?void 0:e.getPivotResultCols())??null;this.showingPivotResult=i!=null;const{map:n,list:s,tree:r,treeDepth:o}=i??t;return this.cols={list:s.slice(),map:{...n},tree:r.slice(),treeDepth:o},i&&(i.list.some(c=>{var h;return((h=this.cols)==null?void 0:h.map[c.getColId()])!==void 0})||(this.lastPivotOrder=null)),this.cols}getColsToShow(){var n;if(!this.cols)return[];const e=this.isPivotMode()&&!this.showingPivotResult,t=(n=this.beans.valueColsSvc)==null?void 0:n.columns;return this.cols.list.filter(s=>{const r=fU(s);if(e){const o=t==null?void 0:t.includes(s);return r||o}else return r||s.isVisible()})}refreshAll(e){this.ready&&(this.refreshCols(!1),this.beans.visibleCols.refresh(e))}setColsVisible(e,t=!1,i){YO(this.beans,{state:e.map(n=>({colId:typeof n=="string"?n:n.getColId(),hide:!t}))},i)}restoreColOrder(e){const t=this.showingPivotResult?this.lastPivotOrder:this.lastOrder;if(!t)return;const i=new Map(t.map((h,f)=>[h,f]));if(!e.list.some(h=>i.has(h)))return;const s=new Map(e.list.map(h=>[h,!0])),r=t.filter(h=>s.has(h)),o=new Map(r.map(h=>[h,!0])),a=e.list.filter(h=>!o.has(h)),c=r.slice();a.forEach(h=>{let f=h.getOriginalParent();if(!f){c.push(h);return}const p=[];for(;!p.length&&f;)f.getLeafColumns().forEach(w=>{const D=c.indexOf(w)>=0,M=p.indexOf(w)<0;D&&M&&p.push(w)}),f=f.getOriginalParent();if(!p.length){c.push(h);return}const m=p.map(C=>c.indexOf(C)),b=Math.max(...m);c.splice(b+1,0,h)}),e.list=c}positionLockedCols(e){e.list=jO(e.list,this.gos)}saveColOrder(){var e,t;this.showingPivotResult?this.lastPivotOrder=((e=this.cols)==null?void 0:e.list)??null:this.lastOrder=((t=this.cols)==null?void 0:t.list)??null}getColumnDefs(){var e,t;return this.colDefCols?(t=this.beans.colDefFactory)==null?void 0:t.getColumnDefs(this.colDefCols.list,this.showingPivotResult,this.lastOrder,((e=this.cols)==null?void 0:e.list)??[]):void 0}setColSpanActive(){var e;this.colSpanActive=!!((e=this.cols)!=null&&e.list.some(t=>t.getColDef().colSpan!=null))}isPivotMode(){return this.pivotMode}setPivotMode(e,t){if(e===this.pivotMode||(this.pivotMode=e,!this.ready))return;this.refreshCols(!1);const{visibleCols:i,eventSvc:n}=this.beans;i.refresh(t),n.dispatchEvent({type:"columnPivotModeChanged"})}isPivotActive(){var t;const e=(t=this.beans.pivotColsSvc)==null?void 0:t.columns;return this.pivotMode&&!!(e!=null&&e.length)}recreateColumnDefs(e){var i;if(!this.cols)return;(i=this.beans.autoColSvc)==null||i.updateColumns(e);const t=tb(e.source);this.createColsFromColDefs(t)}setColumnDefs(e,t){this.colDefs=e,this.createColsFromColDefs(t)}destroy(){var e;p1(this.beans,(e=this.colDefCols)==null?void 0:e.tree),super.destroy()}getColTree(){var e;return((e=this.cols)==null?void 0:e.tree)??[]}getColDefColTree(){var e;return((e=this.colDefCols)==null?void 0:e.tree)??[]}getColDefCols(){var e;return((e=this.colDefCols)==null?void 0:e.list)??null}getCols(){var e;return((e=this.cols)==null?void 0:e.list)??[]}forAllCols(e){var s,r,o,a;const{pivotResultCols:t,autoColSvc:i,selectionColSvc:n}=this.beans;Av((s=this.colDefCols)==null?void 0:s.list,e),Av((r=i==null?void 0:i.columns)==null?void 0:r.list,e),Av((o=n==null?void 0:n.columns)==null?void 0:o.list,e),Av((a=t==null?void 0:t.getPivotResultCols())==null?void 0:a.list,e)}getColsForKeys(e){return e?e.map(t=>this.getCol(t)).filter(t=>t!=null):[]}getColDefCol(e){var t;return(t=this.colDefCols)!=null&&t.list?this.getColFromCollection(e,this.colDefCols):null}getCol(e){return e==null?null:this.getColFromCollection(e,this.cols)}getColFromCollection(e,t){var s,r;if(t==null)return null;const{map:i,list:n}=t;if(typeof e=="string"&&i[e])return i[e];for(let o=0;o<n.length;o++)if(gU(n[o],e))return n[o];return((s=this.beans.autoColSvc)==null?void 0:s.getColumn(e))??((r=this.beans.selectionColSvc)==null?void 0:r.getColumn(e))??null}},IU=class{constructor(){this.existingIds={}}getInstanceIdForKey(e){const t=this.existingIds[e];let i;return typeof t!="number"?i=0:i=t+1,this.existingIds[e]=i,i}},Rf=class extends Be{};function PC(e,t,i){return i&&e.addDestroyFunc(()=>t.destroyBean(i)),i??e}var Sm=class{constructor(e){this.cssClassStates={},this.getGui=e}addCssClass(e){this.addOrRemoveCssClass(e,!0)}removeCssClass(e){this.addOrRemoveCssClass(e,!1)}containsCssClass(e){const t=this.getGui();return t?t.classList.contains(e):!1}addOrRemoveCssClass(e,t){if(!e)return;if(e.indexOf(" ")>=0){const n=(e||"").split(" ");if(n.length>1){n.forEach(s=>this.addOrRemoveCssClass(s,t));return}}if(this.cssClassStates[e]!==t&&e.length){const n=this.getGui();n&&n.classList.toggle(e,t),this.cssClassStates[e]=t}}},kU=0,ii=null,Il=class extends Be{constructor(e,t){super(),this.suppressDataRefValidation=!1,this.displayed=!0,this.visible=!0,this.compId=kU++,this.cssClassManager=new Sm(()=>this.eGui),this.componentSelectors=new Map((t??[]).map(i=>[i.selector,i])),e&&this.setTemplate(e)}preConstruct(){var t,i,n;this.wireTemplate(this.getGui());const e="component-"+((i=(t=Object.getPrototypeOf(this))==null?void 0:t.constructor)==null?void 0:i.name);(n=this.css)==null||n.forEach(s=>this.beans.environment.addGlobalCSS(s,e))}wireTemplate(e,t){e&&this.gos&&(this.applyElementsToComponent(e),this.createChildComponentsFromTags(e,t))}getCompId(){return this.compId}getDataRefAttribute(e){return e.getAttribute?e.getAttribute(bO):null}applyElementsToComponent(e,t,i,n=null){if(t===void 0&&(t=this.getDataRefAttribute(e)),t){const s=this[t];if(s===ii)this[t]=n??e;else{const r=i&&i[t];if(!this.suppressDataRefValidation&&!r)throw new Error(`data-ref: ${t} on ${this.constructor.name} with ${s}`)}}}createChildComponentsFromTags(e,t){const i=[];for(const n of e.childNodes??[])i.push(n);i.forEach(n=>{if(!(n instanceof HTMLElement))return;const s=this.createComponentFromElement(n,r=>{const o=r.getGui();if(o)for(const a of n.attributes??[])o.setAttribute(a.name,a.value)},t);if(s){if(s.addItems&&n.children.length){this.createChildComponentsFromTags(n,t);const r=Array.prototype.slice.call(n.children);s.addItems(r)}this.swapComponentForNode(s,e,n)}else n.childNodes&&this.createChildComponentsFromTags(n,t)})}createComponentFromElement(e,t,i){const n=e.nodeName,s=this.getDataRefAttribute(e),r=n.indexOf("AG-")===0,o=r?this.componentSelectors.get(n):null;let a=null;if(o){const c=i&&s?i[s]:void 0;a=new o.component(c),a.setParentComponent(this),this.createBean(a,null,t)}else if(r)throw new Error(`selector: ${n}`);return this.applyElementsToComponent(e,s,i,a),a}swapComponentForNode(e,t,i){const n=e.getGui();t.replaceChild(n,i),t.insertBefore(document.createComment(i.nodeName),n),this.addDestroyFunc(this.destroyBean.bind(this,e))}activateTabIndex(e){const t=this.gos.get("tabIndex");e||(e=[]),e.length||e.push(this.getGui()),e.forEach(i=>i.setAttribute("tabindex",t.toString()))}setTemplate(e,t,i){let n;typeof e=="string"||e==null?n=KD(e):n=Qc(e),this.setTemplateFromElement(n,t,i)}setTemplateFromElement(e,t,i,n=!1){if(this.eGui=e,this.suppressDataRefValidation=n,t)for(let s=0;s<t.length;s++){const r=t[s];this.componentSelectors.set(r.selector,r)}this.wireTemplate(e,i)}getGui(){return this.eGui}getFocusableElement(){return this.eGui}getAriaElement(){return this.getFocusableElement()}setParentComponent(e){this.parentComponent=e}getParentComponent(){return this.parentComponent}setGui(e){this.eGui=e}queryForHtmlElement(e){return this.eGui.querySelector(e)}getContainerAndElement(e,t){let i=t;return e==null?null:(i||(i=this.eGui),vO(e)?{element:e,parent:i}:{element:e.getGui(),parent:i})}prependChild(e,t){const{element:i,parent:n}=this.getContainerAndElement(e,t)||{};!i||!n||n.insertAdjacentElement("afterbegin",i)}appendChild(e,t){const{element:i,parent:n}=this.getContainerAndElement(e,t)||{};!i||!n||n.appendChild(i)}isDisplayed(){return this.displayed}setVisible(e,t={}){if(e!==this.visible){this.visible=e;const{skipAriaHidden:i}=t;S3(this.eGui,e,{skipAriaHidden:i})}}setDisplayed(e,t={}){if(e!==this.displayed){this.displayed=e;const{skipAriaHidden:i}=t;Gn(this.eGui,e,{skipAriaHidden:i});const n={type:"displayChanged",visible:this.displayed};this.dispatchLocalEvent(n)}}destroy(){this.parentComponent&&(this.parentComponent=void 0),super.destroy()}addGuiEventListener(e,t,i){this.eGui.addEventListener(e,t,i),this.addDestroyFunc(()=>this.eGui.removeEventListener(e,t))}addCssClass(e){this.cssClassManager.addCssClass(e)}removeCssClass(e){this.cssClassManager.removeCssClass(e)}containsCssClass(e){return this.cssClassManager.containsCssClass(e)}addOrRemoveCssClass(e,t){this.cssClassManager.addOrRemoveCssClass(e,t)}registerCSS(e){this.css||(this.css=[]),this.css.push(e)}},ro=class Cp{constructor(t){this.status=0,this.resolution=null,this.waiters=[],t(i=>this.onDone(i),i=>this.onReject(i))}static all(t){return t.length?new Cp(i=>{let n=t.length;const s=new Array(n);t.forEach((r,o)=>{r.then(a=>{s[o]=a,n--,n===0&&i(s)})})}):Cp.resolve()}static resolve(t=null){return new Cp(i=>i(t))}then(t){return new Cp(i=>{this.status===1?i(t(this.resolution)):this.waiters.push(n=>i(t(n)))})}onDone(t){this.status=1,this.resolution=t,this.waiters.forEach(i=>i(t))}onReject(t){}};function _U(e){return e?e.prototype&&"getGui"in e.prototype:!1}function NU(e,t,i,n){const{name:s}=i;let r,o,a,c,h,f;if(t){const p=t,m=p[s+"Selector"],b=m?m(n):null,C=w=>{typeof w=="string"?r=w:w!=null&&w!==!0&&(e.isFrameworkComponent(w)?a=w:o=w)};b?(C(b.component),c=b.params,h=b.popup,f=b.popupPosition):C(p[s])}return{compName:r,jsComp:o,fwComp:a,paramsFromSelector:c,popupFromSelector:h,popupPositionFromSelector:f}}var OU=class extends Be{constructor(){super(...arguments),this.beanName="userCompFactory"}wireBeans(e){this.agCompUtils=e.agCompUtils,this.registry=e.registry,this.frameworkCompWrapper=e.frameworkCompWrapper,this.gridOptions=e.gridOptions}getCompDetailsFromGridOptions(e,t,i,n=!1){return this.getCompDetails(this.gridOptions,e,t,i,n)}getCompDetails(e,t,i,n,s=!1){var A;const{name:r,cellRenderer:o}=t;let{compName:a,jsComp:c,fwComp:h,paramsFromSelector:f,popupFromSelector:p,popupPositionFromSelector:m}=NU(this.beans.frameworkOverrides,e,t,n),b;const C=k=>{const _=this.registry.getUserComponent(r,k);_&&(c=_.componentFromFramework?void 0:_.component,h=_.componentFromFramework?_.component:void 0,b=_.params)};if(a!=null&&C(a),c==null&&h==null&&i!=null&&C(i),c&&o&&!_U(c)&&(c=(A=this.agCompUtils)==null?void 0:A.adaptFunction(t,c)),!c&&!h){const{validation:k}=this.beans;s&&(a!==i||!i)?a?k!=null&&k.isProvidedUserComp(a)||Mr(50,{compName:a}):i?k||Mr(260,{...this.gos.getModuleErrorParams(),propName:r,compName:i}):Mr(216,{name:r}):i&&!k&&Mr(146,{comp:i});return}const w=this.mergeParams(e,t,n,f,b),D=c==null,M=c??h;return{componentFromFramework:D,componentClass:M,params:w,type:t,popupFromSelector:p,popupPositionFromSelector:m,newAgStackInstance:()=>this.newAgStackInstance(M,D,w,t)}}newAgStackInstance(e,t,i,n){var a;const s=!t;let r;s?r=new e:r=this.frameworkCompWrapper.wrap(e,n.mandatoryMethods,n.optionalMethods,n),this.createBean(r);const o=(a=r.init)==null?void 0:a.call(r,i);return o==null?ro.resolve(r):o.then(()=>r)}mergeParams(e,t,i,n=null,s){const r={...i,...s},o=e,a=o&&o[t.name+"Params"];if(typeof a=="function"){const c=a(i);Lr(r,c)}else typeof a=="object"&&Lr(r,a);return Lr(r,n),r}},PU={name:"dragAndDropImageComponent",mandatoryMethods:["setIcon","setLabel"]},FU={name:"headerComponent",optionalMethods:["refresh"]},BU={name:"innerHeaderComponent"},zU={name:"innerHeaderGroupComponent"},GU={name:"headerGroupComponent"},HU={name:"cellRenderer",optionalMethods:["refresh","afterGuiAttached"],cellRenderer:!0},jU={name:"loadingCellRenderer",cellRenderer:!0},VU={name:"loadingOverlayComponent",optionalMethods:["refresh"]},WU={name:"noRowsOverlayComponent",optionalMethods:["refresh"]},UU={name:"fullWidthCellRenderer",optionalMethods:["refresh","afterGuiAttached"],cellRenderer:!0},YU={name:"loadingCellRenderer",cellRenderer:!0},KU={name:"groupRowRenderer",optionalMethods:["afterGuiAttached"],cellRenderer:!0},$U={name:"detailCellRenderer",optionalMethods:["refresh"],cellRenderer:!0};function ZU(e,t){return e.getCompDetailsFromGridOptions(PU,"agDragAndDropImage",t,!0)}function XU(e,t,i){return e.getCompDetails(t,FU,"agColumnHeader",i)}function qU(e,t,i){return e.getCompDetails(t,BU,void 0,i)}function QU(e,t){const i=t.columnGroup.getColGroupDef();return e.getCompDetails(i,GU,"agColumnGroupHeader",t)}function JU(e,t,i){return e.getCompDetails(t,zU,void 0,i)}function e5(e,t){return e.getCompDetailsFromGridOptions(UU,void 0,t,!0)}function t5(e,t){return e.getCompDetailsFromGridOptions(YU,"agLoadingCellRenderer",t,!0)}function i5(e,t){return e.getCompDetailsFromGridOptions(KU,"agGroupRowRenderer",t,!0)}function n5(e,t){return e.getCompDetailsFromGridOptions($U,"agDetailCellRenderer",t,!0)}function v1(e,t,i){return e.getCompDetails(t,HU,void 0,i)}function s5(e,t,i){return e.getCompDetails(t,jU,"agSkeletonCellRenderer",i,!0)}function r5(e,t){return e.getCompDetailsFromGridOptions(VU,"agLoadingOverlay",t,!0)}function o5(e,t){return e.getCompDetailsFromGridOptions(WU,"agNoRowsOverlay",t,!0)}var $O=new Set,Ob={},Lh={},ib,ZO=!1,a5=!1;function l5(e){const[t,i]=e.version.split(".")||[],[n,s]=ib.split(".")||[];return t===n&&i===s}function c5(e){ib||(ib=e.version);const t=i=>`You are using incompatible versions of AG Grid modules. Major and minor versions should always match across modules. ${i} Please update all modules to the same version.`;if(e.version?l5(e)||Ap(t(`'${e.moduleName}' is version ${e.version} but the other modules are version ${ib}.`)):Ap(t(`'${e.moduleName}' is incompatible.`)),e.validate){const i=e.validate();i.isValid||Ap(`${i.message}`)}}function LM(e,t){c5(e);const i=e.rowModels??["all"];$O.add(e);let n;t!==void 0?(ZO=!0,Lh[t]===void 0&&(Lh[t]={}),n=Lh[t]):n=Ob,i.forEach(s=>{n[s]===void 0&&(n[s]={}),n[s][e.moduleName]=e}),e.dependsOn&&e.dependsOn.forEach(s=>LM(s,t))}function u5(e){delete Lh[e]}function XO(e,t,i){const n=s=>{var r,o,a;return!!((r=Ob[s])!=null&&r[e])||!!((a=(o=Lh[t])==null?void 0:o[s])!=null&&a[e])};return n(i)||n("all")}function qO(){return ZO}function h5(e,t){const i=Lh[e]??{};return[...Object.values(Ob.all??{}),...Object.values(i.all??{}),...Object.values(Ob[t]??{}),...Object.values(i[t]??{})]}function d5(){return new Set($O)}function f5(e,t){const i=Lh[e]??{};return[...Object.values(i.all??{}),...Object.values(i[t]??{})]}function g5(){return a5}var p5=class{constructor(e){this.beans={},this.createdBeans=[],this.destroyed=!1,!(!e||!e.beanClasses)&&(this.beanDestroyComparator=e.beanDestroyComparator,this.init(e))}init(e){var t;for(const i of Object.keys(e.providedBeanInstances))this.beans[i]=e.providedBeanInstances[i];e.beanClasses.forEach(i=>{const n=new i;n.beanName?this.beans[n.beanName]=n:console.error(`Bean ${i.name} is missing beanName`),this.createdBeans.push(n)}),(t=e.derivedBeans)==null||t.forEach(i=>{const{beanName:n,bean:s}=i(this);this.beans[n]=s,this.createdBeans.push(s)}),e.beanInitComparator&&this.createdBeans.sort(e.beanInitComparator),this.initBeans(this.createdBeans)}getBeanInstances(){return Object.values(this.beans)}createBean(e,t){if(!e)throw Error("null bean");return this.initBeans([e],t),e}initBeans(e,t){e.forEach(i=>{var n,s;(n=i.preWireBeans)==null||n.call(i,this.beans),(s=i.wireBeans)==null||s.call(i,this.beans)}),e.forEach(i=>{var n;return(n=i.preConstruct)==null?void 0:n.call(i)}),t&&e.forEach(t),e.forEach(i=>{var n;return(n=i.postConstruct)==null?void 0:n.call(i)})}getBeans(){return this.beans}getBean(e){return this.beans[e]}destroy(){if(this.destroyed)return;this.destroyed=!0;const e=this.getBeanInstances();this.beanDestroyComparator&&e.sort(this.beanDestroyComparator),this.destroyBeans(e),this.beans={},this.createdBeans=[]}destroyBean(e){var t;(t=e==null?void 0:e.destroy)==null||t.call(e)}destroyBeans(e){if(e)for(let t=0;t<e.length;t++)this.destroyBean(e[t]);return[]}isDestroyed(){return this.destroyed}},m5=class extends p5{init(e){this.gridId=e.gridId,this.beans.context=this,this.destroyCallback=e.destroyCallback,super.init(e)}destroy(){var e;super.destroy(),u5(this.gridId),(e=this.destroyCallback)==null||e.call(this)}getGridId(){return this.gridId}},y5="ag-column-first",v5="ag-column-last";function QO(e,t,i,n){return Vn(e)?[]:C5(e.headerClass,e,t,i,n)}function JO(e,t,i){e.addOrRemoveCssClass(y5,i.isColAtEdge(t,"first")),e.addOrRemoveCssClass(v5,i.isColAtEdge(t,"last"))}function b5(e,t,i,n){return wi(t,{colDef:e,column:i,columnGroup:n})}function C5(e,t,i,n,s){if(Vn(e))return[];let r;if(typeof e=="function"){const o=b5(t,i,n,s);r=e(o)}else r=e;return typeof r=="string"?[r]:Array.isArray(r)?[...r]:[]}var Pe={BACKSPACE:"Backspace",TAB:"Tab",ENTER:"Enter",ESCAPE:"Escape",SPACE:" ",LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",DOWN:"ArrowDown",DELETE:"Delete",F2:"F2",PAGE_UP:"PageUp",PAGE_DOWN:"PageDown",PAGE_HOME:"Home",PAGE_END:"End",A:"KeyA",C:"KeyC",D:"KeyD",V:"KeyV",X:"KeyX",Y:"KeyY",Z:"KeyZ"},TM=!1,Pb=0;function x5(e){Pb>0||(e.addEventListener("keydown",Fb),e.addEventListener("mousedown",Fb))}function S5(e){Pb>0||(e.removeEventListener("keydown",Fb),e.removeEventListener("mousedown",Fb))}function Fb(e){const t=TM,i=e.type==="keydown";i&&(e.ctrlKey||e.metaKey||e.altKey)||t!==i&&(TM=i)}function w5(e){const t=Ia(e);return x5(t),Pb++,()=>{Pb--,S5(t)}}function M5(){return TM}function af(e,t,i=!1){const n=x3;let s=dO;t&&(s+=", "+t),i&&(s+=', [tabindex="-1"]');const r=Array.prototype.slice.apply(e.querySelectorAll(n)).filter(c=>Af(c)),o=Array.prototype.slice.apply(e.querySelectorAll(s));return o.length?((c,h)=>c.filter(f=>h.indexOf(f)===-1))(r,o):r}function Bb(e,t=!1,i=!1,n=!1){const s=af(e,n?".ag-tab-guard":null,i),r=t?Li(s):s[0];return r?(r.focus({preventScroll:!0}),!0):!1}function FC(e,t,i,n){const s=af(t,null),r=Ss(e);let o;o=s.indexOf(r);const a=o+(n?-1:1);return a<0||a>=s.length?null:s[a]}function D5(e,t=5){let i=0;for(;e&&a1(e)===null&&++i<=t;)e=e.parentElement;return a1(e)===null?null:e}function Th(e){var t;return e.gos.get("suppressHeaderFocus")||!!((t=e.overlays)!=null&&t.isExclusive())}function JD(e){var t;return e.gos.get("suppressCellFocus")||!!((t=e.overlays)!=null&&t.isExclusive())}function Vp(e,t,i=!1){const n=e.ctrlsSvc.get("gridCtrl");return!i&&n.focusNextInnerContainer(t)?!0:((i||!t&&!n.isDetailGrid())&&n.forceFocusOutOfContainer(t),!1)}function L5(e,t=!1){return e===Pe.DELETE?!0:!t&&e===Pe.BACKSPACE?cO():!1}var T5=class extends Be{constructor(e,t,i,n){super(),this.cellCtrl=e,this.rowNode=i,this.rowCtrl=n,this.beans=t}init(){this.eGui=this.cellCtrl.eGui}onKeyDown(e){const t=e.key;switch(t){case Pe.ENTER:this.onEnterKeyDown(e);break;case Pe.F2:this.onF2KeyDown(e);break;case Pe.ESCAPE:this.onEscapeKeyDown(e);break;case Pe.TAB:this.onTabKeyDown(e);break;case Pe.BACKSPACE:case Pe.DELETE:this.onBackspaceOrDeleteKeyDown(t,e);break;case Pe.DOWN:case Pe.UP:case Pe.RIGHT:case Pe.LEFT:this.onNavigationKeyDown(e,t);break}}onNavigationKeyDown(e,t){var i;if(!this.cellCtrl.editing){if(e.shiftKey&&this.cellCtrl.isRangeSelectionEnabled())this.onShiftRangeSelect(e);else{const n=this.cellCtrl.getFocusedCellPosition();(i=this.beans.navigation)==null||i.navigateToNextCell(e,t,n,!0)}e.preventDefault()}}onShiftRangeSelect(e){const{rangeSvc:t,navigation:i}=this.beans;if(!t)return;const n=t.extendLatestRangeInDirection(e);n&&(i==null||i.ensureCellVisible(n))}onTabKeyDown(e){var t;(t=this.beans.navigation)==null||t.onTabKeyDown(this.cellCtrl,e)}onBackspaceOrDeleteKeyDown(e,t){var c;const{cellCtrl:i,beans:n,rowNode:s}=this,{gos:r,rangeSvc:o,eventSvc:a}=n;if(!i.editing){if(a.dispatchEvent({type:"keyShortcutChangedCellStart"}),L5(e,r.get("enableCellEditingOnBackspace"))){if(o&&jp(r))o.clearCellRangeCellValues({dispatchWrapperEvents:!0,wrapperEventSource:"deleteKey"});else if(i.isCellEditable()){const{column:h}=i,f=this.beans.valueSvc.getDeleteValue(h,s);s.setDataValue(h,f,"cellClear")}}else(c=n.editSvc)==null||c.startRowOrCellEdit(i,e,t);a.dispatchEvent({type:"keyShortcutChangedCellEnd"})}}onEnterKeyDown(e){var n,s,r;const{cellCtrl:t,beans:i}=this;if(t.editing||this.rowCtrl.editing)(n=this.beans.editSvc)==null||n.stopRowOrCellEdit(t,!1,!1,e.shiftKey);else if(i.gos.get("enterNavigatesVertically")){const o=e.shiftKey?Pe.UP:Pe.DOWN;(s=i.navigation)==null||s.navigateToNextCell(null,o,t.cellPosition,!1)}else(r=i.editSvc)==null||r.startRowOrCellEdit(t,Pe.ENTER,e),t.editing&&e.preventDefault()}onF2KeyDown(e){var n;const{cellCtrl:t,beans:i}=this;t.editing||(n=i.editSvc)==null||n.startRowOrCellEdit(t,Pe.F2,e)}onEscapeKeyDown(e){var n;const{cellCtrl:t,beans:i}=this;t.editing&&((n=i.editSvc)==null||n.stopRowOrCellEdit(t,!0))}processCharacter(e){var s;if(e.target!==this.eGui||this.cellCtrl.editing)return;const n=e.key;n===Pe.SPACE?this.onSpaceKeyDown(e):(s=this.beans.editSvc)!=null&&s.startRowOrCellEdit(this.cellCtrl,n,e)&&e.preventDefault()}onSpaceKeyDown(e){var i;const{gos:t}=this.beans;!this.cellCtrl.editing&&LO(t)&&((i=this.beans.selectionSvc)==null||i.handleSelectionEvent(e,this.rowNode,"spaceKey")),e.preventDefault()}destroy(){super.destroy()}},A5=class extends Be{constructor(e,t,i){super(),this.cellCtrl=e,this.column=i,this.beans=t}onMouseEvent(e,t){if(!Jc(t))switch(e){case"click":this.onCellClicked(t);break;case"mousedown":case"touchstart":this.onMouseDown(t);break;case"dblclick":this.onCellDoubleClicked(t);break;case"mouseout":this.onMouseOut(t);break;case"mouseover":this.onMouseOver(t);break}}onCellClicked(e){var h;if((h=this.beans.touchSvc)!=null&&h.handleCellDoubleClick(this,e))return;const{eventSvc:t,rangeSvc:i,gos:n,editSvc:s}=this.beans,r=e.ctrlKey||e.metaKey;i&&r&&i.getCellRangeCount(this.cellCtrl.cellPosition)>1&&i.intersectLastRange(!0);const o=this.cellCtrl.createEvent(e,"cellClicked");t.dispatchEvent(o);const a=this.column.getColDef();a.onCellClicked&&window.setTimeout(()=>{this.beans.frameworkOverrides.wrapOutgoing(()=>{a.onCellClicked(o)})},0),(n.get("singleClickEdit")||a.singleClickEdit)&&!n.get("suppressClickEdit")&&!(e.shiftKey&&(i==null?void 0:i.getCellRanges().length)!=0)&&(s==null||s.startRowOrCellEdit(this.cellCtrl,void 0,e))}onCellDoubleClicked(e){const{column:t,beans:i,cellCtrl:n}=this,{eventSvc:s,frameworkOverrides:r,gos:o,editSvc:a}=i,c=t.getColDef(),h=n.createEvent(e,"cellDoubleClicked");s.dispatchEvent(h),typeof c.onCellDoubleClicked=="function"&&window.setTimeout(()=>{r.wrapOutgoing(()=>{c.onCellDoubleClicked(h)})},0),!o.get("singleClickEdit")&&!o.get("suppressClickEdit")&&(a==null||a.startRowOrCellEdit(n,null,e))}onMouseDown(e){const{ctrlKey:t,metaKey:i,shiftKey:n}=e,s=e.target,{cellCtrl:r,beans:o}=this,{eventSvc:a,rangeSvc:c,rowNumbersSvc:h,focusSvc:f,gos:p}=o;if(this.isRightClickInExistingRange(e))return;const m=c&&!c.isEmpty(),b=this.containsWidget(s),{cellPosition:C}=r,w=kb(C.column);if(h&&w&&!h.handleMouseDownOnCell(C,e)){c&&e.preventDefault(),e.stopImmediatePropagation();return}if(!n||!m){const M=p.get("enableCellTextSelection")&&e.defaultPrevented,A=(UD()||M)&&!r.editing&&!YD(s)&&!b;r.focusCell(A)}if(n&&m&&!f.isCellFocused(C)){e.preventDefault();const D=f.getFocusedCell();if(D){const{column:M,rowIndex:A,rowPinned:k}=D,_=o.rowRenderer.getRowByPosition({rowIndex:A,rowPinned:k}),F=_==null?void 0:_.getCellCtrl(M);F!=null&&F.editing&&F.stopEditing(),f.setFocusedCell({column:M,rowIndex:A,rowPinned:k,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0})}}if(!b){if(c)if(w&&e.preventDefault(),n)c.extendLatestRangeToCell(C);else{const D=t||i;c.setRangeToCell(C,D)}a.dispatchEvent(this.cellCtrl.createEvent(e,"cellMouseDown"))}}isRightClickInExistingRange(e){const{rangeSvc:t}=this.beans;if(t){const i=t.isCellInAnyRange(this.cellCtrl.cellPosition),n=e.button===2||e.ctrlKey&&this.beans.gos.get("allowContextMenuWithControlKey");if(i&&n)return!0}return!1}containsWidget(e){return rf(e,"ag-selection-checkbox",3)||rf(e,"ag-drag-handle",3)}onMouseOut(e){if(this.mouseStayingInsideCell(e))return;const{eventSvc:t,colHover:i}=this.beans;t.dispatchEvent(this.cellCtrl.createEvent(e,"cellMouseOut")),i==null||i.clearMouseOver()}onMouseOver(e){if(this.mouseStayingInsideCell(e))return;const{eventSvc:t,colHover:i}=this.beans;t.dispatchEvent(this.cellCtrl.createEvent(e,"cellMouseOver")),i==null||i.setMouseOver([this.column])}mouseStayingInsideCell(e){if(!e.target||!e.relatedTarget)return!1;const t=this.cellCtrl.eGui,i=t.contains(e.target),n=t.contains(e.relatedTarget);return i&&n}destroy(){super.destroy()}},E5=class extends Be{constructor(e,t){super(),this.cellCtrl=e,this.beans=t,this.column=e.column,this.rowNode=e.rowNode}setupRowSpan(){this.rowSpan=this.column.getRowSpan(this.rowNode),this.addManagedListeners(this.beans.eventSvc,{newColumnsLoaded:()=>this.onNewColumnsLoaded()})}init(){this.eSetLeft=this.cellCtrl.getRootElement(),this.eContent=this.cellCtrl.eGui;const e=this.cellCtrl.getCellSpan();e||(this.setupColSpan(),this.setupRowSpan()),this.onLeftChanged(),this.onWidthChanged(),e||this._legacyApplyRowSpan(),e&&(this.refreshSpanHeight(e),this.addManagedListeners(this.beans.eventSvc,{paginationChanged:this.refreshSpanHeight.bind(this,e),recalculateRowBounds:this.refreshSpanHeight.bind(this,e)}))}refreshSpanHeight(e){const t=e.getCellHeight();t!=null&&(this.eContent.style.height=`${t}px`)}onNewColumnsLoaded(){const e=this.column.getRowSpan(this.rowNode);this.rowSpan!==e&&(this.rowSpan=e,this._legacyApplyRowSpan(!0))}onDisplayColumnsChanged(){const e=this.getColSpanningList();NC(this.colsSpanning,e)||(this.colsSpanning=e,this.onWidthChanged(),this.onLeftChanged())}setupColSpan(){this.column.getColDef().colSpan!=null&&(this.colsSpanning=this.getColSpanningList(),this.addManagedListeners(this.beans.eventSvc,{displayedColumnsChanged:this.onDisplayColumnsChanged.bind(this),displayedColumnsWidthChanged:this.onWidthChanged.bind(this)}))}onWidthChanged(){if(!this.eContent)return;const e=this.getCellWidth();this.eContent.style.width=`${e}px`}getCellWidth(){return this.colsSpanning?this.colsSpanning.reduce((e,t)=>e+t.getActualWidth(),0):this.column.getActualWidth()}getColSpanningList(){const{column:e,rowNode:t}=this,i=e.getColSpan(t),n=[];if(i===1)n.push(e);else{let s=e;const r=e.getPinned();for(let o=0;s&&o<i&&(n.push(s),s=this.beans.visibleCols.getColAfter(s),!(!s||Vn(s)||r!==s.getPinned()));o++);}return n}onLeftChanged(){if(!this.eSetLeft)return;const e=this.modifyLeftForPrintLayout(this.getCellLeft());this.eSetLeft.style.left=e+"px"}getCellLeft(){let e;return this.beans.gos.get("enableRtl")&&this.colsSpanning?e=Li(this.colsSpanning):e=this.column,e.getLeft()}modifyLeftForPrintLayout(e){if(!this.cellCtrl.printLayout||this.column.getPinned()==="left")return e;const{visibleCols:t}=this.beans,i=t.getColsLeftWidth();if(this.column.getPinned()==="right"){const n=t.bodyWidth;return i+n+(e||0)}return i+(e||0)}_legacyApplyRowSpan(e){if(this.rowSpan===1&&!e)return;const i=AO(this.beans)*this.rowSpan;this.eContent.style.height=`${i}px`,this.eContent.style.zIndex="1"}destroy(){super.destroy()}},R5="ag-cell",I5="ag-cell-auto-height",k5="ag-cell-normal-height",_5="ag-cell-focus",N5="ag-cell-first-right-pinned",O5="ag-cell-last-left-pinned",P5="ag-cell-not-inline-editing",F5="ag-cell-wrap-text",zb="cellCtrl";function eP(e,t){return OO(e,t,zb)}var B5=0,nb=class extends Be{constructor(e,t,i,n){super(),this.column=e,this.rowNode=t,this.rowCtrl=n,this.rangeFeature=void 0,this.positionFeature=void 0,this.customStyleFeature=void 0,this.tooltipFeature=void 0,this.mouseListener=void 0,this.keyboardListener=void 0,this.suppressRefreshCell=!1,this.onCompAttachedFuncs=[],this.onEditorAttachedFuncs=[],this.focusEventWhileNotReady=null,this.hasBeenFocused=!1,this.beans=i;const{colId:s,colIdSanitised:r}=e;this.instanceId=s+"-"+B5++,this.colIdSanitised=r,this.createCellPosition(),this.updateAndFormatValue(!1)}addFeatures(){var n;const{beans:e}=this;this.positionFeature=new E5(this,e),this.customStyleFeature=(n=e.cellStyles)==null?void 0:n.createCellCustomStyleFeature(this,e),this.mouseListener=new A5(this,e,this.column),this.keyboardListener=new T5(this,e,this.rowNode,this.rowCtrl),this.column.isTooltipEnabled()&&this.enableTooltipFeature();const{rangeSvc:t}=e;t&&jp(e.gos)&&(this.rangeFeature=t.createCellRangeFeature(e,this))}isCellSpanning(){return!1}getCellSpan(){}removeFeatures(){const e=this.beans.context;this.positionFeature=e.destroyBean(this.positionFeature),this.customStyleFeature=e.destroyBean(this.customStyleFeature),this.mouseListener=e.destroyBean(this.mouseListener),this.keyboardListener=e.destroyBean(this.keyboardListener),this.rangeFeature=e.destroyBean(this.rangeFeature),this.disableTooltipFeature()}enableTooltipFeature(e,t){var i;this.tooltipFeature=(i=this.beans.tooltipSvc)==null?void 0:i.enableCellTooltipFeature(this,e,t)}disableTooltipFeature(){this.tooltipFeature=this.beans.context.destroyBean(this.tooltipFeature)}setComp(e,t,i,n,s,r,o){var a,c,h,f,p,m;this.comp=e,this.eGui=t,this.printLayout=s,o??(o=this),this.addDomData(o),this.addFeatures(),o.addDestroyFunc(()=>this.removeFeatures()),this.onSuppressCellFocusChanged(this.beans.gos.get("suppressCellFocus")),this.setupFocus(),this.applyStaticCssClasses(),this.setWrapText(),this.onFirstRightPinnedChanged(),this.onLastLeftPinnedChanged(),this.onColumnHover(),this.setupControlComps(),this.setupAutoHeight(n,o),this.refreshFirstAndLastStyles(),this.refreshAriaColIndex(),(a=this.positionFeature)==null||a.init(),(c=this.customStyleFeature)==null||c.setComp(e),(h=this.tooltipFeature)==null||h.refreshTooltip(),(f=this.keyboardListener)==null||f.init(),(p=this.rangeFeature)==null||p.setComp(e),r&&this.isCellEditable()?(m=this.beans.editSvc)==null||m.startEditing(this):this.showValue(!1,!0),this.onCompAttachedFuncs.length&&(this.onCompAttachedFuncs.forEach(b=>b()),this.onCompAttachedFuncs=[])}setupAutoHeight(e,t){var i;this.isAutoHeight=((i=this.beans.rowAutoHeight)==null?void 0:i.setupCellAutoHeight(this,e,t))??!1}getCellAriaRole(){return this.column.getColDef().cellAriaRole??"gridcell"}isCellRenderer(){const e=this.column.getColDef();return e.cellRenderer!=null||e.cellRendererSelector!=null}getValueToDisplay(){return this.valueFormatted??this.value}showValue(e,t){var p,m;const{beans:i,column:n,rowNode:s,rangeFeature:r}=this,{userCompFactory:o}=i,a=this.getValueToDisplay();let c;const h=s.stub&&((p=s.groupData)==null?void 0:p[n.getId()])==null,f=n.getColDef();if(h||this.isCellRenderer()){const b=this.createCellRendererParams();!h||kb(n)?c=v1(o,f,b):c=s5(o,f,b)}if(!c&&!h&&((m=i.findSvc)!=null&&m.isMatch(s,n))){const b=this.createCellRendererParams();c=v1(o,{...n.getColDef(),cellRenderer:"agFindCellRenderer"},b)}this.comp.setRenderDetails(c,a,e),!t&&r&&du(i,()=>r==null?void 0:r.refreshHandle())}setupControlComps(){const e=this.column.getColDef();this.includeSelection=this.isIncludeControl(this.isCheckboxSelection(e)),this.includeRowDrag=this.isIncludeControl(e.rowDrag),this.includeDndSource=this.isIncludeControl(e.dndSource),this.comp.setIncludeSelection(this.includeSelection),this.comp.setIncludeDndSource(this.includeDndSource),this.comp.setIncludeRowDrag(this.includeRowDrag)}isForceWrapper(){return this.beans.gos.get("enableCellTextSelection")||this.column.isAutoHeight()}isIncludeControl(e){return this.rowNode.rowPinned!=null?!1:typeof e=="function"||e===!0}isCheckboxSelection(e){const{rowSelection:t,groupDisplayType:i}=this.beans.gridOptions,n=Y3(t),s=zO(this.column);return i==="custom"&&n!=="selectionColumn"&&s?!1:e.checkboxSelection||s&&typeof t=="object"&&U3(t)}refreshShouldDestroy(){const e=this.column.getColDef(),t=this.includeSelection!=this.isIncludeControl(this.isCheckboxSelection(e)),i=this.includeRowDrag!=this.isIncludeControl(e.rowDrag),n=this.includeDndSource!=this.isIncludeControl(e.dndSource),s=this.isAutoHeight!=this.column.isAutoHeight();return t||i||n||s}onPopupEditorClosed(){var e;this.editing&&((e=this.beans.editSvc)==null||e.stopRowOrCellEdit(this))}stopEditing(e=!1){var t;return((t=this.beans.editSvc)==null?void 0:t.stopEditing(this,e))??!1}createCellRendererParams(){const{value:e,valueFormatted:t,column:i,rowNode:n,comp:s,eGui:r,beans:{valueSvc:o,gos:a}}=this;return wi(a,{value:e,valueFormatted:t,getValue:()=>o.getValueForDisplay(i,n),setValue:h=>o.setValue(n,i,h),formatValue:this.formatValue.bind(this),data:n.data,node:n,pinned:i.getPinned(),colDef:i.getColDef(),column:i,refreshCell:this.refreshCell.bind(this),eGridCell:r,eParentOfValue:s.getParentOfValue(),registerRowDragger:(h,f,p,m)=>this.registerRowDragger(h,f,m),setTooltip:(h,f)=>{var p;a.assertModuleRegistered("Tooltip",3),this.tooltipFeature&&this.disableTooltipFeature(),this.enableTooltipFeature(h,f),(p=this.tooltipFeature)==null||p.refreshTooltip()}})}onCellChanged(e){e.column===this.column&&this.refreshCell({})}refreshOrDestroyCell(e){var t;this.refreshShouldDestroy()?(t=this.rowCtrl)==null||t.recreateCell(this):this.refreshCell(e)}refreshCell(e){var h,f,p,m,b,C;if(this.suppressRefreshCell||this.editing)return;const t=this.column.getColDef(),i=e!=null&&!!e.newData,n=e!=null&&!!e.suppressFlash,s=t.field==null&&t.valueGetter==null&&t.showRowGroup==null,r=e&&e.forceRefresh||s||i,o=!!this.comp,a=this.updateAndFormatValue(o),c=r||a;if(o){if(c){this.showValue(i,!1);const w=(h=this.beans.filterManager)==null?void 0:h.isSuppressFlashingCellsBecauseFiltering();!n&&!w&&t.enableCellChangeFlash&&((f=this.beans.cellFlashSvc)==null||f.flashCell(this)),(p=this.customStyleFeature)==null||p.applyUserStyles(),(m=this.customStyleFeature)==null||m.applyClassesFromColDef()}(b=this.tooltipFeature)==null||b.refreshTooltip(),(C=this.customStyleFeature)==null||C.applyCellClassRules()}}isCellEditable(){return this.column.isCellEditable(this.rowNode)}formatValue(e){return this.callValueFormatter(e)??e}callValueFormatter(e){return this.beans.valueSvc.formatValue(this.column,this.rowNode,e)}updateAndFormatValue(e){const t=this.value,i=this.valueFormatted;return this.value=this.beans.valueSvc.getValueForDisplay(this.column,this.rowNode),this.valueFormatted=this.callValueFormatter(this.value),e?!this.valuesAreEqual(t,this.value)||this.valueFormatted!=i:!0}valuesAreEqual(e,t){const i=this.column.getColDef();return i.equals?i.equals(e,t):e===t}addDomData(e){const t=this.eGui;ff(this.beans.gos,t,zb,this),e.addDestroyFunc(()=>ff(this.beans.gos,t,zb,null))}createEvent(e,t){const{rowNode:i,column:n,value:s,beans:r}=this;return wi(r.gos,{type:t,node:i,data:i.data,value:s,column:n,colDef:n.getColDef(),rowPinned:i.rowPinned,event:e,rowIndex:i.rowIndex})}processCharacter(e){var t;(t=this.keyboardListener)==null||t.processCharacter(e)}onKeyDown(e){var t;(t=this.keyboardListener)==null||t.onKeyDown(e)}onMouseEvent(e,t){var i;(i=this.mouseListener)==null||i.onMouseEvent(e,t)}getColSpanningList(){return this.positionFeature.getColSpanningList()}onLeftChanged(){var e;this.comp&&((e=this.positionFeature)==null||e.onLeftChanged())}onDisplayedColumnsChanged(){this.eGui&&(this.refreshAriaColIndex(),this.refreshFirstAndLastStyles())}refreshFirstAndLastStyles(){const{comp:e,column:t,beans:i}=this;JO(e,t,i.visibleCols)}refreshAriaColIndex(){const e=this.beans.visibleCols.getAriaColIndex(this.column);aO(this.eGui,e)}onWidthChanged(){var e;return(e=this.positionFeature)==null?void 0:e.onWidthChanged()}getRowPosition(){const{rowIndex:e,rowPinned:t}=this.cellPosition;return{rowIndex:e,rowPinned:t}}updateRangeBordersIfRangeCount(){var e;this.comp&&((e=this.rangeFeature)==null||e.updateRangeBordersIfRangeCount())}onCellSelectionChanged(){var e;this.comp&&((e=this.rangeFeature)==null||e.onCellSelectionChanged())}isRangeSelectionEnabled(){return this.rangeFeature!=null}focusCell(e=!1){this.beans.focusSvc.setFocusedCell({...this.getFocusedCellPosition(),forceBrowserFocus:e})}restoreFocus(e=!1){if(!this.comp||this.editing||!this.isCellFocused()||!this.beans.focusSvc.shouldTakeFocus())return;const t=()=>{if(!this.isAlive())return;const i=this.comp.getFocusableElement();this.isCellFocused()&&i.focus({preventScroll:!0})};if(e){setTimeout(t,0);return}t()}onRowIndexChanged(){var e;this.createCellPosition(),this.onCellFocused(),this.restoreFocus(),(e=this.rangeFeature)==null||e.onCellSelectionChanged()}onSuppressCellFocusChanged(e){const t=this.eGui;t&&(kb(this.column)&&(e=!0),of(t,"tabindex",e?void 0:-1))}onFirstRightPinnedChanged(){if(!this.comp)return;const e=this.column.isFirstRightPinned();this.comp.addOrRemoveCssClass(N5,e)}onLastLeftPinnedChanged(){if(!this.comp)return;const e=this.column.isLastLeftPinned();this.comp.addOrRemoveCssClass(O5,e)}checkCellFocused(){return this.beans.focusSvc.isCellFocused(this.cellPosition)}isCellFocused(){const e=this.checkCellFocused();return this.hasBeenFocused||(this.hasBeenFocused=e),e}setupFocus(){this.restoreFocus(!0),this.onCellFocused(this.focusEventWhileNotReady??void 0)}onCellFocused(e){var s;const{beans:t}=this;if(JD(t))return;if(!this.comp){e&&(this.focusEventWhileNotReady=e);return}const i=this.isCellFocused();if(this.comp.addOrRemoveCssClass(_5,i),i&&e&&e.forceBrowserFocus){let r=this.comp.getFocusableElement();if(this.editing){const o=af(r,null,!0);o.length&&(r=o[0])}r.focus({preventScroll:!!e.preventScrollOnBrowserFocus})}const n=t.gos.get("editType")==="fullRow";!i&&!n&&this.editing&&((s=t.editSvc)==null||s.stopRowOrCellEdit(this)),i&&this.rowCtrl.announceDescription()}createCellPosition(){const{rowIndex:e,rowPinned:t}=this.rowNode;this.cellPosition={rowIndex:e,rowPinned:Mh(t),column:this.column}}setInlineEditingCss(){var e;(e=this.beans.editSvc)==null||e.setInlineEditingCss(this.rowCtrl)}applyStaticCssClasses(){const{comp:e}=this;e.addOrRemoveCssClass(R5,!0),e.addOrRemoveCssClass(P5,!0);const t=this.column.isAutoHeight()==!0;e.addOrRemoveCssClass(I5,t),e.addOrRemoveCssClass(k5,!t)}onColumnHover(){var e;(e=this.beans.colHover)==null||e.onCellColumnHover(this.column,this.comp)}onColDefChanged(){var e;this.comp&&(this.column.isTooltipEnabled()?(this.disableTooltipFeature(),this.enableTooltipFeature()):this.disableTooltipFeature(),this.setWrapText(),this.editing?(e=this.beans.editSvc)==null||e.handleColDefChanged(this):this.refreshOrDestroyCell({forceRefresh:!0,suppressFlash:!0}))}setWrapText(){const e=this.column.getColDef().wrapText==!0;this.comp.addOrRemoveCssClass(F5,e)}dispatchCellContextMenuEvent(e){const t=this.column.getColDef(),i=this.createEvent(e,"cellContextMenu"),{beans:n}=this;n.eventSvc.dispatchEvent(i),t.onCellContextMenu&&window.setTimeout(()=>{n.frameworkOverrides.wrapOutgoing(()=>{t.onCellContextMenu(i)})},0)}getCellRenderer(){var e;return((e=this.comp)==null?void 0:e.getCellRenderer())??null}destroy(){this.onCompAttachedFuncs=[],this.onEditorAttachedFuncs=[],this.isCellFocused()&&this.hasBrowserFocus()&&this.beans.focusSvc.attemptToRecoverFocus(),super.destroy()}hasBrowserFocus(){var e;return((e=this.eGui)==null?void 0:e.contains(Ss(this.beans)))??!1}createSelectionCheckbox(){var t;const e=(t=this.beans.selectionSvc)==null?void 0:t.createCheckboxSelectionComponent();if(e)return this.beans.context.createBean(e),e.init({rowNode:this.rowNode,column:this.column}),e}createDndSource(){const e=this.beans.registry.createDynamicBean("dndSourceComp",!1,this.rowNode,this.column,this.eGui);return e&&this.beans.context.createBean(e),e}registerRowDragger(e,t,i){if(this.customRowDragComp){this.customRowDragComp.setDragElement(e,t);return}const n=this.createRowDragComp(e,t,i);n&&(this.customRowDragComp=n,this.addDestroyFunc(()=>{this.beans.context.destroyBean(n),this.customRowDragComp=null}))}createRowDragComp(e,t,i){var s;const n=(s=this.beans.rowDragSvc)==null?void 0:s.createRowDragCompForCell(this.rowNode,this.column,()=>this.value,e,t,i);if(n)return this.beans.context.createBean(n),n}cellEditorAttached(){this.onEditorAttachedFuncs.forEach(e=>e()),this.onEditorAttachedFuncs=[]}setFocusedCellPosition(e){}getFocusedCellPosition(){return this.cellPosition}refreshAriaRowIndex(){}getRootElement(){return this.eGui}},tP="__ag_grid_instance";function iP(e,t){t[tP]=e.gridInstanceId}function Wp(e,t){return z5(e,t.target)}function z5(e,t){let i=t;for(;i;){const n=i[tP];if(At(n))return n===e.gridInstanceId;i=i.parentElement}return!1}function G5(e,t){var i;return((i=eP(e,t.target))==null?void 0:i.getFocusedCellPosition())??null}var H5=class extends Be{constructor(){super(...arguments),this.beanName="dragAndDrop",this.dragSourceAndParamsList=[],this.dropTargets=[]}wireBeans(e){this.ctrlsSvc=e.ctrlsSvc,this.dragSvc=e.dragSvc,this.environment=e.environment,this.userCompFactory=e.userCompFactory}addDragSource(e,t=!1){const i={eElement:e.eElement,dragStartPixels:e.dragStartPixels,onDragStart:this.onDragStart.bind(this,e),onDragStop:this.onDragStop.bind(this),onDragging:this.onDragging.bind(this),onDragCancel:this.onDragCancel.bind(this),includeTouch:t};this.dragSourceAndParamsList.push({params:i,dragSource:e}),this.dragSvc.addDragSource(i)}getDragAndDropImageComponent(){const{dragAndDropImageComp:e}=this;return!e||!e.comp?null:e.comp}removeDragSource(e){const{dragSourceAndParamsList:t,dragSvc:i}=this,n=t.find(s=>s.dragSource===e);n&&(i.removeDragSource(n.params),ru(t,n))}destroy(){const{dragSourceAndParamsList:e,dragSvc:t,dropTargets:i}=this;e.forEach(n=>t.removeDragSource(n.params)),e.length=0,i.length=0,this.clearDragAndDropProperties(),super.destroy()}nudge(){this.dragging&&this.onDragging(this.eventLastTime,!0)}onDragStart(e,t){var i;this.dragging=!0,this.dragSource=e,this.eventLastTime=t,this.dragItem=e.getDragItem(),(i=e.onDragStarted)==null||i.call(e),this.createDragAndDropImageComponent()}onDragStop(e){var i,n;(n=(i=this.dragSource)==null?void 0:i.onDragStopped)==null||n.call(i);const{lastDropTarget:t}=this;if(t!=null&&t.onDragStop){const s=this.createDropTargetEvent(t,e,null,null,!1);t.onDragStop(s)}this.clearDragAndDropProperties()}onDragCancel(){var i;const{dragSource:e,lastDropTarget:t}=this;(i=e==null?void 0:e.onDragCancelled)==null||i.call(e),t!=null&&t.onDragCancel&&t.onDragCancel(this.createDropTargetEvent(t,this.eventLastTime,null,null,!1)),this.clearDragAndDropProperties()}clearDragAndDropProperties(){this.eventLastTime=null,this.dragging=!1,this.lastDropTarget=void 0,this.dragItem=null,this.dragSource=null,this.removeDragAndDropImageComponent()}onDragging(e,t=!1){var f,p;const i=this.getHorizontalDirection(e),n=this.getVerticalDirection(e);this.eventLastTime=e,this.positionDragAndDropImageComp(e);const s=this.dropTargets.filter(m=>this.isMouseOnDropTarget(e,m)),r=this.findCurrentDropTarget(e,s),{lastDropTarget:o,dragSource:a,dragAndDropImageComp:c,dragItem:h}=this;if(r!==o){if(this.leaveLastTargetIfExists(e,i,n,t),o!==null&&r===null&&((f=a==null?void 0:a.onGridExit)==null||f.call(a,h)),o===null&&r!==null&&((p=a==null?void 0:a.onGridEnter)==null||p.call(a,h)),this.enterDragTargetIfExists(r,e,i,n,t),r&&c){const{comp:m,promise:b}=c;m?m.setIcon(r.getIconName?r.getIconName():null,!1):b.then(C=>{C&&C.setIcon(r.getIconName?r.getIconName():null,!1)})}this.lastDropTarget=r}else if(r&&r.onDragging){const m=this.createDropTargetEvent(r,e,i,n,t);r.onDragging(m)}}getAllContainersFromDropTarget(e){const t=e.getSecondaryContainers?e.getSecondaryContainers():null,i=[[e.getContainer()]];return t?i.concat(t):i}isMouseOnDropTarget(e,t){const i=this.getAllContainersFromDropTarget(t);let n=!1;const s=(a,c)=>{for(const h of c){const{width:f,height:p,left:m,right:b,top:C,bottom:w}=h.getBoundingClientRect();if(f===0||p===0)return!1;const D=a.clientX>=m&&a.clientX<b,M=a.clientY>=C&&a.clientY<w;if(!D||!M)return!1}return!0};for(const a of i)if(s(e,a)){n=!0;break}const{eElement:r,type:o}=this.dragSource;return t.targetContainsSource&&!t.getContainer().contains(r)?!1:n&&t.isInterestedIn(o,r)}findCurrentDropTarget(e,t){const i=t.length;if(i===0)return null;if(i===1)return t[0];const s=Hp(this.beans).elementsFromPoint(e.clientX,e.clientY);for(const r of s)for(const o of t)if(this.getAllContainersFromDropTarget(o).flatMap(c=>c).indexOf(r)!==-1)return o;return null}enterDragTargetIfExists(e,t,i,n,s){if(e&&e.onDragEnter){const r=this.createDropTargetEvent(e,t,i,n,s);e.onDragEnter(r)}}leaveLastTargetIfExists(e,t,i,n){const{lastDropTarget:s}=this;if(!s)return;if(s.onDragLeave){const o=this.createDropTargetEvent(s,e,t,i,n);s.onDragLeave(o)}const r=this.getDragAndDropImageComponent();r&&r.setIcon(null,!1)}addDropTarget(e){this.dropTargets.push(e)}removeDropTarget(e){this.dropTargets=this.dropTargets.filter(t=>t.getContainer()!==e.getContainer())}hasExternalDropZones(){return this.dropTargets.some(e=>e.external)}findExternalZone(e){return this.dropTargets.filter(i=>i.external).find(i=>i.getContainer()===e.getContainer())||null}isDropZoneWithinThisGrid(e){const i=this.ctrlsSvc.getGridBodyCtrl().eGridBody,{dropZoneTarget:n}=e;return i.contains(n)}getHorizontalDirection(e){var n;const t=(n=this.eventLastTime)==null?void 0:n.clientX,i=e.clientX;return t===i?null:t>i?"left":"right"}getVerticalDirection(e){var n;const t=(n=this.eventLastTime)==null?void 0:n.clientY,i=e.clientY;return t===i?null:t>i?"up":"down"}createDropTargetEvent(e,t,i,n,s){const r=e.getContainer(),o=r.getBoundingClientRect(),{dragItem:a,dragSource:c,gos:h}=this,f=t.clientX-o.left,p=t.clientY-o.top;return wi(h,{event:t,x:f,y:p,vDirection:n,hDirection:i,dragSource:c,fromNudge:s,dragItem:a,dropZoneTarget:r})}positionDragAndDropImageComp(e){const t=this.getDragAndDropImageComponent();t&&V3(t.getGui(),e,this.beans)}removeDragAndDropImageComponent(){var t;const{dragAndDropImageComp:e}=this;if(e){const{comp:i}=e;if(i){const n=i.getGui();(t=this.dragAndDropImageParent)==null||t.removeChild(n),this.destroyBean(i)}}this.dragAndDropImageComp=null}createDragAndDropImageComponent(){const{dragSource:e,gos:t,userCompFactory:i}=this;if(!e)return;const n=ZU(i,wi(t,{dragSource:e}));if(!n)return;const s=n.newAgStackInstance();this.dragAndDropImageComp={promise:s},s.then(r=>{!r||!this.isAlive()||(this.processDragAndDropImageComponent(r),this.dragAndDropImageComp.comp=r)})}processDragAndDropImageComponent(e){const{dragSource:t,environment:i}=this;if(!t)return;const n=e.getGui();n.style.setProperty("position","absolute"),n.style.setProperty("z-index","9999"),iP(this.gos,n),i.applyThemeClasses(n),e.setIcon(null,!1);let{dragItemName:s}=t;typeof s=="function"&&(s=s()),e.setLabel(s||""),n.style.top="20px",n.style.left="20px";const r=qD(this.beans);this.dragAndDropImageParent=r,r?r.appendChild(n):Wt(54)}registerGridDropTarget(e,t){const i={getContainer:e,isInterestedIn:n=>n===1||n===0,getIconName:()=>"notAllowed"};this.addDropTarget(i),t.addDestroyFunc(()=>this.removeDropTarget(i))}};function j5(e,t){const i=e.column===t.column,n=e.rowPinned===t.rowPinned,s=e.rowIndex===t.rowIndex;return i&&n&&s}function V5(e,t){switch(e.rowPinned){case"top":if(t.rowPinned!=="top")return!0;break;case"bottom":if(t.rowPinned!=="bottom")return!1;break;default:if(At(t.rowPinned))return t.rowPinned!=="top";break}return e.rowIndex<t.rowIndex}function W5(e){let t=0,i;const{pinnedRowModel:n,rowModel:s,pageBounds:r}=e;return n!=null&&n.getPinnedTopRowCount()?i="top":s.getRowCount()?(i=null,t=r.getFirstRow()):n!=null&&n.getPinnedBottomRowCount()&&(i="bottom"),i===void 0?null:{rowIndex:t,rowPinned:i}}function U5(e){let t,i=null;const{pinnedRowModel:n,pageBounds:s}=e,r=n==null?void 0:n.getPinnedBottomRowCount(),o=n==null?void 0:n.getPinnedTopRowCount();return r?(i="bottom",t=r-1):e.rowModel.getRowCount()?(i=null,t=s.getLastRow()):o&&(i="top",t=o-1),t===void 0?null:{rowIndex:t,rowPinned:i}}function nP(e,t){var i,n;switch(t.rowPinned){case"top":return(i=e.pinnedRowModel)==null?void 0:i.getPinnedTopRow(t.rowIndex);case"bottom":return(n=e.pinnedRowModel)==null?void 0:n.getPinnedBottomRow(t.rowIndex);default:return e.rowModel.getRow(t.rowIndex)}}function Ev(e,t){var s;const i=(s=e.spannedRowRenderer)==null?void 0:s.getCellByPosition(t);if(i)return i;const n=e.rowRenderer.getRowByPosition(t);return n?n.getCellCtrl(t.column):null}function Gb(e,t){const{rowIndex:i,rowPinned:n}=t,{pageBounds:s,pinnedRowModel:r,rowModel:o}=e;if(i===0)return n==="top"?null:n==="bottom"&&o.isRowsToRender()?{rowIndex:s.getLastRow(),rowPinned:null}:r!=null&&r.isRowsToRender("top")?{rowIndex:r.getPinnedTopRowCount()-1,rowPinned:"top"}:null;const a=n?void 0:o.getRow(i);return sP(e,a,!0)??{rowIndex:i-1,rowPinned:n}}function b1(e,t){const{rowIndex:i,rowPinned:n}=t,{pageBounds:s,pinnedRowModel:r,rowModel:o}=e;if(Y5(e,t))return n==="bottom"?null:n==="top"&&o.isRowsToRender()?{rowIndex:s.getFirstRow(),rowPinned:null}:r!=null&&r.isRowsToRender("bottom")?{rowIndex:0,rowPinned:"bottom"}:null;const a=n?void 0:o.getRow(i);return sP(e,a)??{rowIndex:i+1,rowPinned:n}}function sP(e,t,i){const{gos:n,rowRenderer:s}=e;if(!(t!=null&&t.sticky)||!IO(n))return;const r=i?s.getStickyTopRowCtrls():s.getStickyBottomRowCtrls();let o;for(let a=0;a<r.length;a++)if(r[a].rowNode.rowIndex===t.rowIndex){o=r[a+(i?-1:1)];break}return o?{rowIndex:o.rowNode.rowIndex,rowPinned:null}:void 0}function Y5(e,t){const{rowPinned:i,rowIndex:n}=t,{pinnedRowModel:s,pageBounds:r}=e;return i==="top"?((s==null?void 0:s.getPinnedTopRowCount())??0)-1<=n:i==="bottom"?((s==null?void 0:s.getPinnedBottomRowCount())??0)-1<=n:r.getLastRow()<=n}function rP(e,t,i){if(i===0)return!1;const n=Math.abs(e.clientX-t.clientX),s=Math.abs(e.clientY-t.clientY);return Math.max(n,s)<=i}var K5=class extends Be{constructor(){super(...arguments),this.beanName="dragSvc",this.dragEndFunctions=[],this.dragSources=[]}destroy(){const{dragSources:e}=this;e.forEach(this.removeListener.bind(this)),e.length=0,super.destroy()}removeListener(e){const t=e.dragSource.eElement,i=e.mouseDownListener;if(t.removeEventListener("mousedown",i),e.touchEnabled){const n=e.touchStartListener;t.removeEventListener("touchstart",n,{passive:!0})}}removeDragSource(e){const{dragSources:t}=this,i=t.find(n=>n.dragSource===e);i&&(this.removeListener(i),ru(t,i))}addDragSource(e){const t=this.onMouseDown.bind(this,e),{eElement:i,includeTouch:n,stopPropagationForTouch:s}=e;i.addEventListener("mousedown",t);let r=null;const o=this.gos.get("suppressTouch");n&&!o&&(r=a=>{YD(a.target)||(s&&a.stopPropagation(),this.onTouchStart(e,a))},i.addEventListener("touchstart",r,{passive:!1})),this.dragSources.push({dragSource:e,mouseDownListener:t,touchStartListener:r,touchEnabled:!!n})}onTouchStart(e,t){this.currentDragParams=e,this.dragging=!1;const i=t.touches[0];this.touchLastTime=i,this.touchStart=i;const n=c=>this.onTouchMove(c,e.eElement),s=c=>this.onTouchUp(c,e.eElement),r=c=>{c.cancelable&&c.preventDefault()},o=t.target,a=[{target:Hp(this.beans),type:"touchmove",listener:r,options:{passive:!1}},{target:o,type:"touchmove",listener:n,options:{passive:!0}},{target:o,type:"touchend",listener:s,options:{passive:!0}},{target:o,type:"touchcancel",listener:s,options:{passive:!0}}];this.addTemporaryEvents(a),e.dragStartPixels===0&&this.onCommonMove(i,this.touchStart,e.eElement)}onMouseDown(e,t){const i=t;if(e.skipMouseEvent&&e.skipMouseEvent(t)||i._alreadyProcessedByDragService||(i._alreadyProcessedByDragService=!0,t.button!==0))return;this.shouldPreventMouseEvent(t)&&t.preventDefault(),this.currentDragParams=e,this.dragging=!1,this.mouseStartEvent=t,this.startTarget=t.target;const n=h=>this.onMouseMove(h,e.eElement),s=h=>this.onMouseUp(h,e.eElement),r=h=>h.preventDefault(),o=h=>{h.key===Pe.ESCAPE&&this.cancelDrag(e.eElement)},a=Hp(this.beans),c=[{target:a,type:"mousemove",listener:n},{target:a,type:"mouseup",listener:s},{target:a,type:"contextmenu",listener:r},{target:a,type:"keydown",listener:o}];this.addTemporaryEvents(c),e.dragStartPixels===0&&this.onMouseMove(t,e.eElement)}addTemporaryEvents(e){e.forEach(t=>{const{target:i,type:n,listener:s,options:r}=t;i.addEventListener(n,s,r)}),this.dragEndFunctions.push(()=>{e.forEach(t=>{const{target:i,type:n,listener:s,options:r}=t;i.removeEventListener(n,s,r)})})}isEventNearStartEvent(e,t){const{dragStartPixels:i}=this.currentDragParams,n=At(i)?i:4;return rP(e,t,n)}getFirstActiveTouch(e){for(let t=0;t<e.length;t++)if(e[t].identifier===this.touchStart.identifier)return e[t];return null}onCommonMove(e,t,i){var n;if(!this.dragging){if(this.isEventNearStartEvent(e,t))return;if(this.dragging=!0,this.eventSvc.dispatchEvent({type:"dragStarted",target:i}),this.currentDragParams.onDragStart(t),!this.currentDragParams){this.dragging=!1;return}this.currentDragParams.onDragging(t)}(n=this.currentDragParams)==null||n.onDragging(e)}onTouchMove(e,t){const i=this.getFirstActiveTouch(e.touches);i&&this.onCommonMove(i,this.touchStart,t)}onMouseMove(e,t){var i;UD()&&((i=Ia(this.beans).getSelection())==null||i.removeAllRanges()),this.shouldPreventMouseEvent(e)&&e.preventDefault(),this.onCommonMove(e,this.mouseStartEvent,t)}shouldPreventMouseEvent(e){const{gos:t}=this,i=t.get("enableCellTextSelection"),n=e.type==="mousemove",s=r=>{const o=r.target,a=o==null?void 0:o.tagName.toLocaleLowerCase();return!!(a!=null&&a.match("^a$|textarea|input|select|button"))};return i&&n&&e.cancelable&&Wp(t,e)&&!s(e)}onTouchUp(e,t){let i=this.getFirstActiveTouch(e.changedTouches);i||(i=this.touchLastTime),this.onUpCommon(i,t)}onMouseUp(e,t){this.onUpCommon(e,t)}onUpCommon(e,t){this.dragging&&(this.dragging=!1,this.currentDragParams.onDragStop(e),this.eventSvc.dispatchEvent({type:"dragStopped",target:t})),this.resetDragProperties()}cancelDrag(e){var t,i;this.eventSvc.dispatchEvent({type:"dragCancelled",target:e}),(i=(t=this.currentDragParams)==null?void 0:t.onDragCancel)==null||i.call(t),this.resetDragProperties()}resetDragProperties(){this.mouseStartEvent=null,this.startTarget=null,this.touchStart=null,this.touchLastTime=null,this.currentDragParams=null;const{dragEndFunctions:e}=this;e.forEach(t=>t()),e.length=0}};function oP(e,t){return e+"_"+t}function on(e){return e instanceof aP}var aP=class extends Be{constructor(e,t,i,n){super(),this.providedColumnGroup=e,this.groupId=t,this.partId=i,this.pinned=n,this.isColumn=!1,this.displayedChildren=[],this.autoHeaderHeight=null,this.parent=null}reset(){this.parent=null,this.children=null,this.displayedChildren=null}getParent(){return this.parent}getUniqueId(){return oP(this.groupId,this.partId)}isEmptyGroup(){return this.displayedChildren.length===0}isMoving(){const e=this.getProvidedColumnGroup().getLeafColumns();return!e||e.length===0?!1:e.every(t=>t.isMoving())}checkLeft(){if(this.displayedChildren.forEach(e=>{on(e)&&e.checkLeft()}),this.displayedChildren.length>0)if(this.gos.get("enableRtl")){const t=Li(this.displayedChildren).getLeft();this.setLeft(t)}else{const e=this.displayedChildren[0].getLeft();this.setLeft(e)}else this.setLeft(null)}getLeft(){return this.left}getOldLeft(){return this.oldLeft}setLeft(e){this.oldLeft=this.left,this.left!==e&&(this.left=e,this.dispatchLocalEvent({type:"leftChanged"}))}getPinned(){return this.pinned}getGroupId(){return this.groupId}getPartId(){return this.partId}getActualWidth(){var t;let e=0;return(t=this.displayedChildren)==null||t.forEach(i=>{e+=i.getActualWidth()}),e}isResizable(){if(!this.displayedChildren)return!1;let e=!1;return this.displayedChildren.forEach(t=>{t.isResizable()&&(e=!0)}),e}getMinWidth(){let e=0;return this.displayedChildren.forEach(t=>{e+=t.getMinWidth()}),e}addChild(e){this.children||(this.children=[]),this.children.push(e)}getDisplayedChildren(){return this.displayedChildren}getLeafColumns(){const e=[];return this.addLeafColumns(e),e}getDisplayedLeafColumns(){const e=[];return this.addDisplayedLeafColumns(e),e}getDefinition(){return this.providedColumnGroup.getColGroupDef()}getColGroupDef(){return this.providedColumnGroup.getColGroupDef()}isPadding(){return this.providedColumnGroup.isPadding()}isExpandable(){return this.providedColumnGroup.isExpandable()}isExpanded(){return this.providedColumnGroup.isExpanded()}setExpanded(e){this.providedColumnGroup.setExpanded(e)}isAutoHeaderHeight(){var e;return!!((e=this.getColGroupDef())!=null&&e.autoHeaderHeight)}getAutoHeaderHeight(){return this.autoHeaderHeight}setAutoHeaderHeight(e){const t=e!==this.autoHeaderHeight;return this.autoHeaderHeight=e,t}addDisplayedLeafColumns(e){this.displayedChildren.forEach(t=>{Nh(t)?e.push(t):on(t)&&t.addDisplayedLeafColumns(e)})}addLeafColumns(e){this.children.forEach(t=>{Nh(t)?e.push(t):on(t)&&t.addLeafColumns(e)})}getChildren(){return this.children}getColumnGroupShow(){return this.providedColumnGroup.getColumnGroupShow()}getProvidedColumnGroup(){return this.providedColumnGroup}getPaddingLevel(){const e=this.getParent();return!this.isPadding()||!e||!e.isPadding()?0:1+e.getPaddingLevel()}calculateDisplayedColumns(){this.displayedChildren=[];let e=this;for(;e!=null&&e.isPadding();)e=e.getParent();if(!(e?e.getProvidedColumnGroup().isExpandable():!1)){this.displayedChildren=this.children,this.dispatchLocalEvent({type:"displayedChildrenChanged"});return}this.children.forEach(i=>{if(on(i)&&(!i.displayedChildren||!i.displayedChildren.length))return;switch(i.getColumnGroupShow()){case"open":e.getProvidedColumnGroup().isExpanded()&&this.displayedChildren.push(i);break;case"closed":e.getProvidedColumnGroup().isExpanded()||this.displayedChildren.push(i);break;default:this.displayedChildren.push(i);break}}),this.dispatchLocalEvent({type:"displayedChildrenChanged"})}},$5="ag-focus-managed",BC=class extends Be{constructor(e,t={}){super(),this.eFocusable=e,this.callbacks=t,this.callbacks={shouldStopEventPropagation:()=>!1,onTabKeyDown:i=>{if(i.defaultPrevented)return;const n=FC(this.beans,this.eFocusable,!1,i.shiftKey);n&&(n.focus(),i.preventDefault())},...t}}postConstruct(){const{eFocusable:e,callbacks:{onFocusIn:t,onFocusOut:i}}=this;e.classList.add($5),this.addKeyDownListeners(e),t&&this.addManagedElementListeners(e,{focusin:t}),i&&this.addManagedElementListeners(e,{focusout:i})}addKeyDownListeners(e){this.addManagedElementListeners(e,{keydown:t=>{if(t.defaultPrevented||Jc(t))return;const{callbacks:i}=this;if(i.shouldStopEventPropagation(t)){Ib(t);return}t.key===Pe.TAB?i.onTabKeyDown(t):i.handleKeyDown&&i.handleKeyDown(t)}})}},sb={AUTO_HEIGHT:"ag-layout-auto-height",NORMAL:"ag-layout-normal",PRINT:"ag-layout-print"},eL=class extends Be{constructor(e){super(),this.view=e}postConstruct(){this.addManagedPropertyListener("domLayout",this.updateLayoutClasses.bind(this)),this.updateLayoutClasses()}updateLayoutClasses(){const e=this.gos.get("domLayout"),t={autoHeight:e==="autoHeight",normal:e==="normal",print:e==="print"},i=t.autoHeight?sb.AUTO_HEIGHT:t.print?sb.PRINT:sb.NORMAL;this.view.updateLayoutClasses(i,t)}},Nc="Viewport",C1="fakeVScrollComp",x1=["fakeHScrollComp","centerHeader","topCenter","bottomCenter","stickyTopCenter","stickyBottomCenter"],S1=100,dw=150,Z5=class extends Be{constructor(e){super(),this.lastScrollSource=[null,null],this.scrollLeft=-1,this.nextScrollTop=-1,this.scrollTop=-1,this.lastOffsetHeight=-1,this.lastScrollTop=-1,this.lastIsHorizontalScrollShowing=!1,this.scrollTimer=0,this.isVerticalPositionInvalidated=!0,this.isHorizontalPositionInvalidated=!0,this.eBodyViewport=e,this.resetLastHScrollDebounced=bp(this,()=>this.lastScrollSource[1]=null,dw),this.resetLastVScrollDebounced=bp(this,()=>this.lastScrollSource[0]=null,dw)}wireBeans(e){this.ctrlsSvc=e.ctrlsSvc,this.animationFrameSvc=e.animationFrameSvc,this.visibleCols=e.visibleCols}destroy(){super.destroy(),window.clearTimeout(this.scrollTimer)}postConstruct(){this.enableRtl=this.gos.get("enableRtl");const e=this.invalidateVerticalScroll.bind(this),t=this.invalidateHorizontalScroll.bind(this);this.addManagedEventListeners({displayedColumnsWidthChanged:this.onDisplayedColumnsWidthChanged.bind(this),gridSizeChanged:e,scrollGapChanged:t}),this.addManagedElementListeners(this.eBodyViewport,{scroll:e}),this.ctrlsSvc.whenReady(this,i=>{this.centerRowsCtrl=i.center,this.onDisplayedColumnsWidthChanged(),this.addScrollListener()})}invalidateHorizontalScroll(){this.isHorizontalPositionInvalidated=!0}invalidateVerticalScroll(){this.isVerticalPositionInvalidated=!0}addScrollListener(){this.addHorizontalScrollListeners(),this.addVerticalScrollListeners()}addHorizontalScrollListeners(){this.addManagedElementListeners(this.centerRowsCtrl.eViewport,{scroll:this.onHScroll.bind(this,Nc)});for(const e of x1){const t=this.ctrlsSvc.get(e);this.registerScrollPartner(t,this.onHScroll.bind(this,e))}}addVerticalScrollListeners(){const e=this.ctrlsSvc.get("fakeVScrollComp"),t=this.gos.get("debounceVerticalScrollbar"),i=t?bp(this,this.onVScroll.bind(this,Nc),S1):this.onVScroll.bind(this,Nc),n=t?bp(this,this.onVScroll.bind(this,C1),S1):this.onVScroll.bind(this,C1);this.addManagedElementListeners(this.eBodyViewport,{scroll:i}),this.registerScrollPartner(e,n)}registerScrollPartner(e,t){e.onScrollCallback(t)}onDisplayedColumnsWidthChanged(){this.enableRtl&&this.horizontallyScrollHeaderCenterAndFloatingCenter()}horizontallyScrollHeaderCenterAndFloatingCenter(e){this.centerRowsCtrl!=null&&(e===void 0&&(e=this.centerRowsCtrl.getCenterViewportScrollLeft()),this.setScrollLeftForAllContainersExceptCurrent(Math.abs(e)))}setScrollLeftForAllContainersExceptCurrent(e){for(const t of[...x1,Nc]){if(this.lastScrollSource[1]===t)continue;const i=this.getViewportForSource(t);Ab(i,e,this.enableRtl)}}getViewportForSource(e){return e===Nc?this.centerRowsCtrl.eViewport:this.ctrlsSvc.get(e).eViewport}isControllingScroll(e,t){return this.lastScrollSource[t]==null?(t===0?this.lastScrollSource[0]=e:this.lastScrollSource[1]=e,!0):this.lastScrollSource[t]===e}onHScroll(e){if(!this.isControllingScroll(e,1))return;const t=this.centerRowsCtrl.eViewport,{scrollLeft:i}=t;if(this.shouldBlockScrollUpdate(1,i,!0))return;const n=Tb(this.getViewportForSource(e),this.enableRtl);this.doHorizontalScroll(n),this.resetLastHScrollDebounced()}onVScroll(e){if(!this.isControllingScroll(e,0))return;let t;if(e===Nc?t=this.eBodyViewport.scrollTop:t=this.ctrlsSvc.get("fakeVScrollComp").getScrollPosition(),this.shouldBlockScrollUpdate(0,t,!0))return;const{animationFrameSvc:i}=this;i==null||i.setScrollTop(t),this.nextScrollTop=t,e===Nc?this.ctrlsSvc.get("fakeVScrollComp").setScrollPosition(t):this.eBodyViewport.scrollTop=t,i!=null&&i.active?i.schedule():this.scrollGridIfNeeded(!0),this.resetLastVScrollDebounced()}doHorizontalScroll(e){const t=this.ctrlsSvc.get("fakeHScrollComp").getScrollPosition();this.scrollLeft===e&&e===t||(this.scrollLeft=e,this.fireScrollEvent(1),this.horizontallyScrollHeaderCenterAndFloatingCenter(e),this.centerRowsCtrl.onHorizontalViewportChanged(!0))}fireScrollEvent(e){const t={type:"bodyScroll",direction:e===1?"horizontal":"vertical",left:this.scrollLeft,top:this.scrollTop};this.eventSvc.dispatchEvent(t),window.clearTimeout(this.scrollTimer),this.scrollTimer=window.setTimeout(()=>{this.scrollTimer=0,this.eventSvc.dispatchEvent({...t,type:"bodyScrollEnd"})},dw)}shouldBlockScrollUpdate(e,t,i=!1){return i&&!Tp()?!1:e===0?this.shouldBlockVerticalScroll(t):this.shouldBlockHorizontalScroll(t)}shouldBlockVerticalScroll(e){const t=gO(this.eBodyViewport),{scrollHeight:i}=this.eBodyViewport;return e<0||e+t>i}shouldBlockHorizontalScroll(e){const t=this.centerRowsCtrl.getCenterWidth(),{scrollWidth:i}=this.centerRowsCtrl.eViewport;if(this.enableRtl){if(e>0)return!0}else if(e<0)return!0;return Math.abs(e)+t>i}redrawRowsAfterScroll(){this.fireScrollEvent(0)}checkScrollLeft(){this.scrollLeft!==this.centerRowsCtrl.getCenterViewportScrollLeft()&&this.onHScroll(Nc)}scrollGridIfNeeded(e=!1){const t=this.scrollTop!=this.nextScrollTop;return t&&(this.scrollTop=this.nextScrollTop,e&&this.invalidateVerticalScroll(),this.redrawRowsAfterScroll()),t}setHorizontalScrollPosition(e,t=!1){const n=this.centerRowsCtrl.eViewport.scrollWidth-this.centerRowsCtrl.getCenterWidth();!t&&this.shouldBlockScrollUpdate(1,e)&&(this.enableRtl?e=e>0?0:n:e=Math.min(Math.max(e,0),n)),Ab(this.centerRowsCtrl.eViewport,Math.abs(e),this.enableRtl),this.doHorizontalScroll(e)}setVerticalScrollPosition(e){this.invalidateVerticalScroll(),this.eBodyViewport.scrollTop=e}getVScrollPosition(){if(!this.isVerticalPositionInvalidated){const{lastOffsetHeight:i,lastScrollTop:n}=this;return{top:n,bottom:n+i}}this.isVerticalPositionInvalidated=!1;const{scrollTop:e,offsetHeight:t}=this.eBodyViewport;return this.lastScrollTop=e,this.lastOffsetHeight=t,{top:e,bottom:e+t}}getApproximateVScollPosition(){return this.lastScrollTop>=0&&this.lastOffsetHeight>=0?{top:this.scrollTop,bottom:this.scrollTop+this.lastOffsetHeight}:this.getVScrollPosition()}getHScrollPosition(){return this.centerRowsCtrl.getHScrollPosition()}isHorizontalScrollShowing(){return this.isHorizontalPositionInvalidated&&(this.lastIsHorizontalScrollShowing=this.centerRowsCtrl.isHorizontalScrollShowing(),this.isHorizontalPositionInvalidated=!1),this.lastIsHorizontalScrollShowing}scrollHorizontally(e){const t=this.centerRowsCtrl.eViewport.scrollLeft;return this.setHorizontalScrollPosition(t+e),this.centerRowsCtrl.eViewport.scrollLeft-t}scrollToTop(){this.eBodyViewport.scrollTop=0}ensureNodeVisible(e,t=null){const{rowModel:i}=this.beans,n=i.getRowCount();let s=-1;for(let r=0;r<n;r++){const o=i.getRow(r);if(typeof e=="function"){if(o&&e(o)){s=r;break}}else if(e===o||e===o.data){s=r;break}}s>=0&&this.ensureIndexVisible(s,t)}ensureIndexVisible(e,t){if(Hs(this.gos,"print"))return;const{rowModel:i}=this.beans,n=i.getRowCount();if(typeof e!="number"||e<0||e>=n){Wt(88,{index:e});return}const{frameworkOverrides:s,pageBounds:r,rowContainerHeight:o,rowRenderer:a}=this.beans;s.wrapIncoming(()=>{var b;const c=this.ctrlsSvc.getGridBodyCtrl(),h=i.getRow(e);let f,p,m=0;this.invalidateVerticalScroll();do{const{stickyTopHeight:C,stickyBottomHeight:w}=c,D=h.rowTop,M=h.rowHeight,A=r.getPixelOffset(),k=h.rowTop-A,_=k+h.rowHeight,F=this.getVScrollPosition(),N=o.divStretchOffset,z=F.top+N,V=F.bottom+N,j=V-z,U=o.getScrollPositionForPixel(k),$=o.getScrollPositionForPixel(_-j),Q=Math.min((U+$)/2,k),J=z+C>k,be=V-w<_;let me=null;t==="top"?me=U-C:t==="bottom"?me=$+w:t==="middle"?me=Q:J?me=U-C:be&&(me=$+w),me!==null&&(this.setVerticalScrollPosition(me),a.redraw({afterScroll:!0})),f=D!==h.rowTop||M!==h.rowHeight,p=C!==c.stickyTopHeight||w!==c.stickyBottomHeight,m++}while((f||p)&&m<10);(b=this.animationFrameSvc)==null||b.flushAllFrames()})}ensureColumnVisible(e,t="auto"){const{colModel:i,frameworkOverrides:n}=this.beans,s=i.getCol(e);if(!s||s.isPinned()||!this.visibleCols.isColDisplayed(s))return;const r=this.getPositionedHorizontalScroll(s,t);n.wrapIncoming(()=>{var o;r!==null&&this.centerRowsCtrl.setCenterViewportScrollLeft(r),this.centerRowsCtrl.onHorizontalViewportChanged(),(o=this.animationFrameSvc)==null||o.flushAllFrames()})}getPositionedHorizontalScroll(e,t){const{columnBeforeStart:i,columnAfterEnd:n}=this.isColumnOutsideViewport(e),s=this.centerRowsCtrl.getCenterWidth()<e.getActualWidth(),r=this.centerRowsCtrl.getCenterWidth(),o=this.enableRtl;let a=(o?i:n)||s,c=o?n:i;t!=="auto"&&(a=t==="start",c=t==="end");const h=t==="middle";if(a||c||h){const{colLeft:f,colMiddle:p,colRight:m}=this.getColumnBounds(e);return h?p-r/2:a?o?m:f:o?f-r:m-r}return null}isColumnOutsideViewport(e){const{start:t,end:i}=this.getViewportBounds(),{colLeft:n,colRight:s}=this.getColumnBounds(e),r=this.enableRtl,o=r?t>s:i<s,a=r?i<n:t>n;return{columnBeforeStart:o,columnAfterEnd:a}}getColumnBounds(e){const t=this.enableRtl,i=this.visibleCols.bodyWidth,n=e.getActualWidth(),s=e.getLeft(),r=t?-1:1,o=t?i-s:s,a=o+n*r,c=o+n/2*r;return{colLeft:o,colMiddle:c,colRight:a}}getViewportBounds(){const e=this.centerRowsCtrl.getCenterWidth(),t=this.centerRowsCtrl.getCenterViewportScrollLeft(),i=t,n=e+t;return{start:i,end:n,width:e}}},tL=class extends Be{constructor(e,t=!1){super(),this.callback=e,this.addSpacer=t}postConstruct(){const e=this.setWidth.bind(this);this.addManagedPropertyListener("domLayout",e),this.addManagedEventListeners({columnContainerWidthChanged:e,displayedColumnsChanged:e,leftPinnedWidthChanged:e}),this.addSpacer&&this.addManagedEventListeners({rightPinnedWidthChanged:e,scrollVisibilityChanged:e,scrollbarWidthChanged:e}),this.setWidth()}setWidth(){const e=Hs(this.gos,"print"),{visibleCols:t,scrollVisibleSvc:i}=this.beans,n=t.bodyWidth,s=t.getColsLeftWidth(),r=t.getDisplayedColumnsRightWidth();let o;e?o=n+s+r:(o=n,this.addSpacer&&(this.gos.get("enableRtl")?s:r)===0&&i.verticalScrollShowing&&(o+=i.getScrollbarWidth())),this.callback(o)}},X5=class extends Be{constructor(e){super(),this.centerContainerCtrl=e}wireBeans(e){this.scrollVisibleSvc=e.scrollVisibleSvc}postConstruct(){this.beans.ctrlsSvc.whenReady(this,e=>{this.gridBodyCtrl=e.gridBodyCtrl,this.listenForResize()}),this.addManagedEventListeners({scrollbarWidthChanged:this.onScrollbarWidthChanged.bind(this)}),this.addManagedPropertyListeners(["alwaysShowHorizontalScroll","alwaysShowVerticalScroll"],()=>{this.checkViewportAndScrolls()})}listenForResize(){const{beans:e,centerContainerCtrl:t,gridBodyCtrl:i}=this,n=()=>{du(e,()=>{this.onCenterViewportResized()})};t.registerViewportResizeListener(n),i.registerBodyViewportResizeListener(n)}onScrollbarWidthChanged(){this.checkViewportAndScrolls()}onCenterViewportResized(){if(this.scrollVisibleSvc.updateScrollGap(),this.centerContainerCtrl.isViewportInTheDOMTree()){const{pinnedCols:e,colFlex:t}=this.beans;e==null||e.keepPinnedColumnsNarrowerThanViewport(),this.checkViewportAndScrolls();const i=this.centerContainerCtrl.getCenterWidth();i!==this.centerWidth&&(this.centerWidth=i,t==null||t.refreshFlexedColumns({viewportWidth:this.centerWidth,updateBodyWidths:!0,fireResizedEvent:!0}))}else this.bodyHeight=0}checkViewportAndScrolls(){this.updateScrollVisibleService(),this.checkBodyHeight(),this.onHorizontalViewportChanged(),this.gridBodyCtrl.scrollFeature.checkScrollLeft()}getBodyHeight(){return this.bodyHeight}checkBodyHeight(){const e=this.gridBodyCtrl.eBodyViewport,t=gO(e);this.bodyHeight!==t&&(this.bodyHeight=t,this.eventSvc.dispatchEvent({type:"bodyHeightChanged"}))}updateScrollVisibleService(){this.updateScrollVisibleServiceImpl(),setTimeout(this.updateScrollVisibleServiceImpl.bind(this),500)}updateScrollVisibleServiceImpl(){const e={horizontalScrollShowing:this.centerContainerCtrl.isHorizontalScrollShowing(),verticalScrollShowing:this.gridBodyCtrl.isVerticalScrollShowing()};this.scrollVisibleSvc.setScrollsVisible(e)}onHorizontalViewportChanged(){const e=this.centerContainerCtrl.getCenterWidth(),t=this.centerContainerCtrl.getViewportScrollLeft();this.beans.colViewport.setScrollPosition(e,t)}};function w1(e){if(e.group)return e.level;const t=e.parent;return t?t.level+1:0}var q5=0,Hb="renderedRow",AM=class extends Be{constructor(e,t,i,n,s){var r;super(),this.rowNode=e,this.useAnimationFrameForCreate=n,this.printLayout=s,this.allRowGuis=[],this.active=!0,this.centerCellCtrls={list:[],map:{}},this.leftCellCtrls={list:[],map:{}},this.rightCellCtrls={list:[],map:{}},this.slideInAnimation={left:!1,center:!1,right:!1,fullWidth:!1},this.fadeInAnimation={left:!1,center:!1,right:!1,fullWidth:!1},this.rowDragComps=[],this.lastMouseDownOnDragger=!1,this.emptyStyle={},this.updateColumnListsPending=!1,this.rowId=null,this.businessKey=null,this.beans=t,this.gos=t.gos,this.paginationPage=((r=t.pagination)==null?void 0:r.getCurrentPage())??0,this.suppressRowTransform=this.gos.get("suppressRowTransform"),this.instanceId=e.id+"-"+q5++,this.rowId=Dh(e.id),this.initRowBusinessKey(),this.rowFocused=t.focusSvc.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned),this.rowLevel=w1(this.rowNode),this.setRowType(),this.setAnimateFlags(i),this.rowStyles=this.processStylesFromGridOptions(),this.addListeners()}initRowBusinessKey(){this.businessKeyForNodeFunc=this.gos.get("getBusinessKeyForNode"),this.updateRowBusinessKey()}updateRowBusinessKey(){if(typeof this.businessKeyForNodeFunc!="function")return;const e=this.businessKeyForNodeFunc(this.rowNode);this.businessKey=Dh(e)}updateGui(e,t){e==="left"?this.leftGui=t:e==="right"?this.rightGui=t:e==="fullWidth"?this.fullWidthGui=t:this.centerGui=t}setComp(e,t,i,n){var p;const{context:s,focusSvc:r}=this.beans;n=PC(this,s,n);const o={rowComp:e,element:t,containerType:i,compBean:n};this.allRowGuis.push(o),this.updateGui(i,o),this.initialiseRowComp(o);const a=this.rowNode,c=this.rowType==="FullWidthLoading"||a.stub,h=!a.data&&this.beans.rowModel.getType()==="infinite";!c&&!h&&!a.rowPinned&&this.beans.rowRenderer.dispatchFirstDataRenderedEvent();const f=(p=this.fullWidthGui)==null?void 0:p.element;f&&!this.editing&&r.isRowFocused(a.rowIndex,a.rowPinned)&&r.shouldTakeFocus()&&setTimeout(()=>f.focus({preventScroll:!0}),0)}unsetComp(e){this.allRowGuis=this.allRowGuis.filter(t=>t.containerType!==e),this.updateGui(e,void 0)}isCacheable(){return this.rowType==="FullWidthDetail"&&this.gos.get("keepDetailRows")}setCached(e){const t=e?"none":"";this.allRowGuis.forEach(i=>i.element.style.display=t)}initialiseRowComp(e){const t=this.gos;this.onSuppressCellFocusChanged(this.beans.gos.get("suppressCellFocus")),this.listenOnDomOrder(e),this.onRowHeightChanged(e),this.updateRowIndexes(e),this.setFocusedClasses(e),this.setStylesFromGridOptions(!1,e),LO(t)&&this.rowNode.selectable&&this.onRowSelected(e),this.updateColumnLists(!this.useAnimationFrameForCreate);const i=e.rowComp;this.getInitialRowClasses(e.containerType).forEach(s=>i.addOrRemoveCssClass(s,!0)),this.executeSlideAndFadeAnimations(e),this.rowNode.group&&h3(e.element,this.rowNode.expanded==!0),this.setRowCompRowId(i),this.setRowCompRowBusinessKey(i),ff(t,e.element,Hb,this),e.compBean.addDestroyFunc(()=>ff(t,e.element,Hb,null)),this.useAnimationFrameForCreate?this.beans.animationFrameSvc.createTask(this.addHoverFunctionality.bind(this,e),this.rowNode.rowIndex,"p2",!1):this.addHoverFunctionality(e),this.isFullWidth()&&this.setupFullWidth(e),t.get("rowDragEntireRow")&&this.addRowDraggerToRow(e),this.useAnimationFrameForCreate&&this.beans.animationFrameSvc.addDestroyTask(()=>{this.isAlive()&&e.rowComp.addOrRemoveCssClass("ag-after-created",!0)}),this.executeProcessRowPostCreateFunc()}setRowCompRowBusinessKey(e){this.businessKey!=null&&e.setRowBusinessKey(this.businessKey)}setRowCompRowId(e){const t=Dh(this.rowNode.id);this.rowId=t,t!=null&&e.setRowId(t)}executeSlideAndFadeAnimations(e){const{containerType:t}=e;this.slideInAnimation[t]&&(xM(()=>{this.onTopChanged()}),this.slideInAnimation[t]=!1),this.fadeInAnimation[t]&&(xM(()=>{e.rowComp.addOrRemoveCssClass("ag-opacity-zero",!1)}),this.fadeInAnimation[t]=!1)}addRowDraggerToRow(e){var n;const t=(n=this.beans.rowDragSvc)==null?void 0:n.createRowDragCompForRow(this.rowNode,e.element);if(!t)return;const i=this.createBean(t,this.beans.context);this.rowDragComps.push(i),e.compBean.addDestroyFunc(()=>{this.rowDragComps=this.rowDragComps.filter(s=>s!==i),this.destroyBean(i,this.beans.context)})}setupFullWidth(e){const t=this.getPinnedForContainer(e.containerType),i=this.createFullWidthCompDetails(e.element,t);e.rowComp.showFullWidth(i)}getFullWidthCellRenderers(){var e,t;return this.gos.get("embedFullWidthRows")?this.allRowGuis.map(i=>{var n;return(n=i==null?void 0:i.rowComp)==null?void 0:n.getFullWidthCellRenderer()}):[(t=(e=this.fullWidthGui)==null?void 0:e.rowComp)==null?void 0:t.getFullWidthCellRenderer()]}executeProcessRowPostCreateFunc(){const e=this.gos.getCallback("processRowPostCreate");if(!e||!this.areAllContainersReady())return;const t={eRow:this.centerGui.element,ePinnedLeftRow:this.leftGui?this.leftGui.element:void 0,ePinnedRightRow:this.rightGui?this.rightGui.element:void 0,node:this.rowNode,rowIndex:this.rowNode.rowIndex,addRenderedRowListener:this.addEventListener.bind(this)};e(t)}areAllContainersReady(){const{leftGui:e,centerGui:t,rightGui:i,beans:{visibleCols:n}}=this,s=!!e||!n.isPinningLeft(),r=!!t,o=!!i||!n.isPinningRight();return s&&r&&o}isNodeFullWidthCell(){if(this.rowNode.detail)return!0;const e=this.beans.gos.getCallback("isFullWidthRow");return e?e({rowNode:this.rowNode}):!1}setRowType(){const e=this.rowNode.stub&&!this.gos.get("suppressServerSideFullWidthLoadingRow")&&!this.gos.get("groupHideOpenParents"),t=this.isNodeFullWidthCell(),i=this.gos.get("masterDetail")&&this.rowNode.detail,n=this.beans.colModel.isPivotMode(),r=!!this.rowNode.group&&!this.rowNode.footer&&kO(this.gos,n);e?this.rowType="FullWidthLoading":i?this.rowType="FullWidthDetail":t?this.rowType="FullWidth":r?this.rowType="FullWidthGroup":this.rowType="Normal"}updateColumnLists(e=!1,t=!1){if(this.isFullWidth())return;const{animationFrameSvc:i}=this.beans;if(!(i!=null&&i.active)||e||this.printLayout){this.updateColumnListsImpl(t);return}this.updateColumnListsPending||(i.createTask(()=>{this.active&&this.updateColumnListsImpl(!0)},this.rowNode.rowIndex,"p1",!1),this.updateColumnListsPending=!0)}getNewCellCtrl(e){var i;if(!((i=this.beans.rowSpanSvc)!=null&&i.isCellSpanning(e,this.rowNode)))return new nb(e,this.rowNode,this.beans,this)}isCorrectCtrlForSpan(e){var t;return!((t=this.beans.rowSpanSvc)!=null&&t.isCellSpanning(e.column,this.rowNode))}createCellCtrls(e,t,i=null){const n={list:[],map:{}},s=(h,f,p)=>{p!=null?n.list.splice(p,0,f):n.list.push(f),n.map[h]=f},r=[];for(const h of t){const f=h.getInstanceId();let p=e.map[f];p&&!this.isCorrectCtrlForSpan(p)&&(p.destroy(),p=void 0),p||(p=this.getNewCellCtrl(h)),p&&s(f,p)}for(const h of e.list){const f=h.column.getInstanceId();if(n.map[f]!=null)continue;!this.isCellEligibleToBeRemoved(h,i)?r.push([f,h]):h.destroy()}if(r.length)for(const[h,f]of r){const p=n.list.findIndex(b=>b.column.getLeft()>f.column.getLeft()),m=p===-1?void 0:Math.max(p-1,0);s(h,f,m)}const{focusSvc:o,visibleCols:a}=this.beans,c=o.getFocusedCell();if(c&&c.column.getPinned()==i){const h=c.column.getInstanceId();if(!n.map[h]&&a.allCols.includes(c.column)){const p=this.createFocusedCellCtrl();if(p){const m=n.list.findIndex(C=>C.column.getLeft()>p.column.getLeft()),b=m===-1?void 0:Math.max(m-1,0);s(h,p,b)}}}return n}createFocusedCellCtrl(){const{focusSvc:e,rowSpanSvc:t}=this.beans,i=e.getFocusedCell();if(!i)return;const n=t==null?void 0:t.getCellSpan(i.column,this.rowNode);if(n){if(n.firstNode!==this.rowNode||!n.doesSpanContain(i))return}else if(!e.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned))return;return this.getNewCellCtrl(i.column)}updateColumnListsImpl(e){this.updateColumnListsPending=!1,this.createAllCellCtrls(),this.setCellCtrls(e)}setCellCtrls(e){this.allRowGuis.forEach(t=>{const i=this.getCellCtrlsForContainer(t.containerType);t.rowComp.setCellCtrls(i,e)})}getCellCtrlsForContainer(e){switch(e){case"left":return this.leftCellCtrls.list;case"right":return this.rightCellCtrls.list;case"fullWidth":return[];case"center":return this.centerCellCtrls.list}}createAllCellCtrls(){const e=this.beans.colViewport,t=this.beans.visibleCols;if(this.printLayout)this.centerCellCtrls=this.createCellCtrls(this.centerCellCtrls,t.allCols),this.leftCellCtrls={list:[],map:{}},this.rightCellCtrls={list:[],map:{}};else{const i=e.getColsWithinViewport(this.rowNode);this.centerCellCtrls=this.createCellCtrls(this.centerCellCtrls,i);const n=t.getLeftColsForRow(this.rowNode);this.leftCellCtrls=this.createCellCtrls(this.leftCellCtrls,n,"left");const s=t.getRightColsForRow(this.rowNode);this.rightCellCtrls=this.createCellCtrls(this.rightCellCtrls,s,"right")}}isCellEligibleToBeRemoved(e,t){const{column:s}=e;if(s.getPinned()!=t||!this.isCorrectCtrlForSpan(e))return!0;const{editing:r}=e,{visibleCols:o}=this.beans,a=e.isCellFocused();return r||a?!(o.allCols.indexOf(s)>=0):!0}getDomOrder(){return this.gos.get("ensureDomOrder")||Hs(this.gos,"print")}listenOnDomOrder(e){const t=()=>{e.rowComp.setDomOrder(this.getDomOrder())};e.compBean.addManagedPropertyListeners(["domLayout","ensureDomOrder"],t)}setAnimateFlags(e){if(this.rowNode.sticky||!e)return;const t=At(this.rowNode.oldRowTop),{visibleCols:i}=this.beans,n=i.isPinningLeft(),s=i.isPinningRight();if(t){const{slideInAnimation:r}=this;if(this.isFullWidth()&&!this.gos.get("embedFullWidthRows")){r.fullWidth=!0;return}r.center=!0,r.left=n,r.right=s}else{const{fadeInAnimation:r}=this;if(this.isFullWidth()&&!this.gos.get("embedFullWidthRows")){r.fullWidth=!0;return}r.center=!0,r.left=n,r.right=s}}isFullWidth(){return this.rowType!=="Normal"}refreshFullWidth(){const e=(o,a)=>o?o.rowComp.refreshFullWidth(()=>this.createFullWidthCompDetails(o.element,a).params):!0,t=e(this.fullWidthGui,null),i=e(this.centerGui,null),n=e(this.leftGui,"left"),s=e(this.rightGui,"right");return t&&i&&n&&s}addListeners(){var e;this.addManagedListeners(this.rowNode,{heightChanged:()=>this.onRowHeightChanged(),rowSelected:()=>this.onRowSelected(),rowIndexChanged:this.onRowIndexChanged.bind(this),topChanged:this.onTopChanged.bind(this),...((e=this.beans.expansionSvc)==null?void 0:e.getRowExpandedListeners(this))??{}}),this.rowNode.detail&&this.addManagedListeners(this.rowNode.parent,{dataChanged:this.onRowNodeDataChanged.bind(this)}),this.addManagedListeners(this.rowNode,{dataChanged:this.onRowNodeDataChanged.bind(this),cellChanged:this.postProcessCss.bind(this),rowHighlightChanged:this.onRowNodeHighlightChanged.bind(this),draggingChanged:this.postProcessRowDragging.bind(this),uiLevelChanged:this.onUiLevelChanged.bind(this)}),this.addManagedListeners(this.beans.eventSvc,{paginationPixelOffsetChanged:this.onPaginationPixelOffsetChanged.bind(this),heightScaleChanged:this.onTopChanged.bind(this),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),virtualColumnsChanged:this.onVirtualColumnsChanged.bind(this),cellFocused:this.onCellFocusChanged.bind(this),cellFocusCleared:this.onCellFocusChanged.bind(this),paginationChanged:this.onPaginationChanged.bind(this),modelUpdated:this.refreshFirstAndLastRowStyles.bind(this),columnMoved:()=>this.updateColumnLists()}),this.beans.rowSpanSvc&&this.addManagedListeners(this.beans.rowSpanSvc,{spannedCellsUpdated:({pinned:t})=>{t&&!this.rowNode.rowPinned||this.updateColumnLists()}}),this.addDestroyFunc(()=>{this.rowDragComps=this.destroyBeans(this.rowDragComps,this.beans.context),this.tooltipFeature=this.destroyBean(this.tooltipFeature,this.beans.context)}),this.addManagedPropertyListeners(["rowStyle","getRowStyle","rowClass","getRowClass","rowClassRules"],this.postProcessCss.bind(this)),this.addManagedPropertyListener("rowDragEntireRow",()=>{if(this.gos.get("rowDragEntireRow")){this.allRowGuis.forEach(i=>{this.addRowDraggerToRow(i)});return}this.rowDragComps=this.destroyBeans(this.rowDragComps,this.beans.context)}),this.addListenersForCellComps()}addListenersForCellComps(){this.addManagedListeners(this.rowNode,{rowIndexChanged:()=>{this.getAllCellCtrls().forEach(e=>e.onRowIndexChanged())},cellChanged:e=>{this.getAllCellCtrls().forEach(t=>t.onCellChanged(e))}})}onRowNodeDataChanged(e){if(this.isFullWidth()!==!!this.isNodeFullWidthCell()){this.beans.rowRenderer.redrawRow(this.rowNode);return}if(this.isFullWidth()){this.refreshFullWidth()||this.beans.rowRenderer.redrawRow(this.rowNode);return}this.getAllCellCtrls().forEach(i=>i.refreshCell({suppressFlash:!e.update,newData:!e.update})),this.allRowGuis.forEach(i=>{this.setRowCompRowId(i.rowComp),this.updateRowBusinessKey(),this.setRowCompRowBusinessKey(i.rowComp)}),this.onRowSelected(),this.postProcessCss()}postProcessCss(){this.setStylesFromGridOptions(!0),this.postProcessClassesFromGridOptions(),this.postProcessRowClassRules(),this.postProcessRowDragging()}onRowNodeHighlightChanged(){const e=this.rowNode.highlighted;this.allRowGuis.forEach(t=>{const i=e==="Above",n=e==="Below";t.rowComp.addOrRemoveCssClass("ag-row-highlight-above",i),t.rowComp.addOrRemoveCssClass("ag-row-highlight-below",n)})}postProcessRowDragging(){const e=this.rowNode.dragging;this.allRowGuis.forEach(t=>t.rowComp.addOrRemoveCssClass("ag-row-dragging",e))}onDisplayedColumnsChanged(){var e;this.updateColumnLists(!0),(e=this.beans.rowAutoHeight)==null||e.requestCheckAutoHeight()}onVirtualColumnsChanged(){this.updateColumnLists(!1,!0)}getRowPosition(){return{rowPinned:Mh(this.rowNode.rowPinned),rowIndex:this.rowNode.rowIndex}}onKeyboardNavigate(e){const t=this.findFullWidthInfoForEvent(e);if(!t)return;const{rowGui:i,column:n}=t;if(!(i.element===e.target))return;const o=this.rowNode,{focusSvc:a,navigation:c}=this.beans,h=a.getFocusedCell(),f={rowIndex:o.rowIndex,rowPinned:o.rowPinned,column:(h==null?void 0:h.column)??n};c==null||c.navigateToNextCell(e,e.key,f,!0),e.preventDefault()}onTabKeyDown(e){var a;if(e.defaultPrevented||Jc(e))return;const t=this.allRowGuis.find(c=>c.element.contains(e.target)),i=t?t.element:null,n=i===e.target,s=Ss(this.beans);let r=!1;i&&s&&(r=i.contains(s)&&s.classList.contains("ag-cell"));let o=null;!n&&!r&&(o=FC(this.beans,i,!1,e.shiftKey)),(this.isFullWidth()&&n||!o)&&((a=this.beans.navigation)==null||a.onTabKeyDown(this,e))}getFullWidthElement(){return this.fullWidthGui?this.fullWidthGui.element:null}getRowYPosition(){var t;const e=(t=this.allRowGuis.find(i=>Af(i.element)))==null?void 0:t.element;return e?e.getBoundingClientRect().top:0}onSuppressCellFocusChanged(e){const t=this.isFullWidth()&&e?void 0:-1;this.allRowGuis.forEach(i=>{of(i.element,"tabindex",t)})}onFullWidthRowFocused(e){var s,r,o;const t=this.rowNode,i=e?this.isFullWidth()&&e.rowIndex===t.rowIndex&&e.rowPinned==t.rowPinned:!1;let n;if(this.fullWidthGui)n=this.fullWidthGui.element;else{const a=this.beans.colModel.getCol(e==null?void 0:e.column),c=a==null?void 0:a.pinned;c?n=c==="right"?(s=this.rightGui)==null?void 0:s.element:(r=this.leftGui)==null?void 0:r.element:n=(o=this.centerGui)==null?void 0:o.element}n&&(n.classList.toggle("ag-full-width-focus",i),i&&(e!=null&&e.forceBrowserFocus)&&n.focus({preventScroll:!0}))}recreateCell(e){this.centerCellCtrls=this.removeCellCtrl(this.centerCellCtrls,e),this.leftCellCtrls=this.removeCellCtrl(this.leftCellCtrls,e),this.rightCellCtrls=this.removeCellCtrl(this.rightCellCtrls,e),e.destroy(),this.updateColumnLists()}removeCellCtrl(e,t){const i={list:[],map:{}};return e.list.forEach(n=>{n!==t&&(i.list.push(n),i.map[n.column.getInstanceId()]=n)}),i}onMouseEvent(e,t){switch(e){case"dblclick":this.onRowDblClick(t);break;case"click":this.onRowClick(t);break;case"touchstart":case"mousedown":this.onRowMouseDown(t);break}}createRowEvent(e,t){const{rowNode:i}=this;return wi(this.gos,{type:e,node:i,data:i.data,rowIndex:i.rowIndex,rowPinned:i.rowPinned,event:t})}createRowEventWithSource(e,t){const i=this.createRowEvent(e,t);return i.source=this,i}onRowDblClick(e){Jc(e)||this.beans.eventSvc.dispatchEvent(this.createRowEventWithSource("rowDoubleClicked",e))}findFullWidthInfoForEvent(e){if(!e)return;const t=this.findFullWidthRowGui(e.target),i=this.getColumnForFullWidth(t);if(!(!t||!i))return{rowGui:t,column:i}}findFullWidthRowGui(e){return this.allRowGuis.find(t=>t.element.contains(e))}getColumnForFullWidth(e){const{visibleCols:t}=this.beans;switch(e==null?void 0:e.containerType){case"center":return t.centerCols[0];case"left":return t.leftCols[0];case"right":return t.rightCols[0];default:return t.allCols[0]}}onRowMouseDown(e){if(this.lastMouseDownOnDragger=rf(e.target,"ag-row-drag",3),!this.isFullWidth())return;const t=this.rowNode,{rangeSvc:i,focusSvc:n}=this.beans;i==null||i.removeAllCellRanges();const s=this.findFullWidthInfoForEvent(e);if(!s)return;const{rowGui:r,column:o}=s,a=r.element,c=e.target;let h=e.defaultPrevented||UD();a&&a.contains(c)&&YD(c)&&(h=!1),n.setFocusedCell({rowIndex:t.rowIndex,column:o,rowPinned:t.rowPinned,forceBrowserFocus:h})}onRowClick(e){if(Jc(e)||this.lastMouseDownOnDragger)return;const{eventSvc:i,selectionSvc:n}=this.beans;i.dispatchEvent(this.createRowEventWithSource("rowClicked",e)),n==null||n.handleSelectionEvent(e,this.rowNode,"rowClicked")}setupDetailRowAutoHeight(e){var t;this.rowType==="FullWidthDetail"&&((t=this.beans.masterDetailSvc)==null||t.setupDetailRowAutoHeight(this,e))}createFullWidthCompDetails(e,t){const{gos:i,rowNode:n}=this,s=wi(i,{fullWidth:!0,data:n.data,node:n,value:n.key,valueFormatted:n.key,eGridCell:e,eParentOfValue:e,pinned:t,addRenderedRowListener:this.addEventListener.bind(this),registerRowDragger:(o,a,c,h)=>this.addFullWidthRowDragging(o,a,c,h),setTooltip:(o,a)=>{i.assertModuleRegistered("Tooltip",3),this.refreshRowTooltip(o,a)}}),r=this.beans.userCompFactory;switch(this.rowType){case"FullWidthDetail":return n5(r,s);case"FullWidthGroup":return s.value=n.groupValue,s.valueFormatted=n.rowGroupColumn?this.beans.valueSvc.formatValue(n.rowGroupColumn,n,s.value):s.value,i5(r,s);case"FullWidthLoading":return t5(r,s);default:return e5(r,s)}}refreshRowTooltip(e,t){var i;this.fullWidthGui&&(this.tooltipFeature=(i=this.beans.tooltipSvc)==null?void 0:i.refreshRowTooltip(this.tooltipFeature,this,e,t))}addFullWidthRowDragging(e,t,i="",n){const{rowDragSvc:s,context:r}=this.beans;if(!s||!this.isFullWidth())return;const o=s.createRowDragComp(()=>i,this.rowNode,void 0,e,t,n);this.createBean(o,r),this.addDestroyFunc(()=>{this.destroyBean(o,r)})}onUiLevelChanged(){const e=w1(this.rowNode);if(this.rowLevel!=e){const t="ag-row-level-"+e,i="ag-row-level-"+this.rowLevel;this.allRowGuis.forEach(n=>{n.rowComp.addOrRemoveCssClass(t,!0),n.rowComp.addOrRemoveCssClass(i,!1)})}this.rowLevel=e}isFirstRowOnPage(){return this.rowNode.rowIndex===this.beans.pageBounds.getFirstRow()}isLastRowOnPage(){return this.rowNode.rowIndex===this.beans.pageBounds.getLastRow()}refreshFirstAndLastRowStyles(){const e=this.isFirstRowOnPage(),t=this.isLastRowOnPage();this.firstRowOnPage!==e&&(this.firstRowOnPage=e,this.allRowGuis.forEach(i=>i.rowComp.addOrRemoveCssClass("ag-row-first",e))),this.lastRowOnPage!==t&&(this.lastRowOnPage=t,this.allRowGuis.forEach(i=>i.rowComp.addOrRemoveCssClass("ag-row-last",t)))}getAllCellCtrls(){return this.leftCellCtrls.list.length===0&&this.rightCellCtrls.list.length===0?this.centerCellCtrls.list:[...this.centerCellCtrls.list,...this.leftCellCtrls.list,...this.rightCellCtrls.list]}postProcessClassesFromGridOptions(){var t;const e=[];(t=this.beans.rowStyleSvc)==null||t.processClassesFromGridOptions(e,this.rowNode),e.length&&e.forEach(i=>{this.allRowGuis.forEach(n=>n.rowComp.addOrRemoveCssClass(i,!0))})}postProcessRowClassRules(){var e;(e=this.beans.rowStyleSvc)==null||e.processRowClassRules(this.rowNode,t=>{this.allRowGuis.forEach(i=>i.rowComp.addOrRemoveCssClass(t,!0))},t=>{this.allRowGuis.forEach(i=>i.rowComp.addOrRemoveCssClass(t,!1))})}setStylesFromGridOptions(e,t){e&&(this.rowStyles=this.processStylesFromGridOptions()),this.forEachGui(t,i=>i.rowComp.setUserStyles(this.rowStyles))}getPinnedForContainer(e){return e==="left"||e==="right"?e:null}getInitialRowClasses(e){var a;const t=this.getPinnedForContainer(e),i=this.isFullWidth(),{rowNode:n,beans:s}=this,r=[];r.push("ag-row"),r.push(this.rowFocused?"ag-row-focus":"ag-row-no-focus"),this.fadeInAnimation[e]&&r.push("ag-opacity-zero"),r.push(n.rowIndex%2===0?"ag-row-even":"ag-row-odd"),n.isRowPinned()&&r.push("ag-row-pinned"),n.isSelected()&&r.push("ag-row-selected"),n.footer&&r.push("ag-row-footer"),r.push("ag-row-level-"+this.rowLevel),n.stub&&r.push("ag-row-loading"),i&&r.push("ag-full-width-row"),(a=s.expansionSvc)==null||a.addExpandedCss(r,n),n.dragging&&r.push("ag-row-dragging");const{rowStyleSvc:o}=s;return o&&(o.processClassesFromGridOptions(r,n),o.preProcessRowClassRules(r,n)),r.push(this.printLayout?"ag-row-position-relative":"ag-row-position-absolute"),this.isFirstRowOnPage()&&r.push("ag-row-first"),this.isLastRowOnPage()&&r.push("ag-row-last"),i&&(t==="left"&&r.push("ag-cell-last-left-pinned"),t==="right"&&r.push("ag-cell-first-right-pinned")),r}processStylesFromGridOptions(){var e;return((e=this.beans.rowStyleSvc)==null?void 0:e.processStylesFromGridOptions(this.rowNode))??this.emptyStyle}onRowSelected(e){var t;(t=this.beans.selectionSvc)==null||t.onRowCtrlSelected(this,i=>{(i===this.centerGui||i===this.fullWidthGui)&&this.announceDescription()},e)}announceDescription(){var e;(e=this.beans.selectionSvc)==null||e.announceAriaRowSelection(this.rowNode)}addHoverFunctionality(e){if(!this.active)return;const{element:t,compBean:i}=e,{rowNode:n,beans:s,gos:r}=this;i.addManagedListeners(t,{mouseenter:()=>n.dispatchRowEvent("mouseEnter"),mouseleave:()=>n.dispatchRowEvent("mouseLeave")}),i.addManagedListeners(n,{mouseEnter:()=>{var o;!((o=s.dragSvc)!=null&&o.dragging)&&!r.get("suppressRowHoverHighlight")&&(t.classList.add("ag-row-hover"),n.setHovered(!0))},mouseLeave:()=>{this.resetHoveredStatus(t)}})}resetHoveredStatus(e){const t=e?[e]:this.allRowGuis.map(i=>i.element);for(const i of t)i.classList.remove("ag-row-hover");this.rowNode.setHovered(!1)}roundRowTopToBounds(e){const t=this.beans.ctrlsSvc.getScrollFeature().getApproximateVScollPosition(),i=this.applyPaginationOffset(t.top,!0)-100,n=this.applyPaginationOffset(t.bottom,!0)+100;return Math.min(Math.max(i,e),n)}forEachGui(e,t){e?t(e):this.allRowGuis.forEach(t)}isRowRendered(){return this.allRowGuis.length>0}onRowHeightChanged(e){if(this.rowNode.rowHeight==null)return;const t=this.rowNode.rowHeight,i=this.beans.environment.getDefaultRowHeight(),s=TO(this.gos)?z3(this.beans,this.rowNode).height:void 0,r=s?`${Math.min(i,s)-2}px`:void 0;this.forEachGui(e,o=>{o.element.style.height=`${t}px`,r&&o.element.style.setProperty("--ag-line-height",r)})}destroyFirstPass(e=!1){var n;this.active=!1;const{rowNode:t}=this;if(!e&&QD(this.gos)&&!t.sticky)if(t.rowTop!=null){const r=this.roundRowTopToBounds(t.rowTop);this.setRowTop(r)}else this.allRowGuis.forEach(r=>r.rowComp.addOrRemoveCssClass("ag-opacity-zero",!0));(n=this.fullWidthGui)!=null&&n.element.contains(Ss(this.beans))&&this.beans.focusSvc.attemptToRecoverFocus(),t.setHovered(!1);const i=this.createRowEvent("virtualRowRemoved");this.dispatchLocalEvent(i),this.beans.eventSvc.dispatchEvent(i),super.destroy()}destroySecondPass(){var t;this.allRowGuis.length=0,(t=this.beans.editSvc)==null||t.stopRowEditing(this);const e=i=>(i.list.forEach(n=>n.destroy()),{list:[],map:{}});this.centerCellCtrls=e(this.centerCellCtrls),this.leftCellCtrls=e(this.leftCellCtrls),this.rightCellCtrls=e(this.rightCellCtrls)}setFocusedClasses(e){this.forEachGui(e,t=>{t.rowComp.addOrRemoveCssClass("ag-row-focus",this.rowFocused),t.rowComp.addOrRemoveCssClass("ag-row-no-focus",!this.rowFocused)})}onCellFocusChanged(){const{focusSvc:e,editSvc:t}=this.beans,i=e.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned);i!==this.rowFocused&&(this.rowFocused=i,this.setFocusedClasses()),!i&&this.editing&&(t==null||t.stopRowEditing(this,!1))}onPaginationChanged(){var t;const e=((t=this.beans.pagination)==null?void 0:t.getCurrentPage())??0;this.paginationPage!==e&&(this.paginationPage=e,this.onTopChanged()),this.refreshFirstAndLastRowStyles()}onTopChanged(){this.setRowTop(this.rowNode.rowTop)}onPaginationPixelOffsetChanged(){this.onTopChanged()}applyPaginationOffset(e,t=!1){if(this.rowNode.isRowPinned()||this.rowNode.sticky)return e;const i=this.beans.pageBounds.getPixelOffset();return e+i*(t?1:-1)}setRowTop(e){if(!this.printLayout&&At(e)){const t=this.applyPaginationOffset(e),s=`${this.rowNode.isRowPinned()||this.rowNode.sticky?t:this.beans.rowContainerHeight.getRealPixelPosition(t)}px`;this.setRowTopStyle(s)}}getInitialRowTop(e){return this.suppressRowTransform?this.getInitialRowTopShared(e):void 0}getInitialTransform(e){return this.suppressRowTransform?void 0:`translateY(${this.getInitialRowTopShared(e)})`}getInitialRowTopShared(e){if(this.printLayout)return"";const t=this.rowNode;let i;if(t.sticky)i=t.stickyRowTop;else{const n=this.slideInAnimation[e]?this.roundRowTopToBounds(t.oldRowTop):t.rowTop,s=this.applyPaginationOffset(n);i=t.isRowPinned()?s:this.beans.rowContainerHeight.getRealPixelPosition(s)}return i+"px"}setRowTopStyle(e){this.allRowGuis.forEach(t=>this.suppressRowTransform?t.rowComp.setTop(e):t.rowComp.setTransform(`translateY(${e})`))}getCellCtrl(e,t=!1){let i=null;return this.getAllCellCtrls().forEach(n=>{n.column==e&&(i=n)}),i!=null||t||this.getAllCellCtrls().forEach(n=>{n.getColSpanningList().indexOf(e)>=0&&(i=n)}),i}onRowIndexChanged(){this.rowNode.rowIndex!=null&&(this.onCellFocusChanged(),this.updateRowIndexes(),this.postProcessCss())}updateRowIndexes(e){var r,o;const t=this.rowNode.getRowIndexString();if(t===null)return;const i=(((r=this.beans.ctrlsSvc.getHeaderRowContainerCtrl())==null?void 0:r.getRowCount())??0)+(((o=this.beans.filterManager)==null?void 0:o.getHeaderRowCount())??0),n=this.rowNode.rowIndex%2===0,s=i+this.rowNode.rowIndex+1;this.forEachGui(e,a=>{a.rowComp.setRowIndex(t),a.rowComp.addOrRemoveCssClass("ag-row-even",n),a.rowComp.addOrRemoveCssClass("ag-row-odd",!n),f3(a.element,s)})}};function Q5(e){var i;return e.altKey||e.ctrlKey||e.metaKey?!1:((i=e.key)==null?void 0:i.length)===1}function M1(e,t,i,n,s){const r=n?n.getColDef().suppressKeyboardEvent:void 0;if(!r)return!1;const o=wi(e,{event:t,editing:s,column:n,node:i,data:i.data,colDef:n.getColDef()});return!!(r&&r(o))}function J5(e){const{pinnedRowModel:t,rowModel:i}=e,[n,s]=[(t==null?void 0:t.isEmpty("top"))??!0,(t==null?void 0:t.isEmpty("bottom"))??!0],r=n?null:"top";let o,a;s?(o=null,a=i.getRowCount()-1):(o="bottom",a=(t==null?void 0:t.getPinnedBottomRowCount())??-1);const{visibleCols:c,rangeSvc:h}=e,f=c.allCols;!h||!(f!=null&&f.length)||h.setCellRange({rowStartIndex:0,rowStartPinned:r,rowEndIndex:a,rowEndPinned:o})}var eY=65,tY=67,iY=86,nY=68,sY=90,rY=89;function oY(e){const{keyCode:t}=e;let i;switch(t){case eY:i=Pe.A;break;case tY:i=Pe.C;break;case iY:i=Pe.V;break;case nY:i=Pe.D;break;case sY:i=Pe.Z;break;case rY:i=Pe.Y;break;default:i=e.code}return i}var aY=class extends Be{constructor(e){super(),this.element=e}postConstruct(){var e;this.addKeyboardListeners(),this.addMouseListeners(),(e=this.beans.touchSvc)==null||e.mockRowContextMenu(this)}addKeyboardListeners(){const e="keydown",t=this.processKeyboardEvent.bind(this,e);this.addManagedElementListeners(this.element,{[e]:t})}addMouseListeners(){["dblclick","contextmenu","mouseover","mouseout","click",NO("touchstart")?"touchstart":"mousedown"].forEach(i=>{const n=this.processMouseEvent.bind(this,i);this.addManagedElementListeners(this.element,{[i]:n})})}processMouseEvent(e,t){var s;if(!Wp(this.gos,t)||Jc(t))return;const{cellCtrl:i,rowCtrl:n}=this.getControlsForEventTarget(t.target);e==="contextmenu"?(i!=null&&i.column&&i.dispatchCellContextMenuEvent(t),(s=this.beans.contextMenuSvc)==null||s.handleContextMenuMouseEvent(t,void 0,n,i)):(i&&i.onMouseEvent(e,t),n&&n.onMouseEvent(e,t))}getControlsForEventTarget(e){const{gos:t}=this;return{cellCtrl:eP(t,e),rowCtrl:OO(t,e,Hb)}}processKeyboardEvent(e,t){const{cellCtrl:i,rowCtrl:n}=this.getControlsForEventTarget(t.target);t.defaultPrevented||(i?this.processCellKeyboardEvent(i,e,t):n&&n.isFullWidth()&&this.processFullWidthRowKeyboardEvent(n,e,t))}processCellKeyboardEvent(e,t,i){var a;const{rowNode:n,column:s,editing:r}=e;!M1(this.gos,i,n,s,r)&&t==="keydown"&&(!r&&((a=this.beans.navigation)!=null&&a.handlePageScrollingKey(i))||e.onKeyDown(i),this.doGridOperations(i,e.editing),Q5(i)&&e.processCharacter(i)),t==="keydown"&&this.eventSvc.dispatchEvent(e.createEvent(i,"cellKeyDown"))}processFullWidthRowKeyboardEvent(e,t,i){const{rowNode:n}=e,{focusSvc:s,navigation:r}=this.beans,o=s.getFocusedCell(),a=o&&o.column;if(!M1(this.gos,i,n,a,!1)){const h=i.key;if(t==="keydown")switch(h){case Pe.PAGE_HOME:case Pe.PAGE_END:case Pe.PAGE_UP:case Pe.PAGE_DOWN:r==null||r.handlePageScrollingKey(i,!0);break;case Pe.LEFT:case Pe.RIGHT:if(!this.gos.get("embedFullWidthRows"))break;case Pe.UP:case Pe.DOWN:e.onKeyboardNavigate(i);break;case Pe.TAB:e.onTabKeyDown(i);break}}t==="keydown"&&this.eventSvc.dispatchEvent(e.createRowEvent("cellKeyDown",i))}doGridOperations(e,t){if(!e.ctrlKey&&!e.metaKey||t||!Wp(this.gos,e))return;const i=oY(e),{clipboardSvc:n,undoRedo:s}=this.beans;if(i===Pe.A)return this.onCtrlAndA(e);if(i===Pe.C)return this.onCtrlAndC(n,e);if(i===Pe.D)return this.onCtrlAndD(n,e);if(i===Pe.V)return this.onCtrlAndV(n,e);if(i===Pe.X)return this.onCtrlAndX(n,e);if(i===Pe.Y)return this.onCtrlAndY(s);if(i===Pe.Z)return this.onCtrlAndZ(s,e)}onCtrlAndA(e){const{beans:{rowModel:t,rangeSvc:i,selectionSvc:n},gos:s}=this;i&&jp(s)&&t.isRowsToRender()?J5(this.beans):n&&(n==null||n.selectAllRowNodes({source:"keyboardSelectAll",selectAll:$3(s)})),e.preventDefault()}onCtrlAndC(e,t){if(!e||this.gos.get("enableCellTextSelection"))return;const{cellCtrl:i,rowCtrl:n}=this.getControlsForEventTarget(t.target);i!=null&&i.editing||n!=null&&n.editing||(t.preventDefault(),e.copyToClipboard())}onCtrlAndX(e,t){if(!e||this.gos.get("enableCellTextSelection")||this.gos.get("suppressCutToClipboard"))return;const{cellCtrl:i,rowCtrl:n}=this.getControlsForEventTarget(t.target);i!=null&&i.editing||n!=null&&n.editing||(t.preventDefault(),e.cutToClipboard(void 0,"ui"))}onCtrlAndV(e,t){const{cellCtrl:i,rowCtrl:n}=this.getControlsForEventTarget(t.target);i!=null&&i.editing||n!=null&&n.editing||e&&!this.gos.get("suppressClipboardPaste")&&e.pasteFromClipboard()}onCtrlAndD(e,t){e&&!this.gos.get("suppressClipboardPaste")&&e.copyRangeDown(),t.preventDefault()}onCtrlAndZ(e,t){!this.gos.get("undoRedoCellEditing")||!e||(t.preventDefault(),t.shiftKey?e.redo("ui"):e.undo("ui"))}onCtrlAndY(e){e==null||e.redo("ui")}},lP=class extends Be{constructor(e,t){super(),this.eContainer=e,this.eViewport=t}postConstruct(){this.addManagedEventListeners({rowContainerHeightChanged:this.onHeightChanged.bind(this,this.beans.rowContainerHeight)})}onHeightChanged(e){const t=e.uiContainerHeight,i=t!=null?`${t}px`:"";this.eContainer.style.height=i,this.eViewport&&(this.eViewport.style.height=i)}},Rv=e=>e.topRowCtrls,Iv=e=>e.getStickyTopRowCtrls(),kv=e=>e.getStickyBottomRowCtrls(),_v=e=>e.bottomRowCtrls,Nv=e=>e.allRowCtrls,fw=e=>e.getCtrls("top"),gw=e=>e.getCtrls("center"),pw=e=>e.getCtrls("bottom"),lY={center:{type:"center",name:"center-cols",getRowCtrls:Nv,getSpannedRowCtrls:gw},left:{type:"left",name:"pinned-left-cols",pinnedType:"left",getRowCtrls:Nv,getSpannedRowCtrls:gw},right:{type:"right",name:"pinned-right-cols",pinnedType:"right",getRowCtrls:Nv,getSpannedRowCtrls:gw},fullWidth:{type:"fullWidth",name:"full-width",fullWidth:!0,getRowCtrls:Nv},topCenter:{type:"center",name:"floating-top",getRowCtrls:Rv,getSpannedRowCtrls:fw},topLeft:{type:"left",name:"pinned-left-floating",container:"ag-pinned-left-floating-top",pinnedType:"left",getRowCtrls:Rv,getSpannedRowCtrls:fw},topRight:{type:"right",name:"pinned-right-floating",container:"ag-pinned-right-floating-top",pinnedType:"right",getRowCtrls:Rv,getSpannedRowCtrls:fw},topFullWidth:{type:"fullWidth",name:"floating-top-full-width",fullWidth:!0,getRowCtrls:Rv},stickyTopCenter:{type:"center",name:"sticky-top",getRowCtrls:Iv},stickyTopLeft:{type:"left",name:"pinned-left-sticky-top",container:"ag-pinned-left-sticky-top",pinnedType:"left",getRowCtrls:Iv},stickyTopRight:{type:"right",name:"pinned-right-sticky-top",container:"ag-pinned-right-sticky-top",pinnedType:"right",getRowCtrls:Iv},stickyTopFullWidth:{type:"fullWidth",name:"sticky-top-full-width",fullWidth:!0,getRowCtrls:Iv},stickyBottomCenter:{type:"center",name:"sticky-bottom",getRowCtrls:kv},stickyBottomLeft:{type:"left",name:"pinned-left-sticky-bottom",container:"ag-pinned-left-sticky-bottom",pinnedType:"left",getRowCtrls:kv},stickyBottomRight:{type:"right",name:"pinned-right-sticky-bottom",container:"ag-pinned-right-sticky-bottom",pinnedType:"right",getRowCtrls:kv},stickyBottomFullWidth:{type:"fullWidth",name:"sticky-bottom-full-width",fullWidth:!0,getRowCtrls:kv},bottomCenter:{type:"center",name:"floating-bottom",getRowCtrls:_v,getSpannedRowCtrls:pw},bottomLeft:{type:"left",name:"pinned-left-floating-bottom",container:"ag-pinned-left-floating-bottom",pinnedType:"left",getRowCtrls:_v,getSpannedRowCtrls:pw},bottomRight:{type:"right",name:"pinned-right-floating-bottom",container:"ag-pinned-right-floating-bottom",pinnedType:"right",getRowCtrls:_v,getSpannedRowCtrls:pw},bottomFullWidth:{type:"fullWidth",name:"floating-bottom-full-width",fullWidth:!0,getRowCtrls:_v}};function cP(e){return`ag-${wm(e).name}-viewport`}function rb(e){const t=wm(e);return t.container??`ag-${t.name}-container`}function cY(e){return`ag-${wm(e).name}-spanned-cells-container`}function wm(e){return lY[e]}var uY=["topCenter","topLeft","topRight"],hY=["bottomCenter","bottomLeft","bottomRight"],dY=["center","left","right"],fY=["center","left","right","fullWidth"],gY=["stickyTopCenter","stickyBottomCenter","center","topCenter","bottomCenter"],pY=["left","bottomLeft","topLeft","stickyTopLeft","stickyBottomLeft"],mY=["right","bottomRight","topRight","stickyTopRight","stickyBottomRight"],uP=["stickyTopCenter","stickyTopLeft","stickyTopRight"],hP=["stickyBottomCenter","stickyBottomLeft","stickyBottomRight"],yY=[...uP,"stickyTopFullWidth",...hP,"stickyBottomFullWidth"],vY=[...uY,...hY,...dY,...uP,...hP],bY=class extends Be{constructor(e){super(),this.name=e,this.visible=!0,this.EMPTY_CTRLS=[],this.options=wm(e)}postConstruct(){this.enableRtl=this.gos.get("enableRtl"),this.forContainers(["center"],()=>{this.viewportSizeFeature=this.createManagedBean(new X5(this)),this.addManagedEventListeners({stickyTopOffsetChanged:this.onStickyTopOffsetChanged.bind(this)})})}onStickyTopOffsetChanged(e){this.comp.setOffsetTop(`${e.offset}px`)}registerWithCtrlsService(){this.options.fullWidth||this.beans.ctrlsSvc.register(this.name,this)}forContainers(e,t){e.indexOf(this.name)>=0&&t()}setComp(e,t,i,n){this.comp=e,this.eContainer=t,this.eSpannedContainer=i,this.eViewport=n,this.createManagedBean(new aY(this.eViewport??this.eContainer)),this.addPreventScrollWhileDragging(),this.listenOnDomOrder();const{pinnedCols:s,rangeSvc:r}=this.beans,o=()=>this.onPinnedWidthChanged();this.forContainers(pY,()=>{this.pinnedWidthFeature=this.createOptionalManagedBean(s==null?void 0:s.createPinnedWidthFeature(!0,this.eContainer,this.eSpannedContainer)),this.addManagedEventListeners({leftPinnedWidthChanged:o})}),this.forContainers(mY,()=>{this.pinnedWidthFeature=this.createOptionalManagedBean(s==null?void 0:s.createPinnedWidthFeature(!1,this.eContainer,this.eSpannedContainer)),this.addManagedEventListeners({rightPinnedWidthChanged:o})}),this.forContainers(fY,()=>this.createManagedBean(new lP(this.eContainer,this.name==="center"?n:void 0))),r&&this.forContainers(vY,()=>this.createManagedBean(r.createDragListenerFeature(this.eContainer))),this.forContainers(gY,()=>this.createManagedBean(new tL(a=>this.comp.setContainerWidth(`${a}px`)))),this.visible=this.isContainerVisible(),this.addListeners(),this.registerWithCtrlsService()}onScrollCallback(e){this.addManagedElementListeners(this.eViewport,{scroll:e})}addListeners(){const{spannedRowRenderer:e,gos:t}=this.beans;this.addManagedEventListeners({displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),displayedColumnsWidthChanged:this.onDisplayedColumnsChanged.bind(this),displayedRowsChanged:i=>this.onDisplayedRowsChanged(i.afterScroll)}),this.onDisplayedColumnsChanged(),this.onDisplayedRowsChanged(),e&&this.options.getSpannedRowCtrls&&t.get("enableCellSpan")&&this.addManagedListeners(e,{spannedRowsUpdated:()=>{const i=this.options.getSpannedRowCtrls(e);i&&this.comp.setSpannedRowCtrls(i,!1)}})}listenOnDomOrder(){if(yY.indexOf(this.name)>=0){this.comp.setDomOrder(!0);return}const t=()=>{const i=this.gos.get("ensureDomOrder"),n=Hs(this.gos,"print");this.comp.setDomOrder(i||n)};this.addManagedPropertyListener("domLayout",t),t()}onDisplayedColumnsChanged(){this.forContainers(["center"],()=>this.onHorizontalViewportChanged())}addPreventScrollWhileDragging(){const{dragSvc:e}=this.beans;if(!e)return;const t=i=>{e.dragging&&i.cancelable&&i.preventDefault()};this.eContainer.addEventListener("touchmove",t,{passive:!1}),this.addDestroyFunc(()=>this.eContainer.removeEventListener("touchmove",t))}onHorizontalViewportChanged(e=!1){const t=this.getCenterWidth(),i=this.getCenterViewportScrollLeft();this.beans.colViewport.setScrollPosition(t,i,e)}hasHorizontalScrollGap(){return this.eContainer.clientWidth-this.eViewport.clientWidth<0}hasVerticalScrollGap(){return this.eContainer.clientHeight-this.eViewport.clientHeight<0}getCenterWidth(){return Lb(this.eViewport)}getCenterViewportScrollLeft(){return Tb(this.eViewport,this.enableRtl)}registerViewportResizeListener(e){const t=Ef(this.beans,this.eViewport,e);this.addDestroyFunc(()=>t())}isViewportInTheDOMTree(){return pO(this.eViewport)}getViewportScrollLeft(){return Tb(this.eViewport,this.enableRtl)}isHorizontalScrollShowing(){return this.gos.get("alwaysShowHorizontalScroll")||M3(this.eViewport)}setHorizontalScroll(e){this.comp.setHorizontalScroll(e)}getHScrollPosition(){return{left:this.eViewport.scrollLeft,right:this.eViewport.scrollLeft+this.eViewport.offsetWidth}}setCenterViewportScrollLeft(e){Ab(this.eViewport,e,this.enableRtl)}isContainerVisible(){return!(this.options.pinnedType!=null)||!!this.pinnedWidthFeature&&this.pinnedWidthFeature.getWidth()>0}onPinnedWidthChanged(){const e=this.isContainerVisible();this.visible!=e&&(this.visible=e,this.onDisplayedRowsChanged())}onDisplayedRowsChanged(e=!1){const t=this.options.getRowCtrls(this.beans.rowRenderer);if(!this.visible||t.length===0){this.comp.setRowCtrls({rowCtrls:this.EMPTY_CTRLS});return}const i=Hs(this.gos,"print"),s=this.gos.get("embedFullWidthRows")||i,r=t.filter(o=>{const a=o.isFullWidth();return this.options.fullWidth?!s&&a:s||!a});this.comp.setRowCtrls({rowCtrls:r,useFlushSync:e})}},CY="ag-force-vertical-scroll",xY="ag-selectable",SY="ag-column-moving",wY=class extends Be{constructor(){super(...arguments),this.stickyTopHeight=0,this.stickyBottomHeight=0}wireBeans(e){this.ctrlsSvc=e.ctrlsSvc,this.colModel=e.colModel,this.scrollVisibleSvc=e.scrollVisibleSvc,this.pinnedRowModel=e.pinnedRowModel,this.filterManager=e.filterManager,this.rowGroupColsSvc=e.rowGroupColsSvc}setComp(e,t,i,n,s,r,o){var a,c;this.comp=e,this.eGridBody=t,this.eBodyViewport=i,this.eTop=n,this.eBottom=s,this.eStickyTop=r,this.eStickyBottom=o,this.eCenterColsViewport=i.querySelector(`.${cP("center")}`),this.eFullWidthContainer=i.querySelector(`.${rb("fullWidth")}`),this.eStickyTopFullWidthContainer=r.querySelector(`.${rb("stickyTopFullWidth")}`),this.eStickyBottomFullWidthContainer=o.querySelector(`.${rb("stickyBottomFullWidth")}`),this.setCellTextSelection(this.gos.get("enableCellTextSelection")),this.addManagedPropertyListener("enableCellTextSelection",h=>this.setCellTextSelection(h.currentValue)),this.createManagedBean(new eL(this.comp)),this.scrollFeature=this.createManagedBean(new Z5(this.eBodyViewport)),(a=this.beans.rowDragSvc)==null||a.setupRowDrag(this.eBodyViewport,this),this.setupRowAnimationCssClass(),this.addEventListeners(),this.addFocusListeners([n,i,s,r,o]),this.setGridRootRole(),this.onGridColumnsChanged(),this.addBodyViewportListener(),this.setFloatingHeights(),this.disableBrowserDragging(),this.addStopEditingWhenGridLosesFocus(),this.updateScrollingClasses(),(c=this.filterManager)==null||c.setupAdvFilterHeaderComp(n),this.ctrlsSvc.register("gridBodyCtrl",this)}addEventListeners(){const e=this.setFloatingHeights.bind(this),t=this.setGridRootRole.bind(this);this.addManagedEventListeners({gridColumnsChanged:this.onGridColumnsChanged.bind(this),scrollVisibilityChanged:this.onScrollVisibilityChanged.bind(this),scrollGapChanged:this.updateScrollingClasses.bind(this),pinnedRowDataChanged:e,pinnedHeightChanged:e,headerHeightChanged:this.setStickyTopOffsetTop.bind(this),columnRowGroupChanged:t,columnPivotChanged:t}),this.addManagedPropertyListener("treeData",t)}onGridColumnsChanged(){const e=this.beans.colModel.getCols();this.comp.setColumnCount(e.length)}onScrollVisibilityChanged(){const{scrollVisibleSvc:e}=this,t=e.verticalScrollShowing;this.setVerticalScrollPaddingVisible(t),this.setStickyWidth(t),this.setStickyBottomOffsetBottom();const i=t&&e.getScrollbarWidth()||0,n=hO()?16:0,s=`calc(100% + ${i+n}px)`;du(this.beans,()=>this.comp.setBodyViewportWidth(s)),this.updateScrollingClasses()}setGridRootRole(){const{rowGroupColsSvc:e,colModel:t}=this;let i=this.gos.get("treeData");if(!i){const n=t.isPivotMode();i=(e?e.columns.length:0)>=(n?2:1)}this.comp.setGridRootRole(i?"treegrid":"grid")}addFocusListeners(e){e.forEach(t=>{this.addManagedElementListeners(t,{focusin:i=>{const{target:n}=i,s=rf(n,"ag-root",t);t.classList.toggle("ag-has-focus",!s)},focusout:i=>{const{target:n,relatedTarget:s}=i,r=t.contains(s),o=rf(s,"ag-root",t);rf(n,"ag-root",t)||(!r||o)&&t.classList.remove("ag-has-focus")}})})}setColumnMovingCss(e){this.comp.setColumnMovingCss(SY,e)}setCellTextSelection(e=!1){this.comp.setCellSelectableCss(xY,e)}updateScrollingClasses(){const{eGridBody:{classList:e},scrollVisibleSvc:t}=this;e.toggle("ag-body-vertical-content-no-gap",!t.verticalScrollGap),e.toggle("ag-body-horizontal-content-no-gap",!t.horizontalScrollGap)}disableBrowserDragging(){this.addManagedElementListeners(this.eGridBody,{dragstart:e=>{if(e.target instanceof HTMLImageElement)return e.preventDefault(),!1}})}addStopEditingWhenGridLosesFocus(){var e;(e=this.beans.editSvc)==null||e.addStopEditingWhenGridLosesFocus([this.eBodyViewport,this.eBottom,this.eTop,this.eStickyTop,this.eStickyBottom])}updateRowCount(){var s,r;const e=(((s=this.ctrlsSvc.getHeaderRowContainerCtrl())==null?void 0:s.getRowCount())??0)+(((r=this.filterManager)==null?void 0:r.getHeaderRowCount())??0),{rowModel:t}=this.beans,i=t.isLastRowIndexKnown()?t.getRowCount():-1,n=i===-1?-1:e+i;this.comp.setRowCount(n)}registerBodyViewportResizeListener(e){this.comp.registerBodyViewportResizeListener(e)}setVerticalScrollPaddingVisible(e){const t=e?"scroll":"hidden";this.comp.setPinnedTopBottomOverflowY(t)}isVerticalScrollShowing(){const e=this.gos.get("alwaysShowVerticalScroll"),t=e?CY:null,i=Hs(this.gos,"normal");return this.comp.setAlwaysVerticalScrollClass(t,e),e||i&&D3(this.eBodyViewport)}setupRowAnimationCssClass(){const{rowContainerHeight:e,environment:t}=this.beans;let i=t.sizesMeasured;const n=()=>{const s=i&&QD(this.gos)&&!e.stretching,r=s?"ag-row-animation":"ag-row-no-animation";this.comp.setRowAnimationCssOnBodyViewport(r,s)};n(),this.addManagedEventListeners({heightScaleChanged:n}),this.addManagedPropertyListener("animateRows",n),this.addManagedEventListeners({gridStylesChanged:()=>{!i&&t.sizesMeasured&&(i=!0,n())}})}addBodyViewportListener(){const{popupSvc:e,touchSvc:t}=this.beans,i=this.onBodyViewportContextMenu.bind(this);this.addManagedElementListeners(this.eBodyViewport,{contextmenu:i}),t==null||t.mockBodyContextMenu(this,i),this.addManagedElementListeners(this.eBodyViewport,{wheel:this.onBodyViewportWheel.bind(this,e)}),this.addManagedElementListeners(this.eStickyTop,{wheel:this.onStickyWheel.bind(this)}),this.addManagedElementListeners(this.eStickyBottom,{wheel:this.onStickyWheel.bind(this)}),this.addFullWidthContainerWheelListener()}addFullWidthContainerWheelListener(){this.addManagedElementListeners(this.eFullWidthContainer,{wheel:e=>this.onFullWidthContainerWheel(e)})}onFullWidthContainerWheel(e){const{deltaX:t,deltaY:i,shiftKey:n}=e;(n||Math.abs(t)>Math.abs(i))&&Wp(this.gos,e)&&this.scrollGridBodyToMatchEvent(e)}onStickyWheel(e){const{deltaX:t,deltaY:i,shiftKey:n}=e,s=n||Math.abs(t)>Math.abs(i),r=e.target;s?(this.eStickyTopFullWidthContainer.contains(r)||this.eStickyBottomFullWidthContainer.contains(r))&&this.scrollGridBodyToMatchEvent(e):(e.preventDefault(),this.scrollVertically(i))}scrollGridBodyToMatchEvent(e){const{deltaX:t,deltaY:i}=e;e.preventDefault(),this.eCenterColsViewport.scrollBy({left:t||i})}onBodyViewportContextMenu(e,t,i){var s;if(!e&&!i)return;this.gos.get("preventDefaultOnContextMenu")&&(e||i).preventDefault();const{target:n}=e||t;(n===this.eBodyViewport||n===this.ctrlsSvc.get("center").eViewport)&&((s=this.beans.contextMenuSvc)==null||s.showContextMenu({mouseEvent:e,touchEvent:i,value:null,anchorToElement:this.eGridBody,source:"ui"}))}onBodyViewportWheel(e,t){this.gos.get("suppressScrollWhenPopupsAreOpen")&&e!=null&&e.hasAnchoredPopup()&&t.preventDefault()}scrollVertically(e){const t=this.eBodyViewport.scrollTop;return this.scrollFeature.setVerticalScrollPosition(t+e),this.eBodyViewport.scrollTop-t}setFloatingHeights(){const{pinnedRowModel:e}=this,t=(e==null?void 0:e.getPinnedTopTotalHeight())??0,i=(e==null?void 0:e.getPinnedBottomTotalHeight())??0;this.comp.setTopHeight(t),this.comp.setBottomHeight(i),this.comp.setTopInvisible(t<=0),this.comp.setBottomInvisible(i<=0),this.setStickyTopOffsetTop(),this.setStickyBottomOffsetBottom()}setStickyTopHeight(e=0){this.comp.setStickyTopHeight(`${e}px`),this.stickyTopHeight=e}setStickyBottomHeight(e=0){this.comp.setStickyBottomHeight(`${e}px`),this.stickyBottomHeight=e}setStickyWidth(e){if(!e)this.comp.setStickyTopWidth("100%"),this.comp.setStickyBottomWidth("100%");else{const t=this.scrollVisibleSvc.getScrollbarWidth();this.comp.setStickyTopWidth(`calc(100% - ${t}px)`),this.comp.setStickyBottomWidth(`calc(100% - ${t}px)`)}}setStickyTopOffsetTop(){var s,r;const t=this.ctrlsSvc.get("gridHeaderCtrl").headerHeight+(((s=this.filterManager)==null?void 0:s.getHeaderHeight())??0),i=((r=this.pinnedRowModel)==null?void 0:r.getPinnedTopTotalHeight())??0;let n=0;t>0&&(n+=t),i>0&&(n+=i),n>0&&(n+=1),this.comp.setStickyTopTop(`${n}px`)}setStickyBottomOffsetBottom(){const{pinnedRowModel:e,scrollVisibleSvc:t,comp:i}=this,n=(e==null?void 0:e.getPinnedBottomTotalHeight())??0,r=t.horizontalScrollShowing&&t.getScrollbarWidth()||0,o=n+r;i.setStickyBottomBottom(`${o}px`)}},dP=class extends Il{constructor(e,t){super(),this.direction=t,this.eViewport=ii,this.eContainer=ii,this.hideTimeout=0,this.setTemplate(e)}postConstruct(){this.addManagedEventListeners({scrollVisibilityChanged:this.onScrollVisibilityChanged.bind(this)}),this.onScrollVisibilityChanged(),this.addOrRemoveCssClass("ag-apple-scrollbar",cO()||Tp())}destroy(){super.destroy(),window.clearTimeout(this.hideTimeout)}initialiseInvisibleScrollbar(){this.invisibleScrollbar===void 0&&(this.invisibleScrollbar=hO(),this.invisibleScrollbar&&(this.hideAndShowInvisibleScrollAsNeeded(),this.addActiveListenerToggles()))}addActiveListenerToggles(){const e=this.getGui(),t=()=>this.addOrRemoveCssClass("ag-scrollbar-active",!0),i=()=>this.addOrRemoveCssClass("ag-scrollbar-active",!1);this.addManagedListeners(e,{mouseenter:t,mousedown:t,touchstart:t,mouseleave:i,touchend:i})}onScrollVisibilityChanged(){this.invisibleScrollbar===void 0&&this.initialiseInvisibleScrollbar(),du(this.beans,()=>this.setScrollVisible())}hideAndShowInvisibleScrollAsNeeded(){this.addManagedEventListeners({bodyScroll:e=>{e.direction===this.direction&&(this.hideTimeout&&(window.clearTimeout(this.hideTimeout),this.hideTimeout=0),this.addOrRemoveCssClass("ag-scrollbar-scrolling",!0))},bodyScrollEnd:()=>{this.hideTimeout=window.setTimeout(()=>{this.addOrRemoveCssClass("ag-scrollbar-scrolling",!1),this.hideTimeout=0},400)}})}attemptSettingScrollPosition(e){const t=this.eViewport;R3(()=>Af(t),()=>this.setScrollPosition(e),100)}onScrollCallback(e){this.addManagedElementListeners(this.eViewport,{scroll:e})}},MY={tag:"div",cls:"ag-body-horizontal-scroll",attrs:{"aria-hidden":"true"},children:[{tag:"div",ref:"eLeftSpacer",cls:"ag-horizontal-left-spacer"},{tag:"div",ref:"eViewport",cls:"ag-body-horizontal-scroll-viewport",children:[{tag:"div",ref:"eContainer",cls:"ag-body-horizontal-scroll-container"}]},{tag:"div",ref:"eRightSpacer",cls:"ag-horizontal-right-spacer"}]},DY=class extends dP{constructor(){super(MY,"horizontal"),this.eLeftSpacer=ii,this.eRightSpacer=ii,this.setScrollVisibleDebounce=0}wireBeans(e){this.visibleCols=e.visibleCols,this.scrollVisibleSvc=e.scrollVisibleSvc}postConstruct(){super.postConstruct();const e=this.setFakeHScrollSpacerWidths.bind(this);this.addManagedEventListeners({displayedColumnsChanged:e,displayedColumnsWidthChanged:e,pinnedRowDataChanged:this.refreshCompBottom.bind(this)}),this.addManagedPropertyListener("domLayout",e),this.beans.ctrlsSvc.register("fakeHScrollComp",this),this.createManagedBean(new tL(t=>this.eContainer.style.width=`${t}px`)),this.addManagedPropertyListeners(["suppressHorizontalScroll"],this.onScrollVisibilityChanged.bind(this))}destroy(){window.clearTimeout(this.setScrollVisibleDebounce),super.destroy()}initialiseInvisibleScrollbar(){this.invisibleScrollbar===void 0&&(this.enableRtl=this.gos.get("enableRtl"),super.initialiseInvisibleScrollbar(),this.invisibleScrollbar&&this.refreshCompBottom())}refreshCompBottom(){var t;if(!this.invisibleScrollbar)return;const e=((t=this.beans.pinnedRowModel)==null?void 0:t.getPinnedBottomTotalHeight())??0;this.getGui().style.bottom=`${e}px`}onScrollVisibilityChanged(){super.onScrollVisibilityChanged(),this.setFakeHScrollSpacerWidths()}setFakeHScrollSpacerWidths(){const e=this.scrollVisibleSvc.verticalScrollShowing;let t=this.visibleCols.getDisplayedColumnsRightWidth();const i=!this.enableRtl&&e,n=this.scrollVisibleSvc.getScrollbarWidth();i&&(t+=n),qc(this.eRightSpacer,t),this.eRightSpacer.classList.toggle("ag-scroller-corner",t<=n);let s=this.visibleCols.getColsLeftWidth();this.enableRtl&&e&&(s+=n),qc(this.eLeftSpacer,s),this.eLeftSpacer.classList.toggle("ag-scroller-corner",s<=n)}setScrollVisible(){const e=this.scrollVisibleSvc.horizontalScrollShowing,t=this.invisibleScrollbar,i=this.gos.get("suppressHorizontalScroll"),n=e&&this.scrollVisibleSvc.getScrollbarWidth()||0,r=i?0:n===0&&t?16:n,o=()=>{this.setScrollVisibleDebounce=0,this.addOrRemoveCssClass("ag-scrollbar-invisible",t),cw(this.getGui(),r),cw(this.eViewport,r),cw(this.eContainer,r),r||this.eContainer.style.setProperty("min-height","1px"),this.setVisible(e,{skipAriaHidden:!0})};window.clearTimeout(this.setScrollVisibleDebounce),e?this.setScrollVisibleDebounce=window.setTimeout(o,100):o()}getScrollPosition(){return Tb(this.eViewport,this.enableRtl)}setScrollPosition(e){Af(this.eViewport)||this.attemptSettingScrollPosition(e),Ab(this.eViewport,e,this.enableRtl)}},LY={tag:"div",cls:"ag-body-vertical-scroll",attrs:{"aria-hidden":"true"},children:[{tag:"div",ref:"eViewport",cls:"ag-body-vertical-scroll-viewport",children:[{tag:"div",ref:"eContainer",cls:"ag-body-vertical-scroll-container"}]}]},TY=class extends dP{constructor(){super(LY,"vertical")}postConstruct(){super.postConstruct(),this.createManagedBean(new lP(this.eContainer));const{ctrlsSvc:e}=this.beans;e.register("fakeVScrollComp",this),this.addManagedEventListeners({rowContainerHeightChanged:this.onRowContainerHeightChanged.bind(this,e)})}setScrollVisible(){const{scrollVisibleSvc:e}=this.beans,t=e.verticalScrollShowing,i=this.invisibleScrollbar,n=t&&e.getScrollbarWidth()||0,s=n===0&&i?16:n;this.addOrRemoveCssClass("ag-scrollbar-invisible",i),qc(this.getGui(),s),qc(this.eViewport,s),qc(this.eContainer,s),this.setDisplayed(t,{skipAriaHidden:!0})}onRowContainerHeightChanged(e){const i=e.getGridBodyCtrl().eBodyViewport,n=this.getScrollPosition(),s=i.scrollTop;n!=s&&this.setScrollPosition(s,!0)}getScrollPosition(){return this.eViewport.scrollTop}setScrollPosition(e,t){!t&&!Af(this.eViewport)&&this.attemptSettingScrollPosition(e),this.eViewport.scrollTop=e}};function AY(e){return e.cols?e.cols.treeDepth+1:-1}function ma(e){var t;return((t=e.ctrlsSvc.getHeaderRowContainerCtrl())==null?void 0:t.getRowCount())??0}function iL(e){const t=[],i=e.ctrlsSvc.getHeaderRowContainerCtrls();for(const n of i){if(!n)continue;const s=n.getGroupRowCount()||0;for(let r=0;r<s;r++){const o=n.getGroupRowCtrlAtIndex(r),a=t[r];if(o){const c=EY(e,o);(a==null||c>a)&&(t[r]=c)}}}return t}function EY(e,t){let n=e.colModel.isPivotMode()?IY(e):gP(e);const s=t.getHeaderCellCtrls();for(const r of s){const{column:o}=r,a=o.getAutoHeaderHeight();a!=null&&a>n&&o.isAutoHeaderHeight()&&(n=a)}return n}function nL(e){let i=e.colModel.isPivotMode()?RY(e):zC(e);return e.colModel.forAllCols(n=>{const s=n.getAutoHeaderHeight();s!=null&&s>i&&n.isAutoHeaderHeight()&&(i=s)}),i}function zC(e){return e.gos.get("headerHeight")??e.environment.getDefaultHeaderHeight()}function fP(e){return e.gos.get("floatingFiltersHeight")??zC(e)}function gP(e){return e.gos.get("groupHeaderHeight")??zC(e)}function RY(e){return e.gos.get("pivotHeaderHeight")??zC(e)}function IY(e){return e.gos.get("pivotGroupHeaderHeight")??gP(e)}var kY=class extends Be{setComp(e,t,i){this.comp=e,this.eGui=t;const{beans:n}=this,{headerNavigation:s,touchSvc:r,ctrlsSvc:o}=n;s&&this.createManagedBean(new BC(i,{onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),onFocusOut:this.onFocusOut.bind(this)})),this.addManagedEventListeners({columnPivotModeChanged:this.onPivotModeChanged.bind(this,n),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this,n)}),this.onPivotModeChanged(n),this.setupHeaderHeight();const a=this.onHeaderContextMenu.bind(this);this.addManagedElementListeners(this.eGui,{contextmenu:a}),r==null||r.mockHeaderContextMenu(this,a),o.register("gridHeaderCtrl",this)}setupHeaderHeight(){const e=this.setHeaderHeight.bind(this);e(),this.addManagedPropertyListeners(["headerHeight","pivotHeaderHeight","groupHeaderHeight","pivotGroupHeaderHeight","floatingFiltersHeight"],e),this.addManagedEventListeners({displayedColumnsChanged:e,columnHeaderHeightChanged:e,columnGroupHeaderHeightChanged:()=>du(this.beans,()=>e()),gridStylesChanged:e,advancedFilterEnabledChanged:e})}setHeaderHeight(){var r;const{beans:e}=this;let t=0;const i=iL(e).reduce((o,a)=>o+a,0),n=nL(e);if((r=e.filterManager)!=null&&r.hasFloatingFilters()&&(t+=fP(e)),t+=i,t+=n,this.headerHeight===t)return;this.headerHeight=t;const s=`${t+1}px`;this.comp.setHeightAndMinHeight(s),this.eventSvc.dispatchEvent({type:"headerHeightChanged"})}onPivotModeChanged(e){const t=e.colModel.isPivotMode();this.comp.addOrRemoveCssClass("ag-pivot-on",t),this.comp.addOrRemoveCssClass("ag-pivot-off",!t)}onDisplayedColumnsChanged(e){const i=e.visibleCols.allCols.some(n=>n.isSpanHeaderHeight());this.comp.addOrRemoveCssClass("ag-header-allow-overflow",i)}onTabKeyDown(e){const t=this.gos.get("enableRtl"),i=e.shiftKey,n=i!==t?"LEFT":"RIGHT",{beans:s}=this,{headerNavigation:r,focusSvc:o}=s;(r.navigateHorizontally(n,!0,e)||!i&&o.focusOverlay(!1)||Vp(s,i,!0))&&e.preventDefault()}handleKeyDown(e){let t=null;const{headerNavigation:i}=this.beans;switch(e.key){case Pe.LEFT:t="LEFT";case Pe.RIGHT:{At(t)||(t="RIGHT"),i.navigateHorizontally(t,!1,e)&&e.preventDefault();break}case Pe.UP:t="UP";case Pe.DOWN:{At(t)||(t="DOWN"),i.navigateVertically(t,null,e)&&e.preventDefault();break}default:return}}onFocusOut(e){const{relatedTarget:t}=e,{eGui:i,beans:n}=this;!t&&i.contains(Ss(n))||i.contains(t)||(n.focusSvc.focusedHeader=null)}onHeaderContextMenu(e,t,i){var o;const{menuSvc:n,ctrlsSvc:s}=this.beans;if(!e&&!i||!(n!=null&&n.isHeaderContextMenuEnabled()))return;const{target:r}=e??t;(r===this.eGui||r===((o=s.getHeaderRowContainerCtrl())==null?void 0:o.eViewport))&&n.showHeaderContextMenu(void 0,e,i)}},pP=class extends Be{constructor(e,t,i,n){super(),this.columnOrGroup=e,this.eCell=t,this.colsSpanning=n,this.columnOrGroup=e,this.ariaEl=t.querySelector("[role=columnheader]")||t,this.beans=i}setColsSpanning(e){this.colsSpanning=e,this.onLeftChanged()}getColumnOrGroup(){const{beans:e,colsSpanning:t}=this;return e.gos.get("enableRtl")&&t?Li(t):this.columnOrGroup}postConstruct(){const e=this.onLeftChanged.bind(this);this.addManagedListeners(this.columnOrGroup,{leftChanged:e}),this.setLeftFirstTime(),this.addManagedEventListeners({displayedColumnsWidthChanged:e}),this.addManagedPropertyListener("domLayout",e)}setLeftFirstTime(){const{gos:e,colAnimation:t}=this.beans,i=e.get("suppressColumnMoveAnimation"),n=At(this.columnOrGroup.getOldLeft());(t==null?void 0:t.isActive())&&n&&!i?this.animateInLeft():this.onLeftChanged()}animateInLeft(){const e=this.getColumnOrGroup(),t=this.modifyLeftForPrintLayout(e,e.getOldLeft()),i=this.modifyLeftForPrintLayout(e,e.getLeft());this.setLeft(t),this.actualLeft=i,this.beans.colAnimation.executeNextVMTurn(()=>{this.actualLeft===i&&this.setLeft(i)})}onLeftChanged(){const e=this.getColumnOrGroup(),t=e.getLeft();this.actualLeft=this.modifyLeftForPrintLayout(e,t),this.setLeft(this.actualLeft)}modifyLeftForPrintLayout(e,t){const{gos:i,visibleCols:n}=this.beans;if(!Hs(i,"print")||e.getPinned()==="left")return t;const r=n.getColsLeftWidth();if(e.getPinned()==="right"){const o=n.bodyWidth;return r+o+t}return r+t}setLeft(e){if(At(e)&&(this.eCell.style.left=`${e}px`),on(this.columnOrGroup)){const t=this.columnOrGroup.getLeafColumns();if(!t.length)return;t.length>1&&p3(this.ariaEl,t.length)}}},_Y=0,mP="headerCtrl",yP=class extends Be{constructor(e,t){super(),this.column=e,this.rowCtrl=t,this.resizeToggleTimeout=0,this.resizeMultiplier=1,this.resizeFeature=null,this.lastFocusEvent=null,this.dragSource=null,this.instanceId=e.getUniqueId()+"-"+_Y++}postConstruct(){const e=this.refreshTabIndex.bind(this);this.addManagedPropertyListeners(["suppressHeaderFocus"],e),this.addManagedEventListeners({overlayExclusiveChanged:e})}shouldStopEventPropagation(e){const{headerRowIndex:t,column:i}=this.beans.focusSvc.focusedHeader,n=i.getDefinition(),s=n&&n.suppressHeaderKeyboardEvent;if(!At(s))return!1;const r=wi(this.gos,{colDef:n,column:i,headerRowIndex:t,event:e});return!!s(r)}getWrapperHasFocus(){return Ss(this.beans)===this.eGui}setGui(e,t){this.eGui=e,this.addDomData(t),t.addManagedListeners(this.beans.eventSvc,{displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this)}),t.addManagedElementListeners(this.eGui,{focus:this.onGuiFocus.bind(this)}),this.onDisplayedColumnsChanged(),this.refreshTabIndex()}refreshHeaderStyles(){const e=this.column.getDefinition();if(!e)return;const{headerStyle:t}=e;let i;if(typeof t=="function"){const n=this.getHeaderClassParams();i=t(n)}else i=t;i&&this.comp.setUserStyles(i)}onGuiFocus(){this.eventSvc.dispatchEvent({type:"headerFocused",column:this.column})}setupAutoHeight(e){const{wrapperElement:t,checkMeasuringCallback:i,compBean:n}=e,{beans:s}=this,r=p=>{if(!this.isAlive()||!n.isAlive())return;const{paddingTop:m,paddingBottom:b,borderBottomWidth:C,borderTopWidth:w}=kC(this.eGui),D=m+b+C+w,A=t.offsetHeight+D;if(p<5){const k=Ia(s),_=!k||!k.contains(t),F=A==0;if(_||F){xM(()=>r(p+1),"raf",s);return}}this.setColHeaderHeight(this.column,A)};let o=!1,a;const c=()=>{const p=this.column.isAutoHeaderHeight();p&&!o&&h(),!p&&o&&f()},h=()=>{o=!0,r(0),this.comp.addOrRemoveCssClass("ag-header-cell-auto-height",!0),a=Ef(this.beans,t,()=>r(0))},f=()=>{o=!1,a&&a(),this.comp.addOrRemoveCssClass("ag-header-cell-auto-height",!1),a=void 0};c(),n.addDestroyFunc(()=>f()),n.addManagedListeners(this.column,{widthChanged:()=>o&&r(0)}),n.addManagedEventListeners({sortChanged:()=>{o&&window.setTimeout(()=>r(0))}}),i&&i(c)}onDisplayedColumnsChanged(){const{comp:e,column:t,beans:i,eGui:n}=this;!e||!t||!n||(JO(e,t,i.visibleCols),aO(n,i.visibleCols.getAriaColIndex(t)))}addResizeAndMoveKeyboardListeners(e){e.addManagedListeners(this.eGui,{keydown:this.onGuiKeyDown.bind(this),keyup:this.onGuiKeyUp.bind(this)})}refreshTabIndex(){const e=Th(this.beans);this.eGui&&of(this.eGui,"tabindex",e?null:"-1")}onGuiKeyDown(e){var r;const t=Ss(this.beans),i=e.key===Pe.LEFT||e.key===Pe.RIGHT;if(this.isResizing&&(e.preventDefault(),e.stopImmediatePropagation()),t!==this.eGui||!e.shiftKey&&!e.altKey||((this.isResizing||i)&&(e.preventDefault(),e.stopImmediatePropagation()),!i))return;const s=e.key===Pe.LEFT!==this.gos.get("enableRtl")?"left":"right";if(e.altKey){this.isResizing=!0,this.resizeMultiplier+=1;const o=this.getViewportAdjustedResizeDiff(e);this.resizeHeader(o,e.shiftKey),(r=this.resizeFeature)==null||r.toggleColumnResizing(!0)}else this.moveHeader(s)}moveHeader(e){var t;(t=this.beans.colMoves)==null||t.moveHeader(e,this.eGui,this.column,this.rowCtrl.pinned,this)}getViewportAdjustedResizeDiff(e){const t=this.getResizeDiff(e),{pinnedCols:i}=this.beans;return i?i.getHeaderResizeDiff(t,this.column):t}getResizeDiff(e){const{gos:t,column:i}=this;let n=e.key===Pe.LEFT!==t.get("enableRtl");const s=i.getPinned(),r=t.get("enableRtl");return s&&r!==(s==="right")&&(n=!n),(n?-1:1)*this.resizeMultiplier}onGuiKeyUp(){this.isResizing&&(this.resizeToggleTimeout&&(window.clearTimeout(this.resizeToggleTimeout),this.resizeToggleTimeout=0),this.isResizing=!1,this.resizeMultiplier=1,this.resizeToggleTimeout=window.setTimeout(()=>{var e;(e=this.resizeFeature)==null||e.toggleColumnResizing(!1)},150))}handleKeyDown(e){const t=this.getWrapperHasFocus();switch(e.key){case Pe.PAGE_DOWN:case Pe.PAGE_UP:case Pe.PAGE_HOME:case Pe.PAGE_END:t&&e.preventDefault()}}addDomData(e){const t=mP,{eGui:i,gos:n}=this;ff(n,i,t,this),e.addDestroyFunc(()=>ff(n,i,t,null))}focus(e){const{eGui:t}=this;return t?(this.lastFocusEvent=e||null,t.focus(),!0):!1}focusThis(){this.beans.focusSvc.focusedHeader={headerRowIndex:this.rowCtrl.rowIndex,column:this.column}}removeDragSource(){var e;this.dragSource&&((e=this.beans.dragAndDrop)==null||e.removeDragSource(this.dragSource),this.dragSource=null)}handleContextMenuMouseEvent(e,t,i){const n=e??t,{menuSvc:s,gos:r}=this.beans;r.get("preventDefaultOnContextMenu")&&n.preventDefault(),s!=null&&s.isHeaderContextMenuEnabled(i)&&s.showHeaderContextMenu(i,e,t),this.dispatchColumnMouseEvent("columnHeaderContextMenu",i)}dispatchColumnMouseEvent(e,t){this.eventSvc.dispatchEvent({type:e,column:t})}setColHeaderHeight(e,t){if(!e.setAutoHeaderHeight(t))return;const{eventSvc:i}=this;e.isColumn?i.dispatchEvent({type:"columnHeaderHeightChanged",column:e,columns:[e],source:"autosizeColumnHeaderHeight"}):i.dispatchEvent({type:"columnGroupHeaderHeightChanged",columnGroup:e,source:"autosizeColumnGroupHeaderHeight"})}clearComponent(){this.removeDragSource(),this.resizeFeature=null,this.comp=null,this.eGui=null}destroy(){super.destroy(),this.column=null,this.lastFocusEvent=null,this.rowCtrl=null}},NY=class extends yP{constructor(){super(...arguments),this.refreshFunctions={},this.userHeaderClasses=new Set,this.ariaDescriptionProperties=new Map}setComp(e,t,i,n,s){this.comp=e;const{rowCtrl:r,column:o,beans:a}=this,{colResize:c,context:h,colHover:f,rangeSvc:p}=a,m=PC(this,h,s);this.setGui(t,m),this.updateState(),this.setupWidth(m),this.setupMovingCss(m),this.setupMenuClass(m),this.setupSortableClass(m),this.setupWrapTextClass(),this.refreshSpanHeaderHeight(),this.setupAutoHeight({wrapperElement:n,checkMeasuringCallback:C=>this.setRefreshFunction("measuring",C),compBean:m}),this.addColumnHoverListener(m),this.setupFilterClass(m),this.setupStylesFromColDef(),this.setupClassesFromColDef(),this.setupTooltip(),this.addActiveHeaderMouseListeners(m),this.setupSelectAll(m),this.setupUserComp(),this.refreshAria(),c?this.resizeFeature=m.createManagedBean(c.createResizeFeature(r.pinned,o,i,e,this)):Gn(i,!1),f==null||f.createHoverFeature(m,[o],t),p==null||p.createRangeHighlightFeature(m,o,e),m.createManagedBean(new pP(o,t,a)),m.createManagedBean(new BC(t,{shouldStopEventPropagation:C=>this.shouldStopEventPropagation(C),onTabKeyDown:()=>null,handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this),onFocusOut:this.onFocusOut.bind(this)})),this.addResizeAndMoveKeyboardListeners(m),m.addManagedPropertyListeners(["suppressMovableColumns","suppressMenuHide","suppressAggFuncInHeader","enableAdvancedFilter"],()=>this.refresh()),m.addManagedListeners(o,{colDefChanged:()=>this.refresh()}),m.addManagedListeners(o,{headerHighlightChanged:this.onHeaderHighlightChanged.bind(this)});const b=()=>this.checkDisplayName();m.addManagedEventListeners({columnValueChanged:b,columnRowGroupChanged:b,columnPivotChanged:b,headerHeightChanged:this.onHeaderHeightChanged.bind(this)}),m.addDestroyFunc(()=>{this.refreshFunctions={},this.selectAllFeature=null,this.dragSourceElement=void 0,this.userCompDetails=null,this.userHeaderClasses.clear(),this.ariaDescriptionProperties.clear(),this.clearComponent()})}resizeHeader(e,t){var i;(i=this.beans.colResize)==null||i.resizeHeader(this.column,e,t)}getHeaderClassParams(){const{column:e,beans:t}=this,i=e.colDef;return wi(t.gos,{colDef:i,column:e,floatingFilter:!1})}setupUserComp(){const e=this.lookupUserCompDetails();e&&this.setCompDetails(e)}setCompDetails(e){this.userCompDetails=e,this.comp.setUserCompDetails(e)}lookupUserCompDetails(){const e=this.createParams(),t=this.column.getColDef();return XU(this.beans.userCompFactory,t,e)}createParams(){const{menuSvc:e,sortSvc:t,colFilter:i,gos:n}=this.beans;return wi(n,{column:this.column,displayName:this.displayName,enableSorting:this.column.isSortable(),enableMenu:this.menuEnabled,enableFilterButton:this.openFilterEnabled&&!!(e!=null&&e.isHeaderFilterButtonEnabled(this.column)),enableFilterIcon:!!i&&(!this.openFilterEnabled||Rb(this.gos)),showColumnMenu:(r,o)=>{e==null||e.showColumnMenu({column:this.column,buttonElement:r,positionBy:"button",onClosedCallback:o})},showColumnMenuAfterMouseClick:(r,o)=>{e==null||e.showColumnMenu({column:this.column,mouseEvent:r,positionBy:"mouse",onClosedCallback:o})},showFilter:r=>{e==null||e.showFilterMenu({column:this.column,buttonElement:r,containerType:"columnFilter",positionBy:"button"})},progressSort:r=>{t==null||t.progressSort(this.column,!!r,"uiColumnSorted")},setSort:(r,o)=>{t==null||t.setSortForColumn(this.column,r,!!o,"uiColumnSorted")},eGridHeader:this.eGui,setTooltip:(r,o)=>{n.assertModuleRegistered("Tooltip",3),this.setupTooltip(r,o)}})}setupSelectAll(e){const{selectionSvc:t}=this.beans;t&&(this.selectAllFeature=e.createManagedBean(t.createSelectAllFeature(this.column)),this.selectAllFeature.setComp(this))}getSelectAllGui(){var e;return(e=this.selectAllFeature)==null?void 0:e.getCheckboxGui()}handleKeyDown(e){var t;super.handleKeyDown(e),e.key===Pe.SPACE&&((t=this.selectAllFeature)==null||t.onSpaceKeyDown(e)),e.key===Pe.ENTER&&this.onEnterKeyDown(e),e.key===Pe.DOWN&&e.altKey&&this.showMenuOnKeyPress(e,!1)}onEnterKeyDown(e){var t;e.ctrlKey||e.metaKey?this.showMenuOnKeyPress(e,!0):this.sortable&&((t=this.beans.sortSvc)==null||t.progressSort(this.column,e.shiftKey,"uiColumnSorted"))}showMenuOnKeyPress(e,t){const i=this.comp.getUserCompInstance();D1(i)&&i.onMenuKeyboardShortcut(t)&&e.preventDefault()}onFocusIn(e){this.eGui.contains(e.relatedTarget)||(this.focusThis(),this.announceAriaDescription()),M5()&&this.setActiveHeader(!0)}onFocusOut(e){this.eGui.contains(e.relatedTarget)||this.setActiveHeader(!1)}setupTooltip(e,t){var i;this.tooltipFeature=(i=this.beans.tooltipSvc)==null?void 0:i.setupHeaderTooltip(this.tooltipFeature,this,e,t)}setupStylesFromColDef(){this.setRefreshFunction("headerStyles",this.refreshHeaderStyles.bind(this)),this.refreshHeaderStyles()}setupClassesFromColDef(){const e=()=>{const t=this.column.getColDef(),i=QO(t,this.gos,this.column,null),n=this.userHeaderClasses;this.userHeaderClasses=new Set(i),i.forEach(s=>{n.has(s)?n.delete(s):this.comp.addOrRemoveCssClass(s,!0)}),n.forEach(s=>this.comp.addOrRemoveCssClass(s,!1))};this.setRefreshFunction("headerClasses",e),e()}setDragSource(e){var t;this.dragSourceElement=e,this.removeDragSource(),!(!e||!this.draggable)&&(this.dragSource=((t=this.beans.colMoves)==null?void 0:t.setDragSourceForHeader(e,this.column,this.displayName))??null)}updateState(){const{menuSvc:e}=this.beans;this.menuEnabled=!!(e!=null&&e.isColumnMenuInHeaderEnabled(this.column)),this.openFilterEnabled=!!(e!=null&&e.isFilterMenuInHeaderEnabled(this.column)),this.sortable=this.column.isSortable(),this.displayName=this.calculateDisplayName(),this.draggable=this.workOutDraggable()}setRefreshFunction(e,t){this.refreshFunctions[e]=t}refresh(){this.updateState(),this.refreshHeaderComp(),this.refreshAria(),Object.values(this.refreshFunctions).forEach(e=>e())}refreshHeaderComp(){const e=this.lookupUserCompDetails();if(!e)return;(this.comp.getUserCompInstance()!=null&&this.userCompDetails.componentClass==e.componentClass?this.attemptHeaderCompRefresh(e.params):!1)?this.setDragSource(this.dragSourceElement):this.setCompDetails(e)}attemptHeaderCompRefresh(e){const t=this.comp.getUserCompInstance();return!t||!t.refresh?!1:t.refresh(e)}calculateDisplayName(){return this.beans.colNames.getDisplayNameForColumn(this.column,"header",!0)}checkDisplayName(){this.displayName!==this.calculateDisplayName()&&this.refresh()}workOutDraggable(){const e=this.column.getColDef();return!!(!this.gos.get("suppressMovableColumns")&&!e.suppressMovable&&!e.lockPosition)||!!e.enableRowGroup||!!e.enablePivot}setupWidth(e){const t=()=>{const i=this.column.getActualWidth();this.comp.setWidth(`${i}px`)};e.addManagedListeners(this.column,{widthChanged:t}),t()}setupMovingCss(e){const t=()=>{this.comp.addOrRemoveCssClass("ag-header-cell-moving",this.column.isMoving())};e.addManagedListeners(this.column,{movingChanged:t}),t()}setupMenuClass(e){const t=()=>{var i;(i=this.comp)==null||i.addOrRemoveCssClass("ag-column-menu-visible",this.column.isMenuVisible())};e.addManagedListeners(this.column,{menuVisibleChanged:t}),t()}setupSortableClass(e){const t=()=>{this.comp.addOrRemoveCssClass("ag-header-cell-sortable",!!this.sortable)};t(),this.setRefreshFunction("updateSortable",t),e.addManagedEventListeners({sortChanged:this.refreshAriaSort.bind(this)})}setupFilterClass(e){const t=()=>{const i=this.column.isFilterActive();this.comp.addOrRemoveCssClass("ag-header-cell-filtered",i),this.refreshAria()};e.addManagedListeners(this.column,{filterActiveChanged:t}),t()}setupWrapTextClass(){const e=()=>{const t=!!this.column.getColDef().wrapHeaderText;this.comp.addOrRemoveCssClass("ag-header-cell-wrap-text",t)};e(),this.setRefreshFunction("wrapText",e)}onHeaderHighlightChanged(){const e=this.column.getHighlighted(),t=e===0,i=e===1;this.comp.addOrRemoveCssClass("ag-header-highlight-before",t),this.comp.addOrRemoveCssClass("ag-header-highlight-after",i)}onDisplayedColumnsChanged(){super.onDisplayedColumnsChanged(),this.isAlive()&&this.onHeaderHeightChanged()}onHeaderHeightChanged(){this.refreshSpanHeaderHeight()}refreshSpanHeaderHeight(){const{eGui:e,column:t,comp:i,beans:n}=this,s=iL(this.beans),r=s.reduce((f,p)=>f+=p,0)===0;if(i.addOrRemoveCssClass("ag-header-parent-hidden",r),!t.isSpanHeaderHeight()){e.style.removeProperty("top"),e.style.removeProperty("height"),i.addOrRemoveCssClass("ag-header-span-height",!1),i.addOrRemoveCssClass("ag-header-span-total",!1);return}const{numberOfParents:o,isSpanningTotal:a}=this.column.getColumnGroupPaddingInfo();i.addOrRemoveCssClass("ag-header-span-height",o>0);const c=nL(n);if(o===0){i.addOrRemoveCssClass("ag-header-span-total",!1),e.style.setProperty("top","0px"),e.style.setProperty("height",`${c}px`);return}i.addOrRemoveCssClass("ag-header-span-total",a);let h=0;for(let f=0;f<o;f++)h+=s[s.length-1-f];e.style.setProperty("top",`${-h}px`),e.style.setProperty("height",`${c+h}px`)}refreshAriaSort(){var e;if(this.sortable){const t=this.getLocaleTextFunc(),i=((e=this.beans.sortSvc)==null?void 0:e.getDisplaySortForColumn(this.column))||null;this.comp.setAriaSort(a3(i)),this.setAriaDescriptionProperty("sort",t("ariaSortableColumn","Press ENTER to sort"))}else this.comp.setAriaSort(),this.setAriaDescriptionProperty("sort",null)}refreshAriaMenu(){if(this.menuEnabled){const e=this.getLocaleTextFunc();this.setAriaDescriptionProperty("menu",e("ariaMenuColumn","Press ALT DOWN to open column menu"))}else this.setAriaDescriptionProperty("menu",null)}refreshAriaFilterButton(){if(this.openFilterEnabled&&!Rb(this.gos)){const e=this.getLocaleTextFunc();this.setAriaDescriptionProperty("filterButton",e("ariaFilterColumn","Press CTRL ENTER to open filter"))}else this.setAriaDescriptionProperty("filterButton",null)}refreshAriaFiltered(){const e=this.getLocaleTextFunc();this.column.isFilterActive()?this.setAriaDescriptionProperty("filter",e("ariaColumnFiltered","Column Filtered")):this.setAriaDescriptionProperty("filter",null)}setAriaDescriptionProperty(e,t){t!=null?this.ariaDescriptionProperties.set(e,t):this.ariaDescriptionProperties.delete(e)}announceAriaDescription(){var t;if(!this.eGui.contains(Ss(this.beans)))return;const e=Array.from(this.ariaDescriptionProperties.keys()).sort((i,n)=>i==="filter"?-1:n.charCodeAt(0)-i.charCodeAt(0)).map(i=>this.ariaDescriptionProperties.get(i)).join(". ");(t=this.beans.ariaAnnounce)==null||t.announceValue(e,"columnHeader")}refreshAria(){this.refreshAriaSort(),this.refreshAriaMenu(),this.refreshAriaFilterButton(),this.refreshAriaFiltered()}addColumnHoverListener(e){var t;(t=this.beans.colHover)==null||t.addHeaderColumnHoverListener(e,this.comp,this.column)}addActiveHeaderMouseListeners(e){const t=s=>this.handleMouseOverChange(s.type==="mouseenter"),i=()=>{this.setActiveHeader(!0),this.dispatchColumnMouseEvent("columnHeaderClicked",this.column)},n=s=>this.handleContextMenuMouseEvent(s,void 0,this.column);e.addManagedListeners(this.eGui,{mouseenter:t,mouseleave:t,click:i,contextmenu:n})}handleMouseOverChange(e){this.setActiveHeader(e),this.eventSvc.dispatchEvent({type:e?"columnHeaderMouseOver":"columnHeaderMouseLeave",column:this.column})}setActiveHeader(e){this.comp.addOrRemoveCssClass("ag-header-active",e)}getAnchorElementForMenu(e){const t=this.comp.getUserCompInstance();return D1(t)?t.getAnchorElementForMenu(e):this.eGui}destroy(){this.tooltipFeature=this.destroyBean(this.tooltipFeature),super.destroy()}};function D1(e){return typeof e.getAnchorElementForMenu=="function"&&typeof e.onMenuKeyboardShortcut=="function"}var OY=0,mw=class extends Be{constructor(e,t,i){super(),this.rowIndex=e,this.pinned=t,this.type=i,this.instanceId=OY++,this.allCtrls=[];const n=i=="group"?"ag-header-row-column-group":i=="filter"?"ag-header-row-column-filter":"ag-header-row-column";this.headerRowClass=`ag-header-row ${n}`}postConstruct(){this.isPrintLayout=Hs(this.gos,"print"),this.isEnsureDomOrder=this.gos.get("ensureDomOrder")}areCellsRendered(){return this.comp?this.allCtrls.every(e=>e.eGui!=null):!1}setComp(e,t,i=!0){this.comp=e,t=PC(this,this.beans.context,t),i&&(this.onRowHeightChanged(),this.onVirtualColumnsChanged()),this.setWidth(),this.addEventListeners(t)}getAriaRowIndex(){return this.rowIndex+1}addEventListeners(e){const t=this.onRowHeightChanged.bind(this),i=this.onDisplayedColumnsChanged.bind(this);e.addManagedEventListeners({columnResized:this.setWidth.bind(this),displayedColumnsChanged:i,virtualColumnsChanged:n=>this.onVirtualColumnsChanged(n.afterScroll),columnGroupHeaderHeightChanged:t,columnHeaderHeightChanged:t,gridStylesChanged:t,advancedFilterEnabledChanged:t}),e.addManagedPropertyListener("domLayout",i),e.addManagedPropertyListener("ensureDomOrder",n=>this.isEnsureDomOrder=n.currentValue),e.addManagedPropertyListeners(["headerHeight","pivotHeaderHeight","groupHeaderHeight","pivotGroupHeaderHeight","floatingFiltersHeight"],t)}onDisplayedColumnsChanged(){this.isPrintLayout=Hs(this.gos,"print"),this.onVirtualColumnsChanged(),this.setWidth(),this.onRowHeightChanged()}setWidth(){const e=this.getWidthForRow();this.comp.setWidth(`${e}px`)}getWidthForRow(){const{visibleCols:e}=this.beans;return this.isPrintLayout?this.pinned!=null?0:e.getContainerWidth("right")+e.getContainerWidth("left")+e.getContainerWidth(null):e.getContainerWidth(this.pinned)}onRowHeightChanged(){const{topOffset:e,rowHeight:t}=this.getTopAndHeight();this.comp.setTop(e+"px"),this.comp.setHeight(t+"px")}getTopAndHeight(){const{filterManager:e}=this.beans,t=[],i=iL(this.beans),n=nL(this.beans);t.push(...i),t.push(n),e!=null&&e.hasFloatingFilters()&&t.push(fP(this.beans));let s=0;for(let o=0;o<this.rowIndex;o++)s+=t[o];const r=t[this.rowIndex];return{topOffset:s,rowHeight:r}}onVirtualColumnsChanged(e=!1){const t=this.getUpdatedHeaderCtrls(),i=this.isEnsureDomOrder||this.isPrintLayout;this.comp.setHeaderCtrls(t,i,e)}getUpdatedHeaderCtrls(){const e=this.ctrlsById;this.ctrlsById=new Map;const t=this.getColumnsInViewport();for(const n of t)this.recycleAndCreateHeaderCtrls(n,this.ctrlsById,e);const i=n=>{const{focusSvc:s,visibleCols:r}=this.beans;return s.isHeaderWrapperFocused(n)?r.isVisible(n.column):!1};if(e)for(const[n,s]of e)i(s)?this.ctrlsById.set(n,s):this.destroyBean(s);return this.allCtrls=Array.from(this.ctrlsById.values()),this.allCtrls}getHeaderCellCtrls(){return this.allCtrls}recycleAndCreateHeaderCtrls(e,t,i){if(e.isEmptyGroup())return;const n=e.getUniqueId();let s;if(i&&(s=i.get(n),i.delete(n)),s&&s.column!=e&&(this.destroyBean(s),s=void 0),s==null)switch(this.type){case"filter":{s=this.createBean(this.beans.registry.createDynamicBean("headerFilterCellCtrl",!0,e,this));break}case"group":s=this.createBean(this.beans.registry.createDynamicBean("headerGroupCellCtrl",!0,e,this));break;default:s=this.createBean(new NY(e,this));break}t.set(n,s)}getColumnsInViewport(){return this.isPrintLayout?this.getColumnsInViewportPrintLayout():this.getColumnsInViewportNormalLayout()}getColumnsInViewportPrintLayout(){if(this.pinned!=null)return[];let e=[];const t=this.getActualDepth(),{colViewport:i}=this.beans;return["left",null,"right"].forEach(n=>{const s=i.getHeadersToRender(n,t);e=e.concat(s)}),e}getActualDepth(){return this.type=="filter"?this.rowIndex-1:this.rowIndex}getColumnsInViewportNormalLayout(){return this.beans.colViewport.getHeadersToRender(this.pinned,this.getActualDepth())}focusHeader(e,t){const i=this.allCtrls.find(s=>s.column==e);return i?i.focus(t):!1}destroy(){this.allCtrls=this.destroyBeans(this.allCtrls),this.ctrlsById=void 0,super.destroy()}},PY=class extends Be{constructor(e){super(),this.pinned=e,this.hidden=!1,this.includeFloatingFilter=!1,this.groupsRowCtrls=[]}setComp(e,t){this.comp=e,this.eViewport=t;const{pinnedCols:i,ctrlsSvc:n,colModel:s,colMoves:r,filterManager:o}=this.beans;this.setupCenterWidth(),i==null||i.setupHeaderPinnedWidth(this),this.setupDragAndDrop(r,this.eViewport);const a=this.onDisplayedColumnsChanged.bind(this,o);this.addManagedEventListeners({gridColumnsChanged:this.onGridColumnsChanged.bind(this),displayedColumnsChanged:a,advancedFilterEnabledChanged:a});const c=`${typeof this.pinned=="string"?this.pinned:"center"}Header`;n.register(c,this),s.ready&&this.refresh()}getAllCtrls(){const e=[...this.groupsRowCtrls];return this.columnsRowCtrl&&e.push(this.columnsRowCtrl),this.filtersRowCtrl&&e.push(this.filtersRowCtrl),e}refresh(e=!1){const{focusSvc:t,colModel:i,filterManager:n}=this.beans;let s=0;const r=t.getFocusHeaderToUseAfterRefresh(),o=()=>{const f=AY(i)-1;this.groupsRowCtrls=this.destroyBeans(this.groupsRowCtrls);for(let p=0;p<f;p++){const m=this.createBean(new mw(s++,this.pinned,"group"));this.groupsRowCtrls.push(m)}},a=()=>{const f=s++,p=!this.hidden&&(this.columnsRowCtrl==null||!e||this.columnsRowCtrl.rowIndex!==f);(p||this.hidden)&&(this.columnsRowCtrl=this.destroyBean(this.columnsRowCtrl)),p&&(this.columnsRowCtrl=this.createBean(new mw(f,this.pinned,"column")))},c=()=>{this.includeFloatingFilter=!!(n!=null&&n.hasFloatingFilters())&&!this.hidden;const f=()=>{this.filtersRowCtrl=this.destroyBean(this.filtersRowCtrl)};if(!this.includeFloatingFilter){f();return}const p=s++;if(this.filtersRowCtrl){const m=this.filtersRowCtrl.rowIndex!==p;(!e||m)&&f()}this.filtersRowCtrl||(this.filtersRowCtrl=this.createBean(new mw(p,this.pinned,"filter")))};o(),a(),c();const h=this.getAllCtrls();this.comp.setCtrls(h),this.restoreFocusOnHeader(t,r)}getHeaderCtrlForColumn(e){const t=i=>i==null?void 0:i.getHeaderCellCtrls().find(n=>n.column===e);if(Nh(e))return t(this.columnsRowCtrl);if(this.groupsRowCtrls.length!==0)for(let i=0;i<this.groupsRowCtrls.length;i++){const n=t(this.groupsRowCtrls[i]);if(n)return n}}getHtmlElementForColumnHeader(e){var t;return((t=this.getHeaderCtrlForColumn(e))==null?void 0:t.eGui)??null}getRowType(e){var t;return(t=this.getAllCtrls()[e])==null?void 0:t.type}focusHeader(e,t,i){const s=this.getAllCtrls()[e];return s?s.focusHeader(t,i):!1}getGroupRowCount(){return this.groupsRowCtrls.length}getGroupRowCtrlAtIndex(e){return this.groupsRowCtrls[e]}getRowCount(){return this.groupsRowCtrls.length+(this.columnsRowCtrl?1:0)+(this.filtersRowCtrl?1:0)}setHorizontalScroll(e){this.comp.setViewportScrollLeft(e)}onScrollCallback(e){this.addManagedElementListeners(this.eViewport,{scroll:e})}destroy(){this.filtersRowCtrl=this.destroyBean(this.filtersRowCtrl),this.columnsRowCtrl=this.destroyBean(this.columnsRowCtrl),this.groupsRowCtrls=this.destroyBeans(this.groupsRowCtrls),super.destroy()}setupDragAndDrop(e,t){const i=e==null?void 0:e.createBodyDropTarget(this.pinned,t);i&&this.createManagedBean(i)}restoreFocusOnHeader(e,t){if(!t)return;const{column:i}=t;i.getPinned()==this.pinned&&e.focusHeaderPosition({headerPosition:t})}onGridColumnsChanged(){this.refresh(!0)}onDisplayedColumnsChanged(e){const t=!!(e!=null&&e.hasFloatingFilters())&&!this.hidden;this.includeFloatingFilter!==t&&this.refresh(!0)}setupCenterWidth(){this.pinned==null&&this.createManagedBean(new tL(e=>this.comp.setCenterWidth(`${e}px`),!0))}},vP=class extends Il{constructor(){super()}},FY={tag:"span",cls:"ag-overlay-loading-center",attrs:{"aria-live":"polite","aria-atomic":"true"}},BY=class extends vP{init(){var t;const e=Mh((t=this.gos.get("overlayLoadingTemplate"))==null?void 0:t.trim());if(this.setTemplate(e??FY),!e){const i=this.getLocaleTextFunc();setTimeout(()=>{this.getGui().textContent=i("loadingOoo","Loading...")})}}},zY={tag:"span",cls:"ag-overlay-no-rows-center"},GY=class extends vP{init(){var t;const e=Mh((t=this.gos.get("overlayNoRowsTemplate"))==null?void 0:t.trim());if(this.setTemplate(e??zY),!e){const i=this.getLocaleTextFunc();setTimeout(()=>{this.getGui().textContent=i("noRowsToShow","No Rows To Show")})}}};function HY(e,t,i){const n=GC(e,t,i);if(n){const{className:r}=n;if(typeof r=="string"&&r.indexOf("ag-icon")>-1||typeof r=="object"&&r["ag-icon"])return n}const s=Qc({tag:"span"});return s.appendChild(n),s}function GC(e,t,i){var r;let n=null;e==="smallDown"?Wt(262):e==="smallLeft"?Wt(263):e==="smallRight"&&Wt(264);const s=i&&i.getColDef().icons;if(s&&(n=s[e]),t.gos&&!n){const o=t.gos.get("icons");o&&(n=o[e])}if(n){let o;if(typeof n=="function")o=n();else if(typeof n=="string")o=n;else{Wt(38,{iconName:e});return}if(typeof o=="string")return KD(o);if(vO(o))return o;Wt(133,{iconName:e});return}else{const o=t.registry.getIcon(e);return o||(r=t.validation)==null||r.validateIcon(e),Qc({tag:"span",cls:`ag-icon ag-icon-${o??e}`,role:"presentation",attrs:{unselectable:"on"}})}}var jY=".ag-dnd-ghost{align-items:center;background-color:var(--ag-drag-and-drop-image-background-color);border:var(--ag-drag-and-drop-image-border);border-radius:var(--ag-border-radius);box-shadow:var(--ag-drag-and-drop-image-shadow);color:var(--ag-text-color);cursor:move;display:flex;font-weight:500;gap:var(--ag-cell-widget-spacing);height:var(--ag-header-height);overflow:hidden;padding-left:var(--ag-cell-horizontal-padding);padding-right:var(--ag-cell-horizontal-padding);text-overflow:ellipsis;transform:translateY(calc(var(--ag-spacing)*2));white-space:nowrap}",VY={tag:"div",children:[{tag:"div",ref:"eGhost",cls:"ag-dnd-ghost ag-unselectable",children:[{tag:"span",ref:"eIcon",cls:"ag-dnd-ghost-icon ag-shake-left-to-right"},{tag:"div",ref:"eLabel",cls:"ag-dnd-ghost-label"}]}]},WY=class extends Il{constructor(){super(),this.dragSource=null,this.eIcon=ii,this.eLabel=ii,this.eGhost=ii,this.registerCSS(jY)}postConstruct(){const e=t=>HY(t,this.beans,null);this.dropIconMap={pinned:e("columnMovePin"),hide:e("columnMoveHide"),move:e("columnMoveMove"),left:e("columnMoveLeft"),right:e("columnMoveRight"),group:e("columnMoveGroup"),aggregate:e("columnMoveValue"),pivot:e("columnMovePivot"),notAllowed:e("dropNotAllowed")}}init(e){this.dragSource=e.dragSource,this.setTemplate(VY),this.beans.environment.applyThemeClasses(this.eGhost)}destroy(){this.dragSource=null,super.destroy()}setIcon(e,t){const{eIcon:i,dragSource:n,dropIconMap:s,gos:r}=this;xm(i);let o=null;e||(e=n!=null&&n.getDefaultIconName?n.getDefaultIconName():"notAllowed"),o=s[e],i.classList.toggle("ag-shake-left-to-right",t),!(o===s.hide&&r.get("suppressDragLeaveHidesColumns"))&&o&&i.appendChild(o)}setLabel(e){this.eLabel.textContent=e}},UY=".ag-label{white-space:nowrap}:where(.ag-ltr) .ag-label{margin-right:var(--ag-spacing)}:where(.ag-rtl) .ag-label{margin-left:var(--ag-spacing)}:where(.ag-label-align-right) .ag-label{order:1}:where(.ag-ltr) :where(.ag-label-align-right) .ag-label{margin-left:var(--ag-spacing)}:where(.ag-rtl) :where(.ag-label-align-right) .ag-label{margin-right:var(--ag-spacing)}.ag-label-align-right>*{flex:none}.ag-label-align-top{align-items:flex-start;flex-direction:column;>*{align-self:stretch}}.ag-label-ellipsis{flex:1;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}:where(.ag-label-align-top) .ag-label{margin-bottom:calc(var(--ag-spacing)*.5)}",YY=class extends Il{constructor(e,t,i){super(t,i),this.labelSeparator="",this.labelAlignment="left",this.disabled=!1,this.label="",this.config=e||{},this.registerCSS(UY)}postConstruct(){this.addCssClass("ag-labeled"),this.eLabel.classList.add("ag-label");const{labelSeparator:e,label:t,labelWidth:i,labelAlignment:n,disabled:s}=this.config;s!=null&&this.setDisabled(s),e!=null&&this.setLabelSeparator(e),t!=null&&this.setLabel(t),i!=null&&this.setLabelWidth(i),this.setLabelAlignment(n||this.labelAlignment),this.refreshLabel()}refreshLabel(){const{label:e,eLabel:t}=this;xm(t),typeof e=="string"?t.innerText=e+this.labelSeparator:e&&t.appendChild(e),e===""?(Gn(t,!1),r1(t,"presentation")):(Gn(t,!0),r1(t,null))}setLabelSeparator(e){return this.labelSeparator===e?this:(this.labelSeparator=e,this.label!=null&&this.refreshLabel(),this)}getLabelId(){const e=this.eLabel;return e.id=e.id||`ag-${this.getCompId()}-label`,e.id}getLabel(){return this.label}setLabel(e){return this.label===e?this:(this.label=e,this.refreshLabel(),this)}setLabelAlignment(e){const i=this.getGui().classList;return i.toggle("ag-label-align-left",e==="left"),i.toggle("ag-label-align-right",e==="right"),i.toggle("ag-label-align-top",e==="top"),this}setLabelEllipsis(e){return this.eLabel.classList.toggle("ag-label-ellipsis",e),this}setLabelWidth(e){return this.label==null?this:(mO(this.eLabel,e),this)}setDisabled(e){e=!!e;const t=this.getGui();return fO(t,e),t.classList.toggle("ag-disabled",e),this.disabled=e,this}isDisabled(){return!!this.disabled}},KY=class extends YY{constructor(e,t,i,n){super(e,t,i),this.className=n}postConstruct(){super.postConstruct();const{width:e,value:t,onValueChange:i}=this.config;e!=null&&this.setWidth(e),t!=null&&this.setValue(t),i!=null&&this.onValueChange(i),this.className&&this.addCssClass(this.className),this.refreshAriaLabelledBy()}setLabel(e){return super.setLabel(e),this.refreshAriaLabelledBy(),this}refreshAriaLabelledBy(){const e=this.getAriaElement(),t=this.getLabelId(),i=this.getLabel();i==null||i==""||l3(e)!==null?o1(e,""):o1(e,t??"")}setAriaLabel(e){return sO(this.getAriaElement(),e),this.refreshAriaLabelledBy(),this}onValueChange(e){return this.addManagedListeners(this,{fieldValueChanged:()=>e(this.getValue())}),this}getWidth(){return this.getGui().clientWidth}setWidth(e){return qc(this.getGui(),e),this}getPreviousValue(){return this.previousValue}getValue(){return this.value}setValue(e,t){return this.value===e?this:(this.previousValue=this.value,this.value=e,t||this.dispatchLocalEvent({type:"fieldValueChanged"}),this)}};function $Y(e){return{tag:"div",role:"presentation",children:[{tag:"div",ref:"eLabel",cls:"ag-input-field-label"},{tag:"div",ref:"eWrapper",cls:"ag-wrapper ag-input-wrapper",role:"presentation",children:[{tag:e,ref:"eInput",cls:"ag-input-field-input"}]}]}}var ZY=class extends KY{constructor(e,t,i="text",n="input"){super(e,(e==null?void 0:e.template)??$Y(n),[],t),this.inputType=i,this.displayFieldTag=n,this.eLabel=ii,this.eWrapper=ii,this.eInput=ii}postConstruct(){super.postConstruct(),this.setInputType();const{eLabel:e,eWrapper:t,eInput:i,className:n}=this;e.classList.add(`${n}-label`),t.classList.add(`${n}-input-wrapper`),i.classList.add(`${n}-input`),this.addCssClass("ag-input-field"),i.id=i.id||`ag-${this.getCompId()}-input`;const{inputName:s,inputWidth:r}=this.config;s!=null&&this.setInputName(s),r!=null&&this.setInputWidth(r),this.addInputListeners(),this.activateTabIndex([i])}addInputListeners(){this.addManagedElementListeners(this.eInput,{input:e=>this.setValue(e.target.value)})}setInputType(){this.displayFieldTag==="input"&&this.eInput.setAttribute("type",this.inputType)}getInputElement(){return this.eInput}setInputWidth(e){return mO(this.eWrapper,e),this}setInputName(e){return this.getInputElement().setAttribute("name",e),this}getFocusableElement(){return this.eInput}setMaxLength(e){const t=this.eInput;return t.maxLength=e,this}setInputPlaceholder(e){return of(this.eInput,"placeholder",e),this}setInputAriaLabel(e){return sO(this.eInput,e),this.refreshAriaLabelledBy(),this}setDisabled(e){return fO(this.eInput,e),super.setDisabled(e)}setAutoComplete(e){if(e===!0)of(this.eInput,"autocomplete",null);else{const t=typeof e=="string"?e:"off";of(this.eInput,"autocomplete",t)}return this}},XY=class extends ZY{constructor(e,t="ag-checkbox",i="checkbox"){super(e,t,i),this.labelAlignment="right",this.selected=!1,this.readOnly=!1,this.passive=!1}postConstruct(){super.postConstruct();const{readOnly:e,passive:t}=this.config;typeof e=="boolean"&&this.setReadOnly(e),typeof t=="boolean"&&this.setPassive(t)}addInputListeners(){this.addManagedElementListeners(this.eInput,{click:this.onCheckboxClick.bind(this)}),this.addManagedElementListeners(this.eLabel,{click:this.toggle.bind(this)})}getNextValue(){return this.selected===void 0?!0:!this.selected}setPassive(e){this.passive=e}isReadOnly(){return this.readOnly}setReadOnly(e){this.eWrapper.classList.toggle("ag-disabled",e),this.eInput.disabled=e,this.readOnly=e}setDisabled(e){return this.eWrapper.classList.toggle("ag-disabled",e),super.setDisabled(e)}toggle(){if(this.eInput.disabled)return;const e=this.isSelected(),t=this.getNextValue();this.passive?this.dispatchChange(t,e):this.setValue(t)}getValue(){return this.isSelected()}setValue(e,t){return this.refreshSelectedClass(e),this.setSelected(e,t),this}setName(e){const t=this.getInputElement();return t.name=e,this}isSelected(){return this.selected}setSelected(e,t){if(this.isSelected()===e)return;this.previousValue=this.isSelected(),e=this.selected=typeof e=="boolean"?e:void 0;const i=this.eInput;i.checked=e,i.indeterminate=e===void 0,t||this.dispatchChange(this.selected,this.previousValue)}dispatchChange(e,t,i){this.dispatchLocalEvent({type:"fieldValueChanged",selected:e,previousValue:t,event:i});const n=this.getInputElement();this.eventSvc.dispatchEvent({type:"checkboxChanged",id:n.id,name:n.name,selected:e,previousValue:t})}onCheckboxClick(e){if(this.passive||this.eInput.disabled)return;const t=this.isSelected(),i=this.selected=e.target.checked;this.refreshSelectedClass(i),this.dispatchChange(i,t,e)}refreshSelectedClass(e){const t=this.eWrapper.classList;t.toggle("ag-checked",e===!0),t.toggle("ag-indeterminate",e==null)}},qY={selector:"AG-CHECKBOX",component:XY},QY=".ag-checkbox-cell{height:100%}",JY={tag:"div",cls:"ag-cell-wrapper ag-checkbox-cell",role:"presentation",children:[{tag:"ag-checkbox",ref:"eCheckbox",role:"presentation"}]},e6=class extends Il{constructor(){super(JY,[qY]),this.eCheckbox=ii,this.registerCSS(QY)}init(e){this.refresh(e);const{eCheckbox:t,beans:i}=this,n=t.getInputElement();n.setAttribute("tabindex","-1"),rO(n,"polite"),this.addManagedListeners(n,{click:s=>{if(Ib(s),t.isDisabled())return;const r=t.getValue();this.onCheckboxChanged(r)},dblclick:s=>{Ib(s)}}),this.addManagedElementListeners(e.eGridCell,{keydown:s=>{if(s.key===Pe.SPACE&&!t.isDisabled()){e.eGridCell===Ss(i)&&t.toggle();const r=t.getValue();this.onCheckboxChanged(r),s.preventDefault()}}})}refresh(e){return this.params=e,this.updateCheckbox(e),!0}updateCheckbox(e){let t,i=!0;const{value:n,column:s,node:r}=e;if(r.group&&s)if(typeof n=="boolean")t=n;else{const p=s.getColId();p.startsWith(OC)?t=n==null||n===""?void 0:n==="true":r.aggData&&r.aggData[p]!==void 0?t=n??void 0:i=!1}else t=n??void 0;const{eCheckbox:o}=this;if(!i){o.setDisplayed(!1);return}o.setValue(t);const a=e.disabled??!(s!=null&&s.isCellEditable(r));o.setDisabled(a);const c=this.getLocaleTextFunc(),h=v3(c,t),f=a?h:`${c("ariaToggleCellValue","Press SPACE to toggle cell value")} (${h})`;o.setInputAriaLabel(f)}onCheckboxChanged(e){const{eventSvc:t,params:i}=this,{column:n,node:s,value:r}=i,o={column:n,colDef:n.getColDef(),data:s.data,node:s,rowIndex:s.rowIndex,rowPinned:s.rowPinned,value:r};t.dispatchEvent({type:"cellEditingStarted",...o});const a=s.setDataValue(n,e,"edit");t.dispatchEvent({type:"cellEditingStopped",...o,oldValue:r,newValue:e,valueChanged:a}),a||this.updateCheckbox(i)}};function L1(e,t){return e.toString().padStart(t,"0")}function T1(e,t=!0,i="-"){if(!e)return null;let n=[e.getFullYear(),e.getMonth()+1,e.getDate()].map(s=>L1(s,2)).join(i);return t&&(n+=" "+[e.getHours(),e.getMinutes(),e.getSeconds()].map(s=>L1(s,2)).join(":")),n}function A1(e){if(!e)return null;const[t,i]=e.split(" ");if(!t)return null;const n=t.split("-").map(p=>parseInt(p,10));if(n.filter(p=>!isNaN(p)).length!==3)return null;const[s,r,o]=n,a=new Date(s,r-1,o);if(a.getFullYear()!==s||a.getMonth()!==r-1||a.getDate()!==o)return null;if(!i||i==="00:00:00")return a;const[c,h,f]=i.split(":").map(p=>parseInt(p,10));return c>=0&&c<24&&a.setHours(c),h>=0&&h<60&&a.setMinutes(h),f>=0&&f<60&&a.setSeconds(f),a}var yw={TAB_GUARD:"ag-tab-guard",TAB_GUARD_TOP:"ag-tab-guard-top",TAB_GUARD_BOTTOM:"ag-tab-guard-bottom"},t6=class extends Be{constructor(e){super(),this.skipTabGuardFocus=!1,this.forcingFocusOut=!1,this.allowFocus=!1;const{comp:t,eTopGuard:i,eBottomGuard:n,focusTrapActive:s,forceFocusOutWhenTabGuardsAreEmpty:r,isFocusableContainer:o,focusInnerElement:a,onFocusIn:c,onFocusOut:h,shouldStopEventPropagation:f,onTabKeyDown:p,handleKeyDown:m,isEmpty:b,eFocusableElement:C}=e;this.comp=t,this.eTopGuard=i,this.eBottomGuard=n,this.providedFocusInnerElement=a,this.eFocusableElement=C,this.focusTrapActive=!!s,this.forceFocusOutWhenTabGuardsAreEmpty=!!r,this.isFocusableContainer=!!o,this.providedFocusIn=c,this.providedFocusOut=h,this.providedShouldStopEventPropagation=f,this.providedOnTabKeyDown=p,this.providedHandleKeyDown=m,this.providedIsEmpty=b}postConstruct(){this.createManagedBean(new BC(this.eFocusableElement,{shouldStopEventPropagation:()=>this.shouldStopEventPropagation(),onTabKeyDown:e=>this.onTabKeyDown(e),handleKeyDown:e=>this.handleKeyDown(e),onFocusIn:e=>this.onFocusIn(e),onFocusOut:e=>this.onFocusOut(e)})),this.activateTabGuards(),[this.eTopGuard,this.eBottomGuard].forEach(e=>this.addManagedElementListeners(e,{focus:this.onFocus.bind(this)}))}handleKeyDown(e){this.providedHandleKeyDown&&this.providedHandleKeyDown(e)}tabGuardsAreActive(){return!!this.eTopGuard&&this.eTopGuard.hasAttribute("tabIndex")}shouldStopEventPropagation(){return this.providedShouldStopEventPropagation?this.providedShouldStopEventPropagation():!1}activateTabGuards(){if(this.forcingFocusOut)return;const e=this.gos.get("tabIndex");this.comp.setTabIndex(e.toString())}deactivateTabGuards(){this.comp.setTabIndex()}onFocus(e){if(this.isFocusableContainer&&!this.eFocusableElement.contains(e.relatedTarget)&&!this.allowFocus){this.findNextElementOutsideAndFocus(e.target===this.eBottomGuard);return}if(this.skipTabGuardFocus){this.skipTabGuardFocus=!1;return}if(this.forceFocusOutWhenTabGuardsAreEmpty&&(this.providedIsEmpty?this.providedIsEmpty():af(this.eFocusableElement,".ag-tab-guard").length===0)){this.findNextElementOutsideAndFocus(e.target===this.eBottomGuard);return}if(this.isFocusableContainer&&this.eFocusableElement.contains(e.relatedTarget))return;const t=e.target===this.eBottomGuard;!(this.providedFocusInnerElement?this.providedFocusInnerElement(t):this.focusInnerElement(t))&&this.forceFocusOutWhenTabGuardsAreEmpty&&this.findNextElementOutsideAndFocus(e.target===this.eBottomGuard)}findNextElementOutsideAndFocus(e){var c;const t=Ia(this.beans),i=af(t.body,null,!0),n=i.indexOf(e?this.eTopGuard:this.eBottomGuard);if(n===-1)return;let s,r;e?(s=0,r=n):(s=n+1,r=i.length);const o=i.slice(s,r),a=this.gos.get("tabIndex");o.sort((h,f)=>{const p=parseInt(h.getAttribute("tabindex")||"0"),m=parseInt(f.getAttribute("tabindex")||"0");return m===a?1:p===a?-1:p===0?1:m===0?-1:p-m}),(c=o[e?o.length-1:0])==null||c.focus()}onFocusIn(e){this.focusTrapActive||this.forcingFocusOut||(this.providedFocusIn&&this.providedFocusIn(e),this.isFocusableContainer||this.deactivateTabGuards())}onFocusOut(e){this.focusTrapActive||(this.providedFocusOut&&this.providedFocusOut(e),this.eFocusableElement.contains(e.relatedTarget)||this.activateTabGuards())}onTabKeyDown(e){if(this.providedOnTabKeyDown){this.providedOnTabKeyDown(e);return}if(this.focusTrapActive||e.defaultPrevented)return;const t=this.tabGuardsAreActive();t&&this.deactivateTabGuards();const i=this.getNextFocusableElement(e.shiftKey);t&&setTimeout(()=>this.activateTabGuards(),0),i&&(i.focus(),e.preventDefault())}focusInnerElement(e=!1){const t=af(this.eFocusableElement);return this.tabGuardsAreActive()&&(t.splice(0,1),t.splice(t.length-1,1)),t.length?(t[e?t.length-1:0].focus({preventScroll:!0}),!0):!1}getNextFocusableElement(e){return FC(this.beans,this.eFocusableElement,!1,e)}forceFocusOutOfContainer(e=!1){if(this.forcingFocusOut)return;const t=e?this.eTopGuard:this.eBottomGuard;this.activateTabGuards(),this.skipTabGuardFocus=!0,this.forcingFocusOut=!0,t.focus(),window.setTimeout(()=>{this.forcingFocusOut=!1,this.activateTabGuards()})}isTabGuard(e,t){return e===this.eTopGuard&&!t||e===this.eBottomGuard&&(t??!0)}setAllowFocus(e){this.allowFocus=e}},sp=class{constructor(e,t=!1){this.DOUBLE_TAP_MILLIS=500,this.destroyFuncs=[],this.touching=!1,this.localEventService=new Cm,this.preventMouseClick=t;const i=this.onTouchStart.bind(this),n=this.onTouchMove.bind(this),s=this.onTouchEnd.bind(this);e.addEventListener("touchstart",i,{passive:!0}),e.addEventListener("touchmove",n,{passive:!0}),e.addEventListener("touchend",s,{passive:!1}),this.destroyFuncs.push(()=>{e.removeEventListener("touchstart",i,{passive:!0}),e.removeEventListener("touchmove",n,{passive:!0}),e.removeEventListener("touchend",s,{passive:!1})})}getActiveTouch(e){for(let t=0;t<e.length;t++)if(e[t].identifier===this.touchStart.identifier)return e[t];return null}addEventListener(e,t){this.localEventService.addEventListener(e,t)}removeEventListener(e,t){this.localEventService.removeEventListener(e,t)}onTouchStart(e){if(this.touching)return;this.touchStart=e.touches[0],this.touching=!0,this.moved=!1;const t=this.touchStart;window.setTimeout(()=>{const i=this.touchStart===t;if(this.touching&&i&&!this.moved){this.moved=!0;const n={type:"longTap",touchStart:this.touchStart,touchEvent:e};this.localEventService.dispatchEvent(n)}},500)}onTouchMove(e){if(!this.touching)return;const t=this.getActiveTouch(e.touches);if(!t)return;!rP(t,this.touchStart,4)&&(this.moved=!0)}onTouchEnd(e){if(this.touching){if(!this.moved){const t={type:"tap",touchStart:this.touchStart};this.localEventService.dispatchEvent(t),this.checkForDoubleTap()}this.preventMouseClick&&e.cancelable&&e.preventDefault(),this.touching=!1}}checkForDoubleTap(){const e=Date.now();if(this.lastTapTime&&this.lastTapTime>0)if(e-this.lastTapTime>this.DOUBLE_TAP_MILLIS){const i={type:"doubleTap",touchStart:this.touchStart};this.localEventService.dispatchEvent(i),this.lastTapTime=null}else this.lastTapTime=e;else this.lastTapTime=e}destroy(){this.destroyFuncs.forEach(e=>e())}},bP=class{constructor(e="javascript"){this.frameworkName=e,this.renderingEngine="vanilla",this.batchFrameworkComps=!1,this.wrapIncoming=t=>t(),this.wrapOutgoing=t=>t(),this.baseDocLink=`${CO}/${this.frameworkName}-data-grid`,I3(this.baseDocLink)}setInterval(e,t){return new ro(i=>{i(window.setInterval(e,t))})}addEventListener(e,t,i,n){let s={};if(typeof n=="object"?s=n:typeof n=="boolean"&&(s={capture:n}),s.passive==null){const r=PO(t);r!=null&&(s.passive=r)}e.addEventListener(t,i,s)}frameworkComponent(e){return null}isFrameworkComponent(e){return!1}getDocLink(e){return`${this.baseDocLink}${e?`/${e}`:""}`}};function i6(e){return{beanName:"gridApi",bean:e.getBean("apiFunctionSvc").api}}var n6=["licenseManager","environment","eventSvc","gos","paginationAutoPageSizeSvc","apiFunctionSvc","gridApi","registry","agCompUtils","userCompFactory","rowContainerHeight","horizontalResizeSvc","localeSvc","pinnedRowModel","dragSvc","colGroupSvc","visibleCols","popupSvc","selectionSvc","colFilter","quickFilter","filterManager","colModel","headerNavigation","pageBounds","pagination","pageBoundsListener","rowSpanSvc","stickyRowSvc","rowRenderer","expressionSvc","alignedGridsSvc","navigation","valueCache","valueSvc","autoWidthCalc","filterMenuFactory","dragAndDrop","focusSvc","cellNavigation","cellStyles","scrollVisibleSvc","sortSvc","colHover","colAnimation","autoColSvc","selectionColSvc","changeDetectionSvc","animationFrameSvc","undoRedo","colDefFactory","rowStyleSvc","rowNodeBlockLoader","rowNodeSorter","ctrlsSvc","pinnedCols","dataTypeSvc","syncSvc","overlays","stateSvc","expansionSvc","apiEventSvc","ariaAnnounce","menuSvc","colMoves","colAutosize","colFlex","colResize","pivotColsSvc","valueColsSvc","rowGroupColsSvc","funcColsSvc","colNames","colViewport","pivotResultCols","showRowGroupCols","validation"],E1=Object.fromEntries(n6.map((e,t)=>[e,t]));function s6(e,t){const i=(e.beanName?E1[e.beanName]:void 0)??Number.MAX_SAFE_INTEGER,n=(t.beanName?E1[t.beanName]:void 0)??Number.MAX_SAFE_INTEGER;return i-n}function r6(e,t){return(e==null?void 0:e.beanName)==="gridDestroySvc"?-1:0}var o6=class extends Be{constructor(){super(...arguments),this.additionalFocusableContainers=new Set}setComp(e,t,i){this.view=e,this.eGridHostDiv=t,this.eGui=i,this.eGui.setAttribute("grid-id",this.beans.context.getGridId());const{dragAndDrop:n,ctrlsSvc:s}=this.beans;n==null||n.registerGridDropTarget(()=>this.eGui,this),iP(this.gos,t),this.createManagedBean(new eL(this.view)),this.view.setRtlClass(this.gos.get("enableRtl")?"ag-rtl":"ag-ltr");const r=Ef(this.beans,this.eGridHostDiv,this.onGridSizeChanged.bind(this));this.addDestroyFunc(()=>r()),s.register("gridCtrl",this)}isDetailGrid(){var t;const e=D5(this.getGui());return((t=e==null?void 0:e.getAttribute("row-id"))==null?void 0:t.startsWith("detail"))||!1}getOptionalSelectors(){var t,i,n,s;const e=this.beans;return{paginationSelector:(t=e.pagination)==null?void 0:t.getPaginationSelector(),gridHeaderDropZonesSelector:e.registry.getSelector("AG-GRID-HEADER-DROP-ZONES"),sideBarSelector:(i=e.sideBar)==null?void 0:i.getSelector(),statusBarSelector:(n=e.registry)==null?void 0:n.getSelector("AG-STATUS-BAR"),watermarkSelector:(s=e.licenseManager)==null?void 0:s.getWatermarkSelector()}}onGridSizeChanged(){this.eventSvc.dispatchEvent({type:"gridSizeChanged",clientWidth:this.eGridHostDiv.clientWidth,clientHeight:this.eGridHostDiv.clientHeight})}destroyGridUi(){this.view.destroyGridUi()}getGui(){return this.eGui}setResizeCursor(e){this.view.setCursor(e?"ew-resize":null)}disableUserSelect(e){this.view.setUserSelect(e?"none":null)}focusNextInnerContainer(e){const t=this.getFocusableContainers(),{indexWithFocus:i,nextIndex:n}=this.getNextFocusableIndex(t,e);if(n<0||n>=t.length)return!1;if(n===0){if(i>0){const{visibleCols:s,focusSvc:r}=this.beans,o=s.allCols,a=Li(o);if(r.focusGridView({column:a,backwards:!0}))return!0}return!1}return this.focusContainer(t[n],e)}focusInnerElement(e){const t=this.gos.getCallback("focusGridInnerElement");if(t&&t({fromBottom:!!e}))return!0;const i=this.getFocusableContainers(),{focusSvc:n,visibleCols:s}=this.beans,r=s.allCols;if(e){if(i.length>1)return this.focusContainer(Li(i),e);const o=Li(r);if(n.focusGridView({column:o,backwards:e}))return!0}if(this.gos.get("headerHeight")===0||Th(this.beans)){if(n.focusGridView({column:r[0],backwards:e}))return!0;for(let o=1;o<i.length;o++)if(Bb(i[o].getGui(),e))return!0;return!1}return n.focusFirstHeader()}forceFocusOutOfContainer(e=!1){this.view.forceFocusOutOfContainer(e)}addFocusableContainer(e){this.additionalFocusableContainers.add(e)}removeFocusableContainer(e){this.additionalFocusableContainers.delete(e)}allowFocusForNextCoreContainer(e){var r;const t=this.view.getFocusableContainers(),{nextIndex:i,indexWithFocus:n}=this.getNextFocusableIndex(t,e);if(n===-1||i<0||i>=t.length)return;const s=t[i];(r=s.setAllowFocus)==null||r.call(s,!0),setTimeout(()=>{var o;(o=s.setAllowFocus)==null||o.call(s,!1)})}isFocusable(){var t,i;const e=this.beans;return!JD(e)||!Th(e)||!!((i=(t=e.sideBar)==null?void 0:t.comp)!=null&&i.isDisplayed())}getNextFocusableIndex(e,t){const i=Ss(this.beans),n=e.findIndex(r=>r.getGui().contains(i)),s=n+(t?-1:1);return{indexWithFocus:n,nextIndex:s}}focusContainer(e,t){var n,s;(n=e.setAllowFocus)==null||n.call(e,!0);const i=Bb(e.getGui(),t,!1,!0);return(s=e.setAllowFocus)==null||s.call(e,!1),i}getFocusableContainers(){return[...this.view.getFocusableContainers(),...this.additionalFocusableContainers]}destroy(){this.additionalFocusableContainers.clear(),super.destroy()}},pt=(e,t)=>{for(const i of Object.keys(t))t[i]=e;return t},R1={dispatchEvent:"CommunityCore",...pt("CommunityCore",{destroy:0,getGridId:0,getGridOption:0,isDestroyed:0,setGridOption:0,updateGridOptions:0}),...pt("GridState",{getState:0}),...pt("SharedRowSelection",{setNodesSelected:0,selectAll:0,deselectAll:0,selectAllFiltered:0,deselectAllFiltered:0,selectAllOnCurrentPage:0,deselectAllOnCurrentPage:0,getSelectedNodes:0,getSelectedRows:0}),...pt("RowApi",{redrawRows:0,setRowNodeExpanded:0,getRowNode:0,addRenderedRowListener:0,getRenderedNodes:0,forEachNode:0,getFirstDisplayedRowIndex:0,getLastDisplayedRowIndex:0,getDisplayedRowAtIndex:0,getDisplayedRowCount:0}),...pt("ScrollApi",{getVerticalPixelRange:0,getHorizontalPixelRange:0,ensureColumnVisible:0,ensureIndexVisible:0,ensureNodeVisible:0}),...pt("KeyboardNavigation",{getFocusedCell:0,clearFocusedCell:0,setFocusedCell:0,tabToNextCell:0,tabToPreviousCell:0,setFocusedHeader:0}),...pt("EventApi",{addEventListener:0,addGlobalListener:0,removeEventListener:0,removeGlobalListener:0}),...pt("ValueCache",{expireValueCache:0}),...pt("CellApi",{getCellValue:0}),...pt("SharedMenu",{showColumnMenu:0,hidePopupMenu:0}),...pt("Sort",{onSortChanged:0}),...pt("PinnedRow",{getPinnedTopRowCount:0,getPinnedBottomRowCount:0,getPinnedTopRow:0,getPinnedBottomRow:0}),...pt("Overlay",{showLoadingOverlay:0,showNoRowsOverlay:0,hideOverlay:0}),...pt("RenderApi",{setGridAriaProperty:0,refreshCells:0,refreshHeader:0,isAnimationFrameQueueEmpty:0,flushAllAnimationFrames:0,getSizesForCurrentTheme:0,getCellRendererInstances:0}),...pt("HighlightChanges",{flashCells:0}),...pt("RowDrag",{addRowDropZone:0,removeRowDropZone:0,getRowDropZoneParams:0}),...pt("ColumnApi",{getColumnDefs:0,getColumnDef:0,getDisplayNameForColumn:0,getColumn:0,getColumns:0,applyColumnState:0,getColumnState:0,resetColumnState:0,isPinning:0,isPinningLeft:0,isPinningRight:0,getDisplayedColAfter:0,getDisplayedColBefore:0,setColumnsVisible:0,setColumnsPinned:0,getAllGridColumns:0,getDisplayedLeftColumns:0,getDisplayedCenterColumns:0,getDisplayedRightColumns:0,getAllDisplayedColumns:0,getAllDisplayedVirtualColumns:0}),...pt("ColumnAutoSize",{sizeColumnsToFit:0,autoSizeColumns:0,autoSizeAllColumns:0}),...pt("ColumnGroup",{setColumnGroupOpened:0,getColumnGroup:0,getProvidedColumnGroup:0,getDisplayNameForColumnGroup:0,getColumnGroupState:0,setColumnGroupState:0,resetColumnGroupState:0,getLeftDisplayedColumnGroups:0,getCenterDisplayedColumnGroups:0,getRightDisplayedColumnGroups:0,getAllDisplayedColumnGroups:0}),...pt("ColumnMove",{moveColumnByIndex:0,moveColumns:0}),...pt("ColumnResize",{setColumnWidths:0}),...pt("ColumnHover",{isColumnHovered:0}),...pt("EditCore",{getCellEditorInstances:0,getEditingCells:0,stopEditing:0,startEditingCell:0}),...pt("UndoRedoEdit",{undoCellEditing:0,redoCellEditing:0,getCurrentUndoSize:0,getCurrentRedoSize:0}),...pt("FilterCore",{isAnyFilterPresent:0,onFilterChanged:0}),...pt("ColumnFilter",{isColumnFilterPresent:0,getColumnFilterInstance:0,destroyFilter:0,setFilterModel:0,getFilterModel:0,getColumnFilterModel:0,setColumnFilterModel:0,showColumnFilter:0}),...pt("QuickFilter",{isQuickFilterPresent:0,getQuickFilter:0,resetQuickFilter:0}),...pt("Find",{findGetActiveMatch:0,findGetTotalMatches:0,findGoTo:0,findNext:0,findPrevious:0,findGetNumMatches:0,findGetParts:0,findClearActive:0,findRefresh:0}),...pt("Pagination",{paginationIsLastPageFound:0,paginationGetPageSize:0,paginationGetCurrentPage:0,paginationGetTotalPages:0,paginationGetRowCount:0,paginationGoToNextPage:0,paginationGoToPreviousPage:0,paginationGoToFirstPage:0,paginationGoToLastPage:0,paginationGoToPage:0}),...pt("CsrmSsrmSharedApi",{expandAll:0,collapseAll:0,onRowHeightChanged:0}),...pt("SsrmInfiniteSharedApi",{setRowCount:0,getCacheBlockState:0,isLastRowIndexKnown:0}),...pt("ClientSideRowModelApi",{onGroupExpandedOrCollapsed:0,refreshClientSideRowModel:0,isRowDataEmpty:0,forEachLeafNode:0,forEachNodeAfterFilter:0,forEachNodeAfterFilterAndSort:0,resetRowHeights:0,applyTransaction:0,applyTransactionAsync:0,flushAsyncTransactions:0,getBestCostNodeSelection:0}),...pt("CsvExport",{getDataAsCsv:0,exportDataAsCsv:0}),...pt("InfiniteRowModel",{refreshInfiniteCache:0,purgeInfiniteCache:0,getInfiniteRowCount:0}),...pt("AdvancedFilter",{getAdvancedFilterModel:0,setAdvancedFilterModel:0,showAdvancedFilterBuilder:0,hideAdvancedFilterBuilder:0}),...pt("IntegratedCharts",{getChartModels:0,getChartRef:0,getChartImageDataURL:0,downloadChart:0,openChartToolPanel:0,closeChartToolPanel:0,createRangeChart:0,createPivotChart:0,createCrossFilterChart:0,updateChart:0,restoreChart:0}),...pt("Clipboard",{copyToClipboard:0,cutToClipboard:0,copySelectedRowsToClipboard:0,copySelectedRangeToClipboard:0,copySelectedRangeDown:0,pasteFromClipboard:0}),...pt("ExcelExport",{getDataAsExcel:0,exportDataAsExcel:0,getSheetDataForExcel:0,getMultipleSheetsAsExcel:0,exportMultipleSheetsAsExcel:0}),...pt("SharedMasterDetail",{addDetailGridInfo:0,removeDetailGridInfo:0,getDetailGridInfo:0,forEachDetailGridInfo:0}),...pt("ContextMenu",{showContextMenu:0}),...pt("ColumnMenu",{showColumnChooser:0,hideColumnChooser:0}),...pt("CellSelection",{getCellRanges:0,addCellRange:0,clearRangeSelection:0,clearCellSelection:0}),...pt("SharedRowGrouping",{setRowGroupColumns:0,removeRowGroupColumns:0,addRowGroupColumns:0,getRowGroupColumns:0,moveRowGroupColumn:0}),...pt("SharedAggregation",{addAggFuncs:0,clearAggFuncs:0,setColumnAggFunc:0}),...pt("SharedPivot",{isPivotMode:0,getPivotResultColumn:0,setValueColumns:0,getValueColumns:0,removeValueColumns:0,addValueColumns:0,setPivotColumns:0,removePivotColumns:0,addPivotColumns:0,getPivotColumns:0,setPivotResultColumns:0,getPivotResultColumns:0}),...pt("ServerSideRowModelApi",{getServerSideSelectionState:0,setServerSideSelectionState:0,applyServerSideTransaction:0,applyServerSideTransactionAsync:0,applyServerSideRowData:0,retryServerSideLoads:0,flushServerSideAsyncTransactions:0,refreshServerSide:0,getServerSideGroupLevelState:0}),...pt("SideBar",{isSideBarVisible:0,setSideBarVisible:0,setSideBarPosition:0,openToolPanel:0,closeToolPanel:0,getOpenedToolPanel:0,refreshToolPanel:0,isToolPanelShowing:0,getToolPanelInstance:0,getSideBar:0}),...pt("StatusBar",{getStatusPanel:0})},vw={isDestroyed:()=>!0,destroy(){},preConstruct(){},postConstruct(){},preWireBeans(){},wireBeans(){}},a6=(e,t)=>e.eventSvc.dispatchEvent(t),CP=class{};Reflect.defineProperty(CP,"name",{value:"GridApi"});var l6=class extends Be{constructor(){super(),this.beanName="apiFunctionSvc",this.api=new CP,this.fns={...vw,dispatchEvent:a6},this.preDestroyLink="";const{api:e}=this;for(const t of Object.keys(R1))e[t]=this.makeApi(t)[t]}postConstruct(){this.preDestroyLink=this.beans.frameworkOverrides.getDocLink("grid-lifecycle/#grid-pre-destroyed")}addFunction(e,t){var s;const{fns:i,beans:n}=this;i!==vw&&(i[e]=((s=n==null?void 0:n.validation)==null?void 0:s.validateApiFunction(e,t))??t)}makeApi(e){return{[e]:(...t)=>{const{beans:i,fns:{[e]:n}}=this;return n?n(i,...t):this.apiNotFound(e)}}}apiNotFound(e){const{beans:t,gos:i,preDestroyLink:n}=this;if(!t)Wt(26,{fnName:e,preDestroyLink:n});else{const s=R1[e];i.assertModuleRegistered(s,`api.${e}`)&&Wt(27,{fnName:e,module:s})}}destroy(){super.destroy(),this.fns=vw,this.beans=null}};function c6(e){return e.context.getGridId()}function u6(e){e.gridDestroySvc.destroy()}function h6(e){return e.gridDestroySvc.destroyCalled}function d6(e,t){return e.gos.get(t)}function f6(e,t,i){xP(e,{[t]:i})}function xP(e,t){e.gos.updateGridOptions({options:t})}var g6=class extends Be{constructor(){super(...arguments),this.beanName="horizontalResizeSvc"}addResizeBar(e){const t={dragStartPixels:e.dragStartPixels||0,eElement:e.eResizeBar,onDragStart:this.onDragStart.bind(this,e),onDragStop:this.onDragStop.bind(this,e),onDragging:this.onDragging.bind(this,e),onDragCancel:this.onDragStop.bind(this,e),includeTouch:!0,stopPropagationForTouch:!0},{dragSvc:i}=this.beans;return i.addDragSource(t),()=>i.removeDragSource(t)}onDragStart(e,t){this.dragStartX=t.clientX,this.setResizeIcons();const i=t instanceof MouseEvent&&t.shiftKey===!0;e.onResizeStart(i)}setResizeIcons(){const e=this.beans.ctrlsSvc.get("gridCtrl");e.setResizeCursor(!0),e.disableUserSelect(!0)}onDragStop(e){e.onResizeEnd(this.resizeAmount),this.resetIcons()}resetIcons(){const e=this.beans.ctrlsSvc.get("gridCtrl");e.setResizeCursor(!1),e.disableUserSelect(!1)}onDragging(e,t){this.resizeAmount=t.clientX-this.dragStartX,e.onResizing(this.resizeAmount)}},SP={moduleName:"Drag",version:ji,beans:[K5]},p6={moduleName:"SharedDragAndDrop",version:ji,beans:[H5],dependsOn:[SP],userComponents:{agDragAndDropImage:WY},icons:{columnMovePin:"pin",columnMoveHide:"eye-slash",columnMoveMove:"arrows",columnMoveLeft:"left",columnMoveRight:"right",columnMoveGroup:"group",columnMoveValue:"aggregation",columnMovePivot:"pivot",dropNotAllowed:"not-allowed",rowDrag:"grip"}},m6={moduleName:"HorizontalResize",version:ji,beans:[g6],dependsOn:[SP]},y6=":where(.ag-ltr) :where(.ag-column-moving){.ag-cell,.ag-header-cell,.ag-spanned-cell-wrapper{transition:left .2s}.ag-header-group-cell{transition:left .2s,width .2s}}:where(.ag-rtl) :where(.ag-column-moving){.ag-cell,.ag-header-cell,.ag-spanned-cell-wrapper{transition:right .2s}.ag-header-group-cell{transition:right .2s,width .2s}}",v6=class extends Be{constructor(){super(...arguments),this.beanName="colAnimation",this.executeNextFuncs=[],this.executeLaterFuncs=[],this.active=!1,this.activeNext=!1,this.suppressAnimation=!1,this.animationThreadCount=0}postConstruct(){this.beans.ctrlsSvc.whenReady(this,e=>this.gridBodyCtrl=e.gridBodyCtrl)}isActive(){return this.active&&!this.suppressAnimation}setSuppressAnimation(e){this.suppressAnimation=e}start(){if(this.active)return;const{gos:e}=this;e.get("suppressColumnMoveAnimation")||e.get("enableRtl")||(this.ensureAnimationCssClassPresent(),this.active=!0,this.activeNext=!0)}finish(){this.active&&this.flush(()=>this.activeNext=!1,()=>this.active=!1)}executeNextVMTurn(e){this.activeNext?this.executeNextFuncs.push(e):e()}executeLaterVMTurn(e){this.active?this.executeLaterFuncs.push(e):e()}ensureAnimationCssClassPresent(){this.animationThreadCount++;const e=this.animationThreadCount,{gridBodyCtrl:t}=this;t.setColumnMovingCss(!0),this.executeLaterFuncs.push(()=>{this.animationThreadCount===e&&t.setColumnMovingCss(!1)})}flush(e,t){const{executeNextFuncs:i,executeLaterFuncs:n}=this;if(i.length===0&&n.length===0){e(),t();return}const s=r=>{for(;r.length;){const o=r.pop();o&&o()}};this.beans.frameworkOverrides.wrapIncoming(()=>{window.setTimeout(()=>{e(),s(i)},0),window.setTimeout(()=>{t(),s(n)},200)})}};function b6(e,t,i){var n;(n=e.colMoves)==null||n.moveColumnByIndex(t,i,"api")}function C6(e,t,i){var n;(n=e.colMoves)==null||n.moveColumns(t,i,"api")}var x6=class extends Be{constructor(e){super(),this.pinned=e,this.columnsToAggregate=[],this.columnsToGroup=[],this.columnsToPivot=[]}onDragEnter(e){if(this.clearColumnsList(),this.gos.get("functionsReadOnly"))return;const t=e.dragItem.columns;t&&t.forEach(i=>{i.isPrimary()&&(i.isAnyFunctionActive()||(i.isAllowValue()?this.columnsToAggregate.push(i):i.isAllowRowGroup()?this.columnsToGroup.push(i):i.isAllowPivot()&&this.columnsToPivot.push(i)))})}getIconName(){return this.columnsToAggregate.length+this.columnsToGroup.length+this.columnsToPivot.length>0?this.pinned?"pinned":"move":null}onDragLeave(e){this.clearColumnsList()}clearColumnsList(){this.columnsToAggregate.length=0,this.columnsToGroup.length=0,this.columnsToPivot.length=0}onDragging(e){}onDragStop(e){const{valueColsSvc:t,rowGroupColsSvc:i,pivotColsSvc:n}=this.beans;this.columnsToAggregate.length>0&&(t==null||t.addColumns(this.columnsToAggregate,"toolPanelDragAndDrop")),this.columnsToGroup.length>0&&(i==null||i.addColumns(this.columnsToGroup,"toolPanelDragAndDrop")),this.columnsToPivot.length>0&&(n==null||n.addColumns(this.columnsToPivot,"toolPanelDragAndDrop"))}onDragCancel(){this.clearColumnsList()}};function S6(e,t){!t||t.length<=1||t.filter(n=>e.indexOf(n)<0).length>0||t.sort((n,s)=>{const r=e.indexOf(n),o=e.indexOf(s);return r-o})}function wP(e){const{isFromHeader:t,fromLeft:i,xPosition:n,fromEnter:s,fakeEvent:r,pinned:o,gos:a,colModel:c,colMoves:h,visibleCols:f}=e;let{allMovingColumns:p}=e;if(t){const F=[];p.forEach(N=>{var j;let z=null,V=N.getParent();for(;V!=null&&V.getDisplayedLeafColumns().length===1;)z=V,V=V.getParent();z!=null?(!!((j=z.getColGroupDef())!=null&&j.marryChildren)?z.getProvidedColumnGroup().getLeafColumns():z.getLeafColumns()).forEach(Q=>{F.includes(Q)||F.push(Q)}):F.includes(N)||F.push(N)}),p=F}const m=p.slice();S6(c.getCols(),m);const b=L6({movingCols:m,draggingRight:i,xPosition:n,pinned:o,gos:a,colModel:c,visibleCols:f}),C=w6(m,c);if(b.length===0)return;const w=b[0];let D=C!==null&&!s;if(t&&(D=C!==null),D&&!r&&(!i&&w>=C||i&&w<=C))return;const M=f.allCols,A=[];let k=null;for(let F=0;F<b.length;F++){const N=b[F],z=h.getProposedColumnOrder(m,N);if(!h.doesOrderPassRules(z))continue;const V=z.filter(U=>M.includes(U));if(k===null)k=V;else if(!NC(V,k))break;const j=M6(z);A.push({move:N,fragCount:j})}if(A.length===0)return;A.sort((F,N)=>F.fragCount-N.fragCount);const _=A[0].move;if(!(_>c.getCols().length-p.length))return{columns:p,toIndex:_}}function MP(e){const{columns:t,toIndex:i}=wP(e)||{},{finished:n,colMoves:s}=e;return!t||i==null?null:(s.moveColumns(t,i,"uiColumnMoved",n),n?null:{columns:t,toIndex:i})}function w6(e,t){const i=t.getCols(),n=e.map(c=>i.indexOf(c)).sort((c,h)=>c-h),s=n[0];return Li(n)-s!==n.length-1?null:s}function M6(e){function t(n){const s=[];let r=n.getOriginalParent();for(;r!=null;)s.push(r),r=r.getOriginalParent();return s}let i=0;for(let n=0;n<e.length-1;n++){let s=t(e[n]),r=t(e[n+1]);[s,r]=s.length>r.length?[s,r]:[r,s],s.forEach(o=>{r.indexOf(o)===-1&&i++})}return i}function D6(e,t){switch(t){case"left":return e.leftCols;case"right":return e.rightCols;default:return e.centerCols}}function L6(e){const{movingCols:t,draggingRight:i,xPosition:n,pinned:s,gos:r,colModel:o,visibleCols:a}=e;if(r.get("suppressMovableColumns")||t.some(k=>k.getColDef().suppressMovable))return[];const h=D6(a,s),f=o.getCols(),p=h.filter(k=>t.includes(k)),m=h.filter(k=>!t.includes(k)),b=f.filter(k=>!t.includes(k));let C=0,w=n;if(i){let k=0;p.forEach(_=>k+=_.getActualWidth()),w-=k}if(w>0){for(let k=0;k<m.length;k++){const _=m[k];if(w-=_.getActualWidth(),w<0)break;C++}i&&C++}let D;if(C>0){const k=m[C-1];D=b.indexOf(k)+1}else D=b.indexOf(m[0]),D===-1&&(D=0);const M=[D],A=(k,_)=>k-_;if(i){let k=D+1;const _=f.length-1;for(;k<=_;)M.push(k),k++;M.sort(A)}else{let k=D;const _=f.length-1;let F=f[k];for(;k<=_&&h.indexOf(F)<0;)k++,M.push(k),F=f[k];k=D-1;const N=0;for(;k>=N;)M.push(k),k--;M.sort(A).reverse()}return M}function EM(e){var h;const{pinned:t,fromKeyboard:i,gos:n,ctrlsSvc:s,useHeaderRow:r,skipScrollPadding:o}=e;let a=(h=s.getHeaderRowContainerCtrl(t))==null?void 0:h.eViewport,{x:c}=e;return a?(i&&(c-=a.getBoundingClientRect().left),n.get("enableRtl")&&(r&&(a=a.querySelector(".ag-header-row")),c=a.clientWidth-c),t==null&&!o&&(c+=s.get("center").getCenterViewportScrollLeft()),c):0}function bw(e,t){for(const i of e)i.moving=t,i.dispatchColEvent("movingChanged","uiColumnMoved")}var I1=7,RM=100,Ov=RM/2,T6=5,A6=100,E6=class extends Be{constructor(e){super(),this.pinned=e,this.needToMoveLeft=!1,this.needToMoveRight=!1,this.lastMovedInfo=null,this.isCenterContainer=!At(e)}postConstruct(){this.beans.ctrlsSvc.whenReady(this,e=>{this.gridBodyCon=e.gridBodyCtrl})}getIconName(){const{pinned:e,lastDraggingEvent:t}=this,i=(t==null?void 0:t.dragItem.columns)??[];for(const n of i){const s=n.getPinned();if(n.getColDef().lockPinned){if(s==e)return"move";continue}if(s===e||!e)return"move";if(!s&&e)return"pinned"}return"notAllowed"}onDragEnter(e){const t=e.dragItem,i=t.columns;if(e.dragSource.type===0)this.setColumnsVisible(i,!0,"uiColumnDragged");else{const s=t.visibleState,r=(i||[]).filter(o=>s[o.getId()]);this.setColumnsVisible(r,!0,"uiColumnDragged")}this.gos.get("suppressMoveWhenColumnDragging")||this.attemptToPinColumns(i,this.pinned),this.onDragging(e,!0,!0)}onDragging(e=this.lastDraggingEvent,t=!1,i=!1,n=!1){const{gos:s,ctrlsSvc:r}=this.beans,o=s.get("suppressMoveWhenColumnDragging");if(n&&!o){this.finishColumnMoving();return}if(this.lastDraggingEvent=e,!e||!n&&Vn(e.hDirection))return;const a=EM({x:e.x,pinned:this.pinned,gos:s,ctrlsSvc:r});t||this.checkCenterForScrolling(a),o?this.handleColumnDragWhileSuppressingMovement(e,t,i,a,n):this.handleColumnDragWhileAllowingMovement(e,t,i,a,n)}onDragLeave(){this.ensureIntervalCleared(),this.clearHighlighted(),this.lastMovedInfo=null}onDragStop(){this.onDragging(this.lastDraggingEvent,!1,!0,!0),this.ensureIntervalCleared(),this.lastMovedInfo=null}onDragCancel(){this.clearHighlighted(),this.ensureIntervalCleared(),this.lastMovedInfo=null}setColumnsVisible(e,t,i){if(!e)return;const n=e.filter(s=>!s.getColDef().lockVisible);this.beans.colModel.setColsVisible(n,t,i)}finishColumnMoving(){this.clearHighlighted();const e=this.lastMovedInfo;if(!e)return;const{columns:t,toIndex:i}=e;this.beans.colMoves.moveColumns(t,i,"uiColumnMoved",!0)}handleColumnDragWhileSuppressingMovement(e,t,i,n,s){const r=this.getAllMovingColumns(e,!0);if(s){const o=this.isAttemptingToPin(r);o&&this.attemptToPinColumns(r,void 0,!0);const{fromLeft:a,xPosition:c}=this.getNormalisedXPositionInfo(r,o)||{};if(a==null||c==null){this.finishColumnMoving();return}this.moveColumnsAfterHighlight({allMovingColumns:r,xPosition:c,fromEnter:t,fakeEvent:i,fromLeft:a})}else{if(!this.beans.dragAndDrop.isDropZoneWithinThisGrid(e))return;this.highlightHoveredColumn(r,n)}}handleColumnDragWhileAllowingMovement(e,t,i,n,s){const r=this.getAllMovingColumns(e),o=this.normaliseDirection(e.hDirection)==="right",a=e.dragSource.type===1,c=this.getMoveColumnParams({allMovingColumns:r,isFromHeader:a,xPosition:n,fromLeft:o,fromEnter:t,fakeEvent:i}),h=MP({...c,finished:s});h&&(this.lastMovedInfo=h)}getAllMovingColumns(e,t=!1){const i=e.dragSource.getDragItem();let n=null;t?(n=i.columnsInSplit,n||(n=i.columns)):n=i.columns;const s=r=>r.getColDef().lockPinned?r.getPinned()==this.pinned:!0;return n?n.filter(s):[]}getMoveColumnParams(e){const{allMovingColumns:t,isFromHeader:i,xPosition:n,fromLeft:s,fromEnter:r,fakeEvent:o}=e,{gos:a,colModel:c,colMoves:h,visibleCols:f}=this.beans;return{allMovingColumns:t,isFromHeader:i,fromLeft:s,xPosition:n,pinned:this.pinned,fromEnter:r,fakeEvent:o,gos:a,colModel:c,colMoves:h,visibleCols:f}}highlightHoveredColumn(e,t){var f;const{gos:i,colModel:n}=this.beans,s=i.get("enableRtl"),r=n.getCols().filter(p=>p.isVisible()&&p.getPinned()===this.pinned);let o=null,a=null,c=null;for(const p of r){if(a=p.getActualWidth(),o=this.getNormalisedColumnLeft(p,0,s),o!=null){const m=o+a;if(o<=t&&m>=t){c=p;break}}o=null,a=null}if(c)e.indexOf(c)!==-1&&(c=null);else{for(let p=r.length-1;p>=0;p--){const m=r[p],b=r[p].getParent();if(!b){c=m;break}const C=b==null?void 0:b.getDisplayedLeafColumns();if(C.length){c=Li(C);break}}if(!c)return;o=this.getNormalisedColumnLeft(c,0,s),a=c.getActualWidth()}if(((f=this.lastHighlightedColumn)==null?void 0:f.column)!==c&&this.clearHighlighted(),c==null||o==null||a==null)return;let h;t-o<a/2!==s?h=0:h=1,k1(c,h),this.lastHighlightedColumn={column:c,position:h}}getNormalisedXPositionInfo(e,t){const{gos:i,visibleCols:n}=this.beans,s=i.get("enableRtl"),{firstMovingCol:r,column:o,position:a}=this.getColumnMoveAndTargetInfo(e,t,s);if(!r||!o||a==null)return;const c=n.allCols,h=c.indexOf(r),f=c.indexOf(o),p=a===0!==s,m=h<f||h===f&&!p;let b=0;if(p?m&&(b-=1):m||(b+=1),f+b===h)return;const C=c[f+b];if(!C)return;const w=this.getNormalisedColumnLeft(C,20,s);return{fromLeft:m,xPosition:w}}getColumnMoveAndTargetInfo(e,t,i){const n=this.lastHighlightedColumn||{},{firstMovingCol:s,lastMovingCol:r}=R6(e);if(!s||!r||n.column||!t)return{firstMovingCol:s,...n};const a=this.getPinDirection()==="left";return{firstMovingCol:s,position:a?1:0,column:a!==i?s:r}}normaliseDirection(e){if(this.gos.get("enableRtl"))switch(e){case"left":return"right";case"right":return"left"}return e}getNormalisedColumnLeft(e,t,i){const{gos:n,ctrlsSvc:s}=this.beans,r=e.getLeft();if(r==null)return null;const o=e.getActualWidth();return EM({x:i?r+o-t:r+t,pinned:e.getPinned(),useHeaderRow:i,skipScrollPadding:!0,gos:n,ctrlsSvc:s})}isAttemptingToPin(e){const t=this.needToMoveLeft||this.needToMoveRight,i=this.failedMoveAttempts>I1;return t&&i||e.some(n=>n.getPinned()!==this.pinned)}moveColumnsAfterHighlight(e){const{allMovingColumns:t,xPosition:i,fromEnter:n,fakeEvent:s,fromLeft:r}=e,o=this.getMoveColumnParams({allMovingColumns:t,isFromHeader:!0,xPosition:i,fromLeft:r,fromEnter:n,fakeEvent:s}),{columns:a,toIndex:c}=wP(o)||{};a&&c!=null&&(this.lastMovedInfo={columns:a,toIndex:c}),this.finishColumnMoving()}clearHighlighted(){const{lastHighlightedColumn:e}=this;e&&(k1(e.column,null),this.lastHighlightedColumn=null)}checkCenterForScrolling(e){if(!this.isCenterContainer)return;const t=this.beans.ctrlsSvc.get("center"),i=t.getCenterViewportScrollLeft(),n=i+t.getCenterWidth();let s,r;this.gos.get("enableRtl")?(s=e<i+Ov,r=e>n-Ov):(r=e<i+Ov,s=e>n-Ov),this.needToMoveRight=s,this.needToMoveLeft=r,r||s?this.ensureIntervalStarted():this.ensureIntervalCleared()}ensureIntervalStarted(){var e;this.movingIntervalId||(this.intervalCount=0,this.failedMoveAttempts=0,this.movingIntervalId=window.setInterval(this.moveInterval.bind(this),A6),(e=this.beans.dragAndDrop.getDragAndDropImageComponent())==null||e.setIcon(this.needToMoveLeft?"left":"right",!0))}ensureIntervalCleared(){var e;this.movingIntervalId&&(window.clearInterval(this.movingIntervalId),this.movingIntervalId=null,this.failedMoveAttempts=0,(e=this.beans.dragAndDrop.getDragAndDropImageComponent())==null||e.setIcon(this.getIconName(),!1))}moveInterval(){var n,s;let e;this.intervalCount++,e=10+this.intervalCount*T6,e>RM&&(e=RM);let t=null;const i=this.gridBodyCon.scrollFeature;if(this.needToMoveLeft?t=i.scrollHorizontally(-e):this.needToMoveRight&&(t=i.scrollHorizontally(e)),t!==0)this.onDragging(this.lastDraggingEvent),this.failedMoveAttempts=0;else{this.failedMoveAttempts++;const{pinnedCols:r,dragAndDrop:o,gos:a}=this.beans;if(this.failedMoveAttempts<=I1+1||!r)return;if((n=o.getDragAndDropImageComponent())==null||n.setIcon("pinned",!1),!a.get("suppressMoveWhenColumnDragging")){const c=(s=this.lastDraggingEvent)==null?void 0:s.dragItem.columns;this.attemptToPinColumns(c,void 0,!0)}}}getPinDirection(){if(this.needToMoveLeft||this.pinned==="left")return"left";if(this.needToMoveRight||this.pinned==="right")return"right"}attemptToPinColumns(e,t,i=!1){const n=(e||[]).filter(o=>!o.getColDef().lockPinned);if(!n.length)return 0;i&&(t=this.getPinDirection());const{pinnedCols:s,dragAndDrop:r}=this.beans;return s==null||s.setColsPinned(n,t,"uiColumnDragged"),i&&r.nudge(),n.length}destroy(){super.destroy(),this.lastDraggingEvent=null,this.clearHighlighted(),this.lastMovedInfo=null}};function k1(e,t){e.highlighted!==t&&(e.highlighted=t,e.dispatchColEvent("headerHighlightChanged","uiColumnMoved"))}function R6(e){const t=e.length;let i,n;for(let s=0;s<t;s++){if(!i){const r=e[s];r.getLeft()!=null&&(i=r)}if(!n){const r=e[t-1-s];r.getLeft()!=null&&(n=r)}if(i&&n)break}return{firstMovingCol:i,lastMovingCol:n}}var I6=class extends Be{constructor(e,t){super(),this.pinned=e,this.eContainer=t}postConstruct(){const{ctrlsSvc:e,dragAndDrop:t}=this.beans,i=this.pinned;e.whenReady(this,n=>{let s;const r=n.gridBodyCtrl.eBodyViewport;switch(i){case"left":s=[[r,n.left.eContainer],[n.bottomLeft.eContainer],[n.topLeft.eContainer]];break;case"right":s=[[r,n.right.eContainer],[n.bottomRight.eContainer],[n.topRight.eContainer]];break;default:s=[[r,n.center.eViewport],[n.bottomCenter.eViewport],[n.topCenter.eViewport]];break}this.eSecondaryContainers=s}),this.moveColumnFeature=this.createManagedBean(new E6(i)),this.bodyDropPivotTarget=this.createManagedBean(new x6(i)),t.addDropTarget(this),this.addDestroyFunc(()=>t.removeDropTarget(this))}isInterestedIn(e){return e===1||e===0&&this.gos.get("allowDragFromColumnsToolPanel")}getSecondaryContainers(){return this.eSecondaryContainers}getContainer(){return this.eContainer}getIconName(){return this.currentDropListener.getIconName()}isDropColumnInPivotMode(e){return this.beans.colModel.isPivotMode()&&e.dragSource.type===0}onDragEnter(e){this.currentDropListener=this.isDropColumnInPivotMode(e)?this.bodyDropPivotTarget:this.moveColumnFeature,this.currentDropListener.onDragEnter(e)}onDragLeave(e){this.currentDropListener.onDragLeave(e)}onDragging(e){this.currentDropListener.onDragging(e)}onDragStop(e){this.currentDropListener.onDragStop(e)}onDragCancel(){this.currentDropListener.onDragCancel()}},k6=class extends Be{constructor(){super(...arguments),this.beanName="colMoves"}moveColumnByIndex(e,t,i){const n=this.beans.colModel.getCols();if(!n)return;const s=n[e];this.moveColumns([s],t,i)}moveColumns(e,t,i,n=!0){const{colModel:s,colAnimation:r,visibleCols:o,eventSvc:a}=this.beans,c=s.getCols();if(!c)return;if(t>c.length-e.length){Wt(30,{toIndex:t});return}r==null||r.start();const h=s.getColsForKeys(e);this.doesMovePassRules(h,t)&&(g1(s.getCols(),h,t),o.refresh(i),a.dispatchEvent({type:"columnMoved",columns:h,column:h.length===1?h[0]:null,toIndex:t,finished:n,source:i})),r==null||r.finish()}doesMovePassRules(e,t){const i=this.getProposedColumnOrder(e,t);return this.doesOrderPassRules(i)}doesOrderPassRules(e){const{colModel:t,gos:i}=this.beans;return!(!VO(e,t.getColTree())||!(s=>{const r=h=>h?h==="left"||h===!0?-1:1:0,o=i.get("enableRtl");let a=o?1:-1,c=!0;return s.forEach(h=>{const f=r(h.getColDef().lockPosition);o?f>a&&(c=!1):f<a&&(c=!1),a=f}),c})(e))}getProposedColumnOrder(e,t){const n=this.beans.colModel.getCols().slice();return g1(n,e,t),n}createBodyDropTarget(e,t){return new I6(e,t)}moveHeader(e,t,i,n,s){const{ctrlsSvc:r,gos:o,colModel:a,visibleCols:c,focusSvc:h}=this.beans,f=t.getBoundingClientRect(),p=f.left,m=on(i),b=m?f.width:i.getActualWidth(),C=e==="left"!==o.get("enableRtl"),w=EM({x:C?p-20:p+b+20,pinned:n,fromKeyboard:!0,gos:o,ctrlsSvc:r}),D=h.focusedHeader;MP({allMovingColumns:m?i.getLeafColumns():[i],isFromHeader:!0,fromLeft:e==="right",xPosition:w,pinned:n,fromEnter:!1,fakeEvent:!1,gos:o,colModel:a,colMoves:this,visibleCols:c,finished:!0});let M;if(m){const A=i.getDisplayedLeafColumns();M=C?A[0]:Li(A)}else M=i;if(r.getScrollFeature().ensureColumnVisible(M,"auto"),(!s.isAlive()||o.get("ensureDomOrder"))&&D){let A;if(m){const k=i.getGroupId(),_=i.getLeafColumns();if(!_.length)return;const F=_[0].getParent();if(!F)return;A=_6(F,k)}else A=i;A&&h.focusHeaderPosition({headerPosition:{...D,column:A}})}}setDragSourceForHeader(e,t,i){const{gos:n,colModel:s,dragAndDrop:r,visibleCols:o}=this.beans;let a=!n.get("suppressDragLeaveHidesColumns");const c=on(t),h=c?t.getProvidedColumnGroup().getLeafColumns():[t],p={type:1,eElement:e,getDefaultIconName:()=>a?"hide":"notAllowed",getDragItem:c?()=>O6(t,o.allCols):()=>N6(t),dragItemName:i,onDragStarted:()=>{a=!n.get("suppressDragLeaveHidesColumns"),bw(h,!0)},onDragStopped:()=>bw(h,!1),onDragCancelled:()=>bw(h,!1),onGridEnter:m=>{if(a){const{columns:b=[],visibleState:C}=m??{},w=c?M=>!C||C[M.getColId()]:()=>!0,D=b.filter(M=>!M.getColDef().lockVisible&&w(M));s.setColsVisible(D,!0,"uiColumnMoved")}},onGridExit:m=>{var b;if(a){const C=((b=m==null?void 0:m.columns)==null?void 0:b.filter(w=>!w.getColDef().lockVisible))||[];s.setColsVisible(C,!1,"uiColumnMoved")}}};return r.addDragSource(p,!0),p}};function _6(e,t){for(;e;){if(e.getGroupId()===t)return e;e=e.getParent()}}function N6(e){const t={};return t[e.getId()]=e.isVisible(),{columns:[e],visibleState:t}}function O6(e,t){const i=e.getProvidedColumnGroup().getLeafColumns(),n={};i.forEach(a=>n[a.getId()]=a.isVisible());const s=[];t.forEach(a=>{i.indexOf(a)>=0&&(s.push(a),ru(i,a))}),i.forEach(a=>s.push(a));const r=[],o=e.getLeafColumns();for(const a of s)o.indexOf(a)!==-1&&r.push(a);return{columns:s,columnsInSplit:r,visibleState:n}}var P6={moduleName:"ColumnMove",version:ji,beans:[k6,v6],apiFunctions:{moveColumnByIndex:b6,moveColumns:C6},dependsOn:[p6],css:[y6]},F6=class extends Be{constructor(){super(...arguments),this.beanName="autoWidthCalc"}postConstruct(){this.beans.ctrlsSvc.whenReady(this,e=>{this.centerRowContainerCtrl=e.center})}getPreferredWidthForColumn(e,t){const i=this.getHeaderCellForColumn(e);if(!i)return-1;const n=this.beans.rowRenderer.getAllCellsNotSpanningForColumn(e);return t||n.push(i),this.getPreferredWidthForElements(n)}getPreferredWidthForColumnGroup(e){const t=this.getHeaderCellForColumn(e);return t?this.getPreferredWidthForElements([t]):-1}getPreferredWidthForElements(e,t){const i=document.createElement("form");i.style.position="fixed";const n=this.centerRowContainerCtrl.eContainer;e.forEach(r=>this.cloneItemIntoDummy(r,i)),n.appendChild(i);const s=i.offsetWidth;return n.removeChild(i),t=t??this.gos.get("autoSizePadding"),s+t}getHeaderCellForColumn(e){let t=null;return this.beans.ctrlsSvc.getHeaderRowContainerCtrls().forEach(i=>{const n=i.getHtmlElementForColumnHeader(e);n!=null&&(t=n)}),t}cloneItemIntoDummy(e,t){const i=e.cloneNode(!0);i.style.width="",i.style.position="static",i.style.left="";const n=document.createElement("div"),s=n.classList;["ag-header-cell","ag-header-group-cell"].some(a=>i.classList.contains(a))?(s.add("ag-header","ag-header-row"),n.style.position="static"):s.add("ag-row");let o=e.parentElement;for(;o;){if(["ag-header-row","ag-row"].some(c=>o.classList.contains(c))){for(let c=0;c<o.classList.length;c++){const h=o.classList[c];h!="ag-row-position-absolute"&&s.add(h)}break}o=o.parentElement}n.appendChild(i),t.appendChild(n)}},B6={moduleName:"AutoWidth",version:ji,beans:[F6]};function z6(e,t,i=!0,n="api"){var s;(s=e.colResize)==null||s.setColumnWidths(t,!1,i,n)}var G6=class extends Be{constructor(e,t,i,n){super(),this.comp=e,this.eResize=t,this.pinned=i,this.columnGroup=n}postConstruct(){if(!this.columnGroup.isResizable()){this.comp.setResizableDisplayed(!1);return}const{horizontalResizeSvc:e,gos:t,colAutosize:i}=this.beans,n=e.addResizeBar({eResizeBar:this.eResize,onResizeStart:this.onResizeStart.bind(this),onResizing:this.onResizing.bind(this,!1),onResizeEnd:this.onResizing.bind(this,!0)});this.addDestroyFunc(n),!t.get("suppressAutoSize")&&i&&this.addDestroyFunc(i.addColumnGroupResize(this.eResize,this.columnGroup,()=>this.resizeLeafColumnsToFit("uiColumnResized")))}onResizeStart(e){const{columnsToResize:t,resizeStartWidth:i,resizeRatios:n,groupAfterColumns:s,groupAfterStartWidth:r,groupAfterRatios:o}=this.getInitialValues(e);this.resizeCols=t,this.resizeStartWidth=i,this.resizeRatios=n,this.resizeTakeFromCols=s,this.resizeTakeFromStartWidth=r,this.resizeTakeFromRatios=o,this.toggleColumnResizing(!0)}onResizing(e,t,i="uiColumnResized"){const n=this.normaliseDragChange(t),s=this.resizeStartWidth+n;this.resizeColumnsFromLocalValues(s,i,e)}getInitialValues(e){var c;const t=h=>h.reduce((f,p)=>f+p.getActualWidth(),0),i=(h,f)=>h.map(p=>p.getActualWidth()/f),n=this.getColumnsToResize(),s=t(n),r=i(n,s),o={columnsToResize:n,resizeStartWidth:s,resizeRatios:r};let a=null;if(e&&(a=((c=this.beans.colGroupSvc)==null?void 0:c.getGroupAtDirection(this.columnGroup,"After"))??null),a){const h=a.getDisplayedLeafColumns(),f=o.groupAfterColumns=h.filter(m=>m.isResizable()),p=o.groupAfterStartWidth=t(f);o.groupAfterRatios=i(f,p)}else o.groupAfterColumns=void 0,o.groupAfterStartWidth=void 0,o.groupAfterRatios=void 0;return o}resizeLeafColumnsToFit(e){const t=this.beans.autoWidthCalc.getPreferredWidthForColumnGroup(this.columnGroup),i=this.getInitialValues();t>i.resizeStartWidth&&this.resizeColumns(i,t,e,!0)}resizeColumnsFromLocalValues(e,t,i=!0){if(!this.resizeCols||!this.resizeRatios)return;const n={columnsToResize:this.resizeCols,resizeStartWidth:this.resizeStartWidth,resizeRatios:this.resizeRatios,groupAfterColumns:this.resizeTakeFromCols,groupAfterStartWidth:this.resizeTakeFromStartWidth,groupAfterRatios:this.resizeTakeFromRatios};this.resizeColumns(n,e,t,i)}resizeColumns(e,t,i,n=!0){var p;const{columnsToResize:s,resizeStartWidth:r,resizeRatios:o,groupAfterColumns:a,groupAfterStartWidth:c,groupAfterRatios:h}=e,f=[];if(f.push({columns:s,ratios:o,width:t}),a){const m=t-r;f.push({columns:a,ratios:h,width:c-m})}(p=this.beans.colResize)==null||p.resizeColumnSets({resizeSets:f,finished:n,source:i}),n&&this.toggleColumnResizing(!1)}toggleColumnResizing(e){this.comp.addOrRemoveCssClass("ag-column-resizing",e)}getColumnsToResize(){return this.columnGroup.getDisplayedLeafColumns().filter(t=>t.isResizable())}normaliseDragChange(e){let t=e;return this.gos.get("enableRtl")?this.pinned!=="left"&&(t*=-1):this.pinned==="right"&&(t*=-1),t}destroy(){super.destroy(),this.resizeCols=void 0,this.resizeRatios=void 0,this.resizeTakeFromCols=void 0,this.resizeTakeFromRatios=void 0}},H6=class extends Be{constructor(e,t,i,n,s){super(),this.pinned=e,this.column=t,this.eResize=i,this.comp=n,this.ctrl=s}postConstruct(){const e=[];let t,i;const n=()=>{if(Gn(this.eResize,t),!t)return;const{horizontalResizeSvc:o,colAutosize:a}=this.beans,c=o.addResizeBar({eResizeBar:this.eResize,onResizeStart:this.onResizeStart.bind(this),onResizing:this.onResizing.bind(this,!1),onResizeEnd:this.onResizing.bind(this,!0)});e.push(c),i&&a&&e.push(a.addColumnAutosize(this.eResize,this.column))},s=()=>{e.forEach(o=>o()),e.length=0},r=()=>{const o=this.column.isResizable(),a=!this.gos.get("suppressAutoSize")&&!this.column.getColDef().suppressAutoSize;(o!==t||a!==i)&&(t=o,i=a,s(),n())};r(),this.addDestroyFunc(s),this.ctrl.setRefreshFunction("resize",r)}onResizing(e,t){const{column:i,lastResizeAmount:n,resizeStartWidth:s,beans:r}=this,o=this.normaliseResizeAmount(t),a=s+o,c=[{key:i,newWidth:a}],{pinnedCols:h,ctrlsSvc:f,colResize:p}=r;if(this.column.getPinned()){const m=(h==null?void 0:h.leftWidth)??0,b=(h==null?void 0:h.rightWidth)??0,C=Lb(f.getGridBodyCtrl().eBodyViewport)-50;if(m+b+(o-n)>C)return}this.lastResizeAmount=o,p==null||p.setColumnWidths(c,this.resizeWithShiftKey,e,"uiColumnResized"),e&&this.toggleColumnResizing(!1)}onResizeStart(e){this.resizeStartWidth=this.column.getActualWidth(),this.lastResizeAmount=0,this.resizeWithShiftKey=e,this.toggleColumnResizing(!0)}toggleColumnResizing(e){this.comp.addOrRemoveCssClass("ag-column-resizing",e)}normaliseResizeAmount(e){let t=e;const i=this.pinned!=="left",n=this.pinned==="right";return this.gos.get("enableRtl")?i&&(t*=-1):n&&(t*=-1),t}},j6=class extends Be{constructor(){super(...arguments),this.beanName="colResize"}setColumnWidths(e,t,i,n){const s=[],{colModel:r,gos:o,visibleCols:a}=this.beans;e.forEach(c=>{const h=r.getColDefCol(c.key)||r.getCol(c.key);if(!h)return;if(s.push({width:c.newWidth,ratios:[1],columns:[h]}),o.get("colResizeDefault")==="shift"&&(t=!t),t){const p=a.getColAfter(h);if(!p)return;const m=h.getActualWidth()-c.newWidth,b=p.getActualWidth()+m;s.push({width:b,ratios:[1],columns:[p]})}}),s.length!==0&&this.resizeColumnSets({resizeSets:s,finished:i,source:n})}resizeColumnSets(e){const{resizeSets:t,finished:i,source:n}=e;if(!(!t||t.every(f=>V6(f)))){if(i){const f=t&&t.length>0?t[0].columns:null;Nb(this.eventSvc,f,i,n)}return}const r=[],o=[];t.forEach(f=>{const{width:p,columns:m,ratios:b}=f,C={},w={};m.forEach(A=>o.push(A));let D=!0,M=0;for(;D;){if(M++,M>1e3){Mr(31);break}D=!1;const A=[];let k=0,_=p;m.forEach((N,z)=>{if(w[N.getId()])_-=C[N.getId()];else{A.push(N);const j=b[z];k+=j}});const F=1/k;A.forEach((N,z)=>{const V=z===A.length-1;let j;V?j=_:(j=Math.round(b[z]*p*F),_-=j);const U=N.getMinWidth(),$=N.getMaxWidth();j<U?(j=U,w[N.getId()]=!0,D=!0):$>0&&j>$&&(j=$,w[N.getId()]=!0,D=!0),C[N.getId()]=j})}m.forEach(A=>{const k=C[A.getId()];A.getActualWidth()!==k&&(A.setActualWidth(k,n),r.push(A))})});const a=r.length>0;let c=[];if(a){const{colFlex:f,visibleCols:p,colViewport:m}=this.beans;c=(f==null?void 0:f.refreshFlexedColumns({resizingCols:o,skipSetLeft:!0}))??[],p.setLeftValues(n),p.updateBodyWidths(),m.checkViewportColumns()}const h=o.concat(c);(a||i)&&Nb(this.eventSvc,h,i,n,c)}resizeHeader(e,t,i){if(!e.isResizable())return;const n=e.getActualWidth(),s=e.getMinWidth(),r=e.getMaxWidth(),o=Math.min(Math.max(n+t,s),r);this.setColumnWidths([{key:e,newWidth:o}],i,!0,"uiColumnResized")}createResizeFeature(e,t,i,n,s){return new H6(e,t,i,n,s)}createGroupResizeFeature(e,t,i,n){return new G6(e,t,i,n)}};function V6(e){const{columns:t,width:i}=e;let n=0,s=0,r=!0;t.forEach(c=>{const h=c.getMinWidth();n+=h||0;const f=c.getMaxWidth();f>0?s+=f:r=!1});const o=i>=n,a=!r||i<=s;return o&&a}var W6={moduleName:"ColumnResize",version:ji,beans:[j6],apiFunctions:{setColumnWidths:z6},dependsOn:[m6,B6]},U6=class extends Be{constructor(e,t){super(),this.removeChildListenersFuncs=[],this.columnGroup=t,this.comp=e}postConstruct(){this.addListenersToChildrenColumns(),this.addManagedListeners(this.columnGroup,{displayedChildrenChanged:this.onDisplayedChildrenChanged.bind(this)}),this.onWidthChanged(),this.addDestroyFunc(this.removeListenersOnChildrenColumns.bind(this))}addListenersToChildrenColumns(){this.removeListenersOnChildrenColumns();const e=this.onWidthChanged.bind(this);this.columnGroup.getLeafColumns().forEach(t=>{t.__addEventListener("widthChanged",e),t.__addEventListener("visibleChanged",e),this.removeChildListenersFuncs.push(()=>{t.__removeEventListener("widthChanged",e),t.__removeEventListener("visibleChanged",e)})})}removeListenersOnChildrenColumns(){this.removeChildListenersFuncs.forEach(e=>e()),this.removeChildListenersFuncs=[]}onDisplayedChildrenChanged(){this.addListenersToChildrenColumns(),this.onWidthChanged()}onWidthChanged(){const e=this.columnGroup.getActualWidth();this.comp.setWidth(`${e}px`),this.comp.addOrRemoveCssClass("ag-hidden",e===0)}},Y6=class extends yP{constructor(){super(...arguments),this.onSuppressColMoveChange=()=>{!this.isAlive()||this.isSuppressMoving()?this.removeDragSource():this.dragSource||this.setDragSource(this.eGui)}}setComp(e,t,i,n,s){const{column:r,beans:o}=this,{context:a,colNames:c,colHover:h,rangeSvc:f,colResize:p}=o;this.comp=e,s=PC(this,a,s),this.setGui(t,s),this.displayName=c.getDisplayNameForColumnGroup(r,"header"),this.refreshHeaderStyles(),this.addClasses(),this.setupMovingCss(s),this.setupExpandable(s),this.setupTooltip(),this.setupAutoHeight({wrapperElement:n,compBean:s}),this.setupUserComp(),this.addHeaderMouseListeners(s),this.addManagedPropertyListener("groupHeaderHeight",this.refreshMaxHeaderHeight.bind(this)),this.refreshMaxHeaderHeight();const m=this.rowCtrl.pinned,b=r.getProvidedColumnGroup().getLeafColumns();h==null||h.createHoverFeature(s,b,t),f==null||f.createRangeHighlightFeature(s,r,e),s.createManagedBean(new pP(r,t,o)),s.createManagedBean(new U6(e,r)),p?this.resizeFeature=s.createManagedBean(p.createGroupResizeFeature(e,i,m,r)):e.setResizableDisplayed(!1),s.createManagedBean(new BC(t,{shouldStopEventPropagation:this.shouldStopEventPropagation.bind(this),onTabKeyDown:()=>{},handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this)})),this.addHighlightListeners(s,b),s.addManagedPropertyListener("suppressMovableColumns",this.onSuppressColMoveChange),this.addResizeAndMoveKeyboardListeners(s),s.addDestroyFunc(()=>this.clearComponent())}getHeaderClassParams(){const{column:e,beans:t}=this,i=e.getDefinition();return wi(t.gos,{colDef:i,columnGroup:e,floatingFilter:!1})}refreshMaxHeaderHeight(){const{gos:e,comp:t}=this,i=e.get("groupHeaderHeight");i!=null?i===0?t.setHeaderWrapperHidden(!0):t.setHeaderWrapperMaxHeight(i):(t.setHeaderWrapperHidden(!1),t.setHeaderWrapperMaxHeight(null))}addHighlightListeners(e,t){if(this.beans.gos.get("suppressMoveWhenColumnDragging"))for(const i of t)e.addManagedListeners(i,{headerHighlightChanged:this.onLeafColumnHighlightChanged.bind(this,i)})}onLeafColumnHighlightChanged(e){const t=this.column.getDisplayedLeafColumns(),i=t[0]===e,n=Li(t)===e;if(!i&&!n)return;const s=e.getHighlighted(),r=!!this.rowCtrl.getHeaderCellCtrls().find(c=>c.column.isMoving());let o=!1,a=!1;if(r){const c=this.beans.gos.get("enableRtl"),h=s===1,f=s===0;i&&(c?a=h:o=f),n&&(c?o=f:a=h)}this.comp.addOrRemoveCssClass("ag-header-highlight-before",o),this.comp.addOrRemoveCssClass("ag-header-highlight-after",a)}resizeHeader(e,t){const{resizeFeature:i}=this;if(!i)return;const n=i.getInitialValues(t);i.resizeColumns(n,n.resizeStartWidth+e,"uiColumnResized",!0)}resizeLeafColumnsToFit(e){var t;(t=this.resizeFeature)==null||t.resizeLeafColumnsToFit(e)}setupUserComp(){const{colGroupSvc:e,userCompFactory:t,gos:i}=this.beans,n=wi(i,{displayName:this.displayName,columnGroup:this.column,setExpanded:r=>{e.setColumnGroupOpened(this.column.getProvidedColumnGroup(),r,"gridInitializing")},setTooltip:(r,o)=>{i.assertModuleRegistered("Tooltip",3),this.setupTooltip(r,o)}}),s=QU(t,n);s&&this.comp.setUserCompDetails(s)}addHeaderMouseListeners(e){const t=s=>this.handleMouseOverChange(s.type==="mouseenter"),i=()=>this.dispatchColumnMouseEvent("columnHeaderClicked",this.column.getProvidedColumnGroup()),n=s=>this.handleContextMenuMouseEvent(s,void 0,this.column.getProvidedColumnGroup());e.addManagedListeners(this.eGui,{mouseenter:t,mouseleave:t,click:i,contextmenu:n})}handleMouseOverChange(e){this.eventSvc.dispatchEvent({type:e?"columnHeaderMouseOver":"columnHeaderMouseLeave",column:this.column.getProvidedColumnGroup()})}setupTooltip(e,t){var i;this.tooltipFeature=(i=this.beans.tooltipSvc)==null?void 0:i.setupHeaderGroupTooltip(this.tooltipFeature,this,e,t)}setupExpandable(e){const t=this.column.getProvidedColumnGroup();this.refreshExpanded();const i=this.refreshExpanded.bind(this);e.addManagedListeners(t,{expandedChanged:i,expandableChanged:i})}refreshExpanded(){const{column:e}=this;this.expandable=e.isExpandable();const t=e.isExpanded();this.expandable?this.comp.setAriaExpanded(t?"true":"false"):this.comp.setAriaExpanded(void 0),this.refreshHeaderStyles()}addClasses(){const{column:e}=this,t=e.getColGroupDef(),i=QO(t,this.gos,null,e);e.isPadding()?(i.push("ag-header-group-cell-no-group"),e.getLeafColumns().every(s=>s.isSpanHeaderHeight())&&i.push("ag-header-span-height")):(i.push("ag-header-group-cell-with-group"),t!=null&&t.wrapHeaderText&&i.push("ag-header-cell-wrap-text")),i.forEach(n=>this.comp.addOrRemoveCssClass(n,!0))}setupMovingCss(e){const{column:t}=this,n=t.getProvidedColumnGroup().getLeafColumns(),s=()=>this.comp.addOrRemoveCssClass("ag-header-cell-moving",t.isMoving());n.forEach(r=>{e.addManagedListeners(r,{movingChanged:s})}),s()}onFocusIn(e){this.eGui.contains(e.relatedTarget)||this.focusThis()}handleKeyDown(e){super.handleKeyDown(e);const t=this.getWrapperHasFocus();if(!(!this.expandable||!t)&&e.key===Pe.ENTER){const i=this.column,n=!i.isExpanded();this.beans.colGroupSvc.setColumnGroupOpened(i.getProvidedColumnGroup(),n,"uiColumnExpanded")}}setDragSource(e){var t;!this.isAlive()||this.isSuppressMoving()||(this.removeDragSource(),e&&(this.dragSource=((t=this.beans.colMoves)==null?void 0:t.setDragSourceForHeader(e,this.column,this.displayName))??null))}isSuppressMoving(){return this.gos.get("suppressMovableColumns")||this.column.getLeafColumns().some(e=>e.getColDef().suppressMovable||e.getColDef().lockPosition)}destroy(){this.tooltipFeature=this.destroyBean(this.tooltipFeature),super.destroy()}};function K6(e,t,i){var n;(n=e.colGroupSvc)==null||n.setColumnGroupOpened(t,i,"api")}function $6(e,t,i){var n;return((n=e.colGroupSvc)==null?void 0:n.getColumnGroup(t,i))??null}function Z6(e,t){var i;return((i=e.colGroupSvc)==null?void 0:i.getProvidedColGroup(t))??null}function X6(e,t,i){return e.colNames.getDisplayNameForColumnGroup(t,i)||""}function q6(e){var t;return((t=e.colGroupSvc)==null?void 0:t.getColumnGroupState())??[]}function Q6(e,t){var i;(i=e.colGroupSvc)==null||i.setColumnGroupState(t,"api")}function J6(e){var t;(t=e.colGroupSvc)==null||t.resetColumnGroupState("api")}function eK(e){return e.visibleCols.treeLeft}function tK(e){return e.visibleCols.treeCenter}function iK(e){return e.visibleCols.treeRight}function nK(e){return e.visibleCols.getAllTrees()}function sK(e,t){for(let i=0;i<t.length;i++){const n=e.indexOf(t[i]);n>=0&&(e[n]=e[e.length-1],e.pop())}}var rK=class extends Be{constructor(){super(...arguments),this.beanName="visibleCols",this.colsAndGroupsMap={},this.leftCols=[],this.rightCols=[],this.centerCols=[],this.allCols=[],this.bodyWidth=0,this.leftWidth=0,this.rightWidth=0,this.isBodyWidthDirty=!0}refresh(e,t=!1){var a;const{colModel:i,colGroupSvc:n,colViewport:s}=this.beans;t||this.buildTrees(i,n),n==null||n.updateOpenClosedVisibility();const r=Cw(this.treeLeft);this.leftCols=r,this.centerCols=Cw(this.treeCenter);const o=Cw(this.treeRight);this.rightCols=o,this.joinColsAriaOrder(i),this.joinCols(),this.setLeftValues(e),this.autoHeightCols=this.allCols.filter(c=>c.isAutoHeight()),(a=this.beans.colFlex)==null||a.refreshFlexedColumns(),this.updateBodyWidths(),s.checkViewportColumns(!1),this.setFirstRightAndLastLeftPinned(i,r,o,e),this.eventSvc.dispatchEvent({type:"displayedColumnsChanged",source:e})}updateBodyWidths(){const e=Hd(this.centerCols),t=Hd(this.leftCols),i=Hd(this.rightCols);this.isBodyWidthDirty=this.bodyWidth!==e,(this.bodyWidth!==e||this.leftWidth!==t||this.rightWidth!==i)&&(this.bodyWidth=e,this.leftWidth=t,this.rightWidth=i,this.eventSvc.dispatchEvent({type:"columnContainerWidthChanged"}),this.eventSvc.dispatchEvent({type:"displayedColumnsWidthChanged"}))}setLeftValues(e){this.setLeftValuesOfCols(e),this.setLeftValuesOfGroups()}setFirstRightAndLastLeftPinned(e,t,i,n){let s,r;this.gos.get("enableRtl")?(s=t?t[0]:null,r=i?Li(i):null):(s=t?Li(t):null,r=i?i[0]:null),e.getCols().forEach(o=>{o.setLastLeftPinned(o===s,n),o.setFirstRightPinned(o===r,n)})}buildTrees(e,t){const i=e.getColsToShow(),n=i.filter(c=>c.getPinned()=="left"),s=i.filter(c=>c.getPinned()=="right"),r=i.filter(c=>c.getPinned()!="left"&&c.getPinned()!="right"),o=new IU,a=c=>t?t.createColumnGroups(c):c.columns;this.treeLeft=a({columns:n,idCreator:o,pinned:"left",oldDisplayedGroups:this.treeLeft}),this.treeRight=a({columns:s,idCreator:o,pinned:"right",oldDisplayedGroups:this.treeRight}),this.treeCenter=a({columns:r,idCreator:o,pinned:null,oldDisplayedGroups:this.treeCenter}),this.updateColsAndGroupsMap()}clear(){this.leftCols=[],this.rightCols=[],this.centerCols=[],this.allCols=[],this.ariaOrderColumns=[]}joinColsAriaOrder(e){const t=e.getCols(),i=[],n=[],s=[];for(const r of t){const o=r.getPinned();o?o===!0||o==="left"?i.push(r):s.push(r):n.push(r)}this.ariaOrderColumns=i.concat(n).concat(s)}getAriaColIndex(e){let t;return on(e)?t=e.getLeafColumns()[0]:t=e,this.ariaOrderColumns.indexOf(t)+1}setLeftValuesOfGroups(){[this.treeLeft,this.treeRight,this.treeCenter].forEach(e=>{e.forEach(t=>{on(t)&&t.checkLeft()})})}setLeftValuesOfCols(e){const{colModel:t}=this.beans;if(!t.getColDefCols())return;const n=t.getCols().slice(0),s=this.gos.get("enableRtl");[this.leftCols,this.rightCols,this.centerCols].forEach(r=>{if(s){let o=Hd(r);r.forEach(a=>{o-=a.getActualWidth(),a.setLeft(o,e)})}else{let o=0;r.forEach(a=>{a.setLeft(o,e),o+=a.getActualWidth()})}sK(n,r)}),n.forEach(r=>{r.setLeft(null,e)})}joinCols(){this.gos.get("enableRtl")?this.allCols=this.rightCols.concat(this.centerCols).concat(this.leftCols):this.allCols=this.leftCols.concat(this.centerCols).concat(this.rightCols)}getAllTrees(){return this.treeLeft&&this.treeRight&&this.treeCenter?this.treeLeft.concat(this.treeCenter).concat(this.treeRight):null}isColDisplayed(e){return this.allCols.indexOf(e)>=0}getLeftColsForRow(e){const{leftCols:t,beans:{colModel:i}}=this;return i.colSpanActive?this.getColsForRow(e,t):t}getRightColsForRow(e){const{rightCols:t,beans:{colModel:i}}=this;return i.colSpanActive?this.getColsForRow(e,t):t}getColsForRow(e,t,i,n){const s=[];let r=null;for(let o=0;o<t.length;o++){const a=t[o],c=t.length-o,h=Math.min(a.getColSpan(e),c),f=[a];if(h>1){const m=h-1;for(let b=1;b<=m;b++)f.push(t[o+b]);o+=m}let p;i?(p=!1,f.forEach(m=>{i(m)&&(p=!0)})):p=!0,p&&(s.length===0&&r&&(n&&n(a))&&s.push(r),s.push(a)),r=a}return s}getContainerWidth(e){switch(e){case"left":return this.leftWidth;case"right":return this.rightWidth;default:return this.bodyWidth}}getColBefore(e){const t=this.allCols,i=t.indexOf(e);return i>0?t[i-1]:null}isPinningLeft(){return this.leftCols.length>0}isPinningRight(){return this.rightCols.length>0}updateColsAndGroupsMap(){this.colsAndGroupsMap={};const e=t=>{this.colsAndGroupsMap[t.getUniqueId()]=t};Ah(this.treeCenter,!1,e),Ah(this.treeLeft,!1,e),Ah(this.treeRight,!1,e)}isVisible(e){return this.colsAndGroupsMap[e.getUniqueId()]===e}getFirstColumn(){const e=this.gos.get("enableRtl"),t=["leftCols","centerCols","rightCols"];e&&t.reverse();for(let i=0;i<t.length;i++){const n=this[t[i]];if(n.length)return e?Li(n):n[0]}return null}getColAfter(e){const t=this.allCols,i=t.indexOf(e);return i<t.length-1?t[i+1]:null}getColsLeftWidth(){return Hd(this.leftCols)}getDisplayedColumnsRightWidth(){return Hd(this.rightCols)}isColAtEdge(e,t){const i=this.allCols;if(!i.length)return!1;const n=t==="first";let s;if(on(e)){const r=e.getDisplayedLeafColumns();if(!r.length)return!1;s=n?r[0]:Li(r)}else s=e;return(n?i[0]:Li(i))===s}};function Ah(e,t,i){if(e)for(let n=0;n<e.length;n++){const s=e[n];if(on(s)){const r=t?s.getDisplayedChildren():s.getChildren();Ah(r,t,i)}i(s)}}function Cw(e){const t=[];return Ah(e,!0,i=>{Nh(i)&&t.push(i)}),t}var oK=class extends Be{constructor(){super(...arguments),this.beanName="colGroupSvc"}getColumnGroupState(){const e=[],t=this.beans.colModel.getColTree();return Cl(null,t,i=>{Bs(i)&&e.push({groupId:i.getGroupId(),open:i.isExpanded()})}),e}resetColumnGroupState(e){const t=this.beans.colModel.getColDefColTree();if(!t)return;const i=[];Cl(null,t,n=>{if(Bs(n)){const s=n.getColGroupDef(),r={groupId:n.getGroupId(),open:s?s.openByDefault:void 0};i.push(r)}}),this.setColumnGroupState(i,e)}setColumnGroupState(e,t){const{colModel:i,colAnimation:n,visibleCols:s,eventSvc:r}=this.beans;if(!i.getColTree().length)return;n==null||n.start();const a=[];e.forEach(c=>{const h=c.groupId,f=c.open,p=this.getProvidedColGroup(h);p&&p.isExpanded()!==f&&(p.setExpanded(f),a.push(p))}),s.refresh(t,!0),a.length&&r.dispatchEvent({type:"columnGroupOpened",columnGroup:a.length===1?a[0]:void 0,columnGroups:a}),n==null||n.finish()}setColumnGroupOpened(e,t,i){let n;Bs(e)?n=e.getId():n=e||"",this.setColumnGroupState([{groupId:n,open:t}],i)}getProvidedColGroup(e){let t=null;return Cl(null,this.beans.colModel.getColTree(),i=>{Bs(i)&&i.getId()===e&&(t=i)}),t}getGroupAtDirection(e,t){const i=e.getProvidedColumnGroup().getLevel()+e.getPaddingLevel(),n=e.getDisplayedLeafColumns(),s=t==="After"?Li(n):n[0],r=`getCol${t}`;for(;;){const o=this.beans.visibleCols[r](s);if(!o)return null;const a=this.getColGroupAtLevel(o,i);if(a!==e)return a}}getColGroupAtLevel(e,t){let i=e.getParent(),n,s;for(;n=i.getProvidedColumnGroup().getLevel(),s=i.getPaddingLevel(),!(n+s<=t);)i=i.getParent();return i}updateOpenClosedVisibility(){const e=this.beans.visibleCols.getAllTrees();Ah(e,!1,t=>{on(t)&&t.calculateDisplayedColumns()})}getColumnGroup(e,t){if(!e)return null;if(on(e))return e;const i=this.beans.visibleCols.getAllTrees(),n=typeof t=="number";let s=null;return Ah(i,!1,r=>{if(on(r)){const o=r;let a;n?a=e===o.getGroupId()&&t===o.getPartId():a=e===o.getGroupId(),a&&(s=o)}}),s}createColumnGroups(e){const{columns:t,idCreator:i,pinned:n,oldDisplayedGroups:s,isStandaloneStructure:r}=e,o=this.mapOldGroupsById(s),a=[];let c=t;for(;c.length;){const h=c;c=[];let f=0;const p=m=>{const b=f;f=m;const C=h[b],D=(on(C)?C.getProvidedColumnGroup():C).getOriginalParent();if(D==null){for(let A=b;A<m;A++)a.push(h[A]);return}const M=this.createColumnGroup(D,i,o,n,r);for(let A=b;A<m;A++)M.addChild(h[A]);c.push(M)};for(let m=1;m<h.length;m++){const b=h[m],w=(on(b)?b.getProvidedColumnGroup():b).getOriginalParent(),D=h[f],A=(on(D)?D.getProvidedColumnGroup():D).getOriginalParent();w!==A&&p(m)}f<h.length&&p(h.length)}return r||this.setupParentsIntoCols(a,null),a}createProvidedColumnGroup(e,t,i,n,s,r,o){const a=s.getUniqueKey(t.groupId||null,null),c=this.createMergedColGroupDef(t,a),h=new eb(c,a,!1,i);this.createBean(h);const f=this.findExistingGroup(t,r);f&&r.splice(f.idx,1);const p=f==null?void 0:f.group;p&&h.setExpanded(p.isExpanded());const m=GO(this.beans,c.children,i+1,e,n,s,r,o);return h.setChildren(m),h}balanceColumnTree(e,t,i,n){const s=[];for(let r=0;r<e.length;r++){const o=e[r];if(Bs(o)){const a=o,c=this.balanceColumnTree(a.getChildren(),t+1,i,n);a.setChildren(c),s.push(a)}else{let a,c;for(let h=i-1;h>=t;h--){const f=n.getUniqueKey(null,null),p=this.createMergedColGroupDef(null,f),m=new eb(p,f,!0,t);this.createBean(m),c&&c.setChildren([m]),c=m,a||(a=c)}if(a&&c)if(s.push(a),e.some(f=>Bs(f))){c.setChildren([o]);continue}else{c.setChildren(e);break}s.push(o)}}return s}findDepth(e){let t=0,i=e;for(;i&&i[0]&&Bs(i[0]);)t++,i=i[0].getChildren();return t}findMaxDepth(e,t){let i=t;for(let n=0;n<e.length;n++){const s=e[n];if(Bs(s)){const r=s,o=this.findMaxDepth(r.getChildren(),t+1);i<o&&(i=o)}}return i}balanceTreeForAutoCols(e,t){const i=[];return e.forEach(n=>{let s=n;for(let r=t-1;r>=0;r--){const o=new eb(null,`FAKE_PATH_${n.getId()}}_${r}`,!0,r);this.createBean(o),o.setChildren([s]),s.originalParent=o,s=o}t===0&&(n.originalParent=null),i.push(s)}),i}createMergedColGroupDef(e,t){const i={},{gos:n,validation:s}=this.beans;return Object.assign(i,n.get("defaultColGroupDef")),Object.assign(i,e),s==null||s.validateColDef(i,t),i}findExistingGroup(e,t){if(e.groupId!=null)for(let n=0;n<t.length;n++){const s=t[n];if(s.getColGroupDef()&&s.getId()===e.groupId)return{idx:n,group:s}}}createColumnGroup(e,t,i,n,s){const r=e.getGroupId(),o=t.getInstanceIdForKey(r),a=oP(r,o);let c=i[a];return c&&c.getProvidedColumnGroup()!==e&&(c=null),At(c)?c.reset():(c=new aP(e,r,o,n),s||this.createBean(c)),c}mapOldGroupsById(e){const t={},i=n=>{n.forEach(s=>{if(on(s)){const r=s;t[s.getUniqueId()]=r,i(r.getChildren())}})};return e&&i(e),t}setupParentsIntoCols(e,t){e.forEach(i=>{if(i.parent=t,on(i)){const n=i;this.setupParentsIntoCols(n.getChildren(),n)}})}},aK={moduleName:"ColumnGroup",version:ji,dynamicBeans:{headerGroupCellCtrl:Y6},beans:[oK],apiFunctions:{getAllDisplayedColumnGroups:nK,getCenterDisplayedColumnGroups:tK,getColumnGroup:$6,getColumnGroupState:q6,getDisplayNameForColumnGroup:X6,getLeftDisplayedColumnGroups:eK,getProvidedColumnGroup:Z6,getRightDisplayedColumnGroups:iK,resetColumnGroupState:J6,setColumnGroupOpened:K6,setColumnGroupState:Q6}},lK={moduleName:"CheckboxCellRenderer",version:ji,userComponents:{agCheckboxCellRenderer:e6}},cK=class extends Be{constructor(){super(...arguments),this.beanName="colFlex"}refreshFlexedColumns(e={}){const t=e.source??"flex";e.viewportWidth!=null&&(this.flexViewportWidth=e.viewportWidth);const i=this.flexViewportWidth;if(!i)return[];const{visibleCols:n}=this.beans,s=n.centerCols;let r=-1;if(e.resizingCols){const C=new Set(e.resizingCols);for(let w=s.length-1;w>=0;w--)if(C.has(s[w])){r=w;break}}let o=!1;const a=s.map((C,w)=>{const D=C.getFlex(),M=D!=null&&D>0&&w>r;return o||(o=M),{col:C,isFlex:M,flex:Math.max(0,D??0),initialSize:C.getActualWidth(),min:C.getMinWidth(),max:C.getMaxWidth(),targetSize:0}});if(!o)return[];let c=a.length,h=a.reduce((C,w)=>C+w.flex,0),f=i;const p=(C,w)=>{C.frozenSize=w,C.col.setActualWidth(w,t),f-=w,h-=C.flex,c-=1},m=C=>C.frozenSize!=null;for(const C of a)C.isFlex||p(C,C.initialSize);for(;c>0;){const C=Math.round(h<1?f*h:f);let w,D=0,M=0;for(const _ of a){if(m(_))continue;w=_,M+=C*(_.flex/h);const F=M-D,N=Math.round(F);_.targetSize=N,D+=N}w&&(w.targetSize+=C-D);let A=0;for(const _ of a){if(m(_))continue;const F=_.targetSize,N=Math.min(Math.max(F,_.min),_.max);A+=N-F,_.violationType=N===F?void 0:N<F?"max":"min",_.targetSize=N}const k=A===0?"all":A>0?"min":"max";for(const _ of a)m(_)||(k==="all"||_.violationType===k)&&p(_,_.targetSize)}e.skipSetLeft||n.setLeftValues(t),e.updateBodyWidths&&n.updateBodyWidths();const b=a.filter(C=>C.isFlex&&!C.violationType).map(C=>C.col);if(e.fireResizedEvent){const C=a.filter(D=>D.initialSize!==D.frozenSize).map(D=>D.col),w=a.filter(D=>D.flex).map(D=>D.col);Nb(this.eventSvc,C,!0,t,w)}return b}initCol(e){const{flex:t,initialFlex:i}=e.colDef;t!==void 0?e.flex=t:i!==void 0&&(e.flex=i)}setColFlex(e,t){e.flex=t??null,e.dispatchStateUpdatedEvent("flex")}},uK=class extends Be{constructor(){super(...arguments),this.beanName="dataTypeSvc",this.dataTypeDefinitions={},this.isPendingInference=!1,this.isColumnTypeOverrideInDataTypeDefinitions=!1,this.columnStateUpdatesPendingInference={},this.columnStateUpdateListenerDestroyFuncs=[]}wireBeans(e){this.colModel=e.colModel}postConstruct(){this.processDataTypeDefinitions(),this.addManagedPropertyListener("dataTypeDefinitions",e=>{this.processDataTypeDefinitions(),this.colModel.recreateColumnDefs(e)})}processDataTypeDefinitions(){const e=this.getDefaultDataTypes(),t={};this.dataTypeDefinitions=t;const i={};this.formatValueFuncs=i;const n=o=>a=>{const{column:c,node:h,value:f}=a;let p=c.getColDef().valueFormatter;return p===o.groupSafeValueFormatter&&(p=o.valueFormatter),this.beans.valueSvc.formatValue(c,h,f,p)};for(const o of Object.keys(e)){const a=e[o],c={...a,groupSafeValueFormatter:O1(a,this.gos)};t[o]=c,i[o]=n(c)}const s=this.gos.get("dataTypeDefinitions")??{},r={};this.dataTypeMatchers=r;for(const o of Object.keys(s)){const a=s[o],c=this.processDataTypeDefinition(a,s,[o],e);c&&(t[o]=c,a.dataTypeMatcher&&(r[o]=a.dataTypeMatcher),i[o]=n(c))}this.checkObjectValueHandlers(e),["dateString","text","number","boolean","date"].forEach(o=>{const a=r[o];a&&delete r[o],r[o]=a??e[o].dataTypeMatcher})}processDataTypeDefinition(e,t,i,n){let s;const r=e.extendsDataType;if(e.columnTypes&&(this.isColumnTypeOverrideInDataTypeDefinitions=!0),e.extendsDataType===e.baseDataType){let o=n[r];const a=t[r];if(o&&a&&(o=a),!N1(e,o,r))return;s=_1(o,e)}else{if(i.includes(r)){Wt(44);return}const o=t[r];if(!N1(e,o,r))return;const a=this.processDataTypeDefinition(o,t,[...i,r],n);if(!a)return;s=_1(a,e)}return{...s,groupSafeValueFormatter:O1(s,this.gos)}}updateColDefAndGetColumnType(e,t,i){let{cellDataType:n}=t;const{field:s}=t;if(n===void 0&&(n=e.cellDataType),(n==null||n===!0)&&(n=this.canInferCellDataType(e,t)?this.inferCellDataType(s,i):!1),!n){e.cellDataType=!1;return}const r=this.dataTypeDefinitions[n];if(!r){Wt(47,{cellDataType:n});return}return e.cellDataType=n,r.groupSafeValueFormatter&&(e.valueFormatter=r.groupSafeValueFormatter),r.valueParser&&(e.valueParser=r.valueParser),r.suppressDefaultProperties||this.setColDefPropertiesForBaseDataType(e,n,r,i),r.columnTypes}addColumnListeners(e){if(!this.isPendingInference)return;const t=this.columnStateUpdatesPendingInference[e.getColId()];if(!t)return;const i=n=>{t.add(n.key)};e.__addEventListener("columnStateUpdated",i),this.columnStateUpdateListenerDestroyFuncs.push(()=>e.__removeEventListener("columnStateUpdated",i))}canInferCellDataType(e,t){const{gos:i}=this;if(!_C(i))return!1;const n={cellRenderer:!0,valueGetter:!0,valueParser:!0,refData:!0};if(xw(t,n))return!1;const s=t.type===null?e.type:t.type;if(s){const r=i.get("columnTypes")??{};if(_b(s).some(a=>{const c=r[a.trim()];return c&&xw(c,n)}))return!1}return!xw(e,n)}inferCellDataType(e,t){if(!e)return;let i;const n=this.getInitialData();if(n){const s=e.indexOf(".")>=0&&!this.gos.get("suppressFieldDotNotation");i=Jv(n,e,s)}else this.initWaitForRowData(t);if(i!=null)return Object.keys(this.dataTypeMatchers).find(s=>this.dataTypeMatchers[s](i))??"object"}getInitialData(){var t;const e=this.gos.get("rowData");if(e!=null&&e.length)return e[0];if(this.initialData)return this.initialData;{const i=(t=this.beans.rowModel.rootNode)==null?void 0:t.allLeafChildren;if(i!=null&&i.length)return i[0].data}return null}initWaitForRowData(e){if(this.columnStateUpdatesPendingInference[e]=new Set,this.isPendingInference)return;this.isPendingInference=!0;const t=this.isColumnTypeOverrideInDataTypeDefinitions,{colAutosize:i,eventSvc:n}=this.beans;t&&i&&(i.shouldQueueResizeOperations=!0);const[s]=this.addManagedEventListeners({rowDataUpdateStarted:r=>{const{firstRowData:o}=r;o&&(s==null||s(),this.isPendingInference=!1,this.processColumnsPendingInference(o,t),this.columnStateUpdatesPendingInference={},t&&(i==null||i.processResizeOperations()),n.dispatchEvent({type:"dataTypesInferred"}))}})}processColumnsPendingInference(e,t){this.initialData=e;const i=[];this.destroyColumnStateUpdateListeners();const n={},s={};for(const r of Object.keys(this.columnStateUpdatesPendingInference)){const o=this.columnStateUpdatesPendingInference[r],a=this.colModel.getCol(r);if(!a)return;const c=a.getColDef();if(!this.resetColDefIntoCol(a,"cellDataTypeInferred"))return;const h=a.getColDef();if(t&&h.type&&h.type!==c.type){const f=dK(a,o);f.rowGroup&&f.rowGroupIndex==null&&(n[r]=f),f.pivot&&f.pivotIndex==null&&(s[r]=f),i.push(f)}}t&&i.push(...this.generateColumnStateForRowGroupAndPivotIndexes(n,s)),i.length&&YO(this.beans,{state:i},"cellDataTypeInferred"),this.initialData=null}generateColumnStateForRowGroupAndPivotIndexes(e,t){const i={},{rowGroupColsSvc:n,pivotColsSvc:s}=this.beans;return n==null||n.restoreColumnOrder(i,e),s==null||s.restoreColumnOrder(i,t),Object.values(i)}resetColDefIntoCol(e,t){const i=e.getUserProvidedColDef();if(!i)return!1;const n=DM(this.beans,i,e.getColId());return e.setColDef(n,i,t),!0}checkObjectValueHandlers(e){const t=this.dataTypeDefinitions.object,i=e.object;this.hasObjectValueParser=t.valueParser!==i.valueParser,this.hasObjectValueFormatter=t.valueFormatter!==i.valueFormatter}getDateStringTypeDefinition(e){const{dateString:t}=this.dataTypeDefinitions;return e?this.getDataTypeDefinition(e)??t:t}getDateParserFunction(e){return this.getDateStringTypeDefinition(e).dateParser}getDateFormatterFunction(e){return this.getDateStringTypeDefinition(e).dateFormatter}getDataTypeDefinition(e){const t=e.getColDef();if(t.cellDataType)return this.dataTypeDefinitions[t.cellDataType]}getBaseDataType(e){var t;return(t=this.getDataTypeDefinition(e))==null?void 0:t.baseDataType}checkType(e,t){var n;if(t==null)return!0;const i=(n=this.getDataTypeDefinition(e))==null?void 0:n.dataTypeMatcher;return i?i(t):!0}validateColDef(e){const t=i=>Wt(48,{property:i});if(e.cellDataType==="object"){const{object:i}=this.dataTypeDefinitions;e.valueFormatter===i.groupSafeValueFormatter&&!this.hasObjectValueFormatter&&t("Formatter"),e.editable&&e.valueParser===i.valueParser&&!this.hasObjectValueParser&&t("Parser")}}getFormatValue(e){return this.formatValueFuncs[e]}isColPendingInference(e){return this.isPendingInference&&!!this.columnStateUpdatesPendingInference[e]}setColDefPropertiesForBaseDataType(e,t,i,n){var r;const s=this.formatValueFuncs[t];switch(i.baseDataType){case"number":{e.cellEditor="agNumberCellEditor";break}case"boolean":{e.cellEditor="agCheckboxCellEditor",e.cellRenderer="agCheckboxCellRenderer",e.getFindText=()=>null,e.suppressKeyboardEvent=o=>!!o.colDef.editable&&o.event.key===Pe.SPACE;break}case"date":{e.cellEditor="agDateCellEditor",e.keyCreator=s;break}case"dateString":{e.cellEditor="agDateStringCellEditor",e.keyCreator=s;break}case"object":{e.cellEditorParams={useFormatter:!0},e.comparator=(o,a)=>{const c=this.colModel.getColDefCol(n),h=c==null?void 0:c.getColDef();if(!c||!h)return 0;const f=o==null?"":s({column:c,node:null,value:o}),p=a==null?"":s({column:c,node:null,value:a});return f===p?0:f>p?1:-1},e.keyCreator=s;break}}(r=this.beans.filterManager)==null||r.setColDefPropertiesForDataType(e,i,s)}getDefaultDataTypes(){const e=i=>!!i.match("^\\d{4}-\\d{2}-\\d{2}$"),t=this.getLocaleTextFunc();return{number:{baseDataType:"number",valueParser:i=>{var n,s;return((s=(n=i.newValue)==null?void 0:n.trim)==null?void 0:s.call(n))===""?null:Number(i.newValue)},valueFormatter:i=>i.value==null?"":typeof i.value!="number"||isNaN(i.value)?t("invalidNumber","Invalid Number"):String(i.value),dataTypeMatcher:i=>typeof i=="number"},text:{baseDataType:"text",valueParser:i=>i.newValue===""?null:CM(i.newValue),dataTypeMatcher:i=>typeof i=="string"},boolean:{baseDataType:"boolean",valueParser:i=>{var n,s;return i.newValue==null?i.newValue:((s=(n=i.newValue)==null?void 0:n.trim)==null?void 0:s.call(n))===""?null:String(i.newValue).toLowerCase()==="true"},valueFormatter:i=>i.value==null?"":String(i.value),dataTypeMatcher:i=>typeof i=="boolean"},date:{baseDataType:"date",valueParser:i=>A1(i.newValue==null?null:String(i.newValue)),valueFormatter:i=>i.value==null?"":!(i.value instanceof Date)||isNaN(i.value.getTime())?t("invalidDate","Invalid Date"):T1(i.value,!1)??"",dataTypeMatcher:i=>i instanceof Date},dateString:{baseDataType:"dateString",dateParser:i=>A1(i)??void 0,dateFormatter:i=>T1(i??null,!1)??void 0,valueParser:i=>e(String(i.newValue))?i.newValue:null,valueFormatter:i=>e(String(i.value))?i.value:"",dataTypeMatcher:i=>typeof i=="string"&&e(i)},object:{baseDataType:"object",valueParser:()=>null,valueFormatter:i=>CM(i.value)??""}}}destroyColumnStateUpdateListeners(){this.columnStateUpdateListenerDestroyFuncs.forEach(e=>e()),this.columnStateUpdateListenerDestroyFuncs=[]}destroy(){this.dataTypeDefinitions={},this.dataTypeMatchers={},this.formatValueFuncs={},this.columnStateUpdatesPendingInference={},this.destroyColumnStateUpdateListeners(),super.destroy()}};function _1(e,t){const i={...e,...t};return e.columnTypes&&t.columnTypes&&t.appendColumnTypes&&(i.columnTypes=[..._b(e.columnTypes),..._b(t.columnTypes)]),i}function N1(e,t,i){return t?t.baseDataType!==e.baseDataType?(Wt(46),!1):!0:(Wt(45,{parentCellDataType:i}),!1)}function O1(e,t){if(e.valueFormatter)return i=>{var n,s;if((n=i.node)!=null&&n.group){const r=(i.colDef.pivotValueColumn??i.column).getAggFunc();if(r){if(r==="first"||r==="last")return e.valueFormatter(i);if(e.baseDataType==="number"&&r!=="count"){if(typeof i.value=="number")return e.valueFormatter(i);if(typeof i.value=="object"){if(!i.value)return;if("toNumber"in i.value)return e.valueFormatter({...i,value:i.value.toNumber()});if("value"in i.value)return e.valueFormatter({...i,value:i.value.value})}}return}if(t.get("groupDisplayType")==="groupRows"&&!t.get("treeData"))return}else if(t.get("groupHideOpenParents")&&i.column.isRowGroupActive()&&typeof i.value=="string"&&!((s=e.dataTypeMatcher)!=null&&s.call(e,i.value)))return;return e.valueFormatter(i)}}function hK(e,t,i,n){if(!t[i])return!1;const s=e[i];return s===null?(t[i]=!1,!1):n===void 0?!!s:s===n}function xw(e,t){return[["cellRenderer","agSparklineCellRenderer"],["valueGetter",void 0],["valueParser",void 0],["refData",void 0]].some(([i,n])=>hK(e,t,i,n))}function dK(e,t){const i=LU(e);return t.forEach(n=>{delete i[n],n==="rowGroup"?delete i.rowGroupIndex:n==="pivot"&&delete i.pivotIndex}),i}var fK={moduleName:"DataType",version:ji,beans:[uK],dependsOn:[lK]},gK={moduleName:"ColumnFlex",version:ji,beans:[cK]};function pK(e){if(!e||e==null)return null;const t=/([a-z])([A-Z])/g,i=/([A-Z]+)([A-Z])([a-z])/g;return e.replace(t,"$1 $2").replace(i,"$1 $2$3").replace(/\./g," ").split(" ").map(s=>s.substring(0,1).toUpperCase()+(s.length>1?s.substring(1,s.length):"")).join(" ")}var mK=class extends Be{constructor(){super(...arguments),this.beanName="colNames"}getDisplayNameForColumn(e,t,i=!1){if(!e)return null;const n=this.getHeaderName(e.getColDef(),e,null,null,t),{aggColNameSvc:s}=this.beans;return i&&s?s.getHeaderName(e,n):n}getDisplayNameForProvidedColumnGroup(e,t,i){const n=t==null?void 0:t.getColGroupDef();return n?this.getHeaderName(n,null,e,t,i):null}getDisplayNameForColumnGroup(e,t){return this.getDisplayNameForProvidedColumnGroup(e,e.getProvidedColumnGroup(),t)}getHeaderName(e,t,i,n,s){var o;const r=e.headerValueGetter;if(r){const a=wi(this.gos,{colDef:e,column:t,columnGroup:i,providedColumnGroup:n,location:s});return typeof r=="function"?r(a):typeof r=="string"?((o=this.beans.expressionSvc)==null?void 0:o.evaluate(r,a))??null:""}else{if(e.headerName!=null)return e.headerName;if(e.field)return pK(e.field)}return""}},yK=class extends Be{constructor(){super(...arguments),this.beanName="colViewport",this.colsWithinViewport=[],this.headerColsWithinViewport=[],this.colsWithinViewportHash="",this.rowsOfHeadersToRenderLeft={},this.rowsOfHeadersToRenderRight={},this.rowsOfHeadersToRenderCenter={}}wireBeans(e){this.visibleCols=e.visibleCols,this.colModel=e.colModel}postConstruct(){this.suppressColumnVirtualisation=this.gos.get("suppressColumnVirtualisation")}setScrollPosition(e,t,i=!1){const{visibleCols:n}=this,s=n.isBodyWidthDirty;if(!(e===this.scrollWidth&&t===this.scrollPosition&&!s)){if(this.scrollWidth=e,this.scrollPosition=t,n.isBodyWidthDirty=!0,this.gos.get("enableRtl")){const o=n.bodyWidth;this.viewportLeft=o-t-e,this.viewportRight=o-t}else this.viewportLeft=t,this.viewportRight=e+t;this.colModel.ready&&this.checkViewportColumns(i)}}getHeadersToRender(e,t){let i;switch(e){case"left":i=this.rowsOfHeadersToRenderLeft[t];break;case"right":i=this.rowsOfHeadersToRenderRight[t];break;default:i=this.rowsOfHeadersToRenderCenter[t];break}return i||[]}extractViewportColumns(){const e=this.visibleCols.centerCols;this.isColumnVirtualisationSuppressed()?(this.colsWithinViewport=e,this.headerColsWithinViewport=e):(this.colsWithinViewport=e.filter(this.isColumnInRowViewport.bind(this)),this.headerColsWithinViewport=e.filter(this.isColumnInHeaderViewport.bind(this)))}isColumnVirtualisationSuppressed(){return this.suppressColumnVirtualisation||this.viewportRight===0}clear(e){this.rowsOfHeadersToRenderLeft={},this.rowsOfHeadersToRenderRight={},this.rowsOfHeadersToRenderCenter={},e||(this.colsWithinViewportHash="")}isColumnInHeaderViewport(e){return e.isAutoHeaderHeight()||vK(e)?!0:this.isColumnInRowViewport(e)}isColumnInRowViewport(e){if(e.isAutoHeight())return!0;const t=e.getLeft()||0,i=t+e.getActualWidth(),n=this.viewportLeft-200,s=this.viewportRight+200,r=t<n&&i<n,o=t>s&&i>s;return!r&&!o}getViewportColumns(){const{leftCols:e,rightCols:t}=this.visibleCols;return this.colsWithinViewport.concat(e).concat(t)}getColsWithinViewport(e){if(!this.colModel.colSpanActive)return this.colsWithinViewport;const t=r=>{const o=r.getLeft();return At(o)&&o>this.viewportLeft},i=this.isColumnVirtualisationSuppressed()?void 0:this.isColumnInRowViewport.bind(this),{visibleCols:n}=this,s=n.centerCols;return n.getColsForRow(e,s,i,t)}checkViewportColumns(e=!1){this.extractViewport()&&this.eventSvc.dispatchEvent({type:"virtualColumnsChanged",afterScroll:e})}calculateHeaderRows(){this.clear(!0);const e={},{leftCols:t,rightCols:i,treeLeft:n,treeRight:s,treeCenter:r}=this.visibleCols;this.headerColsWithinViewport.concat(t).concat(i).forEach(c=>e[c.getId()]=!0);const a=(c,h,f)=>{let p=!1;for(let m=0;m<c.length;m++){const b=c[m];let C=!1;if(Nh(b))C=e[b.getId()]===!0;else{const D=b.getDisplayedChildren();D&&(C=a(D,h,f+1))}C&&(p=!0,h[f]||(h[f]=[]),h[f].push(b))}return p};a(n,this.rowsOfHeadersToRenderLeft,0),a(s,this.rowsOfHeadersToRenderRight,0),a(r,this.rowsOfHeadersToRenderCenter,0)}extractViewport(){const e=n=>`${n.getId()}-${n.getPinned()||"normal"}`;this.extractViewportColumns();const t=this.getViewportColumns().map(e).join("#"),i=this.colsWithinViewportHash!==t;return i&&(this.colsWithinViewportHash=t,this.calculateHeaderRows()),i}};function vK(e){for(;e;){if(e.isAutoHeaderHeight())return!0;e=e.getParent()}return!1}var bK=class extends Be{constructor(){super(...arguments),this.beanName="agCompUtils"}adaptFunction(e,t){if(!e.cellRenderer)return null;class i{refresh(){return!1}getGui(){return this.eGui}init(s){const r=t(s),o=typeof r;if(o==="string"||o==="number"||o==="boolean"){this.eGui=KD("<span>"+r+"</span>");return}if(r==null){this.eGui=Qc({tag:"span"});return}this.eGui=r}}return i}},CK={moduleName:"CellRendererFunction",version:ji,beans:[bK]},xK=class extends Be{constructor(){super(...arguments),this.beanName="registry",this.agGridDefaults={},this.agGridDefaultParams={},this.jsComps={},this.dynamicBeans={},this.selectors={},this.icons={}}postConstruct(){const e=this.gos.get("components");if(e!=null)for(const t of Object.keys(e))this.jsComps[t]=e[t]}registerModule(e){const{icons:t,userComponents:i,dynamicBeans:n,selectors:s}=e;if(i){const r=(o,a,c)=>{this.agGridDefaults[o]=a,c&&(this.agGridDefaultParams[o]=c)};for(const o of Object.keys(i)){const a=i[o];typeof a=="object"?r(o,a.classImp,a.params):r(o,a)}}if(n)for(const r of Object.keys(n))this.dynamicBeans[r]=n[r];if(s==null||s.forEach(r=>{this.selectors[r.selector]=r}),t)for(const r of Object.keys(t))this.icons[r]=t[r]}getUserComponent(e,t){var a;const i=(c,h,f)=>({componentFromFramework:h,component:c,params:f}),{frameworkOverrides:n}=this.beans,s=n.frameworkComponent(t,this.gos.get("components"));if(s!=null)return i(s,!0);const r=this.jsComps[t];if(r){const c=n.isFrameworkComponent(r);return i(r,c)}const o=this.agGridDefaults[t];return o?i(o,!1,this.agGridDefaultParams[t]):((a=this.beans.validation)==null||a.missingUserComponent(e,t,this.agGridDefaults,this.jsComps),null)}createDynamicBean(e,t,...i){const n=this.dynamicBeans[e];if(n==null){if(t)throw new Error(MO(256));return}return new n(...i)}getSelector(e){return this.selectors[e]}getIcon(e){return this.icons[e]}},SK=23,wK=class extends Be{constructor(){super(...arguments),this.beanName="ctrlsSvc",this.params={},this.ready=!1,this.readyCallbacks=[]}postConstruct(){var e,t;this.addEventListener("ready",()=>{this.updateReady(),this.ready&&(this.readyCallbacks.forEach(i=>i(this.params)),this.readyCallbacks.length=0)},((t=(e=this.beans.frameworkOverrides).runWhenReadyAsync)==null?void 0:t.call(e))??!1)}updateReady(){const e=Object.values(this.params);this.ready=e.length===SK&&e.every(t=>(t==null?void 0:t.isAlive())??!1)}whenReady(e,t){this.ready?t(this.params):this.readyCallbacks.push(t),e.addDestroyFunc(()=>{const i=this.readyCallbacks.indexOf(t);i>=0&&this.readyCallbacks.splice(i,1)})}register(e,t){this.params[e]=t,this.updateReady(),this.ready&&this.dispatchLocalEvent({type:"ready"}),t.addDestroyFunc(()=>{this.updateReady()})}get(e){return this.params[e]}getGridBodyCtrl(){return this.params.gridBodyCtrl}getHeaderRowContainerCtrls(){const{leftHeader:e,centerHeader:t,rightHeader:i}=this.params;return[e,i,t]}getHeaderRowContainerCtrl(e){const t=this.params;switch(e){case"left":return t.leftHeader;case"right":return t.rightHeader;default:return t.centerHeader}}getScrollFeature(){return this.getGridBodyCtrl().scrollFeature}},MK=':where(.ag-root-wrapper,.ag-popup,.ag-dnd-ghost,.ag-chart),:where(.ag-root-wrapper,.ag-popup,.ag-dnd-ghost,.ag-chart) :where([class^=ag-]){box-sizing:border-box;&:after,&:before{box-sizing:border-box}&:where(div,span,label):focus-visible{box-shadow:inset var(--ag-focus-shadow);outline:none}}:where(.ag-root-wrapper,.ag-popup,.ag-dnd-ghost,.ag-chart) :where([class^=ag-]) ::-ms-clear{display:none}.ag-aria-description-container{border:0;z-index:9999;clip:rect(1px,1px,1px,1px);height:1px;overflow:hidden;padding:0;position:absolute;white-space:nowrap;width:1px}.ag-hidden{display:none!important}.ag-invisible{visibility:hidden!important}.ag-unselectable{-webkit-user-select:none;-moz-user-select:none;user-select:none}.ag-selectable{-webkit-user-select:text;-moz-user-select:text;user-select:text}.ag-tab-guard{display:block;height:0;position:absolute;width:0}:where(.ag-virtual-list-viewport) .ag-tab-guard{position:sticky}.ag-tab-guard-top{top:1px}.ag-tab-guard-bottom{bottom:1px}.ag-shake-left-to-right{animation-direction:alternate;animation-duration:.2s;animation-iteration-count:infinite;animation-name:ag-shake-left-to-right}@keyframes ag-shake-left-to-right{0%{padding-left:6px;padding-right:2px}to{padding-left:2px;padding-right:6px}}.ag-body-horizontal-scroll-viewport,.ag-body-vertical-scroll-viewport,.ag-body-viewport,.ag-center-cols-viewport,.ag-floating-bottom-viewport,.ag-floating-top-viewport,.ag-header-viewport,.ag-sticky-bottom-viewport,.ag-sticky-top-viewport,.ag-virtual-list-viewport{flex:1 1 auto;height:100%;min-width:0;overflow:hidden;position:relative}.ag-viewport{position:relative}.ag-spanning-container{position:absolute;top:0;z-index:1}.ag-body-viewport,.ag-center-cols-viewport,.ag-floating-bottom-viewport,.ag-floating-top-viewport,.ag-header-viewport,.ag-sticky-bottom-viewport,.ag-sticky-top-viewport{overflow-x:auto;-ms-overflow-style:none!important;scrollbar-width:none!important;&::-webkit-scrollbar{display:none!important}}.ag-body-viewport{display:flex;overflow-x:hidden;&:where(.ag-layout-normal){overflow-y:auto;-webkit-overflow-scrolling:touch}}.ag-floating-bottom-container,.ag-floating-top-container,.ag-sticky-bottom-container,.ag-sticky-top-container{min-height:1px}.ag-center-cols-viewport{min-height:100%;width:100%}.ag-body-horizontal-scroll-viewport{overflow-x:scroll}.ag-body-vertical-scroll-viewport{overflow-y:scroll}.ag-virtual-list-viewport{overflow:auto;width:100%}.ag-body-container,.ag-body-horizontal-scroll-container,.ag-body-vertical-scroll-container,.ag-center-cols-container,.ag-floating-bottom-container,.ag-floating-bottom-full-width-container,.ag-floating-top-container,.ag-full-width-container,.ag-header-container,.ag-pinned-left-cols-container,.ag-pinned-right-cols-container,.ag-sticky-bottom-container,.ag-sticky-top-container,.ag-virtual-list-container{position:relative}.ag-floating-bottom-container,.ag-floating-top-container,.ag-header-container,.ag-pinned-left-floating-bottom,.ag-pinned-left-floating-top,.ag-pinned-right-floating-bottom,.ag-pinned-right-floating-top,.ag-sticky-bottom-container,.ag-sticky-top-container{height:100%;white-space:nowrap}.ag-center-cols-container,.ag-pinned-right-cols-container{display:block}.ag-body-horizontal-scroll-container{height:100%}.ag-body-vertical-scroll-container{width:100%}.ag-floating-bottom-full-width-container,.ag-floating-top-full-width-container,.ag-full-width-container,.ag-sticky-bottom-full-width-container,.ag-sticky-top-full-width-container{pointer-events:none;position:absolute;top:0}:where(.ag-ltr) .ag-floating-bottom-full-width-container,:where(.ag-ltr) .ag-floating-top-full-width-container,:where(.ag-ltr) .ag-full-width-container,:where(.ag-ltr) .ag-sticky-bottom-full-width-container,:where(.ag-ltr) .ag-sticky-top-full-width-container{left:0}:where(.ag-rtl) .ag-floating-bottom-full-width-container,:where(.ag-rtl) .ag-floating-top-full-width-container,:where(.ag-rtl) .ag-full-width-container,:where(.ag-rtl) .ag-sticky-bottom-full-width-container,:where(.ag-rtl) .ag-sticky-top-full-width-container{right:0}.ag-full-width-container{width:100%}.ag-floating-bottom-full-width-container,.ag-floating-top-full-width-container{display:inline-block;height:100%;overflow:hidden;width:100%}.ag-virtual-list-container{overflow:hidden}.ag-body{display:flex;flex:1 1 auto;flex-direction:row!important;min-height:0;position:relative}.ag-body-horizontal-scroll,.ag-body-vertical-scroll{display:flex;min-height:0;min-width:0;position:relative;&:where(.ag-scrollbar-invisible){bottom:0;position:absolute;&:where(.ag-apple-scrollbar){opacity:0;transition:opacity .4s;visibility:hidden;&:where(.ag-scrollbar-scrolling,.ag-scrollbar-active){opacity:1;visibility:visible}}}}.ag-body-horizontal-scroll{width:100%;&:where(.ag-scrollbar-invisible){left:0;right:0}}.ag-body-vertical-scroll{height:100%;&:where(.ag-scrollbar-invisible){top:0;z-index:10}}:where(.ag-ltr) .ag-body-vertical-scroll{&:where(.ag-scrollbar-invisible){right:0}}:where(.ag-rtl) .ag-body-vertical-scroll{&:where(.ag-scrollbar-invisible){left:0}}.ag-force-vertical-scroll{overflow-y:scroll!important}.ag-horizontal-left-spacer,.ag-horizontal-right-spacer{height:100%;min-width:0;overflow-x:scroll;&:where(.ag-scroller-corner){overflow-x:hidden}}:where(.ag-row-animation) .ag-row{transition:transform .4s,top .4s,opacity .2s;&:where(.ag-after-created){transition:transform .4s,top .4s,height .4s,opacity .2s}}:where(.ag-row-no-animation) .ag-row{transition:none}.ag-row-loading{align-items:center;display:flex}.ag-row-position-absolute{position:absolute}.ag-row-position-relative{position:relative}.ag-full-width-row{overflow:hidden;pointer-events:all}.ag-row-inline-editing{z-index:1}.ag-row-dragging{z-index:2}.ag-stub-cell{align-items:center;display:flex}.ag-cell{display:inline-block;height:100%;position:absolute;white-space:nowrap;&:focus-visible{box-shadow:none}}.ag-cell-value{flex:1 1 auto}.ag-cell-value,.ag-group-value{overflow:hidden;text-overflow:ellipsis}.ag-cell-wrap-text{white-space:normal;word-break:break-word}:where(.ag-cell) .ag-icon{display:inline-block;vertical-align:middle}.ag-floating-top{border-bottom:var(--ag-pinned-row-border)}.ag-floating-bottom,.ag-floating-top{display:flex;overflow:hidden;position:relative;white-space:nowrap;width:100%}.ag-floating-bottom{border-top:var(--ag-pinned-row-border)}.ag-sticky-bottom,.ag-sticky-top{background-color:var(--ag-background-color);display:flex;height:0;overflow:hidden;position:absolute;width:100%;z-index:1}.ag-opacity-zero{opacity:0!important}.ag-cell-label-container{align-items:center;display:flex;flex-direction:row-reverse;height:100%;justify-content:space-between;width:100%}:where(.ag-right-aligned-header){.ag-cell-label-container{flex-direction:row}.ag-header-cell-text{text-align:end}}.ag-column-group-icons{display:block;>*{cursor:pointer}}:where(.ag-ltr){direction:ltr;.ag-body,.ag-body-horizontal-scroll,.ag-body-viewport,.ag-floating-bottom,.ag-floating-top,.ag-header,.ag-sticky-bottom,.ag-sticky-top{flex-direction:row}}:where(.ag-rtl){direction:rtl;text-align:right;.ag-body,.ag-body-horizontal-scroll,.ag-body-viewport,.ag-floating-bottom,.ag-floating-top,.ag-header,.ag-sticky-bottom,.ag-sticky-top{flex-direction:row-reverse}.ag-icon-contracted,.ag-icon-expanded,.ag-icon-tree-closed{display:block}}:where(.ag-rtl){.ag-icon-contracted,.ag-icon-expanded,.ag-icon-tree-closed{transform:rotate(180deg)}}:where(.ag-rtl){.ag-icon-contracted,.ag-icon-expanded,.ag-icon-tree-closed{transform:rotate(-180deg)}}.ag-measurement-container{height:0;overflow:hidden;visibility:hidden;width:0}.ag-measurement-element-border{display:inline-block;&:before{border-left:var(--ag-internal-measurement-border);content:"";display:block}}.ag-group{position:relative;width:100%}.ag-group-title-bar{align-items:center;display:flex;padding:var(--ag-spacing)}.ag-group-title{display:inline;min-width:0;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}:where(.ag-group-title-bar) .ag-group-title{cursor:default}.ag-group-toolbar{align-items:center;display:flex;padding:var(--ag-spacing)}.ag-group-container{display:flex}.ag-disabled .ag-group-container{pointer-events:none}.ag-disabled-group-container,.ag-disabled-group-title-bar{opacity:.5}.ag-group-container-horizontal{flex-flow:row wrap}.ag-group-container-vertical{flex-direction:column}.ag-group-title-bar-icon{cursor:pointer;flex:none}:where(.ag-ltr) .ag-group-title-bar-icon{margin-right:var(--ag-spacing)}:where(.ag-rtl) .ag-group-title-bar-icon{margin-left:var(--ag-spacing)}:where(.ag-group-item-alignment-stretch) .ag-group-item{align-items:stretch}:where(.ag-group-item-alignment-start) .ag-group-item{align-items:flex-start}:where(.ag-group-item-alignment-end) .ag-group-item{align-items:flex-end}.ag-popup-child{top:0;z-index:5;&:where(:not(.ag-tooltip-custom)){box-shadow:var(--ag-popup-shadow)}}.ag-popup-editor{position:absolute;-webkit-user-select:none;-moz-user-select:none;user-select:none}.ag-large-text-input{display:block}:where(.ag-ltr) .ag-row:not(.ag-row-level-0) .ag-pivot-leaf-group{margin-left:var(--ag-row-group-indent-size)}:where(.ag-rtl) .ag-row:not(.ag-row-level-0) .ag-pivot-leaf-group{margin-right:var(--ag-row-group-indent-size)}:where(.ag-ltr) .ag-row-group-leaf-indent{margin-left:calc(var(--ag-cell-widget-spacing) + var(--ag-icon-size))}:where(.ag-rtl) .ag-row-group-leaf-indent{margin-right:calc(var(--ag-cell-widget-spacing) + var(--ag-icon-size))}.ag-value-change-delta{padding:0 2px}.ag-value-change-delta-up{color:var(--ag-value-change-delta-up-color)}.ag-value-change-delta-down{color:var(--ag-value-change-delta-down-color)}.ag-value-change-value{background-color:transparent;border-radius:1px;padding-left:1px;padding-right:1px;transition:background-color 1s}.ag-value-change-value-highlight{background-color:var(--ag-value-change-value-highlight-background-color);transition:background-color .1s}.ag-cell-data-changed{background-color:var(--ag-value-change-value-highlight-background-color)!important}.ag-cell-data-changed-animation{background-color:transparent}.ag-cell-highlight{background-color:var(--ag-range-selection-highlight-color)!important}.ag-row,.ag-spanned-row{color:var(--ag-cell-text-color);font-family:var(--ag-cell-font-family);font-size:var(--ag-data-font-size);white-space:nowrap;--ag-internal-content-line-height:calc(min(var(--ag-row-height), var(--ag-line-height, 1000px)) - var(--ag-internal-row-border-width, 1px) - 2px)}.ag-row{background-color:var(--ag-background-color);border-bottom:var(--ag-row-border);height:var(--ag-row-height);width:100%}:where(.ag-body-vertical-content-no-gap>div>div>div,.ag-body-vertical-content-no-gap>div>div>div>div)>.ag-row-last{border-bottom-color:transparent}.ag-sticky-bottom{border-top:var(--ag-row-border);box-sizing:content-box!important}.ag-group-contracted,.ag-group-expanded{cursor:pointer}.ag-cell,.ag-full-width-row .ag-cell-wrapper.ag-row-group{border:1px solid transparent;line-height:var(--ag-internal-content-line-height);-webkit-font-smoothing:subpixel-antialiased}:where(.ag-ltr) .ag-cell{border-right:var(--ag-column-border)}:where(.ag-rtl) .ag-cell{border-left:var(--ag-column-border)}.ag-spanned-cell-wrapper{background-color:var(--ag-background-color);position:absolute}.ag-spanned-cell-wrapper>.ag-spanned-cell{display:block;position:relative}:where(.ag-ltr) :where(.ag-body-horizontal-content-no-gap) .ag-column-last{border-right-color:transparent}:where(.ag-rtl) :where(.ag-body-horizontal-content-no-gap) .ag-column-last{border-left-color:transparent}.ag-cell-wrapper{align-items:center;display:flex;>:where(:not(.ag-cell-value,.ag-group-value)){align-items:center;display:flex;height:var(--ag-internal-content-line-height)}&:where(.ag-row-group){align-items:flex-start}:where(.ag-full-width-row) &:where(.ag-row-group){align-items:center;height:100%}}:where(.ag-ltr) .ag-cell-wrapper{padding-left:calc(var(--ag-indentation-level)*var(--ag-row-group-indent-size))}:where(.ag-rtl) .ag-cell-wrapper{padding-right:calc(var(--ag-indentation-level)*var(--ag-row-group-indent-size))}:where(.ag-cell-wrap-text:not(.ag-cell-auto-height)) .ag-cell-wrapper{align-items:normal;height:100%;:where(.ag-cell-value){height:100%}}:where(.ag-ltr) .ag-row>.ag-cell-wrapper.ag-row-group{padding-left:calc(var(--ag-cell-horizontal-padding) + var(--ag-row-group-indent-size)*var(--ag-indentation-level))}:where(.ag-rtl) .ag-row>.ag-cell-wrapper.ag-row-group{padding-right:calc(var(--ag-cell-horizontal-padding) + var(--ag-row-group-indent-size)*var(--ag-indentation-level))}.ag-cell-focus:not(.ag-cell-range-selected):focus-within,.ag-cell-range-single-cell,.ag-cell-range-single-cell.ag-cell-range-handle,.ag-context-menu-open .ag-cell-focus:not(.ag-cell-range-selected),.ag-context-menu-open .ag-full-width-row.ag-row-focus .ag-cell-wrapper.ag-row-group,.ag-full-width-row.ag-row-focus:focus .ag-cell-wrapper.ag-row-group{border:1px solid;border-color:var(--ag-range-selection-border-color);border-style:var(--ag-range-selection-border-style);outline:initial}.ag-full-width-row.ag-row-focus:focus{box-shadow:none}:where(.ag-ltr) .ag-group-contracted,:where(.ag-ltr) .ag-group-expanded,:where(.ag-ltr) .ag-row-drag,:where(.ag-ltr) .ag-selection-checkbox{margin-right:var(--ag-cell-widget-spacing)}:where(.ag-rtl) .ag-group-contracted,:where(.ag-rtl) .ag-group-expanded,:where(.ag-rtl) .ag-row-drag,:where(.ag-rtl) .ag-selection-checkbox{margin-left:var(--ag-cell-widget-spacing)}:where(.ag-ltr) .ag-group-child-count{margin-left:3px}:where(.ag-rtl) .ag-group-child-count{margin-right:3px}.ag-row-highlight-above:after,.ag-row-highlight-below:after{background-color:var(--ag-range-selection-border-color);content:"";height:1px;position:absolute;width:calc(100% - 1px)}:where(.ag-ltr) .ag-row-highlight-above:after,:where(.ag-ltr) .ag-row-highlight-below:after{left:1px}:where(.ag-rtl) .ag-row-highlight-above:after,:where(.ag-rtl) .ag-row-highlight-below:after{right:1px}.ag-row-highlight-above:after{top:0}.ag-row-highlight-below:after{bottom:0}.ag-row-odd{background-color:var(--ag-odd-row-background-color)}.ag-row-selected:before{background-color:var(--ag-selected-row-background-color);content:"";display:block;inset:0;pointer-events:none;position:absolute}.ag-row-hover.ag-full-width-row.ag-row-group:before,.ag-row-hover:not(.ag-full-width-row):before{background-color:var(--ag-row-hover-color);content:"";display:block;inset:0;pointer-events:none;position:absolute}.ag-row-hover.ag-row-selected:before{background-color:var(--ag-row-hover-color);background-image:linear-gradient(var(--ag-selected-row-background-color),var(--ag-selected-row-background-color))}.ag-row.ag-full-width-row.ag-row-group>*{position:relative}.ag-column-hover{background-color:var(--ag-column-hover-color)}.ag-header-range-highlight{background-color:var(--ag-range-header-highlight-color)}.ag-right-aligned-cell{font-variant-numeric:tabular-nums}:where(.ag-ltr) .ag-right-aligned-cell{text-align:right}:where(.ag-rtl) .ag-right-aligned-cell{text-align:left}.ag-right-aligned-cell .ag-cell-value,.ag-right-aligned-cell .ag-group-value{margin-left:auto}:where(.ag-ltr) .ag-cell:not(.ag-cell-inline-editing),:where(.ag-ltr) .ag-full-width-row .ag-cell-wrapper.ag-row-group{padding-left:calc(var(--ag-cell-horizontal-padding) - 1px + var(--ag-row-group-indent-size)*var(--ag-indentation-level));padding-right:calc(var(--ag-cell-horizontal-padding) - 1px)}:where(.ag-rtl) .ag-cell:not(.ag-cell-inline-editing),:where(.ag-rtl) .ag-full-width-row .ag-cell-wrapper.ag-row-group{padding-left:calc(var(--ag-cell-horizontal-padding) - 1px);padding-right:calc(var(--ag-cell-horizontal-padding) - 1px + var(--ag-row-group-indent-size)*var(--ag-indentation-level))}.ag-row>.ag-cell-wrapper{padding-left:calc(var(--ag-cell-horizontal-padding) - 1px);padding-right:calc(var(--ag-cell-horizontal-padding) - 1px)}.ag-row-dragging{cursor:move;opacity:.5}.ag-details-row{background-color:var(--ag-background-color);padding:calc(var(--ag-spacing)*3.75)}.ag-layout-auto-height,.ag-layout-print{.ag-center-cols-container,.ag-center-cols-viewport{min-height:150px}}.ag-overlay-loading-wrapper{background-color:var(--ag-modal-overlay-background-color)}.ag-skeleton-container{align-content:center;height:100%;width:100%}.ag-skeleton-effect{animation:ag-skeleton-loading 1.5s ease-in-out .5s infinite;background-color:var(--ag-row-loading-skeleton-effect-color);border-radius:.25rem;height:1em;width:100%}:where(.ag-ltr) .ag-right-aligned-cell .ag-skeleton-effect{margin-left:auto}:where(.ag-rtl) .ag-right-aligned-cell .ag-skeleton-effect{margin-right:auto}@keyframes ag-skeleton-loading{0%{opacity:1}50%{opacity:.4}to{opacity:1}}.ag-loading{align-items:center;display:flex;height:100%}:where(.ag-ltr) .ag-loading{padding-left:var(--ag-cell-horizontal-padding)}:where(.ag-rtl) .ag-loading{padding-right:var(--ag-cell-horizontal-padding)}:where(.ag-ltr) .ag-loading-icon{padding-right:var(--ag-cell-widget-spacing)}:where(.ag-rtl) .ag-loading-icon{padding-left:var(--ag-cell-widget-spacing)}.ag-icon-loading{animation-duration:1s;animation-iteration-count:infinite;animation-name:spin;animation-timing-function:linear}@keyframes spin{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}.ag-input-wrapper,.ag-picker-field-wrapper{align-items:center;display:flex;flex:1 1 auto;line-height:normal;position:relative}.ag-input-field{align-items:center;display:flex;flex-direction:row}.ag-input-field-input:where(:not([type=checkbox],[type=radio])){flex:1 1 auto;min-width:0;width:100%}.ag-header{background-color:var(--ag-header-background-color);border-bottom:var(--ag-header-row-border);color:var(--ag-header-text-color);display:flex;font-family:var(--ag-header-font-family);font-size:var(--ag-header-font-size);font-weight:var(--ag-header-font-weight);overflow:hidden;white-space:nowrap;width:100%}.ag-header-row{height:var(--ag-header-height);position:absolute}.ag-floating-filter-button-button,.ag-header-cell-filter-button,.ag-header-cell-menu-button,.ag-header-expand-icon,.ag-panel-title-bar-button,:where(.ag-header-cell-sortable) .ag-header-cell-label{cursor:pointer}:where(.ag-ltr) .ag-header-expand-icon{margin-left:4px}:where(.ag-rtl) .ag-header-expand-icon{margin-right:4px}.ag-header-row:where(:not(:first-child)){:where(.ag-header-cell:not(.ag-header-span-height.ag-header-span-total,.ag-header-parent-hidden),.ag-header-group-cell.ag-header-group-cell-with-group){border-top:var(--ag-header-row-border)}}.ag-header-row:where(:not(.ag-header-row-column-group)){overflow:hidden}:where(.ag-header.ag-header-allow-overflow) .ag-header-row{overflow:visible}.ag-header-cell{display:inline-flex;overflow:hidden}.ag-header-group-cell{contain:paint;display:flex}.ag-header-cell,.ag-header-group-cell{align-items:center;gap:var(--ag-cell-widget-spacing);height:100%;padding:0 var(--ag-cell-horizontal-padding);position:absolute}@property --ag-internal-moving-color{syntax:"<color>";inherits:false;initial-value:transparent}@property --ag-internal-hover-color{syntax:"<color>";inherits:false;initial-value:transparent}.ag-header-cell:where(:not(.ag-floating-filter)),.ag-header-group-cell{&:before{background-image:linear-gradient(var(--ag-internal-hover-color),var(--ag-internal-hover-color)),linear-gradient(var(--ag-internal-moving-color),var(--ag-internal-moving-color));content:"";inset:0;position:absolute;--ag-internal-moving-color:transparent;--ag-internal-hover-color:transparent;transition:--ag-internal-moving-color var(--ag-header-cell-background-transition-duration),--ag-internal-hover-color var(--ag-header-cell-background-transition-duration)}&:where(:hover):before{--ag-internal-hover-color:var(--ag-header-cell-hover-background-color)}&:where(.ag-header-cell-moving):before{--ag-internal-moving-color:var(--ag-header-cell-moving-background-color);--ag-internal-hover-color:var(--ag-header-cell-hover-background-color)}}:where(.ag-header-cell:not(.ag-floating-filter) *,.ag-header-group-cell *){position:relative;z-index:1}.ag-header-cell-menu-button:where(:not(.ag-header-menu-always-show)){opacity:0;transition:opacity .2s}.ag-header-cell-filter-button,:where(.ag-header-cell.ag-header-active) .ag-header-cell-menu-button{opacity:1}.ag-header-cell-label,.ag-header-group-cell-label{align-items:center;align-self:stretch;display:flex;flex:1 1 auto;overflow:hidden;padding:5px 0}:where(.ag-ltr) .ag-sort-indicator-icon{padding-left:var(--ag-spacing)}:where(.ag-rtl) .ag-sort-indicator-icon{padding-right:var(--ag-spacing)}.ag-header-cell-label{text-overflow:ellipsis}.ag-header-group-cell-label.ag-sticky-label{flex:none;max-width:100%;overflow:visible;position:sticky}:where(.ag-ltr) .ag-header-group-cell-label.ag-sticky-label{left:var(--ag-cell-horizontal-padding)}:where(.ag-rtl) .ag-header-group-cell-label.ag-sticky-label{right:var(--ag-cell-horizontal-padding)}.ag-header-cell-text,.ag-header-group-text{overflow:hidden;text-overflow:ellipsis}.ag-header-cell-text{word-break:break-word}.ag-header-cell-comp-wrapper{width:100%}:where(.ag-header-group-cell) .ag-header-cell-comp-wrapper{display:flex}:where(.ag-header-cell:not(.ag-header-cell-auto-height)) .ag-header-cell-comp-wrapper{align-items:center;display:flex;height:100%}.ag-header-cell-wrap-text .ag-header-cell-comp-wrapper{white-space:normal}.ag-header-cell-comp-wrapper-limited-height>*{overflow:hidden}:where(.ag-right-aligned-header) .ag-header-cell-label{flex-direction:row-reverse}:where(.ag-ltr) :where(.ag-header-cell:not(.ag-right-aligned-header)){.ag-header-label-icon,.ag-header-menu-icon{margin-left:var(--ag-spacing)}}:where(.ag-rtl) :where(.ag-header-cell:not(.ag-right-aligned-header)){.ag-header-label-icon,.ag-header-menu-icon{margin-right:var(--ag-spacing)}}:where(.ag-ltr) :where(.ag-header-cell.ag-right-aligned-header){.ag-header-label-icon,.ag-header-menu-icon{margin-right:var(--ag-spacing)}}:where(.ag-rtl) :where(.ag-header-cell.ag-right-aligned-header){.ag-header-label-icon,.ag-header-menu-icon{margin-left:var(--ag-spacing)}}.ag-header-cell:after,.ag-header-group-cell:where(:not(.ag-header-span-height.ag-header-group-cell-no-group)):after{content:"";height:var(--ag-header-column-border-height);position:absolute;top:calc(50% - var(--ag-header-column-border-height)*.5);z-index:1}:where(.ag-ltr) .ag-header-cell:after,:where(.ag-ltr) .ag-header-group-cell:where(:not(.ag-header-span-height.ag-header-group-cell-no-group)):after{border-right:var(--ag-header-column-border);right:0}:where(.ag-rtl) .ag-header-cell:after,:where(.ag-rtl) .ag-header-group-cell:where(:not(.ag-header-span-height.ag-header-group-cell-no-group)):after{border-left:var(--ag-header-column-border);left:0}.ag-header-highlight-after:after,.ag-header-highlight-before:after{background-color:var(--ag-accent-color);content:"";height:100%;position:absolute;width:1px}:where(.ag-ltr) .ag-header-highlight-before:after{left:0}:where(.ag-rtl) .ag-header-highlight-before:after{right:0}:where(.ag-ltr) .ag-header-highlight-after:after{right:0;:where(.ag-pinned-left-header) &{right:1px}}:where(.ag-rtl) .ag-header-highlight-after:after{left:0;:where(.ag-pinned-left-header) &{left:1px}}.ag-header-cell-resize{align-items:center;cursor:ew-resize;display:flex;height:100%;position:absolute;top:0;width:8px;z-index:2;&:after{background-color:var(--ag-header-column-resize-handle-color);content:"";height:var(--ag-header-column-resize-handle-height);position:absolute;top:calc(50% - var(--ag-header-column-resize-handle-height)*.5);width:var(--ag-header-column-resize-handle-width);z-index:1}}:where(.ag-ltr) .ag-header-cell-resize{right:-3px;&:after{left:calc(50% - var(--ag-header-column-resize-handle-width))}}:where(.ag-rtl) .ag-header-cell-resize{left:-3px;&:after{right:calc(50% - var(--ag-header-column-resize-handle-width))}}:where(.ag-header-cell.ag-header-span-height) .ag-header-cell-resize:after{height:calc(100% - var(--ag-spacing)*4);top:calc(var(--ag-spacing)*2)}.ag-header-group-cell-no-group:where(.ag-header-span-height){display:none}.ag-sort-indicator-container{display:flex;gap:var(--ag-spacing)}.ag-layout-print{&.ag-body{display:block;height:unset}&.ag-root-wrapper{display:inline-block}.ag-body-horizontal-scroll,.ag-body-vertical-scroll{display:none}&.ag-force-vertical-scroll{overflow-y:visible!important}}@media print{.ag-root-wrapper.ag-layout-print{display:table;.ag-body-horizontal-scroll-viewport,.ag-body-viewport,.ag-center-cols-container,.ag-center-cols-viewport,.ag-root,.ag-root-wrapper-body,.ag-virtual-list-viewport{display:block!important;height:auto!important;overflow:hidden!important}.ag-cell,.ag-row{-moz-column-break-inside:avoid;break-inside:avoid}}}ag-grid,ag-grid-angular{display:block}.ag-chart,.ag-dnd-ghost,.ag-popup,.ag-root-wrapper{cursor:default;line-height:normal;white-space:normal;-webkit-font-smoothing:antialiased;background-color:var(--ag-background-color);color:var(--ag-text-color);color-scheme:var(--ag-browser-color-scheme);font-family:var(--ag-font-family);font-size:var(--ag-font-size);--ag-indentation-level:0}.ag-root-wrapper{border:var(--ag-wrapper-border);border-radius:var(--ag-wrapper-border-radius);display:flex;flex-direction:column;overflow:hidden;position:relative;&.ag-layout-normal{height:100%}}.ag-root-wrapper-body{display:flex;flex-direction:row;&.ag-layout-normal{flex:1 1 auto;height:0;min-height:0}}.ag-root{display:flex;flex-direction:column;position:relative;&.ag-layout-auto-height,&.ag-layout-normal{flex:1 1 auto;overflow:hidden;width:0}&.ag-layout-normal{height:100%}}.ag-drag-handle{color:var(--ag-drag-handle-color);cursor:grab}.ag-list-item,.ag-virtual-list-item{height:var(--ag-list-item-height)}.ag-virtual-list-item{position:absolute;width:100%}.ag-select-list{background-color:var(--ag-picker-list-background-color);border:var(--ag-picker-list-border);border-radius:var(--ag-border-radius);box-shadow:var(--ag-dropdown-shadow);overflow:hidden auto}.ag-list-item{align-items:center;display:flex;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;&.ag-active-item{background-color:var(--ag-row-hover-color)}}.ag-select-list-item{cursor:default;-webkit-user-select:none;-moz-user-select:none;user-select:none;:where(span){overflow:hidden;text-overflow:ellipsis;white-space:nowrap}}:where(.ag-ltr) .ag-select-list-item{padding-left:calc(var(--ag-cell-horizontal-padding)/2)}:where(.ag-rtl) .ag-select-list-item{padding-right:calc(var(--ag-cell-horizontal-padding)/2)}.ag-list-item-hovered:after{background-color:var(--ag-accent-color);content:"";height:1px;left:0;position:absolute;right:0}.ag-item-highlight-top:after{top:0}.ag-item-highlight-bottom:after{bottom:0}:where(.ag-icon):before{align-items:center;background-color:currentcolor;color:inherit;content:"";display:flex;font-family:inherit;font-size:var(--ag-icon-size);font-style:normal;font-variant:normal;height:var(--ag-icon-size);justify-content:center;line-height:var(--ag-icon-size);-webkit-mask-size:contain;mask-size:contain;text-transform:none;width:var(--ag-icon-size)}.ag-icon{background-position:50%;background-repeat:no-repeat;background-size:contain;color:var(--ag-icon-color);display:block;height:var(--ag-icon-size);position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;width:var(--ag-icon-size)}.ag-column-select-column-group-readonly,.ag-column-select-column-readonly,.ag-disabled,[disabled]{.ag-icon{opacity:.5}&.ag-icon-grip{opacity:.35}}.ag-column-select-column-readonly{&.ag-icon-grip,.ag-icon-grip{opacity:.35}}.ag-chart-menu-icon,.ag-chart-settings-next,.ag-chart-settings-prev,.ag-column-group-icons,.ag-column-select-header-icon,.ag-filter-toolpanel-expand,.ag-floating-filter-button-button,.ag-group-title-bar-icon,.ag-header-cell-filter-button,.ag-header-cell-menu-button,.ag-header-expand-icon,.ag-panel-title-bar-button,.ag-panel-title-bar-button-icon,.ag-set-filter-group-icons,:where(.ag-group-contracted) .ag-icon,:where(.ag-group-expanded) .ag-icon{background-color:var(--ag-icon-button-background-color);border-radius:var(--ag-icon-button-border-radius);box-shadow:0 0 0 var(--ag-icon-button-background-spread) var(--ag-icon-button-background-color);color:var(--ag-icon-button-color);&:hover{background-color:var(--ag-icon-button-hover-background-color);box-shadow:0 0 0 var(--ag-icon-button-background-spread) var(--ag-icon-button-hover-background-color);color:var(--ag-icon-button-hover-color)}}.ag-filter-active{background-image:linear-gradient(var(--ag-icon-button-active-background-color),var(--ag-icon-button-active-background-color));border-radius:1px;outline:solid var(--ag-icon-button-background-spread) var(--ag-icon-button-active-background-color);position:relative;&:after{background-color:var(--ag-accent-color);border-radius:50%;content:"";height:6px;position:absolute;top:-1px;width:6px}:where(.ag-icon-filter){clip-path:path("M8,0C8,4.415 11.585,8 16,8L16,16L0,16L0,0L8,0Z");color:var(--ag-icon-button-active-color)}}:where(.ag-ltr) .ag-filter-active{&:after{right:-1px}}:where(.ag-rtl) .ag-filter-active{&:after{left:-1px}}.ag-menu{background-color:var(--ag-menu-background-color);border:var(--ag-menu-border);border-radius:var(--ag-border-radius);box-shadow:var(--ag-menu-shadow);color:var(--ag-menu-text-color);max-height:100%;overflow-y:auto}.ag-menu,.ag-resizer{position:absolute;-webkit-user-select:none;-moz-user-select:none;user-select:none}.ag-resizer{pointer-events:none;z-index:1}:where(.ag-resizer){&.ag-resizer-topLeft{cursor:nwse-resize;height:5px;left:0;top:0;width:5px}&.ag-resizer-top{cursor:ns-resize;height:5px;left:5px;right:5px;top:0}&.ag-resizer-topRight{cursor:nesw-resize;height:5px;right:0;top:0;width:5px}&.ag-resizer-right{bottom:5px;cursor:ew-resize;right:0;top:5px;width:5px}&.ag-resizer-bottomRight{bottom:0;cursor:nwse-resize;height:5px;right:0;width:5px}&.ag-resizer-bottom{bottom:0;cursor:ns-resize;height:5px;left:5px;right:5px}&.ag-resizer-bottomLeft{bottom:0;cursor:nesw-resize;height:5px;left:0;width:5px}&.ag-resizer-left{bottom:5px;cursor:ew-resize;left:0;top:5px;width:5px}}',__,N_,sL=typeof window!="object"||!((N_=(__=window==null?void 0:window.document)==null?void 0:__.fonts)!=null&&N_.forEach),IM=new WeakMap,gf=(e,t,i,n,s,r)=>{if(sL)return;n&&(e=`@layer ${CSS.escape(n)} { ${e} }`);let o=IM.get(t);if(o||(o=[],IM.set(t,o)),o.find(f=>f.css===e))return;const a=document.createElement("style");r&&a.setAttribute("nonce",r),a.dataset.agGlobalCss=i,a.textContent=e;const c={css:e,el:a,priority:s};let h;for(const f of o){if(f.priority>s)break;h=f}if(h){h.el.insertAdjacentElement("afterend",a);const f=o.indexOf(h);o.splice(f+1,0,c)}else t.insertBefore(a,t.querySelector(":not(title, meta)")),o.push(c)},DP=(e,t,i)=>{gf(MK,e,"core",t,0,i),Array.from(d5()).sort((n,s)=>n.moduleName.localeCompare(s.moduleName)).forEach(n=>{var s;return(s=n.css)==null?void 0:s.forEach(r=>gf(r,e,`module-${n.moduleName}`,t,0,i))})},kM=new Set,DK=e=>{kM.add(e)},LK=e=>{if(kM.delete(e),kM.size===0){IM=new WeakMap;for(const t of document.head.querySelectorAll("style[data-ag-global-css]"))t.remove()}},Dl=e=>new LP(e),jc="$default",TK=0,LP=class{constructor({feature:e,params:t,modeParams:i={},css:n,cssImports:s}){this.feature=e,this.css=n,this.cssImports=s,this.modeParams={[jc]:{...i[jc]??{},...t??{}},...i}}use(e,t,i){let n=this._inject;if(n==null){let{css:s}=this;if(s){const r=`ag-theme-${this.feature??"part"}-${++TK}`;typeof s=="function"&&(s=s()),s=`:where(.${r}) {
${s}
}
`;for(const o of this.cssImports??[])s=`@import url(${JSON.stringify(o)});
${s}`;n={css:s,class:r}}else n=!1;this._inject=n}return n&&e&&gf(n.css,e,n.class,t,1,i),n?n.class:!1}},AK=e=>e.replace(/[A-Z]/g,t=>`-${t}`).toLowerCase(),TP=e=>`--ag-${AK(e)}`,xa=e=>`var(${TP(e)})`,EK=(e,t,i)=>Math.max(t,Math.min(i,e)),RK=e=>{const t=new Map;return i=>{const n=i;return t.has(n)||t.set(n,e(i)),t.get(n)}},ha=e=>({ref:"accentColor",mix:e}),Xr=e=>({ref:"foregroundColor",mix:e}),Ro=e=>({ref:"foregroundColor",mix:e,onto:"backgroundColor"}),IK=e=>({ref:"foregroundColor",mix:e,onto:"headerBackgroundColor"}),wr={ref:"backgroundColor"},rp={ref:"foregroundColor"},Wc={ref:"accentColor"},jb={backgroundColor:"#fff",foregroundColor:"#181d1f",borderColor:Xr(.15),chromeBackgroundColor:Ro(.02),browserColorScheme:"light"},kK={...jb,textColor:rp,accentColor:"#2196f3",invalidColor:"#e02525",wrapperBorder:!0,rowBorder:!0,headerRowBorder:!0,footerRowBorder:{ref:"rowBorder"},columnBorder:{style:"solid",width:1,color:"transparent"},headerColumnBorder:!1,headerColumnBorderHeight:"100%",pinnedColumnBorder:!0,pinnedRowBorder:!0,sidePanelBorder:!0,sideBarPanelWidth:250,sideBarBackgroundColor:{ref:"chromeBackgroundColor"},sideButtonBarBackgroundColor:{ref:"sideBarBackgroundColor"},sideButtonBarTopPadding:0,sideButtonSelectedUnderlineWidth:2,sideButtonSelectedUnderlineColor:"transparent",sideButtonSelectedUnderlineTransitionDuration:0,sideButtonBackgroundColor:"transparent",sideButtonTextColor:{ref:"textColor"},sideButtonHoverBackgroundColor:{ref:"sideButtonBackgroundColor"},sideButtonHoverTextColor:{ref:"sideButtonTextColor"},sideButtonSelectedBackgroundColor:wr,sideButtonSelectedTextColor:{ref:"sideButtonTextColor"},sideButtonBorder:"solid 1px transparent",sideButtonSelectedBorder:!0,sideButtonLeftPadding:{ref:"spacing"},sideButtonRightPadding:{ref:"spacing"},sideButtonVerticalPadding:{calc:"spacing * 3"},fontFamily:["-apple-system","BlinkMacSystemFont","Segoe UI","Roboto","Oxygen-Sans","Ubuntu","Cantarell","Helvetica Neue","sans-serif"],headerBackgroundColor:{ref:"chromeBackgroundColor"},headerFontFamily:{ref:"fontFamily"},cellFontFamily:{ref:"fontFamily"},headerFontWeight:500,headerFontSize:{ref:"fontSize"},dataFontSize:{ref:"fontSize"},headerTextColor:{ref:"textColor"},headerCellHoverBackgroundColor:"transparent",headerCellMovingBackgroundColor:{ref:"headerCellHoverBackgroundColor"},headerCellBackgroundTransitionDuration:"0.2s",cellTextColor:{ref:"textColor"},subtleTextColor:{ref:"textColor",mix:.5},rangeSelectionBorderStyle:"solid",rangeSelectionBorderColor:Wc,rangeSelectionBackgroundColor:ha(.2),rangeSelectionChartBackgroundColor:"#0058FF1A",rangeSelectionChartCategoryBackgroundColor:"#00FF841A",rangeSelectionHighlightColor:ha(.5),rangeHeaderHighlightColor:IK(.08),rowNumbersSelectedColor:ha(.5),rowHoverColor:ha(.08),columnHoverColor:ha(.05),selectedRowBackgroundColor:ha(.12),modalOverlayBackgroundColor:{ref:"backgroundColor",mix:.66},oddRowBackgroundColor:wr,borderRadius:4,wrapperBorderRadius:8,cellHorizontalPadding:{calc:"spacing * 2 * cellHorizontalPaddingScale"},cellWidgetSpacing:{calc:"spacing * 1.5"},cellHorizontalPaddingScale:1,rowGroupIndentSize:{calc:"cellWidgetSpacing + iconSize"},valueChangeDeltaUpColor:"#43a047",valueChangeDeltaDownColor:"#e53935",valueChangeValueHighlightBackgroundColor:"#16a08580",spacing:8,fontSize:14,rowHeight:{calc:"max(iconSize, dataFontSize) + spacing * 3.25 * rowVerticalPaddingScale"},rowVerticalPaddingScale:1,headerHeight:{calc:"max(iconSize, dataFontSize) + spacing * 4 * headerVerticalPaddingScale"},headerVerticalPaddingScale:1,popupShadow:"0 0 16px #00000026",cardShadow:"0 1px 4px 1px #00000018",dropdownShadow:{ref:"cardShadow"},dragAndDropImageBackgroundColor:wr,dragAndDropImageBorder:!0,dragAndDropImageShadow:{ref:"popupShadow"},dragHandleColor:Xr(.7),focusShadow:{spread:3,color:ha(.5)},headerColumnResizeHandleHeight:"30%",headerColumnResizeHandleWidth:2,headerColumnResizeHandleColor:{ref:"borderColor"},widgetContainerHorizontalPadding:{calc:"spacing * 1.5"},widgetContainerVerticalPadding:{calc:"spacing * 1.5"},widgetHorizontalSpacing:{calc:"spacing * 1.5"},widgetVerticalSpacing:{ref:"spacing"},listItemHeight:{calc:"max(iconSize, dataFontSize) + widgetVerticalSpacing"},iconSize:16,iconColor:"inherit",iconButtonColor:{ref:"iconColor"},iconButtonBackgroundColor:"transparent",iconButtonBackgroundSpread:4,iconButtonBorderRadius:1,iconButtonHoverColor:{ref:"iconButtonColor"},iconButtonHoverBackgroundColor:Xr(.1),iconButtonActiveColor:Wc,iconButtonActiveBackgroundColor:ha(.28),iconButtonActiveIndicatorColor:Wc,toggleButtonWidth:28,toggleButtonHeight:18,toggleButtonOnBackgroundColor:Wc,toggleButtonOffBackgroundColor:Ro(.3),toggleButtonSwitchBackgroundColor:wr,toggleButtonSwitchInset:2,menuBorder:{color:Xr(.2)},menuBackgroundColor:Ro(.03),menuTextColor:Ro(.95),menuShadow:{ref:"popupShadow"},menuSeparatorColor:{ref:"borderColor"},setFilterIndentSize:{ref:"iconSize"},chartMenuPanelWidth:260,chartMenuLabelColor:Xr(.8),dialogShadow:{ref:"popupShadow"},cellEditingBorder:{color:Wc},cellEditingShadow:{ref:"cardShadow"},dialogBorder:{color:Xr(.2)},panelBackgroundColor:wr,panelTitleBarBackgroundColor:{ref:"headerBackgroundColor"},panelTitleBarIconColor:{ref:"headerTextColor"},panelTitleBarTextColor:{ref:"headerTextColor"},panelTitleBarFontWeight:{ref:"headerFontWeight"},panelTitleBarBorder:!0,columnSelectIndentSize:{ref:"iconSize"},toolPanelSeparatorBorder:!0,tooltipBackgroundColor:{ref:"chromeBackgroundColor"},tooltipTextColor:{ref:"textColor"},tooltipBorder:!0,columnDropCellBackgroundColor:Xr(.07),columnDropCellTextColor:{ref:"textColor"},columnDropCellDragHandleColor:{ref:"textColor"},columnDropCellBorder:{color:Xr(.13)},selectCellBackgroundColor:Xr(.07),selectCellBorder:{color:Xr(.13)},advancedFilterBuilderButtonBarBorder:!0,advancedFilterBuilderIndentSize:{calc:"spacing * 2 + iconSize"},advancedFilterBuilderJoinPillColor:"#f08e8d",advancedFilterBuilderColumnPillColor:"#a6e194",advancedFilterBuilderOptionPillColor:"#f3c08b",advancedFilterBuilderValuePillColor:"#85c0e4",findMatchColor:rp,findMatchBackgroundColor:"#ffff00",findActiveMatchColor:rp,findActiveMatchBackgroundColor:"#ffa500",filterToolPanelGroupIndent:{ref:"spacing"},rowLoadingSkeletonEffectColor:Xr(.15),statusBarLabelColor:rp,statusBarLabelFontWeight:500,statusBarValueColor:rp,statusBarValueFontWeight:500},_K=":where(.ag-button){background:none;border:none;color:inherit;cursor:pointer;font-family:inherit;font-size:inherit;font-weight:inherit;letter-spacing:inherit;line-height:inherit;margin:0;padding:0;text-indent:inherit;text-shadow:inherit;text-transform:inherit;word-spacing:inherit;&:disabled{cursor:default}&:focus-visible{box-shadow:var(--ag-focus-shadow);outline:none}}.ag-standard-button{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:var(--ag-button-background-color);border:var(--ag-button-border);border-radius:var(--ag-button-border-radius);color:var(--ag-button-text-color);cursor:pointer;font-weight:var(--ag-button-font-weight);padding:var(--ag-button-vertical-padding) var(--ag-button-horizontal-padding);&:hover{background-color:var(--ag-button-hover-background-color);border:var(--ag-button-hover-border);color:var(--ag-button-hover-text-color)}&:active{background-color:var(--ag-button-active-background-color);border:var(--ag-button-active-border);color:var(--ag-button-active-text-color)}&:disabled{background-color:var(--ag-button-disabled-background-color);border:var(--ag-button-disabled-border);color:var(--ag-button-disabled-text-color)}}",NK={buttonTextColor:"inherit",buttonFontWeight:"normal",buttonBackgroundColor:"transparent",buttonBorder:!1,buttonBorderRadius:{ref:"borderRadius"},buttonHorizontalPadding:{calc:"spacing * 2"},buttonVerticalPadding:{ref:"spacing"},buttonHoverTextColor:{ref:"buttonTextColor"},buttonHoverBackgroundColor:{ref:"buttonBackgroundColor"},buttonHoverBorder:{ref:"buttonBorder"},buttonActiveTextColor:{ref:"buttonHoverTextColor"},buttonActiveBackgroundColor:{ref:"buttonHoverBackgroundColor"},buttonActiveBorder:{ref:"buttonHoverBorder"},buttonDisabledTextColor:{ref:"inputDisabledTextColor"},buttonDisabledBackgroundColor:{ref:"inputDisabledBackgroundColor"},buttonDisabledBorder:{ref:"inputDisabledBorder"}},OK=()=>Dl({feature:"buttonStyle",params:{...NK,buttonBackgroundColor:wr,buttonBorder:!0,buttonHoverBackgroundColor:{ref:"rowHoverColor"},buttonActiveBorder:{color:Wc}},css:_K}),PK=OK(),FK=".ag-column-drop-vertical-empty-message{align-items:center;border:1px dashed;border-color:var(--ag-border-color);display:flex;inset:0;justify-content:center;margin:calc(var(--ag-spacing)*1.5) calc(var(--ag-spacing)*2);overflow:hidden;padding:calc(var(--ag-spacing)*2);position:absolute}",BK=()=>Dl({feature:"columnDropStyle",css:FK}),AP=BK(),zK=["colorScheme","color","length","scale","borderStyle","border","shadow","image","fontFamily","fontWeight","duration"],GK=RK(e=>(e=e.toLowerCase(),zK.find(t=>e.endsWith(t.toLowerCase()))??"length")),HC=e=>typeof e=="object"&&(e!=null&&e.ref)?xa(e.ref):typeof e=="string"?e:typeof e=="number"?String(e):!1,rL=e=>{if(typeof e=="string")return e;if(e&&"ref"in e){const t=xa(e.ref);return e.mix==null?t:`color-mix(in srgb, ${e.onto?xa(e.onto):"transparent"}, ${t} ${EK(e.mix*100,0,100)}%)`}return!1},HK=HC,Xd=e=>typeof e=="string"?e:typeof e=="number"?`${e}px`:e&&"calc"in e?`calc(${e.calc.replace(/ ?[*/+] ?/g," $& ").replace(/-?\b[a-z][a-z0-9]*\b(?![-(])/gi,i=>i[0]==="-"?i:` ${xa(i)} `)})`:e&&"ref"in e?xa(e.ref):!1,jK=HC,VK=(e,t)=>typeof e=="string"?e:e===!0?"solid 1px var(--ag-border-color)":e===!1?t==="columnBorder"?"solid 1px transparent":"none":e&&"ref"in e?xa(e.ref):EP(e.style??"solid")+" "+Xd(e.width??1)+" "+rL(e.color??{ref:"borderColor"}),WK=e=>typeof e=="string"?e:e===!1?"none":e&&"ref"in e?xa(e.ref):[Xd(e.offsetX??0),Xd(e.offsetY??0),Xd(e.radius??0),Xd(e.spread??0),rL(e.color??{ref:"foregroundColor"})].join(" "),EP=HC,RP=e=>typeof e=="string"?e.includes(",")?e:P1(e):e&&"googleFont"in e?RP(e.googleFont):e&&"ref"in e?xa(e.ref):Array.isArray(e)?e.map(t=>(typeof t=="object"&&"googleFont"in t&&(t=t.googleFont),P1(t))).join(", "):!1,P1=e=>/^[\w-]+$|\w\(/.test(e)?e:JSON.stringify(e),UK=HC,IP=e=>typeof e=="string"?e:e&&"url"in e?`url(${JSON.stringify(e.url)})`:e&&"svg"in e?IP({url:`data:image/svg+xml,${encodeURIComponent(e.svg)}`}):e&&"ref"in e?xa(e.ref):!1,YK=(e,t)=>typeof e=="string"?e:typeof e=="number"?(e>=10&&Mr(104,{value:e,param:t}),`${e}s`):e&&"ref"in e?xa(e.ref):!1,KK={color:rL,colorScheme:HK,length:Xd,scale:jK,border:VK,borderStyle:EP,shadow:WK,image:IP,fontFamily:RP,fontWeight:UK,duration:YK},$K=(e,t)=>{const i=GK(e);return KK[i](t,e)},ZK=()=>new kP().withPart(PK).withPart(AP),kP=class _P{constructor(t=[]){this.parts=t}withPart(t){return typeof t=="function"&&(t=t()),t instanceof LP?new _P([...this.parts,t]):(wM(259,{part:t},"Invalid part"),this)}withoutPart(t){return this.withPart(Dl({feature:t}))}withParams(t,i=jc){return this.withPart(Dl({modeParams:{[i]:t}}))}_startUse({styleContainer:t,cssLayer:i,nonce:n,loadThemeGoogleFonts:s}){if(sL)return;qK(),DP(t,i,n);const r=XK(this);if(r.length>0)for(const o of r)s&&JK(o,n);for(const o of this.parts)o.use(t,i,n)}_getCssClass(){return this._cssClassCache??(this._cssClassCache=F1(this.parts).map(t=>t.use(void 0,void 0,void 0)).filter(Boolean).join(" "))}_getModeParams(){let t=this._paramsCache;if(!t){const i={[jc]:{...kK}};for(const n of F1(this.parts))for(const s of Object.keys(n.modeParams)){const r=n.modeParams[s];if(r){const o=i[s]??(i[s]={}),a=new Set;for(const c of Object.keys(r)){const h=r[c];h!==void 0&&(o[c]=h,a.add(c))}if(s===jc)for(const c of Object.keys(i)){const h=i[c];if(c!==jc)for(const f of a)delete h[f]}}}this._paramsCache=t=i}return t}_getPerGridCss(t){const i="##SELECTOR##";let n=this._paramsCssCache;if(!n){let s="",r="";const o=this._getModeParams();for(const c of Object.keys(o)){const h=o[c];if(c!==jc){const p=`:where([data-ag-theme-mode="${typeof CSS=="object"?CSS.escape(c):c}"]) & {
`;s+=p,r+=p}for(const f of Object.keys(h).sort()){const p=h[f],m=$K(f,p);if(m===!1)Mr(107,{key:f,value:p});else{const b=TP(f),C=b.replace("--ag-","--ag-inherited-");s+=`	${b}: var(${C}, ${m});
`,r+=`	${C}: var(${b});
`}}c!==jc&&(s+=`}
`,r+=`}
`)}let a=`${i} {
${s}}
`;a+=`:has(> ${i}):not(${i}) {
${r}}
`,this._paramsCssCache=n=a}return n.replaceAll(i,`:where(.${t})`)}},F1=e=>{const t=new Map;for(const n of e)t.set(n.feature,n);const i=[];for(const n of e)(!n.feature||t.get(n.feature)===n)&&i.push(n);return i},XK=e=>{const t=new Set,i=r=>{if(Array.isArray(r))r.forEach(i);else{const o=r==null?void 0:r.googleFont;typeof o=="string"&&t.add(o)}};return Object.values(e._getModeParams()).flatMap(r=>Object.values(r)).forEach(i),Array.from(t).sort()},B1=!1,qK=()=>{if(!B1){B1=!0;for(const e of Array.from(document.head.querySelectorAll('style[data-ag-scope="legacy"]')))e.remove()}},QK=new Set,JK=async(e,t)=>{QK.add(e);const i=`@import url('https://${e$}/css2?family=${encodeURIComponent(e)}:wght@100;200;300;400;500;600;700;800;900&display=swap');
`;gf(i,document.head,`googleFont:${e}`,void 0,0,t)},e$="fonts.googleapis.com",t$='.ag-checkbox-input-wrapper,.ag-radio-button-input-wrapper{background-color:var(--ag-checkbox-unchecked-background-color);border:solid var(--ag-checkbox-border-width) var(--ag-checkbox-unchecked-border-color);flex:none;height:var(--ag-icon-size);position:relative;width:var(--ag-icon-size);:where(input){-webkit-appearance:none;-moz-appearance:none;appearance:none;cursor:pointer;display:block;height:var(--ag-icon-size);margin:0;opacity:0;width:var(--ag-icon-size)}&:after{content:"";display:block;inset:0;-webkit-mask-position:center;mask-position:center;-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat;pointer-events:none;position:absolute}&:where(.ag-checked){background-color:var(--ag-checkbox-checked-background-color);border-color:var(--ag-checkbox-checked-border-color);&:after{background-color:var(--ag-checkbox-checked-shape-color)}}&:where(:focus-within,:active){box-shadow:var(--ag-focus-shadow)}&:where(.ag-disabled){filter:grayscale();opacity:.5}}.ag-checkbox-input-wrapper{border-radius:var(--ag-checkbox-border-radius);&:where(.ag-checked):after{-webkit-mask-image:var(--ag-checkbox-checked-shape-image);mask-image:var(--ag-checkbox-checked-shape-image)}&:where(.ag-indeterminate){background-color:var(--ag-checkbox-indeterminate-background-color);border-color:var(--ag-checkbox-indeterminate-border-color);&:after{background-color:var(--ag-checkbox-indeterminate-shape-color);-webkit-mask-image:var(--ag-checkbox-indeterminate-shape-image);mask-image:var(--ag-checkbox-indeterminate-shape-image)}}}.ag-radio-button-input-wrapper{border-radius:100%;&:where(.ag-checked):after{-webkit-mask-image:var(--ag-radio-checked-shape-image);mask-image:var(--ag-radio-checked-shape-image)}}',i$=()=>Dl({feature:"checkboxStyle",params:{checkboxBorderWidth:1,checkboxBorderRadius:{ref:"borderRadius"},checkboxUncheckedBackgroundColor:wr,checkboxUncheckedBorderColor:Ro(.3),checkboxCheckedBackgroundColor:Wc,checkboxCheckedBorderColor:{ref:"checkboxCheckedBackgroundColor"},checkboxCheckedShapeImage:{svg:'<svg xmlns="http://www.w3.org/2000/svg" width="10" height="7" fill="none"><path stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.75" d="M1 3.5 3.5 6l5-5"/></svg>'},checkboxCheckedShapeColor:wr,checkboxIndeterminateBackgroundColor:Ro(.3),checkboxIndeterminateBorderColor:{ref:"checkboxIndeterminateBackgroundColor"},checkboxIndeterminateShapeImage:{svg:'<svg xmlns="http://www.w3.org/2000/svg" width="10" height="2" fill="none"><rect width="10" height="2" fill="#000" rx="1"/></svg>'},checkboxIndeterminateShapeColor:wr,radioCheckedShapeImage:{svg:'<svg xmlns="http://www.w3.org/2000/svg" width="6" height="6" fill="none"><circle cx="3" cy="3" r="3" fill="#000"/></svg>'}},css:t$}),n$=i$(),NP=()=>({...jb,backgroundColor:"hsl(217, 0%, 17%)",foregroundColor:"#FFF",chromeBackgroundColor:Ro(.05),rowHoverColor:ha(.15),selectedRowBackgroundColor:ha(.2),menuBackgroundColor:Ro(.1),browserColorScheme:"dark",popupShadow:"0 0px 20px #000A",cardShadow:"0 1px 4px 1px #000A",advancedFilterBuilderJoinPillColor:"#7a3a37",advancedFilterBuilderColumnPillColor:"#355f2d",advancedFilterBuilderOptionPillColor:"#5a3168",advancedFilterBuilderValuePillColor:"#374c86",findMatchColor:wr,findActiveMatchColor:wr,checkboxUncheckedBorderColor:Ro(.4),toggleButtonOffBackgroundColor:Ro(.4)}),s$=()=>({...NP(),backgroundColor:"#1f2836"}),r$=()=>Dl({feature:"colorScheme",params:jb,modeParams:{light:jb,dark:NP(),"dark-blue":s$()}}),o$=r$(),OP={aggregation:'<path d="M18 7V4H6l6 8-6 8h12v-3"/>',arrows:'<polyline points="5 9 2 12 5 15"/><polyline points="9 5 12 2 15 5"/><polyline points="15 19 12 22 9 19"/><polyline points="19 9 22 12 19 15"/><line x1="2" x2="22" y1="12" y2="12"/><line x1="12" x2="12" y1="2" y2="22"/>',asc:'<path d="m5 12 7-7 7 7"/><path d="M12 19V5"/>',cancel:'<path d="m18 6-12 12"/><path d="m6 6 12 12"/>',chart:'<line x1="18" x2="18" y1="20" y2="10"/><line x1="12" x2="12" y1="20" y2="4"/><line x1="6" x2="6" y1="20" y2="14"/>',"color-picker":'<path d="m19 11-8-8-8.6 8.6a2 2 0 0 0 0 2.8l5.2 5.2c.8.8 2 .8 2.8 0L19 11Z"/><path d="m5 2 5 5"/><path d="M2 13h15"/><path d="M22 20a2 2 0 1 1-4 0c0-1.6 1.7-2.4 2-4 .3 1.6 2 2.4 2 4Z"/>',columns:'<path d="M9 3H5a2 2 0 0 0-2 2v4m6-6h10a2 2 0 0 1 2 2v4M9 3v18m0 0h10a2 2 0 0 0 2-2V9M9 21H5a2 2 0 0 1-2-2V9m0 0h18"/>',contracted:'<path d="m9 18 6-6-6-6"/>',copy:'<rect width="14" height="14" x="8" y="8" rx="2" ry="2"/><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"/>',cross:'<path d="M18 6 6 18"/><path d="m6 6 12 12"/>',csv:'<path d="M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"/><polyline points="14 2 14 8 20 8"/><path d="M8 13h2"/><path d="M8 17h2"/><path d="M14 13h2"/><path d="M14 17h2"/>',cut:'<circle cx="6" cy="6" r="3"/><path d="M8.12 8.12 12 12"/><path d="M20 4 8.12 15.88"/><circle cx="6" cy="18" r="3"/><path d="M14.8 14.8 20 20"/>',desc:'<path d="M12 5v14"/><path d="m19 12-7 7-7-7"/>',down:'<path d="M12 5v14"/><path d="m19 12-7 7-7-7"/>',excel:'<path d="M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"/><polyline points="14 2 14 8 20 8"/><path d="M8 13h2"/><path d="M8 17h2"/><path d="M14 13h2"/><path d="M14 17h2"/>',expanded:'<path d="m15 18-6-6 6-6"/>',"eye-slash":'<path d="M9.88 9.88a3 3 0 1 0 4.24 4.24"/><path d="M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68"/><path d="M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61"/><line x1="2" x2="22" y1="2" y2="22"/>',eye:'<path d="M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z"/><circle cx="12" cy="12" r="3"/>',filter:'<path d="M3 6h18"/><path d="M7 12h10"/><path d="M10 18h4"/>',first:'<path d="m17 18-6-6 6-6"/><path d="M7 6v12"/>',group:'<path d="M16 12H3"/><path d="M16 18H3"/><path d="M10 6H3"/><path d="M21 18V8a2 2 0 0 0-2-2h-5"/><path d="m16 8-2-2 2-2"/>',last:'<path d="m7 18 6-6-6-6"/><path d="M17 6v12"/>',left:'<path d="m12 19-7-7 7-7"/><path d="M19 12H5"/>',linked:'<path d="M9 17H7A5 5 0 0 1 7 7h2"/><path d="M15 7h2a5 5 0 1 1 0 10h-2"/><line x1="8" x2="16" y1="12" y2="12"/>',loading:'<line x1="12" x2="12" y1="2" y2="6"/><line x1="12" x2="12" y1="18" y2="22"/><line x1="4.93" x2="7.76" y1="4.93" y2="7.76"/><line x1="16.24" x2="19.07" y1="16.24" y2="19.07"/><line x1="2" x2="6" y1="12" y2="12"/><line x1="18" x2="22" y1="12" y2="12"/><line x1="4.93" x2="7.76" y1="19.07" y2="16.24"/><line x1="16.24" x2="19.07" y1="7.76" y2="4.93"/>',maximize:'<polyline points="15 3 21 3 21 9"/><polyline points="9 21 3 21 3 15"/><line x1="21" x2="14" y1="3" y2="10"/><line x1="3" x2="10" y1="21" y2="14"/>',menu:'<line x1="4" x2="20" y1="12" y2="12"/><line x1="4" x2="20" y1="6" y2="6"/><line x1="4" x2="20" y1="18" y2="18"/>',"menu-alt":'<circle cx="12" cy="5" r="0.75" fill="#D9D9D9"/><circle cx="12" cy="12" r="0.75" fill="#D9D9D9"/><circle cx="12" cy="19" r="0.75" fill="#D9D9D9"/>',minimize:'<polyline points="4 14 10 14 10 20"/><polyline points="20 10 14 10 14 4"/><line x1="14" x2="21" y1="10" y2="3"/><line x1="3" x2="10" y1="21" y2="14"/>',minus:'<circle cx="12" cy="12" r="10"/><path d="M8 12h8"/>',next:'<path d="m9 18 6-6-6-6"/>',none:'<path d="m7 15 5 5 5-5"/><path d="m7 9 5-5 5 5"/>',"not-allowed":'<circle cx="12" cy="12" r="10"/><path d="m4.9 4.9 14.2 14.2"/>',paste:'<path d="M15 2H9a1 1 0 0 0-1 1v2c0 .6.4 1 1 1h6c.6 0 1-.4 1-1V3c0-.6-.4-1-1-1Z"/><path d="M8 4H6a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2M16 4h2a2 2 0 0 1 2 2v2M11 14h10"/><path d="m17 10 4 4-4 4"/>',pin:'<line x1="12" x2="12" y1="17" y2="22"/><path d="M5 17h14v-1.76a2 2 0 0 0-1.11-1.79l-1.78-.9A2 2 0 0 1 15 10.76V6h1a2 2 0 0 0 0-4H8a2 2 0 0 0 0 4h1v4.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24Z"/>',pivot:'<path d="M15 3v18"/><rect width="18" height="18" x="3" y="3" rx="2"/><path d="M21 9H3"/><path d="M21 15H3"/>',plus:'<circle cx="12" cy="12" r="10"/><path d="M8 12h8"/><path d="M12 8v8"/>',previous:'<path d="m15 18-6-6 6-6"/>',right:'<path d="M5 12h14"/><path d="m12 5 7 7-7 7"/>',save:'<path d="M12 17V3"/><path d="m6 11 6 6 6-6"/><path d="M19 21H5"/>',"small-left":'<path d="m15 18-6-6 6-6"/>',"small-right":'<path d="m9 18 6-6-6-6"/>',tick:'<path d="M20 6 9 17l-5-5"/>',"tree-closed":'<path d="m9 18 6-6-6-6"/>',"tree-indeterminate":'<path d="M5 12h14"/>',"tree-open":'<path d="m6 9 6 6 6-6"/>',unlinked:'<path d="M9 17H7A5 5 0 0 1 7 7"/><path d="M15 7h2a5 5 0 0 1 4 8"/><line x1="8" x2="12" y1="12" y2="12"/><line x1="2" x2="22" y1="2" y2="22"/>',up:'<path d="m5 12 7-7 7 7"/><path d="M12 19V5"/>',grip:'<circle cx="5" cy="8" r="0.5"/><circle cx="12" cy="8" r="0.5"/><circle cx="19" cy="8" r="0.5"/><circle cx="5" cy="16" r="0.5"/><circle cx="12" cy="16" r="0.5"/><circle cx="19" cy="16" r="0.5"/><g stroke="none" fill="currentColor"><circle cx="5" cy="8" r="1"/><circle cx="12" cy="8" r="1"/><circle cx="19" cy="8" r="1"/><circle cx="5" cy="16" r="1"/><circle cx="12" cy="16" r="1"/><circle cx="19" cy="16" r="1"/></g>',settings:'<path d="M20 7h-9"/><path d="M14 17H5"/><circle cx="17" cy="17" r="3"/><circle cx="7" cy="7" r="3"/>'},PP={"small-down":'<svg xmlns="http://www.w3.org/2000/svg" class="ag-icon" fill="black" stroke="none" viewBox="0 0 32 32"><path d="M7.334 10.667 16 21.334l8.667-10.667H7.334Z"/></svg>',"small-up":'<svg xmlns="http://www.w3.org/2000/svg" class="ag-icon" fill="black" stroke="none" viewBox="0 0 32 32"><path d="M7.334 21.333 16 10.666l8.667 10.667H7.334Z"/></svg>'},a$=(e={})=>{let t="";for(const i of[...Object.keys(OP),...Object.keys(PP)]){const n=l$(i,e.strokeWidth);t+=`.ag-icon-${i}::before { mask-image: url('data:image/svg+xml,${encodeURIComponent(n)}'); }
`}return t},l$=(e,t=1.5)=>{const i=PP[e];if(i)return i;const n=OP[e];if(!n)throw new Error(`Missing icon data for ${e}`);return`<svg xmlns="http://www.w3.org/2000/svg" class="ag-icon" fill="none" stroke-linecap="round" stroke-linejoin="round" stroke="black" stroke-width="${t}" viewBox="0 0 24 24"><style>* { vector-effect: non-scaling-stroke; }</style>`+n+"</svg>"},c$=(e={})=>Dl({feature:"iconSet",css:()=>a$(e)}),u$=c$(),h$=':where(.ag-input-field-input[type=number]:not(.ag-number-field-input-stepper)){-webkit-appearance:textfield;-moz-appearance:textfield;appearance:textfield;&::-webkit-inner-spin-button,&::-webkit-outer-spin-button{-webkit-appearance:none;appearance:none;margin:0}}:where(input.ag-input-field-input:not([type]),input.ag-input-field-input[type=text],input.ag-input-field-input[type=number],input.ag-input-field-input[type=tel],input.ag-input-field-input[type=date],input.ag-input-field-input[type=datetime-local],textarea.ag-input-field-input){background-color:var(--ag-input-background-color);border:var(--ag-input-border);border-radius:var(--ag-input-border-radius);color:var(--ag-input-text-color);font-family:inherit;font-size:inherit;line-height:inherit;margin:0;min-height:var(--ag-input-height);padding:0;&:where(:disabled){background-color:var(--ag-input-disabled-background-color);border:var(--ag-input-disabled-border);color:var(--ag-input-disabled-text-color)}&:where(:focus){background-color:var(--ag-input-focus-background-color);border:var(--ag-input-focus-border);box-shadow:var(--ag-input-focus-shadow);color:var(--ag-input-focus-text-color);outline:none}&:where(:invalid){background-color:var(--ag-input-invalid-background-color);border:var(--ag-input-invalid-border);color:var(--ag-input-invalid-text-color)}&:where(.invalid){background-color:var(--ag-input-invalid-background-color);border:var(--ag-input-invalid-border);color:var(--ag-input-invalid-text-color)}&::-moz-placeholder{color:var(--ag-input-placeholder-text-color)}&::placeholder{color:var(--ag-input-placeholder-text-color)}}:where(.ag-ltr) :where(input.ag-input-field-input:not([type]),input.ag-input-field-input[type=text],input.ag-input-field-input[type=number],input.ag-input-field-input[type=tel],input.ag-input-field-input[type=date],input.ag-input-field-input[type=datetime-local],textarea.ag-input-field-input){padding-left:var(--ag-input-padding-start)}:where(.ag-rtl) :where(input.ag-input-field-input:not([type]),input.ag-input-field-input[type=text],input.ag-input-field-input[type=number],input.ag-input-field-input[type=tel],input.ag-input-field-input[type=date],input.ag-input-field-input[type=datetime-local],textarea.ag-input-field-input){padding-right:var(--ag-input-padding-start)}:where(.ag-column-select-header-filter-wrapper,.ag-filter-toolpanel-search,.ag-mini-filter,.ag-filter-filter){.ag-input-wrapper:before{background-color:currentcolor;color:var(--ag-input-icon-color);content:"";display:block;height:12px;-webkit-mask-image:url("data:image/svg+xml;charset=utf-8;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMiIgaGVpZ2h0PSIxMiIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS13aWR0aD0iMS41Ij48cGF0aCBkPSJNNS4zIDlhMy43IDMuNyAwIDEgMCAwLTcuNSAzLjcgMy43IDAgMCAwIDAgNy41Wk0xMC41IDEwLjUgOC4zIDguMiIvPjwvc3ZnPg==");mask-image:url("data:image/svg+xml;charset=utf-8;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMiIgaGVpZ2h0PSIxMiIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS13aWR0aD0iMS41Ij48cGF0aCBkPSJNNS4zIDlhMy43IDMuNyAwIDEgMCAwLTcuNSAzLjcgMy43IDAgMCAwIDAgNy41Wk0xMC41IDEwLjUgOC4zIDguMiIvPjwvc3ZnPg==");-webkit-mask-position:center;mask-position:center;-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat;opacity:.5;position:absolute;width:12px}}:where(.ag-ltr) :where(.ag-column-select-header-filter-wrapper,.ag-filter-toolpanel-search,.ag-mini-filter,.ag-filter-filter){.ag-input-wrapper:before{margin-left:var(--ag-spacing)}.ag-number-field-input,.ag-text-field-input{padding-left:calc(var(--ag-spacing)*1.5 + 12px)}}:where(.ag-rtl) :where(.ag-column-select-header-filter-wrapper,.ag-filter-toolpanel-search,.ag-mini-filter,.ag-filter-filter){.ag-input-wrapper:before{margin-right:var(--ag-spacing)}.ag-number-field-input,.ag-text-field-input{padding-right:calc(var(--ag-spacing)*1.5 + 12px)}}',d$=":where(input.ag-input-field-input:not([type]),input.ag-input-field-input[type=text],input.ag-input-field-input[type=number],input.ag-input-field-input[type=tel],input.ag-input-field-input[type=date],input.ag-input-field-input[type=datetime-local],textarea.ag-input-field-input){&:focus{box-shadow:var(--ag-focus-shadow)}}",f$={inputBackgroundColor:"transparent",inputBorder:!1,inputBorderRadius:0,inputTextColor:{ref:"textColor"},inputPlaceholderTextColor:{ref:"inputTextColor",mix:.5},inputPaddingStart:0,inputHeight:{calc:"max(iconSize, fontSize) + spacing * 2"},inputFocusBackgroundColor:{ref:"inputBackgroundColor"},inputFocusBorder:{ref:"inputBorder"},inputFocusShadow:"none",inputFocusTextColor:{ref:"inputTextColor"},inputDisabledBackgroundColor:{ref:"inputBackgroundColor"},inputDisabledBorder:{ref:"inputBorder"},inputDisabledTextColor:{ref:"inputTextColor"},inputInvalidBackgroundColor:{ref:"inputBackgroundColor"},inputInvalidBorder:{ref:"inputBorder"},inputInvalidTextColor:{ref:"inputTextColor"},inputIconColor:{ref:"inputTextColor"},pickerButtonBorder:!1,pickerButtonFocusBorder:{ref:"inputFocusBorder"},pickerButtonBackgroundColor:{ref:"backgroundColor"},pickerButtonFocusBackgroundColor:{ref:"backgroundColor"},pickerListBorder:!1,pickerListBackgroundColor:{ref:"backgroundColor"}},g$=()=>Dl({feature:"inputStyle",params:{...f$,inputBackgroundColor:wr,inputBorder:!0,inputBorderRadius:{ref:"borderRadius"},inputPaddingStart:{ref:"spacing"},inputFocusBorder:{color:Wc},inputFocusShadow:{ref:"focusShadow"},inputDisabledBackgroundColor:Ro(.06),inputDisabledTextColor:{ref:"textColor",mix:.5},inputInvalidBorder:{color:{ref:"invalidColor"}},pickerButtonBorder:!0,pickerListBorder:!0},css:()=>h$+d$}),p$=g$(),m$='.ag-tabs-header{background-color:var(--ag-tab-bar-background-color);border-bottom:var(--ag-tab-bar-border);display:flex;flex:1;gap:var(--ag-tab-spacing);padding:var(--ag-tab-bar-top-padding) var(--ag-tab-bar-horizontal-padding) 0}.ag-tabs-header-wrapper{display:flex}.ag-tabs-close-button-wrapper{align-items:center;border:0;display:flex;padding:var(--ag-spacing)}:where(.ag-ltr) .ag-tabs-close-button-wrapper{border-right:1px solid var(--ag-border-color)}:where(.ag-rtl) .ag-tabs-close-button-wrapper{border-left:1px solid var(--ag-border-color)}.ag-tabs-close-button{background-color:unset;border:0;cursor:pointer;padding:0}.ag-tab{align-items:center;background-color:var(--ag-tab-background-color);border-left:var(--ag-tab-selected-border-width) solid transparent;border-right:var(--ag-tab-selected-border-width) solid transparent;color:var(--ag-tab-text-color);cursor:pointer;display:flex;flex:1;justify-content:center;padding:var(--ag-tab-top-padding) var(--ag-tab-horizontal-padding) var(--ag-tab-bottom-padding);position:relative;&:hover{background-color:var(--ag-tab-hover-background-color);color:var(--ag-tab-hover-text-color)}&.ag-tab-selected{background-color:var(--ag-tab-selected-background-color);color:var(--ag-tab-selected-text-color)}&:after{background-color:var(--ag-tab-selected-underline-color);bottom:0;content:"";display:block;height:var(--ag-tab-selected-underline-width);left:0;opacity:0;position:absolute;right:0;transition:opacity var(--ag-tab-selected-underline-transition-duration)}&.ag-tab-selected:after{opacity:1}}:where(.ag-ltr) .ag-tab{&.ag-tab-selected{&:where(:not(:first-of-type)){border-left-color:var(--ag-tab-selected-border-color)}&:where(:not(:last-of-type)){border-right-color:var(--ag-tab-selected-border-color)}}}:where(.ag-rtl) .ag-tab{&.ag-tab-selected{&:where(:not(:first-of-type)){border-right-color:var(--ag-tab-selected-border-color)}&:where(:not(:last-of-type)){border-left-color:var(--ag-tab-selected-border-color)}}}',y$={tabBarBackgroundColor:"transparent",tabBarHorizontalPadding:0,tabBarTopPadding:0,tabBackgroundColor:"transparent",tabTextColor:{ref:"textColor"},tabHorizontalPadding:{ref:"spacing"},tabTopPadding:{ref:"spacing"},tabBottomPadding:{ref:"spacing"},tabSpacing:"0",tabHoverBackgroundColor:{ref:"tabBackgroundColor"},tabHoverTextColor:{ref:"tabTextColor"},tabSelectedBackgroundColor:{ref:"tabBackgroundColor"},tabSelectedTextColor:{ref:"tabTextColor"},tabSelectedBorderWidth:1,tabSelectedBorderColor:"transparent",tabSelectedUnderlineColor:"transparent",tabSelectedUnderlineWidth:0,tabSelectedUnderlineTransitionDuration:0,tabBarBorder:!1},v$=()=>Dl({feature:"tabStyle",params:{...y$,tabBarBorder:!0,tabBarBackgroundColor:Xr(.05),tabTextColor:{ref:"textColor",mix:.7},tabSelectedTextColor:{ref:"textColor"},tabHoverTextColor:{ref:"textColor"},tabSelectedBorderColor:{ref:"borderColor"},tabSelectedBackgroundColor:wr},css:m$}),b$=v$(),C$=()=>ZK().withPart(n$).withPart(o$).withPart(u$).withPart(b$).withPart(p$).withPart(AP).withParams({fontFamily:[{googleFont:"IBM Plex Sans"},"-apple-system","BlinkMacSystemFont","Segoe UI","Roboto","Oxygen-Sans","Ubuntu"]}),x$=C$(),S$={cssName:"--ag-cell-horizontal-padding",changeKey:"cellHorizontalPaddingChanged",defaultValue:16},w$={cssName:"--ag-indentation-level",changeKey:"indentationLevelChanged",defaultValue:0,noWarn:!0,cacheDefault:!0},M$={cssName:"--ag-row-group-indent-size",changeKey:"rowGroupIndentSizeChanged",defaultValue:0},z1={cssName:"--ag-row-height",changeKey:"rowHeightChanged",defaultValue:42},G1={cssName:"--ag-header-height",changeKey:"headerHeightChanged",defaultValue:48},H1={cssName:"--ag-list-item-height",changeKey:"listItemHeightChanged",defaultValue:24},Sw={cssName:"--ag-row-border",changeKey:"rowBorderWidthChanged",defaultValue:1,border:!0},D$=0,L$=class extends Be{constructor(){super(...arguments),this.beanName="environment",this.sizeEls=new Map,this.lastKnownValues=new Map,this.sizesMeasured=!1,this.paramsClass=`ag-theme-params-${++D$}`,this.globalCSS=[]}wireBeans(e){const{eGridDiv:t,gridOptions:i}=e;this.eGridDiv=t,this.eStyleContainer=i.themeStyleContainer??(t.getRootNode()===document?document.head:t),this.cssLayer=i.themeCssLayer,this.styleNonce=i.styleNonce}postConstruct(){this.addManagedPropertyListener("theme",()=>this.handleThemeGridOptionChange()),this.handleThemeGridOptionChange(),this.addManagedPropertyListener("rowHeight",()=>this.refreshRowHeightVariable()),this.getSizeEl(z1),this.getSizeEl(G1),this.getSizeEl(H1),this.getSizeEl(Sw),this.refreshRowBorderWidthVariable(),this.addDestroyFunc(()=>LK(this)),this.mutationObserver=new MutationObserver(()=>{this.fireGridStylesChangedEvent("themeChanged")}),this.addDestroyFunc(()=>this.mutationObserver.disconnect())}getDefaultRowHeight(){return this.getCSSVariablePixelValue(z1)}getDefaultHeaderHeight(){return this.getCSSVariablePixelValue(G1)}getDefaultCellHorizontalPadding(){return this.getCSSVariablePixelValue(S$)}getDefaultIndentation(){return this.getCSSVariablePixelValue(w$)}getDefaultRowGroupIndentSize(){return this.getCSSVariablePixelValue(M$)}getCellPaddingLeft(){const e=this.getDefaultCellHorizontalPadding(),t=this.getDefaultIndentation(),i=this.getDefaultRowGroupIndentSize();return e-1+i*t}getCellPaddingRight(){return this.getDefaultCellHorizontalPadding()-1}getCellPadding(){return this.getCellPaddingLeft()+this.getCellPaddingRight()}getDefaultColumnMinWidth(){return Math.min(36,this.getDefaultRowHeight())}getDefaultListItemHeight(){return this.getCSSVariablePixelValue(H1)}getRowBorderWidth(){return this.getCSSVariablePixelValue(Sw)}applyThemeClasses(e){const{gridTheme:t}=this;let i="";if(t)i=`${this.paramsClass} ${t._getCssClass()}`;else{this.mutationObserver.disconnect();let n=this.eGridDiv;for(;n;){let s=!1;for(const r of Array.from(n.classList))r.startsWith("ag-theme-")&&(s=!0,i=i?`${i} ${r}`:r);s&&this.mutationObserver.observe(n,{attributes:!0,attributeFilter:["class"]}),n=n.parentElement}}for(const n of Array.from(e.classList))n.startsWith("ag-theme-")&&e.classList.remove(n);if(i){const n=e.className;e.className=n+(n?" ":"")+i}}refreshRowHeightVariable(){const{eGridDiv:e}=this,t=e.style.getPropertyValue("--ag-line-height").trim(),i=this.gos.get("rowHeight");if(i==null||isNaN(i)||!isFinite(i))return t!==null&&e.style.setProperty("--ag-line-height",null),-1;const n=`${i}px`;return t!=n?(e.style.setProperty("--ag-line-height",n),i):t!=""?parseFloat(t):-1}addGlobalCSS(e,t){this.gridTheme?gf(e,this.eStyleContainer,t,this.cssLayer,0,this.styleNonce):this.globalCSS.push([e,t])}getCSSVariablePixelValue(e){const t=this.lastKnownValues.get(e);if(t!=null)return t;const i=this.measureSizeEl(e);return i==="detached"||i==="no-styles"?(e.cacheDefault&&this.lastKnownValues.set(e,e.defaultValue),e.defaultValue):(this.lastKnownValues.set(e,i),i)}measureSizeEl(e){const t=this.getSizeEl(e);if(t.offsetParent==null)return"detached";const i=t.offsetWidth;return i===ww?"no-styles":(this.sizesMeasured=!0,i)}getMeasurementContainer(){let e=this.eMeasurementContainer;return e||(e=this.eMeasurementContainer=Qc({tag:"div",cls:"ag-measurement-container"}),this.eGridDiv.appendChild(e)),e}getSizeEl(e){let t=this.sizeEls.get(e);if(t)return t;const i=this.getMeasurementContainer();t=Qc({tag:"div"});const{border:n,noWarn:s}=e;n?(t.className="ag-measurement-element-border",t.style.setProperty("--ag-internal-measurement-border",`var(${e.cssName}, solid ${ww}px)`)):t.style.width=`var(${e.cssName}, ${ww}px)`,i.appendChild(t),this.sizeEls.set(e,t);let r=this.measureSizeEl(e);r==="no-styles"&&!s&&Wt(9,{variable:e});const o=Ef(this.beans,t,()=>{const a=this.measureSizeEl(e);a==="detached"||a==="no-styles"||(this.lastKnownValues.set(e,a),a!==r&&(r=a,this.fireGridStylesChangedEvent(e.changeKey)))});return this.addDestroyFunc(()=>o()),t}fireGridStylesChangedEvent(e){e==="rowBorderWidthChanged"&&this.refreshRowBorderWidthVariable(),this.eventSvc.dispatchEvent({type:"gridStylesChanged",[e]:!0})}refreshRowBorderWidthVariable(){const e=this.getCSSVariablePixelValue(Sw);this.eGridDiv.style.setProperty("--ag-internal-row-border-width",`${e}px`)}handleThemeGridOptionChange(){const{gos:e,eGridDiv:t,globalCSS:i,gridTheme:n}=this,s=e.get("theme");let r;if(s==="legacy")r=void 0;else{const o=s??x$;o instanceof kP?r=o:Mr(240,{theme:o})}if(r!==n){if(r){DK(this),DP(this.eStyleContainer,this.cssLayer,this.styleNonce);for(const[a,c]of i)gf(a,this.eStyleContainer,c,this.cssLayer,0,this.styleNonce);i.length=0}this.gridTheme=r,r==null||r._startUse({loadThemeGoogleFonts:e.get("loadThemeGoogleFonts"),styleContainer:this.eStyleContainer,cssLayer:this.cssLayer,nonce:this.styleNonce});let o=this.eParamsStyle;if(!o){o=this.eParamsStyle=Qc({tag:"style"});const a=this.gos.get("styleNonce");a&&o.setAttribute("nonce",a),t.appendChild(o)}sL||(o.textContent=(r==null?void 0:r._getPerGridCss(this.paramsClass))||""),this.applyThemeClasses(t),this.fireGridStylesChangedEvent("themeChanged")}r&&getComputedStyle(this.getMeasurementContainer()).getPropertyValue("--ag-legacy-styles-loaded")&&Mr(s?106:239)}},ww=15538,T$=class extends Be{constructor(){super(...arguments),this.beanName="eventSvc",this.globalEventService=new Cm}postConstruct(){const{globalListener:e,globalSyncListener:t}=this.beans;e&&this.addGlobalListener(e,!0),t&&this.addGlobalListener(t,!1)}addEventListener(e,t,i){this.globalEventService.addEventListener(e,t,i)}removeEventListener(e,t,i){this.globalEventService.removeEventListener(e,t,i)}addGlobalListener(e,t=!1){this.globalEventService.addGlobalListener(e,t)}removeGlobalListener(e,t=!1){this.globalEventService.removeGlobalListener(e,t)}dispatchLocalEvent(){}dispatchEvent(e){this.globalEventService.dispatchEvent(wi(this.gos,e))}dispatchEventOnce(e){this.globalEventService.dispatchEventOnce(wi(this.gos,e))}};function FP(e){return e?e.getLeafColumns().some(t=>t.isSpanHeaderHeight()):!1}function _M(e,t){let i;if(on(e)&&FP(e)&&e.isPadding()){const n=e;i=n.getLeafColumns()[0];let s=i;for(;s!==n;)t++,s=s.getParent()}return{column:i||e,headerRowIndex:t}}var A$=class extends Be{constructor(){super(...arguments),this.beanName="headerNavigation",this.currentHeaderRowWithoutSpan=-1}postConstruct(){const e=this.beans;e.ctrlsSvc.whenReady(this,i=>{this.gridBodyCon=i.gridBodyCtrl});const t=Ia(e);this.addManagedElementListeners(t,{mousedown:()=>{this.currentHeaderRowWithoutSpan=-1}})}getHeaderPositionForColumn(e,t){let i;const{colModel:n,colGroupSvc:s,ctrlsSvc:r}=this.beans;if(typeof e=="string"?(i=n.getCol(e),i||(i=(s==null?void 0:s.getColumnGroup(e))??null)):i=e,!i)return null;const o=r.getHeaderRowContainerCtrl(),a=o==null?void 0:o.getAllCtrls(),c=Li(a||[]).type==="filter",h=ma(this.beans)-1;let f=-1,p=i;for(;p;)f++,p=p.getParent();let m=f;return t&&c&&m===h-1&&m++,m===-1?null:{headerRowIndex:m,column:i}}navigateVertically(e,t,i){const n=this.beans.focusSvc;if(t||(t=n.focusedHeader),!t)return!1;const{headerRowIndex:s}=t,r=t.column,o=ma(this.beans),a=e==="UP",c=this.getHeaderRowType(s);let{headerRowIndex:h,column:f,headerRowIndexWithoutSpan:p}=a?E$(c,r,s):R$(c,r,s),m=!1;return h<0&&(h=0,f=r,m=!0),h>=o?(h=-1,this.currentHeaderRowWithoutSpan=-1):p!==void 0&&(this.currentHeaderRowWithoutSpan=p),!m&&!f?!1:n.focusHeaderPosition({headerPosition:{headerRowIndex:h,column:f},allowUserOverride:!0,event:i})}navigateHorizontally(e,t=!1,i){const{focusSvc:n,gos:s}=this.beans,r=n.focusedHeader;let o,a;this.currentHeaderRowWithoutSpan!==-1?r.headerRowIndex=this.currentHeaderRowWithoutSpan:this.currentHeaderRowWithoutSpan=r.headerRowIndex,e==="LEFT"!==s.get("enableRtl")?(a="Before",o=this.findHeader(r,a)):(a="After",o=this.findHeader(r,a));const c=s.getCallback("tabToNextHeader");if(t&&c){const h=n.focusHeaderPositionFromUserFunc({userFunc:c,headerPosition:o,direction:a});if(h){const{headerRowIndex:f}=n.focusedHeader||{};f!=null&&f!=r.headerRowIndex&&(this.currentHeaderRowWithoutSpan=f)}return h}return o||!t?n.focusHeaderPosition({headerPosition:o,direction:a,fromTab:t,allowUserOverride:!0,event:i}):this.focusNextHeaderRow(r,a,i)}focusNextHeaderRow(e,t,i){const n=e.headerRowIndex;let s=null,r;const o=this.beans;if(t==="Before"?n>0&&(r=n-1,this.currentHeaderRowWithoutSpan-=1,s=this.findColAtEdgeForHeaderRow(r,"end")):(r=n+1,this.currentHeaderRowWithoutSpan<ma(o)?this.currentHeaderRowWithoutSpan+=1:this.currentHeaderRowWithoutSpan=-1,s=this.findColAtEdgeForHeaderRow(r,"start")),!s)return!1;const{column:a,headerRowIndex:c}=_M(s.column,s==null?void 0:s.headerRowIndex);return o.focusSvc.focusHeaderPosition({headerPosition:{column:a,headerRowIndex:c},direction:t,fromTab:!0,allowUserOverride:!0,event:i})}scrollToColumn(e,t="After"){if(e.getPinned())return;let i;if(on(e)){const n=e.getDisplayedLeafColumns();i=t==="Before"?Li(n):n[0]}else i=e;this.gridBodyCon.scrollFeature.ensureColumnVisible(i)}findHeader(e,t){let i,n;const{colGroupSvc:s,visibleCols:r}=this.beans;if(on(e.column)?i=(s==null?void 0:s.getGroupAtDirection(e.column,t))??void 0:(n=`getCol${t}`,i=r[n](e.column)),!i)return;const{headerRowIndex:o}=e;if(this.getHeaderRowType(o)!=="filter"){const h=[i];for(;i.getParent();)i=i.getParent(),h.push(i);i=h[Math.max(0,h.length-1-o)]}const{column:a,headerRowIndex:c}=_M(i,o);return{column:a,headerRowIndex:c}}getHeaderRowType(e){const t=this.beans.ctrlsSvc.getHeaderRowContainerCtrl();if(t)return t.getRowType(e)}findColAtEdgeForHeaderRow(e,t){const{visibleCols:i,ctrlsSvc:n,colGroupSvc:s}=this.beans,r=i.allCols,o=r[t==="start"?0:r.length-1];if(!o)return;const a=n.getHeaderRowContainerCtrl(o.getPinned()),c=a==null?void 0:a.getRowType(e);if(c=="group"){const h=s==null?void 0:s.getColGroupAtLevel(o,e);return{headerRowIndex:e,column:h}}return{headerRowIndex:c==null?-1:e,column:o}}};function E$(e,t,i){const n=e==="filter",s=e==="column";let r=n?t:t.getParent(),o=i-1,a=o;if(s&&FP(t.getParent())){for(;r&&r.isPadding();)r=r.getParent(),o--;a=o,o<0&&(r=t,o=i,a=void 0)}return{column:r,headerRowIndex:o,headerRowIndexWithoutSpan:a}}function R$(e,t,i,n="After"){let s=t,r=i+1;const o=r;if(e==="group"){const a=t.getDisplayedLeafColumns(),c=n==="After"?a[0]:Li(a),h=[];let f=c;for(;f.getParent()!==t;)f=f.getParent(),h.push(f);if(s=c,c.isSpanHeaderHeight())for(let p=h.length-1;p>=0;p--){const m=h[p];if(!m.isPadding()){s=m;break}r++}else s=Li(h),s||(s=c)}return{column:s,headerRowIndex:r,headerRowIndexWithoutSpan:o}}var I$=class extends Be{constructor(){super(...arguments),this.beanName="focusSvc",this.focusFallbackTimeout=null,this.needsFocusRestored=!1}wireBeans(e){this.colModel=e.colModel,this.visibleCols=e.visibleCols,this.rowRenderer=e.rowRenderer,this.navigation=e.navigation,this.filterManager=e.filterManager,this.overlays=e.overlays}postConstruct(){const e=this.clearFocusedCell.bind(this);this.addManagedEventListeners({columnPivotModeChanged:e,newColumnsLoaded:this.onColumnEverythingChanged.bind(this),columnGroupOpened:e,columnRowGroupChanged:e}),this.addDestroyFunc(w5(this.beans))}attemptToRecoverFocus(){this.needsFocusRestored=!0,this.focusFallbackTimeout!=null&&clearTimeout(this.focusFallbackTimeout),this.focusFallbackTimeout=window.setTimeout(this.setFocusRecovered.bind(this),100)}setFocusRecovered(){this.needsFocusRestored=!1,this.focusFallbackTimeout!=null&&(clearTimeout(this.focusFallbackTimeout),this.focusFallbackTimeout=null)}shouldTakeFocus(){return this.gos.get("suppressFocusAfterRefresh")?(this.setFocusRecovered(),!1):this.needsFocusRestored?(this.setFocusRecovered(),!0):this.doesRowOrCellHaveBrowserFocus()}onColumnEverythingChanged(){if(!this.focusedCell)return;const e=this.focusedCell.column,t=this.colModel.getCol(e.getId());e!==t&&this.clearFocusedCell()}getFocusCellToUseAfterRefresh(){const{gos:e,focusedCell:t}=this;return e.get("suppressFocusAfterRefresh")||e.get("suppressCellFocus")||!t||!this.doesRowOrCellHaveBrowserFocus()?null:t}getFocusHeaderToUseAfterRefresh(){return this.gos.get("suppressFocusAfterRefresh")||!this.focusedHeader||!this.isDomDataPresentInHierarchy(Ss(this.beans),mP)?null:this.focusedHeader}doesRowOrCellHaveBrowserFocus(){const e=Ss(this.beans);return this.isDomDataPresentInHierarchy(e,zb)?!0:this.isDomDataPresentInHierarchy(e,Hb)}isDomDataPresentInHierarchy(e,t){let i=e;for(;i;){if(EO(this.gos,i,t))return!0;i=i.parentNode}return!1}getFocusedCell(){return this.focusedCell}getFocusEventParams(e){const{rowIndex:t,rowPinned:i,column:n}=e,s={rowIndex:t,rowPinned:i,column:n,isFullWidthCell:!1},r=this.rowRenderer.getRowByPosition({rowIndex:t,rowPinned:i});return r&&(s.isFullWidthCell=r.isFullWidth()),s}clearFocusedCell(){if(this.focusedCell==null)return;const e=this.getFocusEventParams(this.focusedCell);this.focusedCell=null,this.eventSvc.dispatchEvent({type:"cellFocusCleared",...e})}setFocusedCell(e){this.setFocusRecovered();const{column:t,rowIndex:i,rowPinned:n,forceBrowserFocus:s=!1,preventScrollOnBrowserFocus:r=!1}=e,o=this.colModel.getCol(t);if(!o){this.focusedCell=null;return}this.focusedCell={rowIndex:i,rowPinned:Mh(n),column:o},this.eventSvc.dispatchEvent({type:"cellFocused",...this.getFocusEventParams(this.focusedCell),forceBrowserFocus:s,preventScrollOnBrowserFocus:r})}isCellFocused(e){return this.focusedCell==null?!1:j5(e,this.focusedCell)}isHeaderWrapperFocused(e){if(this.focusedHeader==null)return!1;const{column:t,rowCtrl:{rowIndex:i,pinned:n}}=e,{column:s,headerRowIndex:r}=this.focusedHeader;return t===s&&i===r&&n==s.getPinned()}focusHeaderPosition(e){var c;if(this.setFocusRecovered(),Th(this.beans))return!1;const{direction:t,fromTab:i,allowUserOverride:n,event:s,fromCell:r,rowWithoutSpanValue:o}=e;let{headerPosition:a}=e;if(r&&((c=this.filterManager)!=null&&c.isAdvFilterHeaderActive()))return this.focusAdvancedFilter(a);if(n){const h=this.focusedHeader,f=ma(this.beans);if(i){const p=this.gos.getCallback("tabToNextHeader");p&&(a=this.getHeaderPositionFromUserFunc({userFunc:p,direction:t,currentPosition:h,headerPosition:a,headerRowCount:f}))}else{const p=this.gos.getCallback("navigateToNextHeader");if(p&&s){const m={key:s.key,previousHeaderPosition:h,nextHeaderPosition:a,headerRowCount:f,event:s};a=p(m)}}}return a?this.focusProvidedHeaderPosition({headerPosition:a,direction:t,event:s,fromCell:r,rowWithoutSpanValue:o}):!1}focusHeaderPositionFromUserFunc(e){if(Th(this.beans))return!1;const{userFunc:t,headerPosition:i,direction:n,event:s}=e,r=this.focusedHeader,o=ma(this.beans),a=this.getHeaderPositionFromUserFunc({userFunc:t,direction:n,currentPosition:r,headerPosition:i,headerRowCount:o});return!!a&&this.focusProvidedHeaderPosition({headerPosition:a,direction:n,event:s})}getHeaderPositionFromUserFunc(e){const{userFunc:t,direction:i,currentPosition:n,headerPosition:s,headerRowCount:r}=e,a=t({backwards:i==="Before",previousHeaderPosition:n,nextHeaderPosition:s,headerRowCount:r});return a===!0?n:a===!1?null:a}focusProvidedHeaderPosition(e){const{headerPosition:t,direction:i,fromCell:n,rowWithoutSpanValue:s,event:r}=e,{column:o,headerRowIndex:a}=t,{filterManager:c,ctrlsSvc:h,headerNavigation:f}=this.beans;if(a===-1)return c!=null&&c.isAdvFilterHeaderActive()?this.focusAdvancedFilter(t):this.focusGridView({column:o,event:r});f==null||f.scrollToColumn(o,i);const p=h.getHeaderRowContainerCtrl(o.getPinned()),m=(p==null?void 0:p.focusHeader(t.headerRowIndex,o,r))||!1;return f&&m&&(s!=null||n)&&(f.currentHeaderRowWithoutSpan=s??-1),m}focusFirstHeader(){var n;if((n=this.overlays)!=null&&n.isExclusive()&&this.focusOverlay())return!0;let e=this.visibleCols.allCols[0];if(!e)return!1;const{colGroupSvc:t}=this.beans;t&&e.getParent()&&(e=t.getColGroupAtLevel(e,0));const i=_M(e,0);return this.focusHeaderPosition({headerPosition:i,rowWithoutSpanValue:0})}focusLastHeader(e){var n;if((n=this.overlays)!=null&&n.isExclusive()&&this.focusOverlay(!0))return!0;const t=ma(this.beans)-1,i=Li(this.visibleCols.allCols);return this.focusHeaderPosition({headerPosition:{headerRowIndex:t,column:i},rowWithoutSpanValue:-1,event:e})}focusPreviousFromFirstCell(e){var t;return(t=this.filterManager)!=null&&t.isAdvFilterHeaderActive()?this.focusAdvancedFilter(null):this.focusLastHeader(e)}isAnyCellFocused(){return!!this.focusedCell}isRowFocused(e,t){return this.focusedCell==null?!1:this.focusedCell.rowIndex===e&&this.focusedCell.rowPinned===Mh(t)}focusOverlay(e){var i,n;const t=((i=this.overlays)==null?void 0:i.isVisible())&&((n=this.overlays.eWrapper)==null?void 0:n.getGui());return!!t&&Bb(t,e)}focusGridView(e){var r,o,a,c,h,f;const{backwards:t=!1,canFocusOverlay:i=!0,event:n}=e;if((r=this.overlays)!=null&&r.isExclusive())return i&&this.focusOverlay(t);if(JD(this.beans))return t&&!Th(this.beans)?this.focusLastHeader():i&&this.focusOverlay(t)?!0:t?!1:Vp(this.beans,t);const s=t?U5(this.beans):W5(this.beans);if(s){const p=e.column??((o=this.focusedHeader)==null?void 0:o.column),{rowIndex:m,rowPinned:b}=s,C=nP(this.beans,s);if(!p||!C||m==null)return!1;if(p.isSuppressNavigable(C)){const w=this.gos.get("enableRtl");let D;return!n||n.key===Pe.TAB?D=w?Pe.LEFT:Pe.RIGHT:D=n.key,(a=this.beans.navigation)==null||a.navigateToNextCell(null,D,{rowIndex:m,column:p,rowPinned:b||null},!0),!0}if((c=this.navigation)==null||c.ensureCellVisible({rowIndex:m,column:p,rowPinned:b}),t){const w=this.rowRenderer.getRowByPosition(s);if(w!=null&&w.isFullWidth()&&((h=this.navigation)!=null&&h.tryToFocusFullWidthRow(s,t)))return!0}return this.setFocusedCell({rowIndex:m,column:p,rowPinned:Mh(b),forceBrowserFocus:!0}),(f=this.beans.rangeSvc)==null||f.setRangeToCell({rowIndex:m,rowPinned:b,column:p}),!0}return!!(i&&this.focusOverlay(t)||t&&this.focusLastHeader())}focusAdvancedFilter(e){var t;return this.advFilterFocusColumn=e==null?void 0:e.column,((t=this.beans.advancedFilter)==null?void 0:t.getCtrl().focusHeaderComp())??!1}focusNextFromAdvancedFilter(e,t){var n;const i=(t?void 0:this.advFilterFocusColumn)??((n=this.visibleCols.allCols)==null?void 0:n[0]);return e?this.focusHeaderPosition({headerPosition:{column:i,headerRowIndex:ma(this.beans)-1}}):this.focusGridView({column:i})}clearAdvancedFilterColumn(){this.advFilterFocusColumn=void 0}},k$=class extends Be{constructor(){super(...arguments),this.beanName="scrollVisibleSvc"}wireBeans(e){this.ctrlsSvc=e.ctrlsSvc,this.colAnimation=e.colAnimation}postConstruct(){this.getScrollbarWidth(),this.addManagedEventListeners({displayedColumnsChanged:this.updateScrollVisible.bind(this),displayedColumnsWidthChanged:this.updateScrollVisible.bind(this)})}updateScrollVisible(){const{colAnimation:e}=this;e!=null&&e.isActive()?e.executeLaterVMTurn(()=>{e.executeLaterVMTurn(()=>this.updateScrollVisibleImpl())}):this.updateScrollVisibleImpl()}updateScrollVisibleImpl(){var i;const e=this.ctrlsSvc.get("center");if(!e||(i=this.colAnimation)!=null&&i.isActive())return;const t={horizontalScrollShowing:e.isHorizontalScrollShowing(),verticalScrollShowing:this.verticalScrollShowing};this.setScrollsVisible(t),this.updateScrollGap()}updateScrollGap(){const e=this.ctrlsSvc.get("center"),t=e.hasHorizontalScrollGap(),i=e.hasVerticalScrollGap();(this.horizontalScrollGap!==t||this.verticalScrollGap!==i)&&(this.horizontalScrollGap=t,this.verticalScrollGap=i,this.eventSvc.dispatchEvent({type:"scrollGapChanged"}))}setScrollsVisible(e){(this.horizontalScrollShowing!==e.horizontalScrollShowing||this.verticalScrollShowing!==e.verticalScrollShowing)&&(this.horizontalScrollShowing=e.horizontalScrollShowing,this.verticalScrollShowing=e.verticalScrollShowing,this.eventSvc.dispatchEvent({type:"scrollVisibilityChanged"}))}getScrollbarWidth(){if(this.scrollbarWidth==null){const e=this.gos.get("scrollbarWidth"),i=typeof e=="number"&&e>=0?e:C3();i!=null&&(this.scrollbarWidth=i,this.eventSvc.dispatchEvent({type:"scrollbarWidthChanged"}))}return this.scrollbarWidth}},_$=class extends Be{constructor(){super(...arguments),this.beanName="gridDestroySvc",this.destroyCalled=!1}destroy(){var n;if(this.destroyCalled)return;const{stateSvc:e,ctrlsSvc:t,context:i}=this.beans;this.eventSvc.dispatchEvent({type:"gridPreDestroyed",state:(e==null?void 0:e.getState())??{}}),this.destroyCalled=!0,(n=t.get("gridCtrl"))==null||n.destroyGridUi(),i.destroy(),super.destroy()}},N$=new Set(["gridPreDestroyed","fillStart","pasteStart"]),O$={suppressContextMenu:!1,preventDefaultOnContextMenu:!1,allowContextMenuWithControlKey:!1,suppressMenuHide:!0,enableBrowserTooltips:!1,tooltipTrigger:"hover",tooltipShowDelay:2e3,tooltipHideDelay:1e4,tooltipMouseTrack:!1,tooltipShowMode:"standard",tooltipInteraction:!1,copyHeadersToClipboard:!1,copyGroupHeadersToClipboard:!1,clipboardDelimiter:"	",suppressCopyRowsToClipboard:!1,suppressCopySingleCellRanges:!1,suppressLastEmptyLineOnPaste:!1,suppressClipboardPaste:!1,suppressClipboardApi:!1,suppressCutToClipboard:!1,maintainColumnOrder:!1,enableStrictPivotColumnOrder:!1,suppressFieldDotNotation:!1,allowDragFromColumnsToolPanel:!1,suppressMovableColumns:!1,suppressColumnMoveAnimation:!1,suppressMoveWhenColumnDragging:!1,suppressDragLeaveHidesColumns:!1,suppressRowGroupHidesColumns:!1,suppressAutoSize:!1,autoSizePadding:20,skipHeaderOnAutoSize:!1,singleClickEdit:!1,suppressClickEdit:!1,readOnlyEdit:!1,stopEditingWhenCellsLoseFocus:!1,enterNavigatesVertically:!1,enterNavigatesVerticallyAfterEdit:!1,enableCellEditingOnBackspace:!1,undoRedoCellEditing:!1,undoRedoCellEditingLimit:10,suppressCsvExport:!1,suppressExcelExport:!1,cacheQuickFilter:!1,includeHiddenColumnsInQuickFilter:!1,excludeChildrenWhenTreeDataFiltering:!1,enableAdvancedFilter:!1,includeHiddenColumnsInAdvancedFilter:!1,enableCharts:!1,masterDetail:!1,keepDetailRows:!1,keepDetailRowsCount:10,detailRowAutoHeight:!1,tabIndex:0,rowBuffer:10,valueCache:!1,valueCacheNeverExpires:!1,enableCellExpressions:!1,suppressTouch:!1,suppressFocusAfterRefresh:!1,suppressBrowserResizeObserver:!1,suppressPropertyNamesCheck:!1,suppressChangeDetection:!1,debug:!1,suppressLoadingOverlay:!1,suppressNoRowsOverlay:!1,pagination:!1,paginationPageSize:100,paginationPageSizeSelector:!0,paginationAutoPageSize:!1,paginateChildRows:!1,suppressPaginationPanel:!1,pivotMode:!1,pivotPanelShow:"never",pivotDefaultExpanded:0,pivotSuppressAutoColumn:!1,suppressExpandablePivotGroups:!1,functionsReadOnly:!1,suppressAggFuncInHeader:!1,alwaysAggregateAtRootLevel:!1,aggregateOnlyChangedColumns:!1,suppressAggFilteredOnly:!1,removePivotHeaderRowWhenSingleValueColumn:!1,animateRows:!0,cellFlashDuration:500,cellFadeDuration:1e3,allowShowChangeAfterFilter:!1,domLayout:"normal",ensureDomOrder:!1,enableRtl:!1,suppressColumnVirtualisation:!1,suppressMaxRenderedRowRestriction:!1,suppressRowVirtualisation:!1,rowDragManaged:!1,suppressRowDrag:!1,suppressMoveWhenRowDragging:!1,rowDragEntireRow:!1,rowDragMultiRow:!1,embedFullWidthRows:!1,groupDisplayType:"singleColumn",groupDefaultExpanded:0,groupMaintainOrder:!1,groupSelectsChildren:!1,groupSuppressBlankHeader:!1,groupSelectsFiltered:!1,showOpenedGroup:!1,groupRemoveSingleChildren:!1,groupRemoveLowestSingleChildren:!1,groupHideOpenParents:!1,groupAllowUnbalanced:!1,rowGroupPanelShow:"never",suppressMakeColumnVisibleAfterUnGroup:!1,treeData:!1,rowGroupPanelSuppressSort:!1,suppressGroupRowsSticky:!1,rowModelType:"clientSide",asyncTransactionWaitMillis:50,suppressModelUpdateAfterUpdateTransaction:!1,cacheOverflowSize:1,infiniteInitialRowCount:1,serverSideInitialRowCount:1,cacheBlockSize:100,maxBlocksInCache:-1,maxConcurrentDatasourceRequests:2,blockLoadDebounceMillis:0,purgeClosedRowNodes:!1,serverSideSortAllLevels:!1,serverSideOnlyRefreshFilteredGroups:!1,serverSidePivotResultFieldSeparator:"_",viewportRowModelPageSize:5,viewportRowModelBufferSize:5,alwaysShowHorizontalScroll:!1,alwaysShowVerticalScroll:!1,debounceVerticalScrollbar:!1,suppressHorizontalScroll:!1,suppressScrollOnNewData:!1,suppressScrollWhenPopupsAreOpen:!1,suppressAnimationFrame:!1,suppressMiddleClickScrolls:!1,suppressPreventDefaultOnMouseWheel:!1,rowMultiSelectWithClick:!1,suppressRowDeselection:!1,suppressRowClickSelection:!1,suppressCellFocus:!1,suppressHeaderFocus:!1,suppressMultiRangeSelection:!1,enableCellTextSelection:!1,enableRangeSelection:!1,enableRangeHandle:!1,enableFillHandle:!1,fillHandleDirection:"xy",suppressClearOnFillReduction:!1,accentedSort:!1,unSortIcon:!1,suppressMultiSort:!1,alwaysMultiSort:!1,suppressMaintainUnsortedOrder:!1,suppressRowHoverHighlight:!1,suppressRowTransform:!1,columnHoverHighlight:!1,deltaSort:!1,enableGroupEdit:!1,groupLockGroupColumns:0,serverSideEnableClientSideSort:!1,suppressServerSideFullWidthLoadingRow:!1,pivotMaxGeneratedColumns:-1,columnMenu:"new",reactiveCustomComponents:!0,suppressSetFilterByDefault:!1,rowNumbers:!1},P$=0,F$=0,B$=class extends Be{constructor(){super(...arguments),this.beanName="gos",this.domDataKey="__AG_"+Math.random().toString(),this.gridInstanceId=F$++,this.propEventSvc=new Cm,this.globalEventHandlerFactory=e=>(t,i)=>{if(!this.isAlive())return;const n=N$.has(t);if(n&&!e||!n&&e)return;const s=Z3(t),r=this.gridOptions[s];typeof r=="function"&&this.beans.frameworkOverrides.wrapOutgoing(()=>{r(i)})}}wireBeans(e){this.gridOptions=e.gridOptions,this.validation=e.validation,this.api=e.gridApi,this.gridId=e.context.getGridId()}get gridOptionsContext(){return this.gridOptions.context}postConstruct(){this.eventSvc.addGlobalListener(this.globalEventHandlerFactory().bind(this),!0),this.eventSvc.addGlobalListener(this.globalEventHandlerFactory(!0).bind(this),!1),this.propEventSvc.setFrameworkOverrides(this.beans.frameworkOverrides),this.addManagedEventListeners({gridOptionsChanged:({options:e})=>{this.updateGridOptions({options:e,force:!0,source:"gridOptionsUpdated"})}})}get(e){return this.gridOptions[e]??O$[e]}getCallback(e){return this.mergeGridCommonParams(this.gridOptions[e])}exists(e){return At(this.gridOptions[e])}mergeGridCommonParams(e){return e&&(i=>e(this.addGridCommonParams(i)))}updateGridOptions({options:e,force:t,source:i="api"}){const n={id:P$++,properties:[]},s=[],{gridOptions:r,validation:o}=this;for(const a of Object.keys(e)){const c=e[a];o==null||o.warnOnInitialPropertyUpdate(i,a);const h=t||typeof c=="object"&&i==="api",f=r[a];if(h||f!==c){r[a]=c;const p={type:a,currentValue:c,previousValue:f,changeSet:n,source:i};s.push(p)}}o==null||o.processGridOptions(this.gridOptions),n.properties=s.map(a=>a.type),s.forEach(a=>{Eb(this,`Updated property ${a.type} from`,a.previousValue," to ",a.currentValue),this.propEventSvc.dispatchEvent(a)})}addPropertyEventListener(e,t){this.propEventSvc.addEventListener(e,t)}removePropertyEventListener(e,t){this.propEventSvc.removeEventListener(e,t)}getDomDataKey(){return this.domDataKey}addGridCommonParams(e){return e.api=this.api,e.context=this.gridOptionsContext,e}assertModuleRegistered(e,t){const i=Array.isArray(e)?e.some(n=>this.isModuleRegistered(n)):this.isModuleRegistered(e);return i||Mr(200,{...this.getModuleErrorParams(),moduleName:e,reasonOrId:t}),i}getModuleErrorParams(){return{gridId:this.gridId,gridScoped:qO(),rowModelType:this.get("rowModelType"),isUmd:g5()}}isModuleRegistered(e){return XO(e,this.gridId,this.get("rowModelType"))}};function BP(e){const t={"aria-hidden":"true"};return{tag:"div",cls:"ag-cell-label-container",role:"presentation",children:[{tag:"span",ref:"eMenu",cls:"ag-header-icon ag-header-cell-menu-button",attrs:t},{tag:"span",ref:"eFilterButton",cls:"ag-header-icon ag-header-cell-filter-button",attrs:t},{tag:"div",ref:"eLabel",cls:"ag-header-cell-label",role:"presentation",children:[{tag:"span",ref:"eText",cls:"ag-header-cell-text"},{tag:"span",ref:"eFilter",cls:"ag-header-icon ag-header-label-icon ag-filter-icon",attrs:t},e?{tag:"ag-sort-indicator",ref:"eSortIndicator"}:null]}]}}var z$=BP(!0),G$=BP(!1),H$=class extends Il{constructor(){super(...arguments),this.eFilter=ii,this.eFilterButton=ii,this.eSortIndicator=ii,this.eMenu=ii,this.eLabel=ii,this.eText=ii,this.eSortOrder=ii,this.eSortAsc=ii,this.eSortDesc=ii,this.eSortMixed=ii,this.eSortNone=ii,this.isLoadingInnerComponent=!1}refresh(e){var i,n,s;const t=this.params;if(this.params=e,this.workOutTemplate(e,!!((i=this.beans)!=null&&i.sortSvc))!=this.currentTemplate||this.workOutShowMenu()!=this.currentShowMenu||e.enableSorting!=this.currentSort||this.currentSuppressMenuHide!=null&&this.shouldSuppressMenuHide()!=this.currentSuppressMenuHide||t.enableFilterButton!=e.enableFilterButton||t.enableFilterIcon!=e.enableFilterIcon)return!1;if(this.innerHeaderComponent){const r={...e};Lr(r,e.innerHeaderComponentParams),(s=(n=this.innerHeaderComponent).refresh)==null||s.call(n,r)}else this.setDisplayName(e);return!0}workOutTemplate(e,t){const i=e.template;return i?i!=null&&i.trim?i.trim():i:t?z$:G$}init(e){this.params=e;const{sortSvc:t,touchSvc:i,rowNumbersSvc:n,userCompFactory:s}=this.beans,r=t==null?void 0:t.getSortIndicatorSelector();this.currentTemplate=this.workOutTemplate(e,!!r),this.setTemplate(this.currentTemplate,r?[r]:void 0),i==null||i.setupForHeader(this),this.setMenu(),this.setupSort(),n==null||n.setupForHeader(this),this.setupFilterIcon(),this.setupFilterButton(),this.workOutInnerHeaderComponent(s,e),this.setDisplayName(e)}workOutInnerHeaderComponent(e,t){const i=qU(e,t,t);i&&(this.isLoadingInnerComponent=!0,i.newAgStackInstance().then(n=>{this.isLoadingInnerComponent=!1,n&&(this.isAlive()?(this.innerHeaderComponent=n,this.eText.appendChild(n.getGui())):this.destroyBean(n))}))}setDisplayName(e){const{displayName:t}=e,i=this.currentDisplayName;if(this.currentDisplayName=t,i===t||this.innerHeaderComponent||this.isLoadingInnerComponent)return;const n=Dh(t,!0);this.eText.textContent=n}addInIcon(e,t,i){if(t==null)return;const n=GC(e,this.beans,i);n&&t.appendChild(n)}workOutShowMenu(){var e;return this.params.enableMenu&&!!((e=this.beans.menuSvc)!=null&&e.isHeaderMenuButtonEnabled())}shouldSuppressMenuHide(){var e;return!!((e=this.beans.menuSvc)!=null&&e.isHeaderMenuButtonAlwaysShowEnabled())}setMenu(){if(!this.eMenu)return;if(this.currentShowMenu=this.workOutShowMenu(),!this.currentShowMenu){bM(this.eMenu),this.eMenu=void 0;return}const{gos:e,eMenu:t,params:i}=this,n=Rb(e);this.addInIcon(n?"menu":"menuAlt",t,i.column),t.classList.toggle("ag-header-menu-icon",!n);const s=this.shouldSuppressMenuHide();this.currentSuppressMenuHide=s,this.addManagedElementListeners(t,{click:()=>this.showColumnMenu(this.eMenu)}),this.toggleMenuAlwaysShow(s)}toggleMenuAlwaysShow(e){var t;(t=this.eMenu)==null||t.classList.toggle("ag-header-menu-always-show",e)}showColumnMenu(e){const{currentSuppressMenuHide:t,params:i}=this;t||this.toggleMenuAlwaysShow(!0),i.showColumnMenu(e,()=>{t||this.toggleMenuAlwaysShow(!1)})}onMenuKeyboardShortcut(e){var c;const{params:t,gos:i,beans:n,eMenu:s,eFilterButton:r}=this,o=t.column,a=Rb(i);if(e&&!a){if((c=n.menuSvc)!=null&&c.isFilterMenuInHeaderEnabled(o))return t.showFilter(r??s??this.getGui()),!0}else if(t.enableMenu)return this.showColumnMenu(s??r??this.getGui()),!0;return!1}setupSort(){const{sortSvc:e}=this.beans;if(!e)return;const{enableSorting:t,column:i}=this.params;if(this.currentSort=t,!this.eSortIndicator){this.eSortIndicator=this.createBean(e.createSortIndicator(!0));const{eSortIndicator:n,eSortOrder:s,eSortAsc:r,eSortDesc:o,eSortMixed:a,eSortNone:c}=this;n.attachCustomElements(s,r,o,a,c)}this.eSortIndicator.setupSort(i),this.currentSort&&e.setupHeader(this,i,this.eLabel)}setupFilterIcon(){const{eFilter:e,params:t}=this;e&&this.configureFilter(t.enableFilterIcon,e,this.onFilterChangedIcon.bind(this),"filterActive")}setupFilterButton(){const{eFilterButton:e,params:t}=this;if(!e)return;this.configureFilter(t.enableFilterButton,e,this.onFilterChangedButton.bind(this),"filter")?this.addManagedElementListeners(e,{click:()=>t.showFilter(e)}):this.eFilterButton=void 0}configureFilter(e,t,i,n){if(!e)return bM(t),!1;const s=this.params.column;return this.addInIcon(n,t,s),this.addManagedListeners(s,{filterChanged:i}),i(),!0}onFilterChangedIcon(){const e=this.params.column.isFilterActive();Gn(this.eFilter,e,{skipAriaHidden:!0})}onFilterChangedButton(){const e=this.params.column.isFilterActive();this.eFilterButton.classList.toggle("ag-filter-active",e)}getAnchorElementForMenu(e){const{eFilterButton:t,eMenu:i}=this;return e?t??i??this.getGui():i??t??this.getGui()}destroy(){super.destroy(),this.innerHeaderComponent&&(this.destroyBean(this.innerHeaderComponent),this.innerHeaderComponent=void 0)}},j$={tag:"div",cls:"ag-header-group-cell-label",role:"presentation",children:[{tag:"span",ref:"agLabel",cls:"ag-header-group-text",role:"presentation"},{tag:"span",ref:"agOpened",cls:"ag-header-icon ag-header-expand-icon ag-header-expand-icon-expanded"},{tag:"span",ref:"agClosed",cls:"ag-header-icon ag-header-expand-icon ag-header-expand-icon-collapsed"}]},V$=class extends Il{constructor(){super(j$),this.agOpened=ii,this.agClosed=ii,this.agLabel=ii,this.isLoadingInnerComponent=!1}init(e){const{userCompFactory:t}=this.beans;this.params=e,this.checkWarnings(),this.workOutInnerHeaderGroupComponent(t,e),this.setupLabel(e),this.addGroupExpandIcon(e),this.setupExpandIcons()}checkWarnings(){this.params.template&&Wt(89)}workOutInnerHeaderGroupComponent(e,t){const i=JU(e,t,t);i&&(this.isLoadingInnerComponent=!0,i.newAgStackInstance().then(n=>{this.isLoadingInnerComponent=!1,n&&(this.isAlive()?(this.innerHeaderGroupComponent=n,this.agLabel.appendChild(n.getGui())):this.destroyBean(n))}))}setupExpandIcons(){const{agOpened:e,agClosed:t,params:{columnGroup:i},beans:n}=this;this.addInIcon("columnGroupOpened",e),this.addInIcon("columnGroupClosed",t);const s=c=>{if(Jc(c))return;const h=!i.isExpanded();n.colGroupSvc.setColumnGroupOpened(i.getProvidedColumnGroup(),h,"uiColumnExpanded")};this.addTouchAndClickListeners(n,t,s),this.addTouchAndClickListeners(n,e,s);const r=c=>{Ib(c)};this.addManagedElementListeners(t,{dblclick:r}),this.addManagedElementListeners(e,{dblclick:r}),this.addManagedElementListeners(this.getGui(),{dblclick:s}),this.updateIconVisibility();const o=i.getProvidedColumnGroup(),a=this.updateIconVisibility.bind(this);this.addManagedListeners(o,{expandedChanged:a,expandableChanged:a})}addTouchAndClickListeners(e,t,i){var n;(n=e.touchSvc)==null||n.setupForHeaderGroup(this,t,i),this.addManagedElementListeners(t,{click:i})}updateIconVisibility(){const{agOpened:e,agClosed:t,params:{columnGroup:i}}=this;if(i.isExpandable()){const n=i.isExpanded();Gn(e,n),Gn(t,!n)}else Gn(e,!1),Gn(t,!1)}addInIcon(e,t){const i=GC(e,this.beans,null);i&&t.appendChild(i)}addGroupExpandIcon(e){if(!e.columnGroup.isExpandable()){const{agOpened:t,agClosed:i}=this;Gn(t,!1),Gn(i,!1);return}}setupLabel(e){var s;const{displayName:t,columnGroup:i}=e,n=this.innerHeaderGroupComponent||this.isLoadingInnerComponent;if(At(t)&&!n){const r=Dh(t,!0);this.agLabel.textContent=r}this.addOrRemoveCssClass("ag-sticky-label",!((s=i.getColGroupDef())!=null&&s.suppressStickyLabel))}destroy(){super.destroy(),this.innerHeaderGroupComponent&&(this.destroyBean(this.innerHeaderGroupComponent),this.innerHeaderGroupComponent=void 0)}},W$={moduleName:"ColumnHeaderComp",version:ji,userComponents:{agColumnHeader:H$},icons:{menu:"menu",menuAlt:"menu-alt"}},U$={moduleName:"ColumnGroupHeaderComp",version:ji,userComponents:{agColumnGroupHeader:V$},icons:{columnGroupOpened:"expanded",columnGroupClosed:"contracted"}},Y$=class extends Be{constructor(){super(...arguments),this.beanName="animationFrameSvc",this.p1={list:[],sorted:!1},this.p2={list:[],sorted:!1},this.f1={list:[],sorted:!1},this.destroyTasks=[],this.ticking=!1,this.scrollGoingDown=!0,this.lastScrollTop=0,this.taskCount=0}setScrollTop(e){this.scrollGoingDown=e>=this.lastScrollTop,e===0&&(this.scrollGoingDown=!0),this.lastScrollTop=e}postConstruct(){this.active=!this.gos.get("suppressAnimationFrame"),this.batchFrameworkComps=this.beans.frameworkOverrides.batchFrameworkComps}verify(){this.active===!1&&Wt(92)}createTask(e,t,i,n){this.verify();let s=i;n&&this.batchFrameworkComps&&(s="f1");const r={task:e,index:t,createOrder:++this.taskCount};this.addTaskToList(this[s],r),this.schedule()}addTaskToList(e,t){e.list.push(t),e.sorted=!1}sortTaskList(e){if(e.sorted)return;const t=this.scrollGoingDown?1:-1;e.list.sort((i,n)=>i.index!==n.index?t*(n.index-i.index):n.createOrder-i.createOrder),e.sorted=!0}addDestroyTask(e){this.verify(),this.destroyTasks.push(e),this.schedule()}executeFrame(e){const{p1:t,p2:i,f1:n,destroyTasks:s,beans:r}=this,{ctrlsSvc:o,frameworkOverrides:a}=r,c=t.list,h=i.list,f=n.list,p=Date.now();let m=0;const b=e<=0,C=o.getScrollFeature();for(;b||m<e;){if(!C.scrollGridIfNeeded()){let D;if(c.length)this.sortTaskList(t),D=c.pop().task;else if(h.length)this.sortTaskList(i),D=h.pop().task;else if(f.length)a.wrapOutgoing(()=>{for(;(b||m<e)&&!C.scrollGridIfNeeded();){if(f.length)this.sortTaskList(n),D=f.pop().task,D();else break;m=Date.now()-p}}),D=()=>{};else if(s.length)D=s.pop();else break;D()}m=Date.now()-p}c.length||h.length||f.length||s.length?this.requestFrame():this.ticking=!1}flushAllFrames(){this.active&&this.executeFrame(-1)}schedule(){this.active&&(this.ticking||(this.ticking=!0,this.requestFrame()))}requestFrame(){const e=this.executeFrame.bind(this,60);du(this.beans,e)}isQueueEmpty(){return!this.ticking}},K$={moduleName:"AnimationFrame",version:ji,beans:[Y$]},$$=class extends Be{constructor(){super(...arguments),this.beanName="touchSvc"}mockBodyContextMenu(e,t){this.mockContextMenu(e,e.eBodyViewport,t)}mockHeaderContextMenu(e,t){this.mockContextMenu(e,e.eGui,t)}mockRowContextMenu(e){if(!Tp())return;const t=(i,n,s)=>{var a;const{rowCtrl:r,cellCtrl:o}=e.getControlsForEventTarget((s==null?void 0:s.target)??null);o!=null&&o.column&&o.dispatchCellContextMenuEvent(s??null),(a=this.beans.contextMenuSvc)==null||a.handleContextMenuMouseEvent(void 0,s,r,o)};this.mockContextMenu(e,e.element,t)}handleCellDoubleClick(e,t){return(()=>{if(!Tp()||NO("dblclick"))return!1;const n=Date.now(),s=n-e.lastIPadMouseClickEvent<200;return e.lastIPadMouseClickEvent=n,s})()?(e.onCellDoubleClicked(t),t.preventDefault(),!0):!1}setupForHeader(e){const{gos:t,sortSvc:i}=this.beans;if(t.get("suppressTouch"))return;const{params:n,eMenu:s,eFilterButton:r}=e,o=new sp(e.getGui(),!0),a=e.shouldSuppressMenuHide(),c=a&&At(s),h=c?new sp(s,!0):o;if(n.enableMenu){const f=c?"tap":"longTap",p=m=>n.showColumnMenuAfterMouseClick(m.touchStart);e.addManagedListeners(h,{[f]:p})}if(n.enableSorting){const f=p=>{const m=p.touchStart.target;a&&(s!=null&&s.contains(m)||r!=null&&r.contains(m))||i==null||i.progressSort(n.column,!1,"uiColumnSorted")};e.addManagedListeners(o,{tap:f})}if(n.enableFilterButton&&r){const f=new sp(r,!0);e.addManagedListeners(f,{tap:()=>n.showFilter(r)}),e.addDestroyFunc(()=>f.destroy())}e.addDestroyFunc(()=>o.destroy()),c&&e.addDestroyFunc(()=>h.destroy())}setupForHeaderGroup(e,t,i){const n=new sp(t,!0);e.addManagedListeners(n,{tap:i}),e.addDestroyFunc(()=>n.destroy())}mockContextMenu(e,t,i){if(!Tp())return;const n=new sp(t),s=r=>{Wp(this.gos,r.touchEvent)&&i(void 0,r.touchStart,r.touchEvent)};e.addManagedListeners(n,{longTap:s}),e.addDestroyFunc(()=>n.destroy())}},Z$={moduleName:"Touch",version:ji,beans:[$$]},X$=class extends Be{constructor(){super(...arguments),this.beanName="cellNavigation"}wireBeans(e){this.rowSpanSvc=e.rowSpanSvc}getNextCellToFocus(e,t,i=!1){return i?this.getNextCellToFocusWithCtrlPressed(e,t):this.getNextCellToFocusWithoutCtrlPressed(e,t)}getNextCellToFocusWithCtrlPressed(e,t){const i=e===Pe.UP,n=e===Pe.DOWN,s=e===Pe.LEFT;let r,o;const{pageBounds:a,gos:c,visibleCols:h}=this.beans;if(i||n)o=i?a.getFirstRow():a.getLastRow(),r=t.column;else{const f=c.get("enableRtl");o=t.rowIndex,r=(s!==f?h.allCols:[...h.allCols].reverse()).find(m=>this.isCellGoodToFocusOn({rowIndex:o,rowPinned:null,column:m}))}return r?{rowIndex:o,rowPinned:null,column:r}:null}getNextCellToFocusWithoutCtrlPressed(e,t){let i=t,n=!1;for(;!n;){switch(e){case Pe.UP:i=this.getCellAbove(i);break;case Pe.DOWN:i=this.getCellBelow(i);break;case Pe.RIGHT:i=this.gos.get("enableRtl")?this.getCellToLeft(i):this.getCellToRight(i);break;case Pe.LEFT:i=this.gos.get("enableRtl")?this.getCellToRight(i):this.getCellToLeft(i);break;default:i=null,Wt(8,{key:e});break}i?n=this.isCellGoodToFocusOn(i):n=!0}return i}isCellGoodToFocusOn(e){const t=e.column;let i;const{pinnedRowModel:n,rowModel:s}=this.beans;switch(e.rowPinned){case"top":i=n==null?void 0:n.getPinnedTopRow(e.rowIndex);break;case"bottom":i=n==null?void 0:n.getPinnedBottomRow(e.rowIndex);break;default:i=s.getRow(e.rowIndex);break}return i?!this.isSuppressNavigable(t,i):!1}getCellToLeft(e){if(!e)return null;const t=this.beans.visibleCols.getColBefore(e.column);return t?{rowIndex:e.rowIndex,column:t,rowPinned:e.rowPinned}:null}getCellToRight(e){if(!e)return null;const t=this.beans.visibleCols.getColAfter(e.column);return t?{rowIndex:e.rowIndex,column:t,rowPinned:e.rowPinned}:null}getCellBelow(e){var n;if(!e)return null;const t=((n=this.rowSpanSvc)==null?void 0:n.getCellEnd(e))??e,i=b1(this.beans,t);return i?{rowIndex:i.rowIndex,column:e.column,rowPinned:i.rowPinned}:null}getCellAbove(e){var n;if(!e)return null;const t=((n=this.rowSpanSvc)==null?void 0:n.getCellStart(e))??e,i=Gb(this.beans,{rowIndex:t.rowIndex,rowPinned:t.rowPinned});return i?{rowIndex:i.rowIndex,column:e.column,rowPinned:i.rowPinned}:null}getNextTabbedCell(e,t){return t?this.getNextTabbedCellBackwards(e):this.getNextTabbedCellForwards(e)}getNextTabbedCellForwards(e){const{visibleCols:t,pagination:i}=this.beans,n=t.allCols;let s=e.rowIndex,r=e.rowPinned,o=t.getColAfter(e.column);if(!o){o=n[0];const a=b1(this.beans,e);if(Vn(a)||!a.rowPinned&&!((i==null?void 0:i.isRowInPage(a.rowIndex))??!0))return null;s=a?a.rowIndex:null,r=a?a.rowPinned:null}return{rowIndex:s,column:o,rowPinned:r}}getNextTabbedCellBackwards(e){const{beans:t}=this,{visibleCols:i,pagination:n}=t,s=i.allCols;let r=e.rowIndex,o=e.rowPinned,a=i.getColBefore(e.column);if(!a){a=Li(s);const c=Gb(t,{rowIndex:e.rowIndex,rowPinned:e.rowPinned});if(Vn(c)||!c.rowPinned&&!((n==null?void 0:n.isRowInPage(c.rowIndex))??!0))return null;r=c?c.rowIndex:null,o=c?c.rowPinned:null}return{rowIndex:r,column:a,rowPinned:o}}isSuppressNavigable(e,t){const{suppressNavigable:i}=e.colDef;if(typeof i=="boolean")return i;if(typeof i=="function"){const n=e.createColumnFunctionCallbackParams(t);return i(n)}return!1}};function q$(e){return e.focusSvc.getFocusedCell()}function Q$(e){return e.focusSvc.clearFocusedCell()}function J$(e,t,i,n){e.focusSvc.setFocusedCell({rowIndex:t,column:i,rowPinned:n,forceBrowserFocus:!0})}function eZ(e,t){var i;return((i=e.navigation)==null?void 0:i.tabToNextCell(!1,t))??!1}function tZ(e,t){var i;return((i=e.navigation)==null?void 0:i.tabToNextCell(!0,t))??!1}function iZ(e,t,i=!1){var s;const n=(s=e.headerNavigation)==null?void 0:s.getHeaderPositionForColumn(t,i);n&&e.focusSvc.focusHeaderPosition({headerPosition:n})}var nZ=class extends Be{constructor(){super(),this.beanName="navigation",this.onPageDown=u1(this.onPageDown,100),this.onPageUp=u1(this.onPageUp,100)}postConstruct(){this.beans.ctrlsSvc.whenReady(this,e=>{this.gridBodyCon=e.gridBodyCtrl})}handlePageScrollingKey(e,t=!1){const i=e.key,n=e.altKey,s=e.ctrlKey||e.metaKey,r=!!this.beans.rangeSvc&&e.shiftKey,o=G5(this.gos,e);let a=!1;switch(i){case Pe.PAGE_HOME:case Pe.PAGE_END:!s&&!n&&(this.onHomeOrEndKey(i),a=!0);break;case Pe.LEFT:case Pe.RIGHT:case Pe.UP:case Pe.DOWN:if(!o)return!1;s&&!n&&!r&&(this.onCtrlUpDownLeftRight(i,o),a=!0);break;case Pe.PAGE_DOWN:case Pe.PAGE_UP:!s&&!n&&(a=this.handlePageUpDown(i,o,t));break}return a&&e.preventDefault(),a}handlePageUpDown(e,t,i){return i&&(t=this.beans.focusSvc.getFocusedCell()),t?(e===Pe.PAGE_UP?this.onPageUp(t):this.onPageDown(t),!0):!1}navigateTo(e){const{scrollIndex:t,scrollType:i,scrollColumn:n,focusIndex:s,focusColumn:r}=e,{scrollFeature:o}=this.gridBodyCon;At(n)&&!n.isPinned()&&o.ensureColumnVisible(n),At(t)&&o.ensureIndexVisible(t,i),e.isAsync||o.ensureIndexVisible(s);const{focusSvc:a,rangeSvc:c}=this.beans;a.setFocusedCell({rowIndex:s,column:r,rowPinned:null,forceBrowserFocus:!0}),c==null||c.setRangeToCell({rowIndex:s,rowPinned:null,column:r})}onPageDown(e){const t=this.beans,i=Mw(t),n=this.getViewportHeight(),{pageBounds:s,rowModel:r,rowAutoHeight:o}=t,a=s.getPixelOffset(),c=i.top+n,h=r.getRowIndexAtPixel(c+a);o!=null&&o.active?this.navigateToNextPageWithAutoHeight(e,h):this.navigateToNextPage(e,h)}onPageUp(e){const t=this.beans,i=Mw(t),{pageBounds:n,rowModel:s,rowAutoHeight:r}=t,o=n.getPixelOffset(),a=i.top,c=s.getRowIndexAtPixel(a+o);r!=null&&r.active?this.navigateToNextPageWithAutoHeight(e,c,!0):this.navigateToNextPage(e,c,!0)}navigateToNextPage(e,t,i=!1){const{pageBounds:n,rowModel:s}=this.beans,r=this.getViewportHeight(),o=n.getFirstRow(),a=n.getLastRow(),c=n.getPixelOffset(),h=s.getRow(e.rowIndex),f=i?(h==null?void 0:h.rowHeight)-r-c:r-c,p=(h==null?void 0:h.rowTop)+f;let m=s.getRowIndexAtPixel(p+c);if(m===e.rowIndex){const C=i?-1:1;t=m=e.rowIndex+C}let b;i?(b="bottom",m<o&&(m=o),t<o&&(t=o)):(b="top",m>a&&(m=a),t>a&&(t=a)),this.isRowTallerThanView(s.getRow(m))&&(t=m,b="top"),this.navigateTo({scrollIndex:t,scrollType:b,scrollColumn:null,focusIndex:m,focusColumn:e.column})}navigateToNextPageWithAutoHeight(e,t,i=!1){this.navigateTo({scrollIndex:t,scrollType:i?"bottom":"top",scrollColumn:null,focusIndex:t,focusColumn:e.column}),setTimeout(()=>{const n=this.getNextFocusIndexForAutoHeight(e,i);this.navigateTo({scrollIndex:t,scrollType:i?"bottom":"top",scrollColumn:null,focusIndex:n,focusColumn:e.column,isAsync:!0})},50)}getNextFocusIndexForAutoHeight(e,t=!1){const i=t?-1:1,n=this.getViewportHeight(),{pageBounds:s,rowModel:r}=this.beans,o=s.getLastRow();let a=0,c=e.rowIndex;for(;c>=0&&c<=o;){const h=r.getRow(c);if(h){const f=h.rowHeight??0;if(a+f>n)break;a+=f}c+=i}return Math.max(0,Math.min(c,o))}getViewportHeight(){const e=this.beans,t=Mw(e),i=this.beans.scrollVisibleSvc.getScrollbarWidth();let n=t.bottom-t.top;return e.ctrlsSvc.get("center").isHorizontalScrollShowing()&&(n-=i),n}isRowTallerThanView(e){if(!e)return!1;const t=e.rowHeight;return typeof t!="number"?!1:t>this.getViewportHeight()}onCtrlUpDownLeftRight(e,t){const i=this.beans.cellNavigation.getNextCellToFocus(e,t,!0),{rowIndex:n}=i,s=i.column;this.navigateTo({scrollIndex:n,scrollType:null,scrollColumn:s,focusIndex:n,focusColumn:s})}onHomeOrEndKey(e){const t=e===Pe.PAGE_HOME,{visibleCols:i,pageBounds:n,rowModel:s}=this.beans,r=i.allCols,o=t?n.getFirstRow():n.getLastRow(),a=s.getRow(o);if(!a)return;const c=(t?r:[...r].reverse()).find(h=>!h.isSuppressNavigable(a));c&&this.navigateTo({scrollIndex:o,scrollType:null,scrollColumn:c,focusIndex:o,focusColumn:c})}onTabKeyDown(e,t){const i=t.shiftKey,n=this.tabToNextCellCommon(e,i,t),s=this.beans,{ctrlsSvc:r,pageBounds:o,focusSvc:a,gos:c}=s;if(n!==!1){n?t.preventDefault():n===null&&r.get("gridCtrl").allowFocusForNextCoreContainer(i);return}if(i){const{rowIndex:h,rowPinned:f}=e.getRowPosition();(f?h===0:h===o.getFirstRow())&&(c.get("headerHeight")===0||Th(s)?Vp(s,!0,!0):(t.preventDefault(),a.focusPreviousFromFirstCell(t)))}else e instanceof nb&&e.focusCell(!0),(!i&&a.focusOverlay(!1)||Vp(s,i))&&t.preventDefault()}tabToNextCell(e,t){const i=this.beans,{focusSvc:n,rowRenderer:s}=i,r=n.getFocusedCell();if(!r)return!1;let o=Ev(i,r);return!o&&(o=s.getRowByPosition(r),!o||!o.isFullWidth())?!1:!!this.tabToNextCellCommon(o,e,t)}tabToNextCellCommon(e,t,i){let n=e.editing;if(!n&&e instanceof nb){const o=e.rowCtrl;o&&(n=o.editing)}let s;return n?this.gos.get("editType")==="fullRow"?s=this.moveToNextEditingRow(e,t,i):s=this.moveToNextEditingCell(e,t,i):s=this.moveToNextCellNotEditing(e,t,i),s===null?s:s||!!this.beans.focusSvc.focusedHeader}moveToNextEditingCell(e,t,i=null){var r;const n=e.cellPosition;e.eGui.focus(),e.stopEditing();const s=this.findNextCellToFocusOn(n,t,!0);return s===!1?null:s==null?!1:((r=this.beans.editSvc)==null||r.startEditing(s,null,!0,i),s.focusCell(!1),!0)}moveToNextEditingRow(e,t,i=null){const n=e.cellPosition,s=this.findNextCellToFocusOn(n,t,!0);if(s===!1)return null;if(s==null)return!1;const r=s.cellPosition,o=this.isCellEditable(n),a=this.isCellEditable(r),c=r&&n.rowIndex===r.rowIndex&&n.rowPinned===r.rowPinned,{editSvc:h,rowEditSvc:f}=this.beans;if(o&&(h==null||h.setFocusOutOnEditor(e)),!c){const p=e.rowCtrl;h==null||h.stopRowEditing(p);const m=s.rowCtrl;f==null||f.startEditing(m,void 0,void 0,i)}return a?(h==null||h.setFocusInOnEditor(s),s.focusCell()):s.focusCell(!0),!0}moveToNextCellNotEditing(e,t,i){const n=this.beans.visibleCols.allCols;let s;if(e instanceof AM){if(s={...e.getRowPosition(),column:t?n[0]:Li(n)},this.gos.get("embedFullWidthRows")&&i){const o=e.findFullWidthInfoForEvent(i);o&&(s.column=o.column)}}else s=e.getFocusedCellPosition();const r=this.findNextCellToFocusOn(s,t,!1);if(r===!1)return null;if(r instanceof nb)r.focusCell(!0);else if(r)return this.tryToFocusFullWidthRow(r,t);return At(r)}findNextCellToFocusOn(e,t,i){let n=e;const s=this.beans,{cellNavigation:r,gos:o,focusSvc:a,rowRenderer:c,rangeSvc:h}=s;for(;;){e!==n&&(e=n),t||(n=this.getLastCellOfColSpan(n)),n=r.getNextTabbedCell(n,t);const f=o.getCallback("tabToNextCell");if(At(f)){const C=f({backwards:t,editing:i,previousCellPosition:e,nextCellPosition:n||null});if(C===!0)n=e;else{if(C===!1)return!1;n={rowIndex:C.rowIndex,column:C.column,rowPinned:C.rowPinned}}}if(!n)return null;if(n.rowIndex<0){const b=ma(s);return a.focusHeaderPosition({headerPosition:{headerRowIndex:b+n.rowIndex,column:n.column},fromCell:!0}),null}const p=o.get("editType")==="fullRow";if(i&&!p&&!this.isCellEditable(n))continue;this.ensureCellVisible(n);const m=Ev(s,n);if(!m){const b=c.getRowByPosition(n);if(!b||!b.isFullWidth()||i)continue;return{...b.getRowPosition(),column:n==null?void 0:n.column}}if(!r.isSuppressNavigable(m.column,m.rowNode))return m.setFocusedCellPosition(n),h==null||h.setRangeToCell(n),m}}isCellEditable(e){const t=this.lookupRowNodeForCell(e);return t?e.column.isCellEditable(t):!1}lookupRowNodeForCell({rowIndex:e,rowPinned:t}){const{pinnedRowModel:i,rowModel:n}=this.beans;return t==="top"?i==null?void 0:i.getPinnedTopRow(e):t==="bottom"?i==null?void 0:i.getPinnedBottomRow(e):n.getRow(e)}navigateToNextCell(e,t,i,n){let s=i,r=!1;const o=this.beans,{cellNavigation:a,focusSvc:c,gos:h}=o;for(;s&&(s===i||!this.isValidNavigateCell(s));)h.get("enableRtl")?t===Pe.LEFT&&(s=this.getLastCellOfColSpan(s)):t===Pe.RIGHT&&(s=this.getLastCellOfColSpan(s)),s=a.getNextCellToFocus(t,s),r=Vn(s);if(r&&e&&e.key===Pe.UP&&(s={rowIndex:-1,rowPinned:null,column:i.column}),n){const p=h.getCallback("navigateToNextCell");if(At(p)){const b=p({key:t,previousCellPosition:i,nextCellPosition:s||null,event:e});At(b)?s={rowPinned:b.rowPinned,rowIndex:b.rowIndex,column:b.column}:s=null}}if(!s)return;if(s.rowIndex<0){const p=ma(o);c.focusHeaderPosition({headerPosition:{headerRowIndex:p+s.rowIndex,column:i.column},event:e||void 0,fromCell:!0});return}const f=this.getNormalisedPosition(s);f?this.focusPosition(f):this.tryToFocusFullWidthRow(s)}getNormalisedPosition(e){var n;if(!!((n=this.beans.spannedRowRenderer)!=null&&n.getCellByPosition(e)))return e;this.ensureCellVisible(e);const i=Ev(this.beans,e);return i?(e=i.getFocusedCellPosition(),this.ensureCellVisible(e),e):null}tryToFocusFullWidthRow(e,t){const{visibleCols:i,rowRenderer:n,focusSvc:s,eventSvc:r}=this.beans,o=i.allCols,a=n.getRowByPosition(e);if(!a||!a.isFullWidth())return!1;const c=s.getFocusedCell(),h={rowIndex:e.rowIndex,rowPinned:e.rowPinned,column:e.column||(t?Li(o):o[0])};this.focusPosition(h);const f=t??(c!=null&&V5(h,c));return r.dispatchEvent({type:"fullWidthRowFocused",rowIndex:h.rowIndex,rowPinned:h.rowPinned,column:h.column,isFullWidthCell:!0,fromBelow:f}),!0}focusPosition(e){const{focusSvc:t,rangeSvc:i}=this.beans;t.setFocusedCell({rowIndex:e.rowIndex,column:e.column,rowPinned:e.rowPinned,forceBrowserFocus:!0}),i==null||i.setRangeToCell(e)}isValidNavigateCell(e){return!!nP(this.beans,e)}getLastCellOfColSpan(e){const t=Ev(this.beans,e);if(!t)return e;const i=t.getColSpanningList();return i.length===1?e:{rowIndex:e.rowIndex,column:Li(i),rowPinned:e.rowPinned}}ensureCellVisible(e){const t=IO(this.gos),i=this.beans.rowModel.getRow(e.rowIndex),n=t&&(i==null?void 0:i.sticky),{scrollFeature:s}=this.gridBodyCon;!n&&Vn(e.rowPinned)&&s.ensureIndexVisible(e.rowIndex),e.column.isPinned()||s.ensureColumnVisible(e.column)}};function Mw(e){return e.ctrlsSvc.getScrollFeature().getVScrollPosition()}var sZ={moduleName:"KeyboardNavigation",version:ji,beans:[nZ,X$,A$],apiFunctions:{getFocusedCell:q$,clearFocusedCell:Q$,setFocusedCell:J$,setFocusedHeader:iZ,tabToNextCell:eZ,tabToPreviousCell:tZ}},rZ=class extends Be{constructor(){super(...arguments),this.beanName="pageBoundsListener"}postConstruct(){this.addManagedEventListeners({modelUpdated:this.onModelUpdated.bind(this),recalculateRowBounds:this.calculatePages.bind(this)}),this.onModelUpdated()}onModelUpdated(e){this.calculatePages(),this.eventSvc.dispatchEvent({type:"paginationChanged",animate:(e==null?void 0:e.animate)??!1,newData:(e==null?void 0:e.newData)??!1,newPage:(e==null?void 0:e.newPage)??!1,newPageSize:(e==null?void 0:e.newPageSize)??!1,keepRenderedRows:(e==null?void 0:e.keepRenderedRows)??!1})}calculatePages(){const{pageBounds:e,pagination:t,rowModel:i}=this.beans;t?t.calculatePages():e.calculateBounds(0,i.getRowCount()-1)}},oZ=class extends Be{constructor(){super(...arguments),this.beanName="pageBounds",this.pixelOffset=0}getFirstRow(){var e;return((e=this.topRowBounds)==null?void 0:e.rowIndex)??-1}getLastRow(){var e;return((e=this.bottomRowBounds)==null?void 0:e.rowIndex)??-1}getCurrentPageHeight(){const{topRowBounds:e,bottomRowBounds:t}=this;return!e||!t?0:Math.max(t.rowTop+t.rowHeight-e.rowTop,0)}getCurrentPagePixelRange(){const{topRowBounds:e,bottomRowBounds:t}=this,i=(e==null?void 0:e.rowTop)??0,n=t?t.rowTop+t.rowHeight:0;return{pageFirstPixel:i,pageLastPixel:n}}calculateBounds(e,t){const{rowModel:i}=this.beans,n=i.getRowBounds(e);n&&(n.rowIndex=e),this.topRowBounds=n;const s=i.getRowBounds(t);s&&(s.rowIndex=t),this.bottomRowBounds=s,this.calculatePixelOffset()}getPixelOffset(){return this.pixelOffset}calculatePixelOffset(){var t;const e=((t=this.topRowBounds)==null?void 0:t.rowTop)??0;this.pixelOffset!==e&&(this.pixelOffset=e,this.eventSvc.dispatchEvent({type:"paginationPixelOffsetChanged"}))}},aZ=".ag-pinned-left-floating-bottom,.ag-pinned-left-floating-top,.ag-pinned-right-floating-bottom,.ag-pinned-right-floating-top{min-width:0;overflow:hidden;position:relative}.ag-pinned-left-sticky-top,.ag-pinned-right-sticky-top{height:100%;overflow:hidden;position:relative}.ag-sticky-bottom-full-width-container,.ag-sticky-top-full-width-container{height:100%;overflow:hidden;width:100%}.ag-pinned-left-header,.ag-pinned-right-header{display:inline-block;height:100%;overflow:hidden;position:relative}.ag-body-horizontal-scroll:not(.ag-scrollbar-invisible){.ag-horizontal-left-spacer:not(.ag-scroller-corner){border-right:var(--ag-pinned-column-border)}.ag-horizontal-right-spacer:not(.ag-scroller-corner){border-left:var(--ag-pinned-column-border)}}.ag-pinned-right-header{border-left:var(--ag-pinned-column-border)}.ag-pinned-left-header{border-right:var(--ag-pinned-column-border)}.ag-cell.ag-cell-first-right-pinned:not(.ag-cell-range-left,.ag-cell-range-single-cell,.ag-cell-focus:not(.ag-cell-range-selected):focus-within){border-left:var(--ag-pinned-column-border)}.ag-cell.ag-cell-last-left-pinned:not(.ag-cell-range-right,.ag-cell-range-single-cell,.ag-cell-focus:not(.ag-cell-range-selected):focus-within){border-right:var(--ag-pinned-column-border)}.ag-pinned-left-header .ag-header-cell-resize:after{left:calc(50% - var(--ag-header-column-resize-handle-width))}.ag-pinned-right-header .ag-header-cell-resize:after{left:50%}.ag-pinned-left-header .ag-header-cell-resize{right:-3px}.ag-pinned-right-header .ag-header-cell-resize{left:-3px}",lZ=class extends Be{constructor(e,t){super(),this.isLeft=e,this.elements=t,this.getWidth=e?()=>this.beans.pinnedCols.leftWidth:()=>this.beans.pinnedCols.rightWidth}postConstruct(){this.addManagedEventListeners({[`${this.isLeft?"left":"right"}PinnedWidthChanged`]:this.onPinnedWidthChanged.bind(this)})}onPinnedWidthChanged(){const e=this.getWidth(),t=e>0;for(const i of this.elements)i&&(Gn(i,t),qc(i,e))}},cZ=class extends Be{constructor(){super(...arguments),this.beanName="pinnedCols"}postConstruct(){this.beans.ctrlsSvc.whenReady(this,t=>{this.gridBodyCtrl=t.gridBodyCtrl});const e=this.checkContainerWidths.bind(this);this.addManagedEventListeners({displayedColumnsChanged:e,displayedColumnsWidthChanged:e}),this.addManagedPropertyListener("domLayout",e)}checkContainerWidths(){const{gos:e,visibleCols:t,eventSvc:i}=this.beans,n=Hs(e,"print"),s=n?0:t.getColsLeftWidth(),r=n?0:t.getDisplayedColumnsRightWidth();s!=this.leftWidth&&(this.leftWidth=s,i.dispatchEvent({type:"leftPinnedWidthChanged"})),r!=this.rightWidth&&(this.rightWidth=r,i.dispatchEvent({type:"rightPinnedWidthChanged"}))}keepPinnedColumnsNarrowerThanViewport(){const e=this.gridBodyCtrl.eBodyViewport,t=Lb(e);if(t<=50)return;const i=this.getPinnedColumnsOverflowingViewport(t-50),n=this.gos.getCallback("processUnpinnedColumns"),{columns:s,hasLockedPinned:r}=i;let o=s;!o.length&&!r||(n&&(o=n({columns:o,viewportWidth:t})),!(!o||!o.length)&&(o=o.filter(a=>!kb(a)),this.setColsPinned(o,null,"viewportSizeFeature")))}createPinnedWidthFeature(e,...t){return new lZ(e,t)}setColsPinned(e,t,i){const{colModel:n,colAnimation:s,visibleCols:r,gos:o}=this.beans;if(!n.cols||!(e!=null&&e.length))return;if(Hs(o,"print")){Wt(37);return}s==null||s.start();let a;t===!0||t==="left"?a="left":t==="right"?a="right":a=null;const c=[];e.forEach(h=>{if(!h)return;const f=n.getCol(h);f&&f.getPinned()!==a&&(this.setColPinned(f,a),c.push(f))}),c.length&&(r.refresh(i),UO(this.eventSvc,c,i)),s==null||s.finish()}initCol(e){const{pinned:t,initialPinned:i}=e.colDef;t!==void 0?this.setColPinned(e,t):this.setColPinned(e,i)}setColPinned(e,t){t===!0||t==="left"?e.pinned="left":t==="right"?e.pinned="right":e.pinned=null,e.dispatchStateUpdatedEvent("pinned")}setupHeaderPinnedWidth(e){const{scrollVisibleSvc:t}=this.beans;if(e.pinned==null)return;const i=e.pinned==="left",n=e.pinned==="right";e.hidden=!0;const s=()=>{const r=i?this.leftWidth:this.rightWidth;if(r==null)return;const o=r==0,a=e.hidden!==o,c=this.gos.get("enableRtl"),h=t.getScrollbarWidth(),p=t.verticalScrollShowing&&(c&&i||!c&&n)?r+h:r;e.comp.setPinnedContainerWidth(`${p}px`),e.comp.setDisplayed(!o),a&&(e.hidden=o,e.refresh())};e.addManagedEventListeners({leftPinnedWidthChanged:s,rightPinnedWidthChanged:s,scrollVisibilityChanged:s,scrollbarWidthChanged:s})}getHeaderResizeDiff(e,t){if(t.getPinned()){const{leftWidth:n,rightWidth:s}=this,r=Lb(this.beans.ctrlsSvc.getGridBodyCtrl().eBodyViewport)-50;if(n+s+e>r)if(r>n+s)e=r-n-s;else return 0}return e}getPinnedColumnsOverflowingViewport(e){const t=this.rightWidth??0,i=this.leftWidth??0,n=t+i;let s=!1;if(n<e)return{columns:[],hasLockedPinned:s};const{visibleCols:r}=this.beans,o=[...r.leftCols],a=[...r.rightCols];let c=0,h=0;const f=0,p=[];let m=n-f-e;for(;(h<o.length||c<a.length)&&m>0;){if(c<a.length){const b=a[c++];if(b.colDef.lockPinned){s=!0;continue}m-=b.getActualWidth(),p.push(b)}if(h<o.length&&m>0){const b=o[h++];if(b.colDef.lockPinned){s=!0;continue}m-=b.getActualWidth(),p.push(b)}}return{columns:p,hasLockedPinned:s}}},uZ={moduleName:"PinnedColumn",version:ji,beans:[cZ],css:[aZ]},hZ=class extends Be{constructor(){super(),this.beanName="ariaAnnounce",this.descriptionContainer=null,this.pendingAnnouncements=new Map,this.lastAnnouncement="",this.updateAnnouncement=bp(this,this.updateAnnouncement.bind(this),200)}postConstruct(){const e=this.beans,t=Ia(e),i=this.descriptionContainer=t.createElement("div");i.classList.add("ag-aria-description-container"),rO(i,"polite"),u3(i,"additions text"),c3(i,!0),e.eGridDiv.appendChild(i)}announceValue(e,t){this.pendingAnnouncements.set(t,e),this.updateAnnouncement()}updateAnnouncement(){if(!this.descriptionContainer)return;const e=Array.from(this.pendingAnnouncements.values()).join(". ");this.pendingAnnouncements.clear(),this.descriptionContainer.textContent="",setTimeout(()=>{if(this.isAlive()&&this.descriptionContainer){let t=e;this.lastAnnouncement===t&&(t=`${t}.`),this.lastAnnouncement=t,this.descriptionContainer.textContent=t}},50)}destroy(){var t;super.destroy();const{descriptionContainer:e}=this;e&&(xm(e),(t=e.parentElement)==null||t.removeChild(e)),this.descriptionContainer=null,this.pendingAnnouncements.clear()}},dZ={moduleName:"Aria",version:ji,beans:[hZ]};function fZ(e){var t;(t=e.overlays)==null||t.showLoadingOverlay()}function gZ(e){var t;(t=e.overlays)==null||t.showNoRowsOverlay()}function pZ(e){var t;(t=e.overlays)==null||t.hideOverlay()}var mZ=".ag-overlay{inset:0;pointer-events:none;position:absolute;z-index:2}.ag-overlay-panel,.ag-overlay-wrapper{display:flex;height:100%;width:100%}.ag-overlay-wrapper{align-items:center;flex:none;justify-content:center;text-align:center}.ag-overlay-loading-wrapper{pointer-events:all}.ag-overlay-loading-center{background:var(--ag-background-color);border:1px solid var(--ag-border-color);border-radius:var(--ag-border-radius);box-shadow:var(--ag-popup-shadow);padding:var(--ag-spacing)}",yZ={tag:"div",cls:"ag-overlay",role:"presentation",children:[{tag:"div",cls:"ag-overlay-panel",role:"presentation",children:[{tag:"div",ref:"eOverlayWrapper",cls:"ag-overlay-wrapper",role:"presentation"}]}]},zP=class extends Il{constructor(){super(yZ),this.eOverlayWrapper=ii,this.activePromise=null,this.activeOverlay=null,this.updateListenerDestroyFunc=null,this.activeCssClass=null,this.elToFocusAfter=null,this.registerCSS(mZ)}handleKeyDown(e){if(e.key!==Pe.TAB||e.defaultPrevented||Jc(e))return;const t=this.beans;if(FC(t,this.eOverlayWrapper,!1,e.shiftKey))return;let n=!1;e.shiftKey?n=t.focusSvc.focusGridView({column:Li(t.visibleCols.allCols),backwards:!0,canFocusOverlay:!1}):n=Vp(t,!1),n&&e.preventDefault()}updateLayoutClasses(e,t){const i=this.eOverlayWrapper.classList,{AUTO_HEIGHT:n,NORMAL:s,PRINT:r}=sb;i.toggle(n,t.autoHeight),i.toggle(s,t.normal),i.toggle(r,t.print)}postConstruct(){this.createManagedBean(new eL(this)),this.setDisplayed(!1,{skipAriaHidden:!0}),this.beans.overlays.setOverlayWrapperComp(this),this.addManagedElementListeners(this.getFocusableElement(),{keydown:this.handleKeyDown.bind(this)})}setWrapperTypeClass(e){const t=this.eOverlayWrapper.classList;this.activeCssClass&&t.toggle(this.activeCssClass,!1),this.activeCssClass=e,t.toggle(e,!0)}showOverlay(e,t,i,n){if(this.setWrapperTypeClass(t),this.destroyActiveOverlay(),this.elToFocusAfter=null,this.activePromise=e,!!e){if(this.setDisplayed(!0,{skipAriaHidden:!0}),i&&this.isGridFocused()){const s=Ss(this.beans);s&&!W3(this.beans)&&(this.elToFocusAfter=s)}e.then(s=>{if(this.activePromise!==e){this.activeOverlay!==s&&(this.destroyBean(s),s=null);return}if(this.activePromise=null,!!s){if(this.activeOverlay!==s&&(this.eOverlayWrapper.appendChild(s.getGui()),this.activeOverlay=s,n)){const r=s;this.updateListenerDestroyFunc=this.addManagedPropertyListener(n,({currentValue:o})=>{var a;(a=r.refresh)==null||a.call(r,wi(this.gos,{...o??{}}))})}i&&this.isGridFocused()&&Bb(this.eOverlayWrapper)}})}}updateOverlayWrapperPaddingTop(e){this.eOverlayWrapper.style.setProperty("padding-top",`${e}px`)}destroyActiveOverlay(){var n;this.activePromise=null;const e=this.activeOverlay;if(!e)return;let t=this.elToFocusAfter;this.activeOverlay=null,this.elToFocusAfter=null,t&&!this.isGridFocused()&&(t=null);const i=this.updateListenerDestroyFunc;i&&(i(),this.updateListenerDestroyFunc=null),this.destroyBean(e),xm(this.eOverlayWrapper),(n=t==null?void 0:t.focus)==null||n.call(t,{preventScroll:!0})}hideOverlay(){this.destroyActiveOverlay(),this.setDisplayed(!1,{skipAriaHidden:!0})}isGridFocused(){const e=Ss(this.beans);return!!e&&this.beans.eGridDiv.contains(e)}destroy(){this.elToFocusAfter=null,this.destroyActiveOverlay(),this.beans.overlays.setOverlayWrapperComp(void 0),super.destroy()}},vZ={selector:"AG-OVERLAY-WRAPPER",component:zP},bZ=class extends Be{constructor(){super(...arguments),this.beanName="overlays",this.state=0,this.showInitialOverlay=!0,this.wrapperPadding=0}postConstruct(){this.isClientSide=_C(this.gos),this.isServerSide=!this.isClientSide&&XD(this.gos);const e=()=>this.updateOverlayVisibility();this.addManagedEventListeners({newColumnsLoaded:e,rowDataUpdated:e,gridSizeChanged:this.refreshWrapperPadding.bind(this),rowCountReady:()=>{this.showInitialOverlay=!1,this.updateOverlayVisibility()}}),this.addManagedPropertyListener("loading",e)}setOverlayWrapperComp(e){this.eWrapper=e,this.updateOverlayVisibility()}isVisible(){return this.state!==0&&!!this.eWrapper}isExclusive(){return this.state===1&&!!this.eWrapper}showLoadingOverlay(){this.showInitialOverlay=!1;const e=this.gos,t=e.get("loading");!t&&(t!==void 0||e.get("suppressLoadingOverlay"))||this.doShowLoadingOverlay()}showNoRowsOverlay(){this.showInitialOverlay=!1;const e=this.gos;e.get("loading")||e.get("suppressNoRowsOverlay")||this.doShowNoRowsOverlay()}hideOverlay(){if(this.showInitialOverlay=!1,this.gos.get("loading")){Wt(99);return}this.doHideOverlay()}getOverlayWrapperSelector(){return vZ}getOverlayWrapperCompClass(){return zP}updateOverlayVisibility(){if(!this.eWrapper){this.state=0;return}const{state:e,isClientSide:t,isServerSide:i,beans:{gos:n,colModel:s,rowModel:r}}=this;let o=this.gos.get("loading");o!==void 0&&(this.showInitialOverlay=!1),this.showInitialOverlay&&o===void 0&&!n.get("suppressLoadingOverlay")&&(o=!n.get("columnDefs")||!s.ready||!n.get("rowData")&&t),o?e!==1&&this.doShowLoadingOverlay():(this.showInitialOverlay=!1,t&&r.isEmpty()&&!n.get("suppressNoRowsOverlay")?e!==2&&this.doShowNoRowsOverlay():(e===1||!i&&e!==0)&&this.doHideOverlay())}doShowLoadingOverlay(){this.eWrapper&&(this.state=1,this.showOverlay(r5(this.beans.userCompFactory,wi(this.gos,{})),"ag-overlay-loading-wrapper","loadingOverlayComponentParams"),this.updateExclusive())}doShowNoRowsOverlay(){this.eWrapper&&(this.state=2,this.showOverlay(o5(this.beans.userCompFactory,wi(this.gos,{})),"ag-overlay-no-rows-wrapper","noRowsOverlayComponentParams"),this.updateExclusive())}doHideOverlay(){this.eWrapper&&(this.state=0,this.eWrapper.hideOverlay(),this.updateExclusive())}showOverlay(e,t,i){var s;const n=(e==null?void 0:e.newAgStackInstance())??null;(s=this.eWrapper)==null||s.showOverlay(n,t,this.isExclusive(),i),this.refreshWrapperPadding()}updateExclusive(){const e=this.exclusive;this.exclusive=this.isExclusive(),this.exclusive!==e&&this.eventSvc.dispatchEvent({type:"overlayExclusiveChanged"})}refreshWrapperPadding(){const e=this.eWrapper;if(!e)return;let t=0;if(this.state===2){const i=this.beans.ctrlsSvc.get("gridHeaderCtrl");t=(i==null?void 0:i.headerHeight)||0}else this.wrapperPadding!==0&&(t=0);this.wrapperPadding!==t&&(this.wrapperPadding=t,e.updateOverlayWrapperPaddingTop(t))}},CZ={moduleName:"Overlay",version:ji,userComponents:{agLoadingOverlay:BY,agNoRowsOverlay:GY},apiFunctions:{showLoadingOverlay:fZ,showNoRowsOverlay:gZ,hideOverlay:pZ},beans:[bZ]},xZ=class extends Be{constructor(){super(...arguments),this.beanName="rowContainerHeight",this.scrollY=0,this.uiBodyHeight=0}postConstruct(){this.addManagedEventListeners({bodyHeightChanged:this.updateOffset.bind(this)}),this.maxDivHeight=b3(),Eb(this.gos,"RowContainerHeightService - maxDivHeight = "+this.maxDivHeight)}updateOffset(){if(!this.stretching)return;const e=this.beans.ctrlsSvc.getScrollFeature().getVScrollPosition().top,t=this.getUiBodyHeight();(e!==this.scrollY||t!==this.uiBodyHeight)&&(this.scrollY=e,this.uiBodyHeight=t,this.calculateOffset())}calculateOffset(){this.setUiContainerHeight(this.maxDivHeight),this.pixelsToShave=this.modelHeight-this.uiContainerHeight,this.maxScrollY=this.uiContainerHeight-this.uiBodyHeight;const e=this.scrollY/this.maxScrollY,t=e*this.pixelsToShave;Eb(this.gos,`RowContainerHeightService - Div Stretch Offset = ${t} (${this.pixelsToShave} * ${e})`),this.setDivStretchOffset(t)}setUiContainerHeight(e){e!==this.uiContainerHeight&&(this.uiContainerHeight=e,this.eventSvc.dispatchEvent({type:"rowContainerHeightChanged"}))}clearOffset(){this.setUiContainerHeight(this.modelHeight),this.pixelsToShave=0,this.setDivStretchOffset(0)}setDivStretchOffset(e){const t=typeof e=="number"?Math.floor(e):null;this.divStretchOffset!==t&&(this.divStretchOffset=t,this.eventSvc.dispatchEvent({type:"heightScaleChanged"}))}setModelHeight(e){this.modelHeight=e,this.stretching=e!=null&&this.maxDivHeight>0&&e>this.maxDivHeight,this.stretching?this.calculateOffset():this.clearOffset()}getRealPixelPosition(e){return e-this.divStretchOffset}getUiBodyHeight(){const e=this.beans.ctrlsSvc.getScrollFeature().getVScrollPosition();return e.bottom-e.top}getScrollPositionForPixel(e){if(this.pixelsToShave<=0)return e;const t=this.modelHeight-this.getUiBodyHeight(),i=e/t;return this.maxScrollY*i}},SZ=400,wZ=class extends Be{constructor(){super(...arguments),this.beanName="rowRenderer",this.destroyFuncsForColumnListeners=[],this.rowCtrlsByRowIndex={},this.zombieRowCtrls={},this.allRowCtrls=[],this.topRowCtrls=[],this.bottomRowCtrls=[],this.refreshInProgress=!1,this.dataFirstRenderedFired=!1,this.setupRangeSelectionListeners=()=>{const e=()=>{this.getAllCellCtrls().forEach(r=>r.onCellSelectionChanged())},t=()=>{this.getAllCellCtrls().forEach(r=>r.updateRangeBordersIfRangeCount())},i=()=>{this.eventSvc.addEventListener("cellSelectionChanged",e),this.eventSvc.addEventListener("columnMoved",t),this.eventSvc.addEventListener("columnPinned",t),this.eventSvc.addEventListener("columnVisible",t)},n=()=>{this.eventSvc.removeEventListener("cellSelectionChanged",e),this.eventSvc.removeEventListener("columnMoved",t),this.eventSvc.removeEventListener("columnPinned",t),this.eventSvc.removeEventListener("columnVisible",t)};this.addDestroyFunc(()=>n()),this.addManagedPropertyListeners(["enableRangeSelection","cellSelection"],()=>{jp(this.gos)?i():n()}),jp(this.gos)&&i()}}wireBeans(e){this.pageBounds=e.pageBounds,this.colModel=e.colModel,this.pinnedRowModel=e.pinnedRowModel,this.rowModel=e.rowModel,this.focusSvc=e.focusSvc,this.rowContainerHeight=e.rowContainerHeight,this.ctrlsSvc=e.ctrlsSvc}postConstruct(){this.ctrlsSvc.whenReady(this,e=>{this.gridBodyCtrl=e.gridBodyCtrl,this.initialise()})}initialise(){this.addManagedEventListeners({paginationChanged:this.onPageLoaded.bind(this),pinnedRowDataChanged:this.onPinnedRowDataChanged.bind(this),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),bodyScroll:this.onBodyScroll.bind(this),bodyHeightChanged:this.redraw.bind(this,{})}),this.addManagedPropertyListeners(["domLayout","embedFullWidthRows"],()=>this.onDomLayoutChanged()),this.addManagedPropertyListeners(["suppressMaxRenderedRowRestriction","rowBuffer"],()=>this.redraw()),this.addManagedPropertyListener("suppressCellFocus",n=>this.onSuppressCellFocusChanged(n.currentValue)),this.addManagedPropertyListeners(["groupSuppressBlankHeader","getBusinessKeyForNode","fullWidthCellRenderer","fullWidthCellRendererParams","suppressStickyTotalRow","groupRowRenderer","groupRowRendererParams","loadingCellRenderer","loadingCellRendererParams","detailCellRenderer","detailCellRendererParams","enableRangeSelection","enableCellTextSelection"],()=>this.redrawRows()),this.addManagedPropertyListener("cellSelection",({currentValue:n,previousValue:s})=>{(!s&&n||s&&!n)&&this.redrawRows()});const{stickyRowSvc:e,gos:t,showRowGroupCols:i}=this.beans;if(i&&this.addManagedPropertyListener("showOpenedGroup",()=>{const n=i.getShowRowGroupCols();n.length&&this.refreshCells({columns:n,force:!0})}),e)this.stickyRowFeature=e.createStickyRowFeature(this,this.createRowCon.bind(this),this.destroyRowCtrls.bind(this));else{const n=this.gridBodyCtrl;n.setStickyTopHeight(0),n.setStickyBottomHeight(0)}this.registerCellEventListeners(),this.initialiseCache(),this.printLayout=Hs(t,"print"),this.embedFullWidthRows=this.printLayout||t.get("embedFullWidthRows"),this.redrawAfterModelUpdate()}initialiseCache(){if(this.gos.get("keepDetailRows")){const e=this.getKeepDetailRowsCount(),t=e??3;this.cachedRowCtrls=new MZ(t)}}getKeepDetailRowsCount(){return this.gos.get("keepDetailRowsCount")}getStickyTopRowCtrls(){var e;return((e=this.stickyRowFeature)==null?void 0:e.stickyTopRowCtrls)??[]}getStickyBottomRowCtrls(){var e;return((e=this.stickyRowFeature)==null?void 0:e.stickyBottomRowCtrls)??[]}updateAllRowCtrls(){var n;const e=Object.values(this.rowCtrlsByRowIndex),t=Object.values(this.zombieRowCtrls),i=((n=this.cachedRowCtrls)==null?void 0:n.getEntries())??[];t.length>0||i.length>0?this.allRowCtrls=[...e,...t,...i]:this.allRowCtrls=e}isCellBeingRendered(e,t){var s;const i=this.rowCtrlsByRowIndex[e];return!t||!i?!!i:i.isFullWidth()?!0:!!((s=this.beans.spannedRowRenderer)==null?void 0:s.getCellByPosition({rowIndex:e,column:t,rowPinned:null}))||!!i.getCellCtrl(t)||!i.isRowRendered()}updateCellFocus(e){this.getAllCellCtrls().forEach(t=>t.onCellFocused(e)),this.getFullWidthRowCtrls().forEach(t=>t.onFullWidthRowFocused(e))}onCellFocusChanged(e){if(e&&e.rowIndex!=null&&!e.rowPinned){const t=this.beans.colModel.getCol(e.column)??void 0;this.isCellBeingRendered(e.rowIndex,t)||this.redraw()}this.updateCellFocus(e)}onSuppressCellFocusChanged(e){this.getAllCellCtrls().forEach(t=>t.onSuppressCellFocusChanged(e)),this.getFullWidthRowCtrls().forEach(t=>t.onSuppressCellFocusChanged(e))}registerCellEventListeners(){this.addManagedEventListeners({cellFocused:e=>this.onCellFocusChanged(e),cellFocusCleared:()=>this.updateCellFocus(),flashCells:e=>{const{cellFlashSvc:t}=this.beans;t&&this.getAllCellCtrls().forEach(i=>t.onFlashCells(i,e))},columnHoverChanged:()=>{this.getAllCellCtrls().forEach(e=>e.onColumnHover())},displayedColumnsChanged:()=>{this.getAllCellCtrls().forEach(e=>e.onDisplayedColumnsChanged())},displayedColumnsWidthChanged:()=>{this.printLayout&&this.getAllCellCtrls().forEach(e=>e.onLeftChanged())}}),this.setupRangeSelectionListeners(),this.refreshListenersToColumnsForCellComps(),this.addManagedEventListeners({gridColumnsChanged:this.refreshListenersToColumnsForCellComps.bind(this)}),this.addDestroyFunc(this.removeGridColumnListeners.bind(this))}removeGridColumnListeners(){this.destroyFuncsForColumnListeners.forEach(e=>e()),this.destroyFuncsForColumnListeners.length=0}refreshListenersToColumnsForCellComps(){this.removeGridColumnListeners(),this.colModel.getCols().forEach(t=>{const i=c=>{this.getAllCellCtrls().forEach(h=>{h.column===t&&c(h)})},n=()=>{i(c=>c.onLeftChanged())},s=()=>{i(c=>c.onWidthChanged())},r=()=>{i(c=>c.onFirstRightPinnedChanged())},o=()=>{i(c=>c.onLastLeftPinnedChanged())},a=()=>{i(c=>c.onColDefChanged())};t.__addEventListener("leftChanged",n),t.__addEventListener("widthChanged",s),t.__addEventListener("firstRightPinnedChanged",r),t.__addEventListener("lastLeftPinnedChanged",o),t.__addEventListener("colDefChanged",a),this.destroyFuncsForColumnListeners.push(()=>{t.__removeEventListener("leftChanged",n),t.__removeEventListener("widthChanged",s),t.__removeEventListener("firstRightPinnedChanged",r),t.__removeEventListener("lastLeftPinnedChanged",o),t.__removeEventListener("colDefChanged",a)})})}onDomLayoutChanged(){const e=Hs(this.gos,"print"),t=e||this.gos.get("embedFullWidthRows"),i=t!==this.embedFullWidthRows||this.printLayout!==e;this.printLayout=e,this.embedFullWidthRows=t,i&&this.redrawAfterModelUpdate({domLayoutChanged:!0})}datasourceChanged(){this.firstRenderedRow=0,this.lastRenderedRow=-1;const e=Object.keys(this.rowCtrlsByRowIndex);this.removeRowCtrls(e)}onPageLoaded(e){const t={recycleRows:e.keepRenderedRows,animate:e.animate,newData:e.newData,newPage:e.newPage,onlyBody:!0};this.redrawAfterModelUpdate(t)}getAllCellsNotSpanningForColumn(e){const t=[];return this.getAllRowCtrls().forEach(i=>{var s;const n=(s=i.getCellCtrl(e,!0))==null?void 0:s.eGui;n&&t.push(n)}),t}refreshFloatingRowComps(){this.refreshFloatingRows(this.topRowCtrls,"top"),this.refreshFloatingRows(this.bottomRowCtrls,"bottom")}refreshFloatingRows(e,t){const{pinnedRowModel:i,beans:n,printLayout:s}=this,r=Object.fromEntries(e.map(a=>[a.rowNode.id,a]));i==null||i.forEachPinnedRow(t,(a,c)=>{const h=e[c];h&&i.getPinnedRowById(h.rowNode.id,t)===void 0&&(h.destroyFirstPass(),h.destroySecondPass()),a.id in r?(e[c]=r[a.id],delete r[a.id]):e[c]=new AM(a,n,!1,!1,s)});const o=(t==="top"?i==null?void 0:i.getPinnedTopRowCount():i==null?void 0:i.getPinnedBottomRowCount())??0;e.length=o}onPinnedRowDataChanged(){const e={recycleRows:!0};this.redrawAfterModelUpdate(e)}redrawRow(e,t=!1){var i,n;if(e.sticky)(i=this.stickyRowFeature)==null||i.refreshStickyNode(e);else if((n=this.cachedRowCtrls)!=null&&n.has(e)){this.cachedRowCtrls.removeRow(e);return}else{const s=r=>{const o=r[e.rowIndex];o&&o.rowNode===e&&(o.destroyFirstPass(),o.destroySecondPass(),r[e.rowIndex]=this.createRowCon(e,!1,!1))};switch(e.rowPinned){case"top":s(this.topRowCtrls);break;case"bottom":s(this.bottomRowCtrls);break;default:s(this.rowCtrlsByRowIndex),this.updateAllRowCtrls()}}t||this.dispatchDisplayedRowsChanged(!1)}redrawRows(e){if(e!=null){e==null||e.forEach(i=>this.redrawRow(i,!0)),this.dispatchDisplayedRowsChanged(!1);return}this.redrawAfterModelUpdate()}redrawAfterModelUpdate(e={}){var o;this.getLockOnRefresh();const t=(o=this.beans.focusSvc)==null?void 0:o.getFocusCellToUseAfterRefresh();this.updateContainerHeights(),this.scrollToTopIfNewData(e);const i=!e.domLayoutChanged&&!!e.recycleRows,n=e.animate&&QD(this.gos),s=i?this.getRowsToRecycle():null;i||this.removeAllRowComps(),this.workOutFirstAndLastRowsToRender();const{stickyRowFeature:r}=this;if(r){r.checkStickyRows();const a=r.extraTopHeight+r.extraBottomHeight;a&&this.updateContainerHeights(a)}this.recycleRows(s,n),this.gridBodyCtrl.updateRowCount(),e.onlyBody||this.refreshFloatingRowComps(),this.dispatchDisplayedRowsChanged(),t!=null&&this.restoreFocusedCell(t),this.releaseLockOnRefresh()}scrollToTopIfNewData(e){var n;const t=e.newData||e.newPage,i=this.gos.get("suppressScrollOnNewData");t&&!i&&(this.gridBodyCtrl.scrollFeature.scrollToTop(),(n=this.stickyRowFeature)==null||n.resetOffsets())}updateContainerHeights(e=0){const{rowContainerHeight:t}=this;if(this.printLayout){t.setModelHeight(null);return}let i=this.pageBounds.getCurrentPageHeight();i===0&&(i=1),t.setModelHeight(i+e)}getLockOnRefresh(){var e,t;if(this.refreshInProgress)throw new Error(MO(252));this.refreshInProgress=!0,(t=(e=this.beans.frameworkOverrides).getLockOnRefresh)==null||t.call(e)}releaseLockOnRefresh(){var e,t;this.refreshInProgress=!1,(t=(e=this.beans.frameworkOverrides).releaseLockOnRefresh)==null||t.call(e)}isRefreshInProgress(){return this.refreshInProgress}restoreFocusedCell(e){if(!e)return;const t=this.beans.focusSvc,i=this.findPositionToFocus(e);if(!i){t.focusHeaderPosition({headerPosition:{headerRowIndex:ma(this.beans)-1,column:e.column}});return}if(e.rowIndex!==i.rowIndex||e.rowPinned!=i.rowPinned){t.setFocusedCell({...i,preventScrollOnBrowserFocus:!0,forceBrowserFocus:!0});return}t.doesRowOrCellHaveBrowserFocus()||this.updateCellFocus(wi(this.gos,{...i,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0,type:"cellFocused"}))}findPositionToFocus(e){const{pagination:t,pageBounds:i}=this.beans;let n=e;for(n.rowPinned==null&&t&&i&&!t.isRowInPage(n.rowIndex)&&(n={rowPinned:null,rowIndex:i.getFirstRow()});n;){if(n.rowPinned==null&&i)if(n.rowIndex<i.getFirstRow()){if(n=Gb(this.beans,{rowPinned:null,rowIndex:0}),!n)return null}else n.rowIndex>i.getLastRow()&&(n={rowPinned:null,rowIndex:i.getLastRow()});const s=this.getRowByPosition(n);if(s!=null&&s.isAlive())return{...s.getRowPosition(),column:e.column};n=Gb(this.beans,n)}return null}getAllCellCtrls(){const e=[],t=this.getAllRowCtrls(),i=t.length;for(let n=0;n<i;n++){const s=t[n].getAllCellCtrls(),r=s.length;for(let o=0;o<r;o++)e.push(s[o])}return e}getAllRowCtrls(){const{spannedRowRenderer:e}=this.beans,t=this.getStickyTopRowCtrls(),i=this.getStickyBottomRowCtrls();return[...this.topRowCtrls,...this.bottomRowCtrls,...t,...i,...(e==null?void 0:e.getCtrls("top"))??[],...(e==null?void 0:e.getCtrls("bottom"))??[],...(e==null?void 0:e.getCtrls("center"))??[],...Object.values(this.rowCtrlsByRowIndex)]}addRenderedRowListener(e,t,i){const n=this.rowCtrlsByRowIndex[t];n&&n.addEventListener(e,i)}refreshCells(e={}){const t={forceRefresh:e.force,newData:!1,suppressFlash:e.suppressFlash};for(const i of this.getCellCtrls(e.rowNodes,e.columns))i.refreshOrDestroyCell(t);this.refreshFullWidth(e.rowNodes)}refreshFullWidth(e){if(!e)return;let t=!1;for(const i of this.getRowCtrls(e)){if(!i.isFullWidth())continue;i.refreshFullWidth()||(t=!0,this.redrawRow(i.rowNode,!0))}t&&this.dispatchDisplayedRowsChanged(!1)}getRowCtrls(e){const t=j1(e),i=this.getAllRowCtrls();return!e||!t?i:i.filter(n=>{const s=n.rowNode;return V1(s,t)})}getCellCtrls(e,t){let i;At(t)&&(i={},t.forEach(s=>{const r=this.colModel.getCol(s);At(r)&&(i[r.getId()]=!0)}));const n=[];return this.getRowCtrls(e).forEach(s=>{s.getAllCellCtrls().forEach(r=>{const o=r.column.getId();i&&!i[o]||n.push(r)})}),n}destroy(){this.removeAllRowComps(!0),super.destroy()}removeAllRowComps(e=!1){var i;const t=Object.keys(this.rowCtrlsByRowIndex);this.removeRowCtrls(t,e),(i=this.stickyRowFeature)==null||i.destroyStickyCtrls()}getRowsToRecycle(){const e=[];for(const i of Object.keys(this.rowCtrlsByRowIndex))this.rowCtrlsByRowIndex[i].rowNode.id==null&&e.push(i);this.removeRowCtrls(e);const t={};for(const i of Object.values(this.rowCtrlsByRowIndex)){const n=i.rowNode;t[n.id]=i}return this.rowCtrlsByRowIndex={},t}removeRowCtrls(e,t=!1){e.forEach(i=>{const n=this.rowCtrlsByRowIndex[i];n&&(n.destroyFirstPass(t),n.destroySecondPass()),delete this.rowCtrlsByRowIndex[i]})}onBodyScroll(e){e.direction==="vertical"&&this.redraw({afterScroll:!0})}redraw(e={}){const{focusSvc:t,animationFrameSvc:i}=this.beans,{afterScroll:n}=e;let s;const r=this.stickyRowFeature;r&&(s=(t==null?void 0:t.getFocusCellToUseAfterRefresh())||void 0);const o=this.firstRenderedRow,a=this.lastRenderedRow;this.workOutFirstAndLastRowsToRender();let c=!1;if(r){c=r.checkStickyRows();const f=r.extraTopHeight+r.extraBottomHeight;f&&this.updateContainerHeights(f)}const h=this.firstRenderedRow!==o||this.lastRenderedRow!==a;if(!(n&&!c&&!h)&&(this.getLockOnRefresh(),this.recycleRows(null,!1,n),this.releaseLockOnRefresh(),this.dispatchDisplayedRowsChanged(n&&!c),s!=null)){const f=t==null?void 0:t.getFocusCellToUseAfterRefresh();s!=null&&f==null&&(i==null||i.flushAllFrames(),this.restoreFocusedCell(s))}}removeRowCompsNotToDraw(e,t){const i={};e.forEach(r=>i[r]=!0);const s=Object.keys(this.rowCtrlsByRowIndex).filter(r=>!i[r]);this.removeRowCtrls(s,t)}calculateIndexesToDraw(e){var o,a;const t=[];for(let c=this.firstRenderedRow;c<=this.lastRenderedRow;c++)t.push(c);const i=this.beans.pagination,n=(a=(o=this.beans.focusSvc)==null?void 0:o.getFocusedCell())==null?void 0:a.rowIndex;n!=null&&(n<this.firstRenderedRow||n>this.lastRenderedRow)&&(!i||i.isRowInPage(n))&&t.push(n);const s=c=>{const h=c.rowNode.rowIndex;h==null||h===n||(h<this.firstRenderedRow||h>this.lastRenderedRow)&&this.doNotUnVirtualiseRow(c)&&t.push(h)};for(const c of Object.values(this.rowCtrlsByRowIndex))s(c);if(e)for(const c of Object.values(e))s(c);t.sort((c,h)=>c-h);const r=[];for(let c=0;c<t.length;c++){const h=t[c],f=this.rowModel.getRow(h);f&&!f.sticky&&r.push(h)}return r}recycleRows(e,t=!1,i=!1){const n=this.calculateIndexesToDraw(e);if((this.printLayout||i)&&(t=!1),this.removeRowCompsNotToDraw(n,!t),n.forEach(s=>{this.createOrUpdateRowCtrl(s,e,t,i)}),e){const{animationFrameSvc:s}=this.beans;(s==null?void 0:s.active)&&i&&!this.printLayout?s.addDestroyTask(()=>{this.destroyRowCtrls(e,t),this.updateAllRowCtrls(),this.dispatchDisplayedRowsChanged()}):this.destroyRowCtrls(e,t)}this.updateAllRowCtrls()}dispatchDisplayedRowsChanged(e=!1){this.eventSvc.dispatchEvent({type:"displayedRowsChanged",afterScroll:e})}onDisplayedColumnsChanged(){const{visibleCols:e}=this.beans,t=e.isPinningLeft(),i=e.isPinningRight();(this.pinningLeft!==t||i!==this.pinningRight)&&(this.pinningLeft=t,this.pinningRight=i,this.embedFullWidthRows&&this.redrawFullWidthEmbeddedRows())}redrawFullWidthEmbeddedRows(){const e=[];this.getFullWidthRowCtrls().forEach(t=>{const i=t.rowNode.rowIndex;e.push(i.toString())}),this.refreshFloatingRowComps(),this.removeRowCtrls(e),this.redraw({afterScroll:!0})}getFullWidthRowCtrls(e){const t=j1(e);return this.getAllRowCtrls().filter(i=>{if(!i.isFullWidth())return!1;const n=i.rowNode;return!(t!=null&&!V1(n,t))})}createOrUpdateRowCtrl(e,t,i,n){let s,r=this.rowCtrlsByRowIndex[e];if(r||(s=this.rowModel.getRow(e),At(s)&&At(t)&&t[s.id]&&s.alreadyRendered&&(r=t[s.id],t[s.id]=null)),!r)if(s||(s=this.rowModel.getRow(e)),At(s))r=this.createRowCon(s,i,n);else return;return s&&(s.alreadyRendered=!0),this.rowCtrlsByRowIndex[e]=r,r}destroyRowCtrls(e,t){const i=[];if(e){for(const n of Object.values(e))if(n){if(this.cachedRowCtrls&&n.isCacheable()){this.cachedRowCtrls.addRow(n);continue}if(n.destroyFirstPass(!t),t){const s=n.instanceId;this.zombieRowCtrls[s]=n,i.push(()=>{n.destroySecondPass(),delete this.zombieRowCtrls[s]})}else n.destroySecondPass()}}t&&(i.push(()=>{this.updateAllRowCtrls(),this.dispatchDisplayedRowsChanged()}),window.setTimeout(()=>i.forEach(n=>n()),SZ))}getRowBuffer(){return this.gos.get("rowBuffer")}getRowBufferInPixels(){const e=this.getRowBuffer(),t=AO(this.beans);return e*t}workOutFirstAndLastRowsToRender(){const{rowContainerHeight:e,pageBounds:t,rowModel:i}=this;e.updateOffset();let n,s;if(!i.isRowsToRender())n=0,s=-1;else if(this.printLayout)this.beans.environment.refreshRowHeightVariable(),n=t.getFirstRow(),s=t.getLastRow();else{const f=this.getRowBufferInPixels(),p=this.ctrlsSvc.getScrollFeature(),m=this.gos.get("suppressRowVirtualisation");let b=!1,C,w;do{const _=t.getPixelOffset(),{pageFirstPixel:F,pageLastPixel:N}=t.getCurrentPagePixelRange(),z=e.divStretchOffset,V=p.getVScrollPosition(),j=V.top,U=V.bottom;m?(C=F+z,w=N+z):(C=Math.max(j+_-f,F)+z,w=Math.min(U+_+f,N)+z),this.firstVisibleVPixel=Math.max(j+_,F)+z,this.lastVisibleVPixel=Math.min(U+_,N)+z,b=this.ensureAllRowsInRangeHaveHeightsCalculated(C,w)}while(b);let D=i.getRowIndexAtPixel(C),M=i.getRowIndexAtPixel(w);const A=t.getFirstRow(),k=t.getLastRow();D<A&&(D=A),M>k&&(M=k),n=D,s=M}const r=Hs(this.gos,"normal"),o=this.gos.get("suppressMaxRenderedRowRestriction"),a=Math.max(this.getRowBuffer(),500);r&&!o&&s-n>a&&(s=n+a);const c=n!==this.firstRenderedRow,h=s!==this.lastRenderedRow;(c||h)&&(this.firstRenderedRow=n,this.lastRenderedRow=s,this.eventSvc.dispatchEvent({type:"viewportChanged",firstRow:n,lastRow:s}))}dispatchFirstDataRenderedEvent(){this.dataFirstRenderedFired||(this.dataFirstRenderedFired=!0,du(this.beans,()=>{this.beans.eventSvc.dispatchEvent({type:"firstDataRendered",firstRow:this.firstRenderedRow,lastRow:this.lastRenderedRow})}))}ensureAllRowsInRangeHaveHeightsCalculated(e,t){var a,c;const i=(a=this.pinnedRowModel)==null?void 0:a.ensureRowHeightsValid(),n=(c=this.stickyRowFeature)==null?void 0:c.ensureRowHeightsValid(),{pageBounds:s,rowModel:r}=this,o=r.ensureRowHeightsValid(e,t,s.getFirstRow(),s.getLastRow());return(o||n)&&this.eventSvc.dispatchEvent({type:"recalculateRowBounds"}),n||o||i?(this.updateContainerHeights(),!0):!1}doNotUnVirtualiseRow(e){const n=e.rowNode,s=this.focusSvc.isRowFocused(n.rowIndex,n.rowPinned),r=e.editing,o=n.detail;return s||r||o?!!this.isRowPresent(n):!1}isRowPresent(e){var t;return this.rowModel.isRowPresent(e)?((t=this.beans.pagination)==null?void 0:t.isRowInPage(e.rowIndex))??!0:!1}createRowCon(e,t,i){var o,a;const n=((o=this.cachedRowCtrls)==null?void 0:o.getRow(e))??null;if(n)return n;const s=i&&!this.printLayout&&!!((a=this.beans.animationFrameSvc)!=null&&a.active);return new AM(e,this.beans,t,s,this.printLayout)}getRenderedNodes(){const e=Object.values(this.rowCtrlsByRowIndex).map(n=>n.rowNode),t=this.getStickyTopRowCtrls().map(n=>n.rowNode),i=this.getStickyBottomRowCtrls().map(n=>n.rowNode);return[...t,...e,...i]}getRowByPosition(e){let t;const{rowIndex:i}=e;switch(e.rowPinned){case"top":t=this.topRowCtrls[i];break;case"bottom":t=this.bottomRowCtrls[i];break;default:t=this.rowCtrlsByRowIndex[i],t||(t=this.getStickyTopRowCtrls().find(n=>n.rowNode.rowIndex===i)||null,t||(t=this.getStickyBottomRowCtrls().find(n=>n.rowNode.rowIndex===i)||null));break}return t}isRangeInRenderedViewport(e,t){if(e==null||t==null)return!1;const n=e>this.lastRenderedRow;return!(t<this.firstRenderedRow)&&!n}},MZ=class{constructor(e){this.entriesMap={},this.entriesList=[],this.maxCount=e}addRow(e){if(this.entriesMap[e.rowNode.id]=e,this.entriesList.push(e),e.setCached(!0),this.entriesList.length>this.maxCount){const t=this.entriesList[0];t.destroyFirstPass(),t.destroySecondPass(),this.removeFromCache(t)}}getRow(e){if(e==null||e.id==null)return null;const t=this.entriesMap[e.id];return t?(this.removeFromCache(t),t.setCached(!1),t.rowNode!=e?null:t):null}has(e){return this.entriesMap[e.id]!=null}removeRow(e){const t=e.id,i=this.entriesMap[t];delete this.entriesMap[t],ru(this.entriesList,i)}removeFromCache(e){const t=e.rowNode.id;delete this.entriesMap[t],ru(this.entriesList,e)}getEntries(){return this.entriesList}};function j1(e){if(!e)return;const t={top:{},bottom:{},normal:{}};return e.forEach(i=>{const n=i.id;switch(i.rowPinned){case"top":t.top[n]=i;break;case"bottom":t.bottom[n]=i;break;default:t.normal[n]=i;break}}),t}function V1(e,t){const i=e.id;switch(e.rowPinned){case"top":return t.top[i]!=null;case"bottom":return t.bottom[i]!=null;default:return t.normal[i]!=null}}var DZ=class extends Be{constructor(){super(...arguments),this.beanName="rowNodeSorter"}postConstruct(){const{gos:e}=this;this.isAccentedSort=e.get("accentedSort"),this.primaryColumnsSortGroups=gl(e),this.addManagedPropertyListener("accentedSort",t=>this.isAccentedSort=t.currentValue),this.addManagedPropertyListener("autoGroupColumnDef",()=>this.primaryColumnsSortGroups=gl(e))}doFullSort(e,t){const i=e.map((n,s)=>({currentPos:s,rowNode:n}));return i.sort(this.compareRowNodes.bind(this,t)),i.map(n=>n.rowNode)}compareRowNodes(e,t,i){const n=t.rowNode,s=i.rowNode;for(let r=0,o=e.length;r<o;r++){const a=e[r],c=a.sort==="desc",h=this.getValue(n,a.column),f=this.getValue(s,a.column);let p;const m=this.getComparator(a,n);if(m?p=m(h,f,n,s,c):p=L3(h,f,this.isAccentedSort),!isNaN(p)&&p!==0)return a.sort==="asc"?p:p*-1}return t.currentPos-i.currentPos}getComparator(e,t){const i=e.column,n=i.getColDef().comparator;if(n!=null)return n;if(!i.getColDef().showRowGroup)return;const s=!t.group&&i.getColDef().field;if(!s)return;const r=this.beans.colModel.getColDefCol(s);if(r)return r.getColDef().comparator}getValue(e,t){var a,c;const{valueSvc:i,colModel:n,showRowGroupCols:s,gos:r}=this.beans;if(!this.primaryColumnsSortGroups)return i.getValue(t,e,!1);if(e.rowGroupColumn===t){if(kO(r,n.isPivotActive())){const p=(a=e.allLeafChildren)==null?void 0:a[0];return p?i.getValue(t,p,!1):void 0}const f=s==null?void 0:s.getShowRowGroupCol(t.getId());return f?(c=e.groupData)==null?void 0:c[f.getId()]:void 0}if(!(e.group&&t.getColDef().showRowGroup))return i.getValue(t,e,!1)}};function LZ(e){var t;(t=e.sortSvc)==null||t.onSortChanged("api")}var op=(e,t)=>({tag:"span",ref:`eSort${e}`,cls:`ag-sort-indicator-icon ag-sort-${t} ag-hidden`,attrs:{"aria-hidden":"true"}}),TZ={tag:"span",cls:"ag-sort-indicator-container",children:[op("Order","order"),op("Asc","ascending-icon"),op("Desc","descending-icon"),op("Mixed","mixed-icon"),op("None","none-icon")]},oL=class extends Il{constructor(e){super(),this.eSortOrder=ii,this.eSortAsc=ii,this.eSortDesc=ii,this.eSortMixed=ii,this.eSortNone=ii,e||this.setTemplate(TZ)}attachCustomElements(e,t,i,n,s){this.eSortOrder=e,this.eSortAsc=t,this.eSortDesc=i,this.eSortMixed=n,this.eSortNone=s}setupSort(e,t=!1){if(this.column=e,this.suppressOrder=t,this.setupMultiSortIndicator(),!e.isSortable()&&!e.getColDef().showRowGroup)return;this.addInIcon("sortAscending",this.eSortAsc,e),this.addInIcon("sortDescending",this.eSortDesc,e),this.addInIcon("sortUnSort",this.eSortNone,e);const i=this.updateIcons.bind(this),n=this.onSortChanged.bind(this);this.addManagedPropertyListener("unSortIcon",i),this.addManagedEventListeners({newColumnsLoaded:i,sortChanged:n,columnRowGroupChanged:n}),this.onSortChanged()}addInIcon(e,t,i){if(t==null)return;const n=GC(e,this.beans,i);n&&t.appendChild(n)}onSortChanged(){this.updateIcons(),this.suppressOrder||this.updateSortOrder()}updateIcons(){const{eSortAsc:e,eSortDesc:t,eSortNone:i,column:n,gos:s,beans:r}=this,o=r.sortSvc.getDisplaySortForColumn(n);if(e&&Gn(e,o==="asc",{skipAriaHidden:!0}),t&&Gn(t,o==="desc",{skipAriaHidden:!0}),i){const a=!n.getColDef().unSortIcon&&!s.get("unSortIcon"),c=o==null;Gn(i,!a&&c,{skipAriaHidden:!0})}}setupMultiSortIndicator(){const{eSortMixed:e,column:t,gos:i}=this;this.addInIcon("sortUnSort",e,t);const n=t.getColDef().showRowGroup;gl(i)&&n&&(this.addManagedEventListeners({sortChanged:this.updateMultiSortIndicator.bind(this),columnRowGroupChanged:this.updateMultiSortIndicator.bind(this)}),this.updateMultiSortIndicator())}updateMultiSortIndicator(){const{eSortMixed:e,beans:t,column:i}=this;if(e){const n=t.sortSvc.getDisplaySortForColumn(i)==="mixed";Gn(e,n,{skipAriaHidden:!0})}}updateSortOrder(){const{eSortOrder:e,column:t,beans:{sortSvc:i}}=this;if(!e)return;const n=i.getColumnsWithSortingOrdered(),s=i.getDisplaySortIndexForColumn(t)??-1,r=n.some(a=>i.getDisplaySortIndexForColumn(a)??!1),o=s>=0&&r;Gn(e,o,{skipAriaHidden:!0}),s>=0?e.textContent=(s+1).toString():xm(e)}},AZ={selector:"AG-SORT-INDICATOR",component:oL},EZ=["asc","desc",null],RZ=class extends Be{constructor(){super(...arguments),this.beanName="sortSvc"}progressSort(e,t,i){const n=this.getNextSortDirection(e);this.setSortForColumn(e,n,t,i)}progressSortFromEvent(e,t){const n=this.gos.get("multiSortKey")==="ctrl"?t.ctrlKey||t.metaKey:t.shiftKey;this.progressSort(e,n,"uiColumnSorted")}setSortForColumn(e,t,i,n){var f;t!=="asc"&&t!=="desc"&&(t=null);const{gos:s,showRowGroupCols:r}=this.beans,o=gl(s);let a=[e];if(o&&e.getColDef().showRowGroup){const p=(f=r==null?void 0:r.getSourceColumnsForGroupColumn)==null?void 0:f.call(r,e),m=p==null?void 0:p.filter(b=>b.isSortable());m&&(a=[e,...m])}a.forEach(p=>this.setColSort(p,t,n));const c=(i||s.get("alwaysMultiSort"))&&!s.get("suppressMultiSort"),h=[];if(!c){const p=this.clearSortBarTheseColumns(a,n);h.push(...p)}this.updateSortIndex(e),h.push(...a),this.dispatchSortChangedEvents(n,h)}updateSortIndex(e){const{gos:t,colModel:i,showRowGroupCols:n}=this.beans,s=gl(t),r=n==null?void 0:n.getShowRowGroupCol(e.getId()),o=s&&r||e,a=this.getColumnsWithSortingOrdered();i.forAllCols(f=>this.setColSortIndex(f,null));const c=a.filter(f=>s&&f.getColDef().showRowGroup?!1:f!==o);(o.getSort()?[...c,o]:c).forEach((f,p)=>this.setColSortIndex(f,p))}onSortChanged(e,t){this.dispatchSortChangedEvents(e,t)}isSortActive(){let e=!1;return this.beans.colModel.forAllCols(t=>{t.getSort()&&(e=!0)}),e}dispatchSortChangedEvents(e,t){const i={type:"sortChanged",source:e};t&&(i.columns=t),this.eventSvc.dispatchEvent(i)}clearSortBarTheseColumns(e,t){const i=[];return this.beans.colModel.forAllCols(n=>{e.includes(n)||(n.getSort()&&i.push(n),this.setColSort(n,void 0,t))}),i}getNextSortDirection(e){const t=e.getColDef().sortingOrder??this.gos.get("sortingOrder")??EZ,i=t.indexOf(e.getSort()),n=i<0,s=i==t.length-1;return n||s?t[0]:t[i+1]}getIndexedSortMap(){const{gos:e,colModel:t,showRowGroupCols:i,rowGroupColsSvc:n}=this.beans;let s=[];if(t.forAllCols(h=>{h.getSort()&&s.push(h)}),t.isPivotMode()){const h=gl(e);s=s.filter(f=>{const p=!!f.getAggFunc(),m=!f.isPrimary(),b=h?i==null?void 0:i.getShowRowGroupCol(f.getId()):f.getColDef().showRowGroup;return p||m||b})}const r=(n==null?void 0:n.columns.filter(h=>!!h.getSort()))??[],o={};s.forEach((h,f)=>o[h.getId()]=f),s.sort((h,f)=>{const p=h.getSortIndex(),m=f.getSortIndex();if(p!=null&&m!=null)return p-m;if(p==null&&m==null){const b=o[h.getId()],C=o[f.getId()];return b>C?1:-1}else return m==null?-1:1});const a=gl(e)&&!!r.length;a&&(s=[...new Set(s.map(h=>(i==null?void 0:i.getShowRowGroupCol(h.getId()))??h))]);const c=new Map;return s.forEach((h,f)=>c.set(h,f)),a&&r.forEach(h=>{const f=i.getShowRowGroupCol(h.getId());c.set(h,c.get(f))}),c}getColumnsWithSortingOrdered(){return[...this.getIndexedSortMap().entries()].sort(([,e],[,t])=>e-t).map(([e])=>e)}getSortModel(){return this.getColumnsWithSortingOrdered().filter(e=>e.getSort()).map(e=>({sort:e.getSort(),colId:e.getId()}))}getSortOptions(){return this.getColumnsWithSortingOrdered().filter(e=>e.getSort()).map(e=>({sort:e.getSort(),column:e}))}canColumnDisplayMixedSort(e){const t=gl(this.gos),i=!!e.getColDef().showRowGroup;return t&&i}getDisplaySortForColumn(e){var o;const t=(o=this.beans.showRowGroupCols)==null?void 0:o.getSourceColumnsForGroupColumn(e);if(!this.canColumnDisplayMixedSort(e)||!(t!=null&&t.length))return e.getSort();const n=e.getColDef().field!=null||!!e.getColDef().valueGetter?[e,...t]:t,s=n[0].getSort();return n.every(a=>a.getSort()==s)?s:"mixed"}getDisplaySortIndexForColumn(e){return this.getIndexedSortMap().get(e)}setupHeader(e,t,i){let n=0;e.addManagedListeners(t,{movingChanged:()=>{n=Date.now()}}),i&&e.addManagedElementListeners(i,{click:r=>{const o=t.isMoving(),c=Date.now()-n<50;o||c||this.progressSortFromEvent(t,r)}});const s=()=>{var o;const r=t.getSort();if(e.addOrRemoveCssClass("ag-header-cell-sorted-asc",r==="asc"),e.addOrRemoveCssClass("ag-header-cell-sorted-desc",r==="desc"),e.addOrRemoveCssClass("ag-header-cell-sorted-none",!r),t.getColDef().showRowGroup){const a=(o=this.beans.showRowGroupCols)==null?void 0:o.getSourceColumnsForGroupColumn(t),h=!(a==null?void 0:a.every(f=>t.getSort()==f.getSort()));e.addOrRemoveCssClass("ag-header-cell-sorted-mixed",h)}};e.addManagedEventListeners({sortChanged:s,columnRowGroupChanged:s})}initCol(e){const{sort:t,initialSort:i,sortIndex:n,initialSortIndex:s}=e.colDef;t!==void 0?(t==="asc"||t==="desc")&&(e.sort=t):(i==="asc"||i==="desc")&&(e.sort=i),n!==void 0?n!==null&&(e.sortIndex=n):s!==null&&(e.sortIndex=s)}updateColSort(e,t,i){t!==void 0&&(t==="desc"||t==="asc"?this.setColSort(e,t,i):this.setColSort(e,void 0,i))}setColSort(e,t,i){e.sort!==t&&(e.sort=t,e.dispatchColEvent("sortChanged",i)),e.dispatchStateUpdatedEvent("sort")}setColSortIndex(e,t){e.sortIndex=t,e.dispatchStateUpdatedEvent("sortIndex")}createSortIndicator(e){return new oL(e)}getSortIndicatorSelector(){return AZ}},IZ={moduleName:"Sort",version:ji,beans:[RZ,DZ],apiFunctions:{onSortChanged:LZ},userComponents:{agSortIndicator:oL},icons:{sortAscending:"asc",sortDescending:"desc",sortUnSort:"none"}},kZ=class extends Be{constructor(){super(...arguments),this.beanName="syncSvc",this.waitingForColumns=!1}postConstruct(){this.addManagedPropertyListener("columnDefs",e=>this.setColumnDefs(e))}start(){this.beans.ctrlsSvc.whenReady(this,()=>{const e=this.gos.get("columnDefs");e?this.setColumnsAndData(e):this.waitingForColumns=!0,this.gridReady()})}setColumnsAndData(e){const{colModel:t,rowModel:i}=this.beans;t.setColumnDefs(e??[],"gridInitializing"),i.start()}gridReady(){const{eventSvc:e,gos:t}=this;e.dispatchEvent({type:"gridReady"}),Eb(t,`initialised successfully, enterprise = ${t.isModuleRegistered("EnterpriseCore")}`)}setColumnDefs(e){const t=this.gos.get("columnDefs");if(t){if(this.waitingForColumns){this.waitingForColumns=!1,this.setColumnsAndData(t);return}this.beans.colModel.setColumnDefs(t,tb(e.source))}}},_Z=class{constructor(e,t){this.active=!0,this.nodeIdsToColumns={},this.mapToItems={},this.keepingColumns=e,this.pathRoot={rowNode:t,children:null},this.mapToItems[t.id]=this.pathRoot}depthFirstSearchChangedPath(e,t){const{rowNode:i,children:n}=e;if(n)for(let s=0;s<n.length;++s)this.depthFirstSearchChangedPath(n[s],t);t(i)}depthFirstSearchEverything(e,t,i){const n=e.childrenAfterGroup;if(n)for(let s=0,r=n.length;s<r;++s){const o=n[s];o.childrenAfterGroup?this.depthFirstSearchEverything(o,t,i):i&&t(o)}t(e)}forEachChangedNodeDepthFirst(e,t=!1,i=!1){this.active&&!i?this.depthFirstSearchChangedPath(this.pathRoot,e):this.depthFirstSearchEverything(this.pathRoot.rowNode,e,t)}executeFromRootNode(e){e(this.pathRoot.rowNode)}createPathItems(e){let t=e,i=0;for(;!this.mapToItems[t.id];){const n={rowNode:t,children:null};this.mapToItems[t.id]=n,i++,t=t.parent}return i}populateColumnsMap(e,t){if(!this.keepingColumns||!t)return;let i=e;for(;i;)this.nodeIdsToColumns[i.id]||(this.nodeIdsToColumns[i.id]={}),t.forEach(n=>this.nodeIdsToColumns[i.id][n.getId()]=!0),i=i.parent}linkPathItems(e,t){let i=e;for(let n=0;n<t;n++){const s=this.mapToItems[i.id],r=this.mapToItems[i.parent.id];r.children||(r.children=[]),r.children.push(s),i=i.parent}}addParentNode(e,t){if(!e||e.isRowPinned())return;const i=this.createPathItems(e);this.linkPathItems(e,i),this.populateColumnsMap(e,t)}canSkip(e){return this.active&&!this.mapToItems[e.id]}getValueColumnsForNode(e,t){if(!this.keepingColumns)return t;const i=this.nodeIdsToColumns[e.id];return t.filter(s=>i[s.getId()])}getNotValueColumnsForNode(e,t){if(!this.keepingColumns)return null;const i=this.nodeIdsToColumns[e.id];return t.filter(s=>!i[s.getId()])}},NZ="paste",OZ=class extends Be{constructor(){super(...arguments),this.beanName="changeDetectionSvc",this.clientSideRowModel=null}postConstruct(){const{gos:e,rowModel:t}=this.beans;_C(e)&&(this.clientSideRowModel=t),this.addManagedEventListeners({cellValueChanged:this.onCellValueChanged.bind(this)})}onCellValueChanged(e){const{gos:t,rowRenderer:i}=this.beans;if(e.source===NZ||t.get("suppressChangeDetection"))return;const n=e.node,s=[n],r=this.clientSideRowModel,o=r==null?void 0:r.rootNode;if(o&&!n.isRowPinned()){const a=t.get("aggregateOnlyChangedColumns"),c=new _Z(a,o);c.addParentNode(n.parent,[e.column]),r.doAggregate(c),c.forEachChangedNodeDepthFirst(h=>{s.push(h),h.sibling&&s.push(h.sibling)})}i.refreshCells({rowNodes:s})}},PZ=class extends Be{constructor(){super(...arguments),this.beanName="expressionSvc",this.cache={}}evaluate(e,t){if(typeof e=="string")return this.evaluateExpression(e,t);Mr(15,{expression:e})}evaluateExpression(e,t){try{return this.createExpressionFunction(e)(t.value,t.context,t.oldValue,t.newValue,t.value,t.node,t.data,t.colDef,t.rowIndex,t.api,t.getValue,t.column,t.columnGroup)}catch(i){return Mr(16,{expression:e,params:t,e:i}),null}}createExpressionFunction(e){const t=this.cache;if(t[e])return t[e];const i=this.createFunctionBody(e),n=new Function("x, ctx, oldValue, newValue, value, node, data, colDef, rowIndex, api, getValue, column, columnGroup",i);return t[e]=n,n}createFunctionBody(e){return e.indexOf("return")>=0?e:"return "+e+";"}},FZ={moduleName:"Expression",version:ji,beans:[PZ]},BZ={moduleName:"ChangeDetection",version:ji,beans:[OZ]},zZ=class extends Be{constructor(){super(...arguments),this.beanName="valueSvc",this.initialised=!1,this.isSsrm=!1}wireBeans(e){this.expressionSvc=e.expressionSvc,this.colModel=e.colModel,this.valueCache=e.valueCache,this.dataTypeSvc=e.dataTypeSvc}postConstruct(){this.initialised||this.init()}init(){this.executeValueGetter=this.valueCache?this.executeValueGetterWithValueCache.bind(this):this.executeValueGetterWithoutValueCache.bind(this),this.isSsrm=XD(this.gos),this.cellExpressions=this.gos.get("enableCellExpressions"),this.isTreeData=this.gos.get("treeData"),this.initialised=!0;const e=t=>this.callColumnCellValueChangedHandler(t);this.eventSvc.addEventListener("cellValueChanged",e,!0),this.addDestroyFunc(()=>this.eventSvc.removeEventListener("cellValueChanged",e,!0)),this.addManagedPropertyListener("treeData",t=>this.isTreeData=t.currentValue)}getValueForDisplay(e,t){const i=e.getColDef().showRowGroup;if(i!=null){if(typeof i=="string"){const c=this.getDisplayedNode(t,e,!0);if(c)return this.getValue(e,c)}const a=this.getValue(e,t);if(a==null){const c=this.getDisplayedNode(t,e);if(c)return this.getValue(e,c)}return a}const n=t.leafGroup&&this.colModel.isPivotMode(),s=t.group&&t.expanded&&!t.footer&&!n,r=this.gos.get("groupSuppressBlankHeader")||!t.sibling,o=s&&!r;return this.getValue(e,t,o)}getValue(e,t,i=!1){var b;if(this.initialised||this.init(),!t)return;const n=e.getColDef(),s=n.field,r=e.getColId(),o=t.data;let a;const c=n.showRowGroup;if(typeof c=="string"&&(((b=this.beans.rowGroupColsSvc)==null?void 0:b.getColumnIndex(c))??-1)>t.level)return null;const h=t.groupData&&t.groupData[r]!==void 0,f=!i&&t.aggData&&t.aggData[r]!==void 0,p=this.isSsrm&&i&&!!e.getColDef().aggFunc,m=this.isSsrm&&t.footer&&t.field&&(e.getColDef().showRowGroup===!0||e.getColDef().showRowGroup===t.field);if(this.isTreeData&&f?a=t.aggData[r]:this.isTreeData&&n.valueGetter?a=this.executeValueGetter(n.valueGetter,o,e,t):this.isTreeData&&s&&o?a=Jv(o,s,e.isFieldContainsDots()):h?a=t.groupData[r]:f?a=t.aggData[r]:n.valueGetter?a=this.executeValueGetter(n.valueGetter,o,e,t):m?a=Jv(o,t.field,e.isFieldContainsDots()):s&&o&&!p&&(a=Jv(o,s,e.isFieldContainsDots())),this.cellExpressions&&typeof a=="string"&&a.indexOf("=")===0){const C=a.substring(1);a=this.executeValueGetter(C,o,e,t)}return a}parseValue(e,t,i,n){var o;const s=e.getColDef(),r=s.valueParser;if(At(r)){const a=wi(this.gos,{node:t,data:t==null?void 0:t.data,oldValue:n,newValue:i,colDef:s,column:e});return typeof r=="function"?r(a):(o=this.expressionSvc)==null?void 0:o.evaluate(r,a)}return i}getDeleteValue(e,t){return At(e.getColDef().valueParser)?this.parseValue(e,t,"",this.getValueForDisplay(e,t))??null:null}formatValue(e,t,i,n,s=!0){let r=null,o;const a=e.getColDef();if(n?o=n:s&&(o=a.valueFormatter),o){const c=wi(this.gos,{value:i,node:t,data:t?t.data:null,colDef:a,column:e});typeof o=="function"?r=o(c):r=this.expressionSvc?this.expressionSvc.evaluate(o,c):null}else if(a.refData)return a.refData[i]||"";return r==null&&Array.isArray(i)&&(r=i.join(", ")),r}getDisplayedNode(e,t,i=!1){var c,h,f;const n=this.gos,s=n.get("groupHideOpenParents"),r=n.get("showOpenedGroup")&&!i;if(!s&&!r)return;const o=t.colDef.showRowGroup;if(o===!0)return e.group?void 0:e.parent??void 0;let a=e;for(;a&&((c=a.rowGroupColumn)==null?void 0:c.getId())!=o;){const p=a===((f=(h=a.parent)==null?void 0:h.childrenAfterSort)==null?void 0:f[0]);if(!r&&!p)return;a=a.parent}if(a!==e)return a??void 0}setValue(e,t,i,n){var f,p;const s=this.colModel.getColDefCol(t);if(!e||!s)return!1;Vn(e.data)&&(e.data={});const{field:r,valueSetter:o}=s.getColDef();if(Vn(r)&&Vn(o))return Wt(17),!1;if(this.dataTypeSvc&&!this.dataTypeSvc.checkType(s,i))return Wt(135),!1;const a=wi(this.gos,{node:e,data:e.data,oldValue:this.getValue(s,e),newValue:i,colDef:s.getColDef(),column:s});a.newValue=i;let c;if(At(o)?typeof o=="function"?c=o(a):c=(f=this.expressionSvc)==null?void 0:f.evaluate(o,a):c=this.setValueUsingField(e.data,r,i,s.isFieldContainsDots()),c===void 0&&(c=!0),!c)return!1;e.resetQuickFilterAggregateText(),(p=this.valueCache)==null||p.onDataChanged();const h=this.getValue(s,e);return this.eventSvc.dispatchEvent({type:"cellValueChanged",event:null,rowIndex:e.rowIndex,rowPinned:e.rowPinned,column:a.column,colDef:a.colDef,data:e.data,node:e,oldValue:a.oldValue,newValue:h,value:h,source:n}),!0}callColumnCellValueChangedHandler(e){const t=e.colDef.onCellValueChanged;typeof t=="function"&&this.beans.frameworkOverrides.wrapOutgoing(()=>{t({node:e.node,data:e.data,oldValue:e.oldValue,newValue:e.newValue,colDef:e.colDef,column:e.column,api:e.api,context:e.context})})}setValueUsingField(e,t,i,n){if(!t)return!1;let s=!1;if(!n)s=e[t]===i,s||(e[t]=i);else{const r=t.split(".");let o=e;for(;r.length>0&&o;){const a=r.shift();r.length===0?(s=o[a]===i,s||(o[a]=i)):o=o[a]}}return!s}executeValueGetterWithValueCache(e,t,i,n){const s=i.getColId(),r=this.valueCache.getValue(n,s);if(r!==void 0)return r;const o=this.executeValueGetterWithoutValueCache(e,t,i,n);return this.valueCache.setValue(n,s,o),o}executeValueGetterWithoutValueCache(e,t,i,n){var o;const s=wi(this.gos,{data:t,node:n,column:i,colDef:i.getColDef(),getValue:this.getValueCallback.bind(this,n)});let r;return typeof e=="function"?r=e(s):r=(o=this.expressionSvc)==null?void 0:o.evaluate(e,s),r}getValueCallback(e,t){const i=this.colModel.getColDefCol(t);return i?this.getValue(i,e):null}getKeyForNode(e,t){const i=this.getValue(e,t),n=e.getColDef().keyCreator;let s=i;if(n){const r=wi(this.gos,{value:i,colDef:e.getColDef(),column:e,node:t,data:t.data});s=n(r)}return typeof s=="string"||s==null||(s=String(s),s==="[object Object]"&&Wt(121)),s}},GZ={moduleName:"CommunityCore",version:ji,beans:[_$,l6,xK,OU,xZ,rK,T$,B$,RU,oZ,rZ,wZ,zZ,I$,L$,k$,wK,kZ,mK,yK],icons:{selectOpen:"small-down",smallDown:"small-down",colorPicker:"color-picker",smallUp:"small-up",checkboxChecked:"small-up",checkboxIndeterminate:"checkbox-indeterminate",checkboxUnchecked:"checkbox-unchecked",radioButtonOn:"radio-button-on",radioButtonOff:"radio-button-off",smallLeft:"small-left",smallRight:"small-right"},apiFunctions:{getGridId:c6,destroy:u6,isDestroyed:h6,getGridOption:d6,setGridOption:f6,updateGridOptions:xP},dependsOn:[fK,P6,W6,IZ,W$,aK,U$,CZ,BZ,K$,sZ,uZ,dZ,Z$,CK,gK,FZ]},aL=class fh{static applyGlobalGridOptions(t){if(!fh.gridOptions)return{...t};let i={};return Lr(i,fh.gridOptions,!0,!0),fh.mergeStrategy==="deep"?Lr(i,t,!0,!0):i={...i,...t},fh.gridOptions.context&&(i.context=fh.gridOptions.context),t.context&&(fh.mergeStrategy==="deep"&&i.context&&Lr(t.context,i.context,!0,!0),i.context=t.context),i}};aL.gridOptions=void 0;aL.mergeStrategy="shallow";var GP=aL;function HZ(e){var t;return(t=GP.gridOptions)==null?void 0:t[e]}var jZ=1,VZ=class{create(e,t,i,n,s,r){const o=GP.applyGlobalGridOptions(t),a=o.gridId??String(jZ++),c=o.rowModelType??"clientSide",h=this.getRegisteredModules(s,a,c),f=this.createBeansList(c,h,a),p=this.createProvidedBeans(e,o,s);if(!f)return;const m={providedBeanInstances:p,beanClasses:f,gridId:a,beanInitComparator:s6,beanDestroyComparator:r6,derivedBeans:[i6],destroyCallback:r},b=new m5(m);return this.registerModuleFeatures(b,h),i(b),b.getBean("syncSvc").start(),n&&n(b),b.getBean("gridApi")}getRegisteredModules(e,t,i){var n;return LM(GZ,void 0),(n=e==null?void 0:e.modules)==null||n.forEach(s=>LM(s,t)),h5(t,i)}registerModuleFeatures(e,t){const i=e.getBean("registry"),n=e.getBean("apiFunctionSvc");t.forEach(s=>{i.registerModule(s);const r=s.apiFunctions;r&&Object.keys(r).forEach(a=>{n==null||n.addFunction(a,r[a])})})}createProvidedBeans(e,t,i){let n=i?i.frameworkOverrides:null;Vn(n)&&(n=new bP);const s={gridOptions:t,eGridDiv:e,globalListener:i?i.globalListener:null,globalSyncListener:i?i.globalSyncListener:null,frameworkOverrides:n};return i&&i.providedBeanInstances&&Object.assign(s,i.providedBeanInstances),s}createBeansList(e,t,i){const s={clientSide:"ClientSideRowModel",infinite:"InfiniteRowModel",serverSide:"ServerSideRowModel",viewport:"ViewportRowModel"}[e];if(!s){wM(201,{rowModelType:e},`Unknown rowModelType ${e}.`);return}if(!XO(s,i,e)){wM(200,{reasonOrId:`rowModelType = '${e}'`,moduleName:s,gridScoped:qO(),gridId:i,rowModelType:e},`Missing module ${s}Module for rowModelType ${e}. 
If upgrading from before v33, see ${$D}/upgrading-to-ag-grid-33/#changes-to-modules/`);return}const r=new Set;return t.forEach(o=>{var a;return(a=o.beans)==null?void 0:a.forEach(c=>r.add(c))}),Array.from(r)}},WZ=class{wrap(e,t,i,n){const s=this.createWrapper(e,n);return t==null||t.forEach(r=>{this.createMethod(s,r,!0)}),i==null||i.forEach(r=>{this.createMethod(s,r,!1)}),s}createMethod(e,t,i){e.addMethod(t,this.createMethodProxy(e,t,i))}createMethodProxy(e,t,i){return function(){return e.hasMethod(t)?e.callMethod(t,arguments):(i&&Wt(49,{methodName:t}),null)}}},ws=Te.createContext({}),Mm=(e,t,i,n)=>{if(!e||e.componentFromFramework||t.isDestroyed())return;const r=e.newAgStackInstance();let o,a,c=!1;return r.then(h=>{if(c){t.destroyBean(h);return}o=h,a=o.getGui(),i.appendChild(a),W1(n,o)}),()=>{var h;c=!0,o&&((h=a==null?void 0:a.parentElement)==null||h.removeChild(a),t.destroyBean(o),n&&W1(n,void 0))}},W1=(e,t)=>{if(e)if(e instanceof Function)e(t);else{const i=e;i.current=t}},Jr=(...e)=>e.filter(i=>i!=null&&i!=="").join(" "),to=class HP{constructor(...t){this.classesMap={},t.forEach(i=>{this.classesMap[i]=!0})}setClass(t,i){if(!!this.classesMap[t]==i)return this;const s=new HP;return s.classesMap={...this.classesMap},s.classesMap[t]=i,s}toString(){return Object.keys(this.classesMap).filter(i=>this.classesMap[i]).join(" ")}},If=e=>{const t=()=>typeof Symbol=="function"&&Symbol.for,i=()=>t()?Symbol.for("react.memo"):60115;return typeof e=="function"&&!(e.prototype&&e.prototype.isReactComponent)||typeof e=="object"&&e.$$typeof===i()},O_,NM=(O_=Te.version)==null?void 0:O_.split(".")[0],UZ=NM==="16"||NM==="17";function YZ(){return NM==="19"}var ob=!1;function KZ(e){return ob||setTimeout(()=>ob=!1,0),ob=!0,e()}var Vb=(e,t)=>{!UZ&&e&&!ob?xh.flushSync(t):t()};function Wb(e,t,i){if(t==null||e==null)return t;if(e===t||t.length===0&&e.length===0)return e;if(i||e.length===0&&t.length>0||e.length>0&&t.length===0)return t;const n=[],s=[],r=new Map,o=new Map;for(let a=0;a<t.length;a++){const c=t[a];o.set(c.instanceId,c)}for(let a=0;a<e.length;a++){const c=e[a];r.set(c.instanceId,c),o.has(c.instanceId)&&n.push(c)}for(let a=0;a<t.length;a++){const c=t[a],h=c.instanceId;r.has(h)||s.push(c)}return n.length===e.length&&s.length===0?e:n.length===0&&s.length===t.length?t:n.length===0?s:s.length===0?n:[...n,...s]}var jP=I.forwardRef((e,t)=>{var re;const{registry:i,context:n}=I.useContext(ws),s=I.useRef(null),r=I.useRef(null),o=I.useRef(null),a=I.useRef(null),c=I.useRef(null),h=I.useRef(),[f,p]=I.useState(),[m,b]=I.useState(),[C,w]=I.useState(),[D,M]=I.useState(()=>new to),[A,k]=I.useState(()=>new to("ag-hidden")),[_,F]=I.useState(()=>new to("ag-hidden")),[N,z]=I.useState(()=>new to("ag-invisible"));I.useImperativeHandle(t,()=>({refresh(){return!1}})),I.useLayoutEffect(()=>Mm(f,n,r.current),[f]);const V=I.useCallback(Z=>{if(s.current=Z,!Z){h.current=n.destroyBean(h.current);return}const Ce={setInnerRenderer:(K,ie)=>{p(K),w(ie)},setChildCount:K=>b(K),addOrRemoveCssClass:(K,ie)=>M(te=>te.setClass(K,ie)),setContractedDisplayed:K=>F(ie=>ie.setClass("ag-hidden",!K)),setExpandedDisplayed:K=>k(ie=>ie.setClass("ag-hidden",!K)),setCheckboxVisible:K=>z(ie=>ie.setClass("ag-invisible",!K)),setCheckboxSpacing:K=>z(ie=>ie.setClass("ag-group-checkbox-spacing",K))},H=i.createDynamicBean("groupCellRendererCtrl",!0);H&&(h.current=n.createBean(H),h.current.init(Ce,Z,o.current,a.current,c.current,jP,e))},[]),j=I.useMemo(()=>`ag-cell-wrapper ${D.toString()}`,[D]),U=I.useMemo(()=>`ag-group-expanded ${A.toString()}`,[A]),$=I.useMemo(()=>`ag-group-contracted ${_.toString()}`,[_]),Q=I.useMemo(()=>`ag-group-checkbox ${N.toString()}`,[N]),J=f&&f.componentFromFramework,be=J?f.componentClass:void 0,me=f==null&&C!=null,Y=Dh(C,!0);return Te.createElement("span",{className:j,ref:V,...e.colDef?{}:{role:(re=h.current)==null?void 0:re.getCellAriaRole()}},Te.createElement("span",{className:U,ref:a}),Te.createElement("span",{className:$,ref:c}),Te.createElement("span",{className:Q,ref:o}),Te.createElement("span",{className:"ag-group-value",ref:r},me&&Te.createElement(Te.Fragment,null,Y),J&&Te.createElement(be,{...f.params})),Te.createElement("span",{className:"ag-group-child-count"},m))}),U1=jP,lL=I.createContext({setMethods:()=>{}}),$Z=e=>{const{initialProps:t,addUpdateCallback:i,CustomComponentClass:n,setMethods:s}=e,[{key:r,...o},a]=I.useState(t);return I.useEffect(()=>{i(c=>a(c))},[]),Te.createElement(lL.Provider,{value:{setMethods:s}},Te.createElement(n,{key:r,...o}))},ZZ=I.memo($Z),XZ=0;function Y1(){return`agPortalKey_${++XZ}`}var VP=class{constructor(e,t,i,n){this.portal=null,this.oldPortal=null,this.reactComponent=e,this.portalManager=t,this.componentType=i,this.suppressFallbackMethods=!!n,this.statelessComponent=this.isStateless(this.reactComponent),this.key=Y1(),this.portalKey=Y1(),this.instanceCreated=this.isStatelessComponent()?ro.resolve(!1):new ro(s=>{this.resolveInstanceCreated=s})}getGui(){return this.eParentElement}getRootElement(){return this.eParentElement.firstChild}destroy(){this.componentInstance&&typeof this.componentInstance.destroy=="function"&&this.componentInstance.destroy();const e=this.portal;e&&this.portalManager.destroyPortal(e)}createParentElement(e){const t=this.portalManager.getComponentWrappingElement(),i=document.createElement(t||"div");return i.classList.add("ag-react-container"),e.reactContainer=i,i}statelessComponentRendered(){return this.eParentElement.childElementCount>0||this.eParentElement.childNodes.length>0}getFrameworkComponentInstance(){return this.componentInstance}isStatelessComponent(){return this.statelessComponent}getReactComponentName(){return this.reactComponent.name}getMemoType(){return this.hasSymbol()?Symbol.for("react.memo"):60115}hasSymbol(){return typeof Symbol=="function"&&Symbol.for}isStateless(e){return typeof e=="function"&&!(e.prototype&&e.prototype.isReactComponent)||typeof e=="object"&&e.$$typeof===this.getMemoType()}hasMethod(e){const t=this.getFrameworkComponentInstance();return!!t&&t[e]!=null||this.fallbackMethodAvailable(e)}callMethod(e,t){const i=this.getFrameworkComponentInstance();if(this.isStatelessComponent())return this.fallbackMethod(e,t&&t[0]?t[0]:{});if(!i){setTimeout(()=>this.callMethod(e,t));return}const n=i[e];if(n)return n.apply(i,t);if(this.fallbackMethodAvailable(e))return this.fallbackMethod(e,t&&t[0]?t[0]:{})}addMethod(e,t){this[e]=t}init(e){return this.eParentElement=this.createParentElement(e),this.createOrUpdatePortal(e),new ro(t=>this.createReactComponent(t))}createOrUpdatePortal(e){this.isStatelessComponent()||(this.ref=t=>{var i;this.componentInstance=t,(i=this.resolveInstanceCreated)==null||i.call(this,!0),this.resolveInstanceCreated=void 0},e.ref=this.ref),this.reactElement=this.createElement(this.reactComponent,{...e,key:this.key}),this.portal=vm.createPortal(this.reactElement,this.eParentElement,this.portalKey)}createElement(e,t){return I.createElement(e,t)}createReactComponent(e){this.portalManager.mountReactPortal(this.portal,this,e)}rendered(){return this.isStatelessComponent()&&this.statelessComponentRendered()||!!(!this.isStatelessComponent()&&this.getFrameworkComponentInstance())}refreshComponent(e){this.oldPortal=this.portal,this.createOrUpdatePortal(e),this.portalManager.updateReactPortal(this.oldPortal,this.portal)}fallbackMethod(e,t){const i=this[`${e}Component`];if(!this.suppressFallbackMethods&&i)return i.bind(this)(t)}fallbackMethodAvailable(e){return this.suppressFallbackMethods?!1:!!this[`${e}Component`]}};function cL(e,t,i){e.forEach(n=>{const s=t[n];s&&(i[n]=s)})}var Ho=class extends VP{constructor(){super(...arguments),this.awaitUpdateCallback=new ro(e=>{this.resolveUpdateCallback=e}),this.wrapperComponent=ZZ}init(e){return this.sourceParams=e,super.init(this.getProps())}addMethod(){}getInstance(){return this.instanceCreated.then(()=>this.componentInstance)}getFrameworkComponentInstance(){return this}createElement(e,t){return super.createElement(this.wrapperComponent,{initialProps:t,CustomComponentClass:e,setMethods:i=>this.setMethods(i),addUpdateCallback:i=>{this.updateCallback=()=>(i(this.getProps()),new ro(n=>{setTimeout(()=>{n()})})),this.resolveUpdateCallback()}})}setMethods(e){this.providedMethods=e,cL(this.getOptionalMethods(),this.providedMethods,this)}getOptionalMethods(){return[]}getProps(){return{...this.sourceParams,key:this.key,ref:this.ref}}refreshProps(){return this.updateCallback?this.updateCallback():new ro(e=>this.awaitUpdateCallback.then(()=>{this.updateCallback().then(()=>e())}))}},qZ=class extends Ho{refresh(e){return this.sourceParams=e,this.refreshProps(),!0}},QZ=class extends Ho{constructor(){super(...arguments),this.date=null,this.onDateChange=e=>this.updateDate(e)}getDate(){return this.date}setDate(e){this.date=e,this.refreshProps()}refresh(e){this.sourceParams=e,this.refreshProps()}getOptionalMethods(){return["afterGuiAttached","setInputPlaceholder","setInputAriaLabel","setDisabled"]}updateDate(e){this.setDate(e),this.sourceParams.onDateChanged()}getProps(){const e=super.getProps();return e.date=this.date,e.onDateChange=this.onDateChange,delete e.onDateChanged,e}},JZ=class extends Ho{constructor(){super(...arguments),this.label="",this.icon=null,this.shake=!1}setIcon(e,t){this.icon=e,this.shake=t,this.refreshProps()}setLabel(e){this.label=e,this.refreshProps()}getProps(){const e=super.getProps(),{label:t,icon:i,shake:n}=this;return e.label=t,e.icon=i,e.shake=n,e}},e9=class extends Ho{constructor(){super(...arguments),this.model=null,this.onModelChange=e=>this.updateModel(e),this.onUiChange=()=>this.sourceParams.filterModifiedCallback(),this.expectingNewMethods=!0,this.hasBeenActive=!1,this.awaitSetMethodsCallback=new ro(e=>{this.resolveSetMethodsCallback=e})}isFilterActive(){return this.model!=null}doesFilterPass(e){return this.providedMethods.doesFilterPass(e)}getModel(){return this.model}setModel(e){return this.expectingNewMethods=!0,this.model=e,this.hasBeenActive||(this.hasBeenActive=this.isFilterActive()),this.refreshProps()}refresh(e){return this.sourceParams=e,this.refreshProps(),!0}afterGuiAttached(e){var i;const t=this.providedMethods;t?(i=t.afterGuiAttached)==null||i.call(t,e):this.awaitSetMethodsCallback.then(()=>{var n,s;return(s=(n=this.providedMethods)==null?void 0:n.afterGuiAttached)==null?void 0:s.call(n,e)})}getOptionalMethods(){return["afterGuiAttached","afterGuiDetached","onNewRowsLoaded","getModelAsString","onAnyFilterChanged"]}setMethods(e){var t;this.expectingNewMethods===!1&&this.hasBeenActive&&((t=this.providedMethods)==null?void 0:t.doesFilterPass)!==(e==null?void 0:e.doesFilterPass)&&setTimeout(()=>{this.sourceParams.filterChangedCallback()}),this.expectingNewMethods=!1,super.setMethods(e),this.resolveSetMethodsCallback()}updateModel(e){this.setModel(e).then(()=>this.sourceParams.filterChangedCallback())}getProps(){const e=super.getProps();return e.model=this.model,e.onModelChange=this.onModelChange,e.onUiChange=this.onUiChange,delete e.filterChangedCallback,delete e.filterModifiedCallback,e}};function WP(e,t){e.parentFilterInstance(i=>{(i.setModel(t)||ro.resolve()).then(()=>{e.filterParams.filterChangedCallback()})})}var t9=class{constructor(e,t){this.floatingFilterParams=e,this.refreshProps=t,this.model=null,this.onModelChange=i=>this.updateModel(i)}getProps(){return{...this.floatingFilterParams,model:this.model,onModelChange:this.onModelChange}}onParentModelChanged(e){this.model=e,this.refreshProps()}refresh(e){this.floatingFilterParams=e,this.refreshProps()}setMethods(e){cL(this.getOptionalMethods(),e,this)}getOptionalMethods(){return["afterGuiAttached"]}updateModel(e){this.model=e,this.refreshProps(),WP(this.floatingFilterParams,e)}},i9=class extends Ho{constructor(){super(...arguments),this.model=null,this.onModelChange=e=>this.updateModel(e)}onParentModelChanged(e){this.model=e,this.refreshProps()}refresh(e){this.sourceParams=e,this.refreshProps()}getOptionalMethods(){return["afterGuiAttached"]}updateModel(e){this.model=e,this.refreshProps(),WP(this.sourceParams,e)}getProps(){const e=super.getProps();return e.model=this.model,e.onModelChange=this.onModelChange,e}},n9=class extends Ho{refresh(e){return this.sourceParams=e,this.refreshProps(),!0}},s9=class extends Ho{refresh(e){this.sourceParams=e,this.refreshProps()}},r9=class extends Ho{constructor(){super(...arguments),this.active=!1,this.expanded=!1,this.onActiveChange=e=>this.updateActive(e)}setActive(e){this.awaitSetActive(e)}setExpanded(e){this.expanded=e,this.refreshProps()}getOptionalMethods(){return["select","configureDefaults"]}awaitSetActive(e){return this.active=e,this.refreshProps()}updateActive(e){const t=this.awaitSetActive(e);e&&t.then(()=>this.sourceParams.onItemActivated())}getProps(){const e=super.getProps();return e.active=this.active,e.expanded=this.expanded,e.onActiveChange=this.onActiveChange,delete e.onItemActivated,e}},o9=class extends Ho{refresh(e){this.sourceParams=e,this.refreshProps()}},a9=class extends Ho{refresh(e){return this.sourceParams=e,this.refreshProps(),!0}},l9=class extends Ho{constructor(){super(...arguments),this.onStateChange=e=>this.updateState(e)}refresh(e){return this.sourceParams=e,this.refreshProps(),!0}getState(){return this.state}updateState(e){this.state=e,this.refreshProps(),this.sourceParams.onStateUpdated()}getProps(){const e=super.getProps();return e.state=this.state,e.onStateChange=this.onStateChange,e}};function uL(){Wt(231)}var c9=1e3,u9=class{constructor(e,t,i){this.destroyed=!1,this.portals=[],this.hasPendingPortalUpdate=!1,this.wrappingElement=t||"div",this.refresher=e,this.maxComponentCreationTimeMs=i||c9}getPortals(){return this.portals}destroy(){this.destroyed=!0}destroyPortal(e){this.portals=this.portals.filter(t=>t!==e),this.batchUpdate()}getComponentWrappingElement(){return this.wrappingElement}mountReactPortal(e,t,i){this.portals=[...this.portals,e],this.waitForInstance(t,i),this.batchUpdate()}updateReactPortal(e,t){this.portals[this.portals.indexOf(e)]=t,this.batchUpdate()}batchUpdate(){this.hasPendingPortalUpdate||(setTimeout(()=>{this.destroyed||(this.refresher(),this.hasPendingPortalUpdate=!1)}),this.hasPendingPortalUpdate=!0)}waitForInstance(e,t,i=Date.now()){if(this.destroyed){t(null);return}if(e.rendered())t(e);else{if(Date.now()-i>=this.maxComponentCreationTimeMs&&!this.hasPendingPortalUpdate)return;window.setTimeout(()=>{this.waitForInstance(e,t,i)})}}},h9=({ctrl:e})=>{const t=e.isAlive(),{context:i}=I.useContext(ws),n=t?e.column.getColId():void 0,[s,r]=I.useState(),[o,a]=I.useState(),c=I.useRef(),h=I.useRef(null),f=I.useRef(null),p=I.useRef(null),m=I.useRef(),b=I.useRef();t&&!b.current&&(b.current=new Sm(()=>h.current));const C=I.useCallback(A=>{var F;if(h.current=A,c.current=A?i.createBean(new Rf):i.destroyBean(c.current),!A||!e.isAlive())return;const k={setWidth:N=>{h.current&&(h.current.style.width=N)},addOrRemoveCssClass:(N,z)=>b.current.addOrRemoveCssClass(N,z),setUserStyles:N=>a(N),setAriaSort:N=>{h.current&&(N?m3(h.current,N):y3(h.current))},setUserCompDetails:N=>r(N),getUserCompInstance:()=>m.current||void 0};e.setComp(k,A,f.current,p.current,c.current);const _=e.getSelectAllGui();_&&((F=f.current)==null||F.insertAdjacentElement("afterend",_),c.current.addDestroyFunc(()=>_.remove()))},[]);I.useLayoutEffect(()=>Mm(s,i,p.current,m),[s]),I.useEffect(()=>{e.setDragSource(h.current)},[s]);const w=I.useMemo(()=>!!((s==null?void 0:s.componentFromFramework)&&If(s.componentClass)),[s]),D=s&&s.componentFromFramework,M=s&&s.componentClass;return Te.createElement("div",{ref:C,style:o,className:"ag-header-cell","col-id":n,role:"columnheader"},Te.createElement("div",{ref:f,className:"ag-header-cell-resize",role:"presentation"}),Te.createElement("div",{ref:p,className:"ag-header-cell-comp-wrapper",role:"presentation"},D&&w&&Te.createElement(M,{...s.params}),D&&!w&&Te.createElement(M,{...s.params,ref:m})))},d9=I.memo(h9),f9=({ctrl:e})=>{const{context:t,gos:i}=I.useContext(ws),[n,s]=I.useState(),[r,o]=I.useState(()=>new to("ag-header-cell","ag-floating-filter")),[a,c]=I.useState(()=>new to),[h,f]=I.useState(()=>new to("ag-floating-filter-button","ag-hidden")),[p,m]=I.useState("false"),[b,C]=I.useState(),[,w]=I.useState(1),D=I.useRef(),M=I.useRef(null),A=I.useRef(null),k=I.useRef(null),_=I.useRef(null),F=I.useRef(),N=I.useRef(),z=Z=>{Z!=null&&F.current&&F.current(Z)},V=I.useCallback(Z=>{if(M.current=Z,D.current=Z?t.createBean(new Rf):t.destroyBean(D.current),!Z)return;N.current=new ro(H=>{F.current=H});const Ce={addOrRemoveCssClass:(H,K)=>o(ie=>ie.setClass(H,K)),setUserStyles:H=>s(H),addOrRemoveBodyCssClass:(H,K)=>c(ie=>ie.setClass(H,K)),setButtonWrapperDisplayed:H=>{f(K=>K.setClass("ag-hidden",!H)),m(H?"false":"true")},setWidth:H=>{M.current&&(M.current.style.width=H)},setCompDetails:H=>C(H),getFloatingFilterComp:()=>N.current?N.current:null,setMenuIcon:H=>{var K;return(K=_.current)==null?void 0:K.appendChild(H)}};e.setComp(Ce,Z,_.current,A.current,D.current)},[]);I.useLayoutEffect(()=>Mm(b,t,A.current,z),[b]);const j=I.useMemo(()=>r.toString(),[r]),U=I.useMemo(()=>a.toString(),[a]),$=I.useMemo(()=>h.toString(),[h]),Q=I.useMemo(()=>!!(b&&b.componentFromFramework&&If(b.componentClass)),[b]),J=I.useMemo(()=>i.get("reactiveCustomComponents"),[]),be=I.useMemo(()=>{if(b)if(J){const Z=new t9(b.params,()=>w(Ce=>Ce+1));return z(Z),Z}else b.componentFromFramework&&uL()},[b]),me=be==null?void 0:be.getProps(),Y=b&&b.componentFromFramework,re=b&&b.componentClass;return Te.createElement("div",{ref:V,style:n,className:j,role:"gridcell"},Te.createElement("div",{ref:A,className:U,role:"presentation"},Y&&!J&&Te.createElement(re,{...b.params,ref:Q?()=>{}:z}),Y&&J&&Te.createElement(lL.Provider,{value:{setMethods:Z=>be.setMethods(Z)}},Te.createElement(re,{...me}))),Te.createElement("div",{ref:k,"aria-hidden":p,className:$,role:"presentation"},Te.createElement("button",{ref:_,type:"button",className:"ag-button ag-floating-filter-button-button",tabIndex:-1})))},g9=I.memo(f9),p9=({ctrl:e})=>{const{context:t}=I.useContext(ws),[i,n]=I.useState(),[s,r]=I.useState(()=>new to),[o,a]=I.useState(()=>new to),[c,h]=I.useState("false"),[f,p]=I.useState(),[m,b]=I.useState(),C=I.useMemo(()=>e.column.getUniqueId(),[]),w=I.useRef(),D=I.useRef(null),M=I.useRef(null),A=I.useRef(null),k=I.useRef(),_=I.useCallback(U=>{if(D.current=U,w.current=U?t.createBean(new Rf):t.destroyBean(w.current),!U)return;const $={setWidth:Q=>{D.current&&(D.current.style.width=Q)},addOrRemoveCssClass:(Q,J)=>r(be=>be.setClass(Q,J)),setUserStyles:Q=>n(Q),setHeaderWrapperHidden:Q=>{const J=A.current;J&&(Q?J.style.setProperty("display","none"):J.style.removeProperty("display"))},setHeaderWrapperMaxHeight:Q=>{const J=A.current;J&&(Q!=null?J.style.setProperty("max-height",`${Q}px`):J.style.removeProperty("max-height"),J.classList.toggle("ag-header-cell-comp-wrapper-limited-height",Q!=null))},setUserCompDetails:Q=>b(Q),setResizableDisplayed:Q=>{a(J=>J.setClass("ag-hidden",!Q)),h(Q?"false":"true")},setAriaExpanded:Q=>p(Q),getUserCompInstance:()=>k.current||void 0};e.setComp($,U,M.current,A.current,w.current)},[]);I.useLayoutEffect(()=>Mm(m,t,A.current),[m]),I.useEffect(()=>{D.current&&e.setDragSource(D.current)},[m]);const F=I.useMemo(()=>!!((m==null?void 0:m.componentFromFramework)&&If(m.componentClass)),[m]),N=I.useMemo(()=>"ag-header-group-cell "+s.toString(),[s]),z=I.useMemo(()=>"ag-header-cell-resize "+o.toString(),[o]),V=m&&m.componentFromFramework,j=m&&m.componentClass;return Te.createElement("div",{ref:_,style:i,className:N,"col-id":C,role:"columnheader","aria-expanded":f},Te.createElement("div",{ref:A,className:"ag-header-cell-comp-wrapper",role:"presentation"},V&&F&&Te.createElement(j,{...m.params}),V&&!F&&Te.createElement(j,{...m.params,ref:k})),Te.createElement("div",{ref:M,"aria-hidden":c,className:z}))},m9=I.memo(p9),y9=({ctrl:e})=>{const{context:t}=I.useContext(ws),{topOffset:i,rowHeight:n}=I.useMemo(()=>e.getTopAndHeight(),[]),s=e.getAriaRowIndex(),r=e.headerRowClass,[o,a]=I.useState(()=>n+"px"),[c,h]=I.useState(()=>i+"px"),f=I.useRef(null),p=I.useRef(null),[m,b]=I.useState(()=>e.getUpdatedHeaderCtrls()),C=I.useRef(),w=I.useRef(null),D=I.useCallback(k=>{if(w.current=k,C.current=k?t.createBean(new Rf):t.destroyBean(C.current),!k)return;const _={setHeight:F=>a(F),setTop:F=>h(F),setHeaderCtrls:(F,N,z)=>{p.current=f.current,f.current=F;const V=Wb(p.current,F,N);V!==p.current&&Vb(z,()=>b(V))},setWidth:F=>{w.current&&(w.current.style.width=F)}};e.setComp(_,C.current,!1)},[]),M=I.useMemo(()=>({height:o,top:c}),[o,c]),A=I.useCallback(k=>{switch(e.type){case"group":return Te.createElement(m9,{ctrl:k,key:k.instanceId});case"filter":return Te.createElement(g9,{ctrl:k,key:k.instanceId});default:return Te.createElement(d9,{ctrl:k,key:k.instanceId})}},[]);return Te.createElement("div",{ref:D,className:r,role:"row",style:M,"aria-rowindex":s},m.map(A))},v9=I.memo(y9),b9=({pinned:e})=>{const[t,i]=I.useState(!0),[n,s]=I.useState([]),{context:r}=I.useContext(ws),o=I.useRef(null),a=I.useRef(null),c=I.useRef(),h=e==="left",f=e==="right",p=!h&&!f,m=I.useCallback(w=>{if(o.current=w,c.current=w?r.createBean(new PY(e)):r.destroyBean(c.current),!w)return;const D={setDisplayed:i,setCtrls:M=>s(M),setCenterWidth:M=>{a.current&&(a.current.style.width=M)},setViewportScrollLeft:M=>{o.current&&(o.current.scrollLeft=M)},setPinnedContainerWidth:M=>{o.current&&(o.current.style.width=M,o.current.style.minWidth=M,o.current.style.maxWidth=M)}};c.current.setComp(D,o.current)},[]),b=t?"":"ag-hidden",C=()=>n.map(w=>Te.createElement(v9,{ctrl:w,key:w.instanceId}));return Te.createElement(Te.Fragment,null,h&&Te.createElement("div",{ref:m,className:"ag-pinned-left-header "+b,"aria-hidden":!t,role:"rowgroup"},C()),f&&Te.createElement("div",{ref:m,className:"ag-pinned-right-header "+b,"aria-hidden":!t,role:"rowgroup"},C()),p&&Te.createElement("div",{ref:m,className:"ag-header-viewport "+b,role:"presentation",tabIndex:-1},Te.createElement("div",{ref:a,className:"ag-header-container",role:"rowgroup"},C())))},Dw=I.memo(b9),C9=()=>{const[e,t]=I.useState(()=>new to),[i,n]=I.useState(),{context:s}=I.useContext(ws),r=I.useRef(null),o=I.useRef(),a=I.useCallback(f=>{if(r.current=f,o.current=f?s.createBean(new kY):s.destroyBean(o.current),!f)return;const p={addOrRemoveCssClass:(m,b)=>t(C=>C.setClass(m,b)),setHeightAndMinHeight:m=>n(m)};o.current.setComp(p,f,f)},[]),c=I.useMemo(()=>"ag-header "+e.toString(),[e]),h=I.useMemo(()=>({height:i,minHeight:i}),[i]);return Te.createElement("div",{ref:a,className:c,style:h,role:"presentation"},Te.createElement(Dw,{pinned:"left"}),Te.createElement(Dw,{pinned:null}),Te.createElement(Dw,{pinned:"right"}))},x9=I.memo(C9),S9=(e,t)=>{I.useEffect(()=>{const i=t.current;if(i){const n=i.parentElement;if(n){const s=document.createComment(e);return n.insertBefore(s,i),()=>{n.removeChild(s)}}}},[e])},vh=S9,w9=class{constructor(e,t){this.cellEditorParams=e,this.refreshProps=t,this.instanceCreated=new ro(i=>{this.resolveInstanceCreated=i}),this.onValueChange=i=>this.updateValue(i),this.value=e.value}getProps(){return{...this.cellEditorParams,initialValue:this.cellEditorParams.value,value:this.value,onValueChange:this.onValueChange}}getValue(){return this.value}refresh(e){this.cellEditorParams=e,this.refreshProps()}setMethods(e){cL(this.getOptionalMethods(),e,this)}getInstance(){return this.instanceCreated.then(()=>this.componentInstance)}setRef(e){var t;this.componentInstance=e,(t=this.resolveInstanceCreated)==null||t.call(this),this.resolveInstanceCreated=void 0}getOptionalMethods(){return["isCancelBeforeStart","isCancelAfterEnd","focusIn","focusOut","afterGuiAttached"]}updateValue(e){this.value=e,this.refreshProps()}},M9=e=>{const t=I.useRef(e),i=I.useRef(),n=I.useRef(!1),s=I.useRef(!1),[,r]=I.useState(0);n.current&&(s.current=!0),I.useEffect(()=>(n.current||(i.current=t.current(),n.current=!0),r(o=>o+1),()=>{var o;s.current&&((o=i.current)==null||o.call(i))}),[])},D9=e=>{const[t,i]=I.useState(),n=I.useContext(ws),{context:s,popupSvc:r,localeSvc:o,gos:a,editSvc:c}=n,{editDetails:h,cellCtrl:f,eParentCell:p}=e;return M9(()=>{var z,V;const{compDetails:m}=h,b=a.get("stopEditingWhenCellsLoseFocus"),C=s.createBean(c.createPopupEditorWrapper(m.params)),w=C.getGui();if(e.jsChildComp){const j=e.jsChildComp.getGui();j&&w.appendChild(j)}const{column:D,rowNode:M}=f,A={column:D,rowNode:M,type:"popupCellEditor",eventSource:p,ePopup:w,position:h.popupPosition,keepWithinBounds:!0},k=r==null?void 0:r.positionPopupByComponent.bind(r,A),_=tO(o),F=r==null?void 0:r.addPopup({modal:b,eChild:w,closeOnEsc:!0,closedCallback:()=>{f.onPopupEditorClosed()},anchorToElement:p,positionCallback:k,ariaLabel:_("ariaLabelCellEditor","Cell Editor")}),N=F?F.hideFunc:void 0;return i(C),(V=(z=e.jsChildComp)==null?void 0:z.afterGuiAttached)==null||V.call(z),()=>{N==null||N(),s.destroyBean(C)}}),I.useLayoutEffect(()=>()=>{f.isCellFocused()&&(t!=null&&t.getGui().contains(Ss(n)))&&p.focus({preventScroll:!0})},[t]),Te.createElement(Te.Fragment,null,t&&e.wrappedContent&&vm.createPortal(e.wrappedContent,t.getGui()))},K1=I.memo(D9),L9=(e,t,i,n,s,r)=>{const{context:o}=I.useContext(ws),a=I.useCallback(()=>{const c=s.current;if(!c)return;const h=c.getGui();h&&h.parentElement&&h.parentElement.removeChild(h),o.destroyBean(c),s.current=void 0},[]);I.useEffect(()=>{const c=e!=null,h=(e==null?void 0:e.compDetails)&&!e.compDetails.componentFromFramework,f=t&&i==null;if(!(c&&h&&!f)){a();return}const m=e.compDetails;if(s.current){const C=s.current,D=C.refresh!=null&&e.force==!1?C.refresh(m.params):!1;if(D===!0||D===void 0)return;a()}m.newAgStackInstance().then(C=>{if(!C)return;const w=C.getGui();if(!w)return;(t?i:r.current).appendChild(w),s.current=C})},[e,t,n]),I.useEffect(()=>a,[])},T9=L9,A9=(e,t,i)=>{const{compProxy:n}=e;i(n);const s=n.getProps(),r=If(t);return Te.createElement(lL.Provider,{value:{setMethods:o=>n.setMethods(o)}},r?Te.createElement(t,{...s}):Te.createElement(t,{...s,ref:o=>n.setRef(o)}))},$1=(e,t,i)=>{const n=e.compProxy;return Te.createElement(Te.Fragment,null,n?A9(e,t,i):Te.createElement(t,{...e.compDetails.params,ref:i}))},E9=(e,t,i,n,s)=>{const r=e.compDetails,o=r.componentClass,a=r.componentFromFramework&&!e.popup,c=r.componentFromFramework&&e.popup,h=!r.componentFromFramework&&e.popup;return Te.createElement(Te.Fragment,null,a&&$1(e,o,t),c&&Te.createElement(K1,{editDetails:e,cellCtrl:n,eParentCell:i,wrappedContent:$1(e,o,t)}),h&&s&&Te.createElement(K1,{editDetails:e,cellCtrl:n,eParentCell:i,jsChildComp:s}))},R9=(e,t,i,n,s,r,o)=>{const{compDetails:a,value:c}=e,h=!a,f=a&&a.componentFromFramework,p=a&&a.componentClass,m=c!=null&&c.toString?c.toString():c,b=()=>Te.createElement(Te.Fragment,null,h&&Te.createElement(Te.Fragment,null,m),f&&!r&&Te.createElement(p,{...a.params,key:t,ref:n}),f&&r&&Te.createElement(p,{...a.params,key:t}));return Te.createElement(Te.Fragment,null,s?Te.createElement("span",{role:"presentation",id:`cell-${i}`,className:"ag-cell-value",ref:o},b()):b())},I9=({cellCtrl:e,printLayout:t,editingRow:i})=>{const n=I.useContext(ws),{context:s}=n,{colIdSanitised:r,instanceId:o}=e,a=I.useRef(),[c,h]=I.useState(()=>e.isCellRenderer()?void 0:{compDetails:void 0,value:e.getValueToDisplay(),force:!1}),[f,p]=I.useState(),[m,b]=I.useState(1),[C,w]=I.useState(),[D,M]=I.useState(!1),[A,k]=I.useState(!1),[_,F]=I.useState(!1),[N,z]=I.useState(),V=I.useMemo(()=>e.isForceWrapper(),[e]),j=I.useMemo(()=>e.getCellAriaRole(),[e]),U=I.useRef(null),$=I.useRef(null),Q=I.useRef(null),J=I.useRef(),be=I.useRef(),me=I.useRef(),Y=I.useRef([]),re=I.useRef(),[Z,Ce]=I.useState(0),H=I.useCallback(qe=>{re.current=qe,Ce(Ue=>Ue+1)},[]),K=c!=null&&(D||_||A),ie=V||K,te=I.useCallback(qe=>{if(be.current=qe,qe){const Ue=qe.isCancelBeforeStart&&qe.isCancelBeforeStart();setTimeout(()=>{Ue?(e.stopEditing(!0),e.focusCell(!0)):e.cellEditorAttached()})}},[e]),se=I.useRef();se.current||(se.current=new Sm(()=>U.current)),T9(c,ie,re.current,Z,J,U);const ye=I.useRef();I.useLayoutEffect(()=>{var Ct;const qe=ye.current,Ue=c;if(ye.current=c,qe==null||qe.compDetails==null||Ue==null||Ue.compDetails==null)return;const Ve=qe.compDetails,Et=Ue.compDetails;if(Ve.componentClass!=Et.componentClass||((Ct=Q.current)==null?void 0:Ct.refresh)==null)return;Q.current.refresh(Et.params)!=!0&&b(Qt=>Qt+1)},[c]),I.useLayoutEffect(()=>{if(!(f&&!f.compDetails.componentFromFramework))return;const Ue=f.compDetails,Ve=f.popup===!0,Et=Ue.newAgStackInstance();return Et.then(je=>{if(!je)return;const Ct=je.getGui();if(te(je),!Ve){const Qt=(V?me:U).current;Qt==null||Qt.appendChild(Ct),je.afterGuiAttached&&je.afterGuiAttached()}z(je)}),()=>{Et.then(je=>{var Qt;const Ct=je.getGui();s.destroyBean(je),te(void 0),z(void 0),(Qt=Ct==null?void 0:Ct.parentElement)==null||Qt.removeChild(Ct)})}},[f]);const he=I.useCallback(qe=>{if(me.current=qe,!qe){Y.current.forEach(Ve=>Ve()),Y.current=[];return}const Ue=Ve=>{if(Ve){const Et=Ve.getGui();qe.insertAdjacentElement("afterbegin",Et),Y.current.push(()=>{s.destroyBean(Ve),bM(Et)})}return Ve};if(D){const Ve=e.createSelectionCheckbox();Ue(Ve)}_&&Ue(e.createDndSource()),A&&Ue(e.createRowDragComp())},[e,s,_,A,D]),Ie=I.useCallback(()=>{const qe=!e.isCellSpanning()||$.current,Ue=U.current;if(a.current=Ue?s.createBean(new Rf):s.destroyBean(a.current),!Ue||!qe||!e)return;const Ve={addOrRemoveCssClass:(je,Ct)=>se.current.addOrRemoveCssClass(je,Ct),setUserStyles:je=>w(je),getFocusableElement:()=>U.current,setIncludeSelection:je=>M(je),setIncludeRowDrag:je=>k(je),setIncludeDndSource:je=>F(je),getCellEditor:()=>be.current||null,getCellRenderer:()=>Q.current??J.current,getParentOfValue:()=>re.current??me.current??U.current,setRenderDetails:(je,Ct,Qt)=>{h(St=>(St==null?void 0:St.compDetails)!==je||(St==null?void 0:St.value)!==Ct||(St==null?void 0:St.force)!==Qt?{value:Ct,compDetails:je,force:Qt}:St)},setEditDetails:(je,Ct,Qt,St)=>{if(je){let ft;St?ft=new w9(je.params,()=>b(kt=>kt+1)):je.componentFromFramework&&uL(),p({compDetails:je,popup:Ct,popupPosition:Qt,compProxy:ft}),Ct||h(void 0)}else e.hasBrowserFocus()&&Ve.getFocusableElement().focus({preventScroll:!0}),p(kt=>{kt!=null&&kt.compProxy&&(be.current=void 0)})}},Et=me.current||void 0;e.setComp(Ve,Ue,$.current??void 0,Et,t,i,a.current)},[]),xe=I.useCallback(qe=>{U.current=qe,Ie()},[]),Re=I.useCallback(qe=>{$.current=qe,Ie()},[]),Ne=I.useMemo(()=>{var Ue;return!!(((Ue=c==null?void 0:c.compDetails)==null?void 0:Ue.componentFromFramework)&&If(c.compDetails.componentClass))},[c]);I.useLayoutEffect(()=>{U.current&&(se.current.addOrRemoveCssClass("ag-cell-value",!ie),se.current.addOrRemoveCssClass("ag-cell-inline-editing",!!f&&!f.popup),se.current.addOrRemoveCssClass("ag-cell-popup-editing",!!f&&!!f.popup),se.current.addOrRemoveCssClass("ag-cell-not-inline-editing",!f||!!f.popup),e.setInlineEditingCss())});const We=()=>Te.createElement(Te.Fragment,null,c!=null&&R9(c,m,o,Q,ie,Ne,H),f!=null&&E9(f,te,U.current,e,N)),lt=()=>Te.createElement("div",{ref:xe,style:C,role:j,"col-id":r},ie?Te.createElement("div",{className:"ag-cell-wrapper",role:"presentation",ref:he},We()):We());return e.isCellSpanning()?Te.createElement("div",{ref:Re,className:"ag-spanned-cell-wrapper",role:"presentation"},lt()):lt()},k9=I.memo(I9),_9=({rowCtrl:e,containerType:t})=>{const{context:i,gos:n}=I.useContext(ws),s=I.useRef(),r=I.useRef(e.getDomOrder()),o=e.isFullWidth(),a=e.rowNode.displayed,[c,h]=I.useState(()=>a?e.rowNode.getRowIndexString():null),[f,p]=I.useState(()=>e.rowId),[m,b]=I.useState(()=>e.businessKey),[C,w]=I.useState(()=>e.rowStyles),D=I.useRef(null),M=I.useRef(null),[A,k]=I.useState(()=>null),[_,F]=I.useState(),[N,z]=I.useState(()=>a?e.getInitialRowTop(t):void 0),[V,j]=I.useState(()=>a?e.getInitialTransform(t):void 0),U=I.useRef(null),$=I.useRef(),Q=I.useRef(!1),[J,be]=I.useState(0);I.useEffect(()=>{var ye;if(Q.current||!_||J>10)return;const se=(ye=U.current)==null?void 0:ye.firstChild;se?(e.setupDetailRowAutoHeight(se),Q.current=!0):be(he=>he+1)},[_,J]);const me=I.useRef();me.current||(me.current=new Sm(()=>U.current));const Y=I.useCallback(se=>{if(U.current=se,s.current=se?i.createBean(new Rf):i.destroyBean(s.current),!se){e.unsetComp(t);return}if(!e.isAlive())return;const ye={setTop:z,setTransform:j,addOrRemoveCssClass:(he,Ie)=>me.current.addOrRemoveCssClass(he,Ie),setDomOrder:he=>r.current=he,setRowIndex:h,setRowId:p,setRowBusinessKey:b,setUserStyles:w,setCellCtrls:(he,Ie)=>{M.current=D.current,D.current=he;const xe=Wb(M.current,he,r.current);xe!==M.current&&Vb(Ie,()=>k(xe))},showFullWidth:he=>F(he),getFullWidthCellRenderer:()=>$.current,refreshFullWidth:he=>K.current?(F(Ie=>({...Ie,params:he()})),!0):!$.current||!$.current.refresh?!1:$.current.refresh(he())};e.setComp(ye,se,t,s.current)},[]);I.useLayoutEffect(()=>Mm(_,i,U.current,$),[_]);const re=I.useMemo(()=>{const se={top:N,transform:V};return Object.assign(se,C),se},[N,V,C]),Z=o&&(_==null?void 0:_.componentFromFramework),Ce=!o&&A!=null,H=I.useMemo(()=>!!((_==null?void 0:_.componentFromFramework)&&If(_.componentClass)),[_]),K=I.useRef(!1);I.useEffect(()=>{K.current=H&&!!_&&!!n.get("reactiveCustomComponents")},[H,_]);const ie=()=>A==null?void 0:A.map(se=>Te.createElement(k9,{cellCtrl:se,editingRow:e.editing,printLayout:e.printLayout,key:se.instanceId})),te=()=>{const se=_.componentClass;return Te.createElement(Te.Fragment,null,H?Te.createElement(se,{..._.params}):Te.createElement(se,{..._.params,ref:$}))};return Te.createElement("div",{ref:Y,role:"row",style:re,"row-index":c,"row-id":f,"row-business-key":m},Ce&&ie(),Z&&te())},Z1=I.memo(_9),N9=({name:e})=>{const{context:t,gos:i}=I.useContext(ws),n=I.useMemo(()=>wm(e),[e]),s=I.useRef(null),r=I.useRef(null),o=I.useRef(null),a=I.useRef([]),c=I.useRef([]),[h,f]=I.useState(()=>[]),p=!!i.get("enableCellSpan")&&!!n.getSpannedRowCtrls,m=I.useRef([]),b=I.useRef([]),[C,w]=I.useState(()=>[]),D=I.useRef(!1),M=I.useRef(),A=I.useMemo(()=>Jr("ag-viewport",cP(e)),[e]),k=I.useMemo(()=>Jr(rb(e)),[e]),_=I.useMemo(()=>Jr("ag-spanning-container",cY(e)),[e]),F=n.type==="center"||p,N=F?s:r;vh(" AG Row Container "+e+" ",N);const z=I.useCallback(()=>{const me=!F||s.current!=null,Y=r.current!=null,re=!p||o.current!=null;return me&&Y&&re},[]),V=I.useCallback(()=>s.current==null&&r.current==null&&o.current==null,[]),j=I.useCallback(()=>{if(V()&&(M.current=t.destroyBean(M.current)),z()){const me=Z=>{const Ce=Wb(c.current,a.current,D.current);Ce!==c.current&&(c.current=Ce,Vb(Z,()=>f(Ce)))},Y=Z=>{const Ce=Wb(b.current,m.current,D.current);Ce!==b.current&&(b.current=Ce,Vb(Z,()=>w(Ce)))},re={setHorizontalScroll:Z=>{s.current&&(s.current.scrollLeft=Z)},setViewportHeight:Z=>{s.current&&(s.current.style.height=Z)},setRowCtrls:({rowCtrls:Z,useFlushSync:Ce})=>{const H=!!Ce&&a.current.length>0&&Z.length>0;a.current=Z,me(H)},setSpannedRowCtrls:(Z,Ce)=>{const H=!!Ce&&m.current.length>0&&Z.length>0;m.current=Z,Y(H)},setDomOrder:Z=>{D.current!=Z&&(D.current=Z,me(!1))},setContainerWidth:Z=>{r.current&&(r.current.style.width=Z)},setOffsetTop:Z=>{r.current&&(r.current.style.transform=`translateY(${Z})`)}};M.current=t.createBean(new bY(e)),M.current.setComp(re,r.current,o.current??void 0,s.current)}},[z,V]),U=I.useCallback(me=>{r.current=me,j()},[j]),$=I.useCallback(me=>{o.current=me,j()},[j]),Q=I.useCallback(me=>{s.current=me,j()},[j]),J=()=>Te.createElement("div",{className:k,ref:U,role:"rowgroup"},h.map(me=>Te.createElement(Z1,{rowCtrl:me,containerType:n.type,key:me.instanceId})));if(!F)return J();const be=()=>p&&Te.createElement("div",{className:_,ref:$,role:"rowgroup"},C.map(me=>Te.createElement(Z1,{rowCtrl:me,containerType:n.type,key:me.instanceId})));return Te.createElement("div",{className:A,ref:Q,role:"presentation"},J(),be())},O9=I.memo(N9),P9=()=>{const e=I.useContext(ws),{context:t,overlays:i}=e,[n,s]=I.useState(""),[r,o]=I.useState(0),[a,c]=I.useState(0),[h,f]=I.useState("0px"),[p,m]=I.useState("0px"),[b,C]=I.useState("100%"),[w,D]=I.useState("0px"),[M,A]=I.useState("0px"),[k,_]=I.useState("100%"),[F,N]=I.useState(!0),[z,V]=I.useState(!0),[j,U]=I.useState(null),[$,Q]=I.useState(""),[J,be]=I.useState(null),[me,Y]=I.useState("ag-layout-normal"),re=I.useRef();re.current||(re.current=new Sm(()=>Z.current));const Z=I.useRef(null),Ce=I.useRef(null),H=I.useRef(null),K=I.useRef(null),ie=I.useRef(null),te=I.useRef(null),se=I.useRef(null),ye=I.useRef([]),he=I.useRef([]);vh(" AG Grid Body ",Z),vh(" AG Pinned Top ",Ce),vh(" AG Sticky Top ",H),vh(" AG Middle ",te),vh(" AG Pinned Bottom ",se);const Ie=I.useCallback(ft=>{if(Z.current=ft,!ft){ye.current=t.destroyBeans(ye.current),he.current.forEach(_t=>_t()),he.current=[];return}if(!t)return;const kt=(_t,Zt)=>{_t.appendChild(Zt),he.current.push(()=>_t.removeChild(Zt))},di=_t=>{const Zt=t.createBean(new _t);return ye.current.push(Zt),Zt},fs=(_t,Zt,Ul)=>{kt(_t,document.createComment(Ul)),kt(_t,di(Zt).getGui())};fs(ft,DY," AG Fake Horizontal Scroll ");const As=i==null?void 0:i.getOverlayWrapperCompClass();As&&fs(ft,As," AG Overlay Wrapper "),ie.current&&fs(ie.current,TY," AG Fake Vertical Scroll ");const Wi={setRowAnimationCssOnBodyViewport:s,setColumnCount:_t=>{Z.current&&g3(Z.current,_t)},setRowCount:_t=>{Z.current&&d3(Z.current,_t)},setTopHeight:o,setBottomHeight:c,setStickyTopHeight:f,setStickyTopTop:m,setStickyTopWidth:C,setTopInvisible:N,setBottomInvisible:V,setColumnMovingCss:(_t,Zt)=>re.current.addOrRemoveCssClass(_t,Zt),updateLayoutClasses:Y,setAlwaysVerticalScrollClass:U,setPinnedTopBottomOverflowY:Q,setCellSelectableCss:(_t,Zt)=>be(Zt?_t:null),setBodyViewportWidth:_t=>{te.current&&(te.current.style.width=_t)},registerBodyViewportResizeListener:_t=>{if(te.current){const Zt=Ef(e,te.current,_t);he.current.push(()=>Zt())}},setStickyBottomHeight:D,setStickyBottomBottom:A,setStickyBottomWidth:_,setGridRootRole:_t=>ft.setAttribute("role",_t)},fi=t.createBean(new wY);ye.current.push(fi),fi.setComp(Wi,ft,te.current,Ce.current,se.current,H.current,K.current)},[]),xe=I.useMemo(()=>Jr("ag-root","ag-unselectable",me),[me]),Re=I.useMemo(()=>Jr("ag-body-viewport",n,me,j,J),[n,me,j,J]),Ne=I.useMemo(()=>Jr("ag-body",me),[me]),We=I.useMemo(()=>Jr("ag-floating-top",F?"ag-invisible":null,J),[J,F]),lt=I.useMemo(()=>Jr("ag-sticky-top",J),[J]),qe=I.useMemo(()=>Jr("ag-sticky-bottom",w==="0px"?"ag-invisible":null,J),[J,w]),Ue=I.useMemo(()=>Jr("ag-floating-bottom",z?"ag-invisible":null,J),[J,z]),Ve=I.useMemo(()=>({height:r,minHeight:r,overflowY:$}),[r,$]),Et=I.useMemo(()=>({height:h,top:p,width:b}),[h,p,b]),je=I.useMemo(()=>({height:w,bottom:M,width:k}),[w,M,k]),Ct=I.useMemo(()=>({height:a,minHeight:a,overflowY:$}),[a,$]),Qt=ft=>Te.createElement(O9,{name:ft,key:`${ft}-container`}),St=({section:ft,children:kt,className:di,style:fs})=>Te.createElement("div",{ref:ft,className:di,role:"presentation",style:fs},kt.map(Qt));return Te.createElement("div",{ref:Ie,className:xe},Te.createElement(x9,null),St({section:Ce,className:We,style:Ve,children:["topLeft","topCenter","topRight","topFullWidth"]}),Te.createElement("div",{className:Ne,ref:ie,role:"presentation"},St({section:te,className:Re,children:["left","center","right","fullWidth"]})),St({section:H,className:lt,style:Et,children:["stickyTopLeft","stickyTopCenter","stickyTopRight","stickyTopFullWidth"]}),St({section:K,className:qe,style:je,children:["stickyBottomLeft","stickyBottomCenter","stickyBottomRight","stickyBottomFullWidth"]}),St({section:se,className:Ue,style:Ct,children:["bottomLeft","bottomCenter","bottomRight","bottomFullWidth"]}))},F9=I.memo(P9),B9=(e,t)=>{const{children:i,eFocusableElement:n,onTabKeyDown:s,gridCtrl:r,forceFocusOutWhenTabGuardsAreEmpty:o,isEmpty:a}=e,{context:c}=I.useContext(ws),h=I.useRef(null),f=I.useRef(null),p=I.useRef(),m=M=>{const A=M==null?void 0:parseInt(M,10).toString();[h,f].forEach(k=>{var _,F;A===void 0?(_=k.current)==null||_.removeAttribute("tabindex"):(F=k.current)==null||F.setAttribute("tabindex",A)})};I.useImperativeHandle(t,()=>({forceFocusOutOfContainer(M){var A;(A=p.current)==null||A.forceFocusOutOfContainer(M)}}));const b=I.useCallback(()=>{const M=h.current,A=f.current;if(!M&&!A){p.current=c.destroyBean(p.current);return}if(M&&A){const k={setTabIndex:m};p.current=c.createBean(new t6({comp:k,eTopGuard:M,eBottomGuard:A,eFocusableElement:n,onTabKeyDown:s,forceFocusOutWhenTabGuardsAreEmpty:o,focusInnerElement:_=>r.focusInnerElement(_),isEmpty:a}))}},[]),C=I.useCallback(M=>{h.current=M,b()},[b]),w=I.useCallback(M=>{f.current=M,b()},[b]),D=M=>{const A=M==="top"?yw.TAB_GUARD_TOP:yw.TAB_GUARD_BOTTOM;return Te.createElement("div",{className:`${yw.TAB_GUARD} ${A}`,role:"presentation",ref:M==="top"?C:w})};return Te.createElement(Te.Fragment,null,D("top"),i,D("bottom"))},z9=I.forwardRef(B9),G9=I.memo(z9),H9=({context:e})=>{const[t,i]=I.useState(""),[n,s]=I.useState(""),[r,o]=I.useState(null),[a,c]=I.useState(null),[h,f]=I.useState(!1),[p,m]=I.useState(),b=I.useRef(),C=I.useRef(null),w=I.useRef(),[D,M]=I.useState(null),A=I.useRef(()=>{}),k=I.useRef(),_=I.useRef([]),F=I.useCallback(()=>{},[]),N=I.useMemo(()=>e.isDestroyed()?null:e.getBeans(),[e]);vh(" AG Grid ",C);const z=I.useCallback(J=>{if(C.current=J,b.current=J?e.createBean(new o6):e.destroyBean(b.current),!J||e.isDestroyed())return;const be=b.current;A.current=be.focusInnerElement.bind(be);const me={destroyGridUi:()=>{},setRtlClass:i,forceFocusOutOfContainer:Y=>{var re,Z;if(!Y&&((re=k.current)!=null&&re.isDisplayed())){k.current.forceFocusOutOfContainer(Y);return}(Z=w.current)==null||Z.forceFocusOutOfContainer(Y)},updateLayoutClasses:s,getFocusableContainers:()=>{var Z;const Y=[],re=(Z=C.current)==null?void 0:Z.querySelector(".ag-root");return re&&Y.push({getGui:()=>re}),_.current.forEach(Ce=>{Ce.isDisplayed()&&Y.push(Ce)}),Y},setCursor:o,setUserSelect:c};be.setComp(me,J,J),f(!0)},[]);I.useEffect(()=>{const J=b.current,be=C.current;if(!p||!N||!J||!D||!be)return;const me=[],{watermarkSelector:Y,paginationSelector:re,sideBarSelector:Z,statusBarSelector:Ce,gridHeaderDropZonesSelector:H}=J.getOptionalSelectors(),K=[];if(H){const te=e.createBean(new H.component),se=te.getGui();be.insertAdjacentElement("afterbegin",se),K.push(se),me.push(te)}if(Z){const te=e.createBean(new Z.component),se=te.getGui(),ye=D.querySelector(".ag-tab-guard-bottom");ye&&(ye.insertAdjacentElement("beforebegin",se),K.push(se)),me.push(te),_.current.push(te)}const ie=te=>{const se=e.createBean(new te),ye=se.getGui();return be.insertAdjacentElement("beforeend",ye),K.push(ye),me.push(se),se};if(Ce&&ie(Ce.component),re){const te=ie(re.component);k.current=te,_.current.push(te)}return Y&&ie(Y.component),()=>{e.destroyBeans(me),K.forEach(te=>{var se;(se=te.parentElement)==null||se.removeChild(te)})}},[p,D,N]);const V=I.useMemo(()=>Jr("ag-root-wrapper",t,n),[t,n]),j=I.useMemo(()=>Jr("ag-root-wrapper-body","ag-focus-managed",n),[n]),U=I.useMemo(()=>({userSelect:a??"",WebkitUserSelect:a??"",cursor:r??""}),[a,r]),$=I.useCallback(J=>{w.current=J,m(J!==null)},[]),Q=I.useCallback(()=>{var J;return!((J=b.current)!=null&&J.isFocusable())},[]);return Te.createElement("div",{ref:z,className:V,style:U,role:"presentation"},Te.createElement("div",{className:j,ref:M,role:"presentation"},h&&D&&N&&Te.createElement(ws.Provider,{value:N},Te.createElement(G9,{ref:$,eFocusableElement:D,onTabKeyDown:F,gridCtrl:b.current,forceFocusOutWhenTabGuardsAreEmpty:!0,isEmpty:Q},Te.createElement(F9,null)))))},j9=I.memo(H9),V9=class extends Be{wireBeans(e){this.ctrlsSvc=e.ctrlsSvc}areHeaderCellsRendered(){return this.ctrlsSvc.getHeaderRowContainerCtrls().every(e=>e.getAllCtrls().every(t=>t.areCellsRendered()))}},W9={gridOptions:void 0,modules:void 0,containerStyle:void 0,className:void 0,setGridApi:void 0,componentWrappingElement:void 0,maxComponentCreationTimeMs:void 0,children:void 0},UP=new Set(Object.keys(W9)),YP=e=>{var D;const t=I.useRef(),i=I.useRef(null),n=I.useRef(null),s=I.useRef([]),r=I.useRef([]),o=I.useRef(e),a=I.useRef(),c=I.useRef(),h=I.useRef(!1),[f,p]=I.useState(void 0),[,m]=I.useState(0),b=I.useCallback(M=>{if(i.current=M,!M){s.current.forEach($=>$()),s.current.length=0;return}const A=e.modules||[];n.current||(n.current=new u9(()=>m($=>$+1),e.componentWrappingElement,e.maxComponentCreationTimeMs),s.current.push(()=>{var $;($=n.current)==null||$.destroy(),n.current=null}));const k=X3(e.gridOptions,e,Object.keys(e).filter($=>!UP.has($))),_=()=>{if(h.current){const $=()=>{var J;return(J=a.current)!=null&&J.shouldQueueUpdates()?void 0:r.current.shift()};let Q=$();for(;Q;)Q(),Q=$()}},F=new $9(_);a.current=F;const N=new V9,z={providedBeanInstances:{frameworkCompWrapper:new Y9(n.current,k.reactiveCustomComponents??HZ("reactiveCustomComponents")??!0),renderStatus:N},modules:A,frameworkOverrides:F,setThemeOnGridDiv:!0},V=$=>{p($),$.createBean(N),s.current.push(()=>{$.destroy()}),$.getBean("ctrlsSvc").whenReady({addDestroyFunc:Q=>{s.current.push(Q)}},()=>{var J;if($.isDestroyed())return;const Q=t.current;Q&&((J=e.setGridApi)==null||J.call(e,Q))})},j=$=>{$.getBean("ctrlsSvc").whenReady({addDestroyFunc:Q=>{s.current.push(Q)}},()=>{r.current.forEach(Q=>Q()),r.current.length=0,h.current=!0})},U=new VZ;k.gridId??(k.gridId=c.current),t.current=U.create(M,k,V,j,z),s.current.push(()=>{t.current=void 0}),t.current&&(c.current=t.current.getGridId())},[]),C=I.useMemo(()=>({height:"100%",...e.containerStyle||{}}),[e.containerStyle]),w=I.useCallback(M=>{var A;h.current&&!((A=a.current)!=null&&A.shouldQueueUpdates())?M():r.current.push(M)},[]);return I.useEffect(()=>{const M=U9(o.current,e);o.current=e,w(()=>{t.current&&q3(M,t.current)})},[e]),Te.createElement("div",{style:C,className:e.className,ref:b},f&&!f.isDestroyed()?Te.createElement(j9,{context:f}):null,((D=n.current)==null?void 0:D.getPortals())??null)};function U9(e,t){const i={};return Object.keys(t).forEach(n=>{if(UP.has(n))return;const s=t[n];e[n]!==s&&(i[n]=s)}),i}var Y9=class extends WZ{constructor(e,t){super(),this.parent=e,this.reactiveCustomComponents=t}createWrapper(e,t){if(this.reactiveCustomComponents){const s=(r=>{switch(r){case"filter":return e9;case"floatingFilterComponent":return i9;case"dateComponent":return QZ;case"dragAndDropImageComponent":return JZ;case"loadingOverlayComponent":return s9;case"noRowsOverlayComponent":return o9;case"statusPanel":return a9;case"toolPanel":return l9;case"menuItem":return r9;case"cellRenderer":return qZ;case"innerHeaderComponent":return n9}})(t.name);if(s)return new s(e,this.parent,t)}else switch(t.name){case"filter":case"floatingFilterComponent":case"dateComponent":case"dragAndDropImageComponent":case"loadingOverlayComponent":case"noRowsOverlayComponent":case"statusPanel":case"toolPanel":case"menuItem":case"cellRenderer":uL();break}const i=!t.cellRenderer&&t.name!=="toolPanel";return new VP(e,this.parent,t,i)}},K9=I.forwardRef((e,t)=>{const i=I.useContext(ws),{registry:n,context:s,gos:r,rowModel:o}=i,[a,c]=I.useState(()=>new to),[h,f]=I.useState(()=>new to),[p,m]=I.useState(),[b,C]=I.useState(),w=I.useRef(),D=I.useRef(null),M=I.useRef(),A=I.useMemo(()=>f5(e.api.getGridId(),(p==null?void 0:p.rowModelType)??"clientSide"),[e]),k=I.useMemo(()=>a.toString()+" ag-details-row",[a]),_=I.useMemo(()=>h.toString()+" ag-details-grid",[h]);t&&I.useImperativeHandle(t,()=>({refresh(){var z;return((z=w.current)==null?void 0:z.refresh())??!1}})),e.template&&Wt(230);const F=I.useCallback(z=>{var U;if(D.current=z,!z){w.current=s.destroyBean(w.current),(U=M.current)==null||U.call(M);return}const V={addOrRemoveCssClass:($,Q)=>c(J=>J.setClass($,Q)),addOrRemoveDetailGridCssClass:($,Q)=>f(J=>J.setClass($,Q)),setDetailGrid:$=>m($),setRowData:$=>C($),getGui:()=>D.current},j=n.createDynamicBean("detailCellRendererCtrl",!0);if(j&&(s.createBean(j),j.init(V,e),w.current=j,r.get("detailRowAutoHeight"))){const $=()=>{if(D.current==null)return;const Q=D.current.clientHeight;Q!=null&&Q>0&&setTimeout(()=>{e.node.setRowHeight(Q),(_C(r)||XD(r))&&o.onRowHeightChanged()},0)};M.current=Ef(i,z,$),$()}},[]),N=I.useCallback(z=>{var V;(V=w.current)==null||V.registerDetailWithMaster(z)},[]);return Te.createElement("div",{className:k,ref:F},p&&Te.createElement(YP,{className:_,...p,modules:A,rowData:b,setGridApi:N}))}),$9=class extends bP{constructor(e){super("react"),this.processQueuedUpdates=e,this.queueUpdates=!1,this.renderingEngine="react",this.frameworkComponents={agGroupCellRenderer:U1,agGroupRowRenderer:U1,agDetailCellRenderer:K9},this.wrapIncoming=(t,i)=>i==="ensureVisible"?KZ(t):t()}frameworkComponent(e){return this.frameworkComponents[e]}isFrameworkComponent(e){if(!e)return!1;const t=e.prototype;return!(t&&"getGui"in t)}getLockOnRefresh(){this.queueUpdates=!0}releaseLockOnRefresh(){this.queueUpdates=!1,this.processQueuedUpdates()}shouldQueueUpdates(){return this.queueUpdates}runWhenReadyAsync(){return YZ()}},Z9=class extends I.Component{constructor(){super(...arguments),this.apiListeners=[],this.setGridApi=e=>{this.api=e,this.apiListeners.forEach(t=>t(e))}}registerApiListener(e){this.apiListeners.push(e)}componentWillUnmount(){this.apiListeners.length=0}render(){return Te.createElement(YP,{...this.props,setGridApi:this.setGridApi})}};function X9(){const[e,t]=I.useState([]),[i,n]=I.useState([]);I.useEffect(()=>{async function r(){try{const a=await(await fetch("https://hub.dataverse.org/api/installation/status")).json();t(a),n(a)}catch(o){console.error("Error fetching installation data:",o)}}r()},[]);const s=r=>{const o=r.api.getRenderedNodes(),a=o==null?void 0:o.map(c=>c.data);n(a||[])};return I.useEffect(()=>{},[i]),ve.jsxs(ve.Fragment,{children:[ve.jsxs(i3,{center:[51.505,-.09],zoom:1.5,scrollWheelZoom:!1,className:"h-[50vh]",children:[ve.jsx(r3,{attribution:"Dataverse-Hub",url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),i.map(r=>ve.jsx(n3,{position:[r.installation.latitude,r.installation.longitude],icon:ZW.divIcon({className:"custom-icon",html:`<div 
								style="background-color: ${r.status==="OK"?"green":"red"}; 
                          		width: 2rem;
								height: 2rem;
								display: block;
								left: -1rem;
								top: -1rem;
								position: relative;
								border-radius: 3rem 3rem 0;
								transform: rotate(45deg);
								border: 1px solid #FFFFFF
								"></div>`}),children:ve.jsx(s3,{children:ve.jsxs("div",{children:[ve.jsx("strong",{children:"ID:"})," ",r.installation.dvHubId,ve.jsx("br",{}),ve.jsx("strong",{children:"Name:"})," ",r.installation.name,ve.jsx("br",{}),ve.jsx("strong",{children:"Description:"})," ",r.installation.description,ve.jsx("br",{}),ve.jsx("strong",{children:"Hostname:"})," ",ve.jsx("a",{href:`http://${r.installation.hostname}`,target:"_blank",rel:"noopener noreferrer",children:r.installation.hostname}),ve.jsx("br",{}),ve.jsx("strong",{children:"Country:"})," ",r.installation.country,ve.jsx("br",{}),ve.jsx("strong",{children:"Continent:"})," ",r.installation.continent,ve.jsx("br",{}),ve.jsx("strong",{children:"Launch Year:"})," ",r.installation.launchYear,ve.jsx("br",{}),ve.jsx("strong",{children:"GDCC Member:"})," ",r.installation.gdccMember?"Yes":"No",ve.jsx("br",{}),ve.jsx("strong",{children:"DOI Authority:"})," ",r.installation.doiAuthority,ve.jsx("br",{}),ve.jsx("strong",{children:"Contact Email:"})," ",r.installation.contactEmail]})})},r.installation.dvHubId))]}),ve.jsx("div",{className:"ag-theme-quartz",style:{height:500},children:ve.jsx(Z9,{rowData:e,columnDefs:[{headerName:"Name",field:"installation.name",filter:!0},{headerName:"Hostname",field:"installation.hostname",filter:!0},{headerName:"Country",field:"installation.country",filter:!0},{headerName:"Continent",field:"installation.continent",filter:!0},{headerName:"Launch Year",field:"installation.launchYear",filter:!0},{headerName:"GDCC Member",field:"installation.gdccMember",filter:!0},{headerName:"Status",field:"status",filter:!0}],defaultColDef:{flex:1},domLayout:"autoHeight",animateRows:!1,onFilterChanged:s})})]})}var q9=Object.defineProperty,KP=(e,t)=>{for(var i in t)q9(e,i,{get:t[i],enumerable:!0})},Ee={};KP(Ee,{error:()=>ZP,errorOnce:()=>t8,log:()=>Q9,logGroup:()=>n8,reset:()=>i8,table:()=>J9,warn:()=>$P,warnOnce:()=>e8});var Up=new Set;function Q9(...e){console.log(...e)}function $P(e,...t){console.warn(`AG Charts - ${e}`,...t)}function ZP(e,...t){typeof e=="object"?console.error("AG Charts error",e,...t):console.error(`AG Charts - ${e}`,...t)}function J9(...e){console.table(...e)}function e8(e,...t){const i=`Logger.warn: ${e}`;Up.has(i)||($P(e,...t),Up.add(i))}function t8(e,...t){const i=`Logger.error: ${e}`;Up.has(i)||(ZP(e,...t),Up.add(i))}function i8(){Up.clear()}function n8(e,t){console.groupCollapsed(e);try{return t()}finally{console.groupEnd()}}var Sr={};KP(Sr,{detectChartDefinition:()=>l8,getAxisModule:()=>u8,getSeriesModule:()=>c8,hasModule:()=>o8,listModulesByType:()=>a8,register:()=>XP,registerMany:()=>s8,reset:()=>r8});var ab=(e=>(e.Axis="axis",e.Chart="chart",e.Preset="preset",e.Plugin="plugin",e.Series="series",e))(ab||{}),ou=new Map;function XP(e){const t=ou.get(e.name);if(t&&(t.enterprise||!e.enterprise))throw new Error(`AG Charts - Module '${e.name}' already registered`);ou.set(e.name,e)}function s8(e){for(const t of e)XP(t)}function r8(){ou.clear()}function o8(e){return ou.has(e)}function*a8(e){for(const t of ou.values())t.type===e&&(yield t)}function l8(e){for(const t of ou.values())if(h8(t)&&t.detect(e))return t;throw new Error("AG Charts - Unknown chart type; Check options are correctly structured and series types are specified")}function c8(e){const t=ou.get(e);if(f8(t))return t}function u8(e){const t=ou.get(e);if(d8(t))return t}function h8(e){return(e==null?void 0:e.type)==="chart"}function d8(e){return(e==null?void 0:e.type)==="axis"}function f8(e){return(e==null?void 0:e.type)==="series"}var hL=class{constructor(){this.events=new Map}on(e,t){var i;return this.events.has(e)||this.events.set(e,new Set),(i=this.events.get(e))==null||i.add(t),()=>this.off(e,t)}off(e,t){const i=this.events.get(e);i&&(i.delete(t),i.size===0&&this.events.delete(e))}emit(e,t){var i;(i=this.events.get(e))==null||i.forEach(n=>n(t))}clear(e){e?this.events.delete(e):this.events.clear()}};function OM(e,t="and",i=String,n=1/0){if(e.length===1)return i(e[0]);e=e.map(i);const s=e.pop();if(e.length>=n){const r=e.length-(n-1);return`${e.slice(0,n-1).join(", ")}, and ${r} more ${t} ${s}`}return`${e.join(", ")} ${t} ${s}`}function qP(e,t=1/0){if(typeof e=="number"){if(isNaN(e))return"NaN";if(e===1/0)return"Infinity";if(e===-1/0)return"-Infinity"}const i=JSON.stringify(e)??typeof e;return i.length>t?`${i.slice(0,t)}... (+${i.length-t} characters)`:i}function g8(e){let t=1;for(let i=0;i<e.length;i++)e.charCodeAt(i)===10&&t++;return t}function p8(e,t){if(e===t)return 0;const[i,n]=e.length<t.length?[e,t]:[t,e],s=i.length,r=n.length;let o=new Array(s+1).fill(0).map((c,h)=>h),a=new Array(s+1);for(let c=1;c<=r;c++){a[0]=c;for(let h=1;h<=s;h++){const f=n[c-1]===i[h-1]?0:1;a[h]=Math.min(o[h]+1,a[h-1]+1,o[h-1]+f)}[o,a]=[a,o]}return o[s]}var Sa={};typeof window<"u"?Sa.window=window:typeof global<"u"&&(Sa.window=global.window);typeof document<"u"?Sa.document=document:typeof global<"u"&&(Sa.document=global.document);function Ll(e){var t;return e?(t=Sa.document)==null?void 0:t[e]:Sa.document}function vi(e){var t;return e?(t=Sa.window)==null?void 0:t[e]:Sa.window}function m8(e){Sa.document=e}function y8(e){Sa.window=e}function Lt(e,t,i){const n=Ll().createElement(e);if(typeof t=="object"&&(i=t,t=void 0),t)for(const s of t.split(" "))n.classList.add(s);return i&&Object.assign(n.style,i),n}function Wn(e){return Ll().createElementNS("http://www.w3.org/2000/svg",e)}function v8(e,t){const i=Ll("body"),n=Lt("a",{display:"none"});n.href=e,n.download=t,i.appendChild(n),n.click(),setTimeout(()=>i.removeChild(n))}function b8(e){const t=vi("Option"),{style:i}=new t;return i.color=e,i.color||null}function Ep(e){return e!=null}function bt(e){return Array.isArray(e)}function QP(e){return typeof e=="boolean"}function kf(e){return e instanceof Date}function Dm(e){return kf(e)&&!isNaN(Number(e))}function C8(e){return e instanceof RegExp}function fu(e){return typeof e=="function"}function an(e){return typeof e=="object"&&e!==null&&!bt(e)}function ln(e){var t;return typeof e=="object"&&e!==null&&((t=e.constructor)==null?void 0:t.name)==="Object"}function Un(e){return typeof e=="string"}function io(e){return typeof e=="number"}function Vt(e){return Number.isFinite(e)}function x8(e){return typeof window<"u"&&e instanceof HTMLElement}function Lw(e,t){return Object.values(e).includes(t)}function S8(e){return typeof e=="symbol"}function JP(e){return Un(e)&&b8(e)!=null}var Oh=Symbol("description"),eF=Symbol("required"),Tw=class{constructor(e,t,i,n){this.message=e,this.path=t,this.required=i,this.unknown=n}toString(){return this.message}};function Eo(e,t,i=""){var c;if(!an(e)){const h=X1(i,e,"an object",!0);return{valid:null,errors:[new Tw(h,i,!0)]}}const n=[],s=new Set(Object.keys(e)),r=[],o={};function a(h){return bt(t)?`${i}[${h}]`:i?`${i}.${h}`:h}for(const h of Object.keys(t)){const f=t[h],p=e[h],m=f[eF];if(s.delete(h),typeof p>"u"&&(n.push(h),!m))continue;const b=a(h);if(fu(f)){const C={options:e,path:b};if(f(p,C))o[h]=((c=C.result)==null?void 0:c.valid)??p;else if(!C.result){const w=X1(b,p,f,m);r.push(new Tw(w,i,m))}C.result&&r.push(...C.result.errors)}else{const C=Eo(p,f,b);C.valid!=null&&(o[h]=C.valid),r.push(...C.errors)}}for(const h of s){if(typeof e[h]>"u")continue;const p=w8(h,a(h),n);r.push(new Tw(p,i,void 0,!0))}return{valid:o,errors:r}}function X1(e,t,i,n){const s=Un(i)?i:i[Oh],r=s?`; expecting ${s}`:"",o=e?`Option \`${e}\``:"Value";return n&&t==null?`${o} is required and has not been provided${r}, ignoring.`:`${o} cannot be set to \`${qP(t,50)}\`${r}, ignoring.`}function w8(e,t,i){const n=M8(e,i),s=n?`; Did you mean \`${n}\`? Ignoring.`:", ignoring.";return`Unknown option \`${t}\`${s}`}function M8(e,t,i=2){let n=1/0;const s=e.toLowerCase();return t.reduce((r,o)=>{const a=p8(s,o.toLowerCase());return n>a&&a<=i?(n=a,o):r},null)}function si(e,t){return Object.assign(fu(e)?(i,n)=>e(i,n):{...e},{[Oh]:t})}function nt(e){return Object.assign(fu(e)?(t,i)=>e(t,i):Lm(e),{[eF]:!0,[Oh]:e[Oh]})}var Lm=(e,t="an object")=>si((i,n)=>(n.result=Eo(i,e,n.path),!n.result.errors.some(s=>s.required&&s.path===n.path)),t),D8=(e,t="an object")=>si((i,n)=>(n.result=Eo(i,e,n.path),n.result.errors=n.result.errors.filter(s=>!s.unknown),!n.result.errors.some(s=>s.required&&s.path===n.path)),t),us=(...e)=>si((t,i)=>e.every(n=>{const s=n(t,i);return i.result&&!s&&delete i.result,s}),e.map(t=>t[Oh]).filter(Boolean).join(" and ")),qi=(...e)=>si((t,i)=>e.some(n=>{const s=n(t,i);return i.result&&!s&&delete i.result,s}),e.map(t=>t[Oh]).filter(Boolean).join(" or ")),Ub=e=>Vt(e)||Dm(e),L8=e=>kf(e)||(Vt(e)||Un(e))&&Dm(new Date(e)),wa=si(bt,"an array"),_e=si(QP,"a boolean"),oi=si(fu,"a function"),wt=si(JP,"a color string"),qd=si(L8,"a date"),Dr=si(Ep,"a defined value"),it=si(Vt,"a number"),Yp=si(an,"an object"),Fe=si(Un,"a string"),jC=(e,t=1/0)=>{let i;return t===1/0?i=`an array of at least ${e} items`:e===t?i=`an array of exactly ${e} items`:i=`an array of at least ${e} and no more than ${t} items`,si(n=>bt(n)&&n.length>=e&&n.length<=t,i)},tF=(e,t=!0)=>si(i=>Vt(i)&&(i>e||t&&i===e),`a number greater than ${t?"or equal to ":""}${e}`),T8=(e,t)=>si(i=>Vt(i)&&i>=e&&i<=t,`a number between ${e} and ${t} inclusive`),ke=tF(0),lb=tF(0,!1),Ni=T8(0,1),Kp=e=>si((t,{options:i})=>!Ub(t)||!Ub(i[e])||t<i[e],`the value to be less than \`${e}\``),PM=e=>si((t,{options:i})=>!Ub(t)||!Ub(i[e])||t>i[e],`the value to be greater than \`${e}\``);function vt(...e){an(e[0])&&(e=Object.values(e[0]));const t=OM(e,"or",i=>`'${i}'`);return si(i=>e.includes(i),`a keyword such as ${t}`)}var Ms=e=>si(t=>e===t,`the value ${JSON.stringify(e)}`),A8=(e,t)=>si(i=>i instanceof e,`an instance of ${e.name}`),Hi=(e,t)=>si((i,n)=>bt(i)&&i.every(s=>{const r=e(s,n);return delete n.result,r}),`${e[Oh]} array`),Ph=(e,t="an object array")=>si((i,n)=>{if(!bt(i))return!1;const s=[],r=[];for(let o=0;o<i.length;o++){const a=`${n.path}[${o}]`,c=Eo(i[o],e,a);r.push(...c.errors),c.errors.some(h=>h.required&&h.path===a)||s.push(c.valid)}return n.result={valid:s,errors:r},!0},t),dL=(e,t="an object")=>{const i=D8({type:nt(vt(...Object.keys(e)))});return si((n,s)=>{if(i(n,s)){const r=n.type,o={type:nt(Ms(r)),...e[r]},a=Lm(o)(n,s);if(s.result)for(const c of s.result.errors)c.message+=` (type="${r}")`;return a}return!1},t)},E8=Lm({color:wt,stop:Ni},""),R8=si(e=>{let t=-1/0;for(const i of e)if((i==null?void 0:i.stop)!=null){if(i.stop<t)return!1;t=i.stop}return!0},"color stops to be defined in ascending order"),fL=us(jC(2),us(Hi(E8),R8)),gL=vt("axis","item","series"),Aw=dL({gradient:{gradient:vt("linear","radial","conic"),bounds:gL,colorStops:nt(fL),rotation:it,reverse:_e}},"a gradient object with color stops"),js={stroke:wt,strokeWidth:ke,strokeOpacity:Ni},I8=Lm({type:nt(Ms("gradient")),gradient:nt(vt("linear","radial","conic")),bounds:nt(gL),colorStops:nt(qi(fL,us(jC(2),Hi(wt)))),rotation:nt(it),reverse:nt(_e)}),k8=Lm({type:nt(Ms("pattern")),pattern:nt(vt("vertical-lines","horizontal-lines","forward-slanted-lines","backward-slanted-lines","circles","squares","triangles","diamonds","stars","hearts","crosses")),width:nt(ke),height:nt(ke),fill:nt(wt),fillOpacity:nt(Ni),backgroundFill:nt(wt),backgroundFillOpacity:nt(Ni),padding:nt(ke),rotation:nt(it),stroke:nt(wt),strokeWidth:nt(ke),strokeOpacity:nt(Ni)}),_8={gradient:vt("linear","radial","conic"),bounds:gL,reverse:_e},N8={rotation:it,padding:ke},O8=dL({gradient:{..._8,colorStops:fL,rotation:it},pattern:{...N8,pattern:vt("vertical-lines","horizontal-lines","forward-slanted-lines","backward-slanted-lines","circles","squares","triangles","diamonds","stars","hearts","crosses"),width:ke,height:ke,fill:wt,fillOpacity:Ni,backgroundFill:wt,backgroundFillOpacity:Ni,...js}},"a color object"),pL=qi(wt,O8),oo={fill:pL,fillOpacity:Ni};oo.fillGradientDefaults=I8;oo.fillPatternDefaults=k8;var Ma={lineDash:Hi(ke),lineDashOffset:it},Tr={color:wt,fontFamily:Fe,fontSize:ke,fontStyle:vt("normal","italic","oblique"),fontWeight:qi(ke,vt("normal","bold","bolder","lighter"))};function Yb(e){return typeof e>"u"?[]:Array.isArray(e)?e:[e]}function P8(e){return Array.from(new Set(e))}function mL(e,t){return e.reduce((i,n)=>{const s=t(n);return i[s]??(i[s]=[]),i[s].push(n),i},{})}function va(e,t){if(e==null||t==null||e.length!==t.length)return!1;for(let i=0;i<e.length;i++)if(Array.isArray(e[i])&&Array.isArray(t[i])){if(!va(e[i],t[i]))return!1}else if(e[i]!==t[i])return!1;return!0}function ap(e,t,i=0){if(e.length===0)return[];const n=[];for(let s=0;s<t;s++)n.push(e.at((s+i)%e.length));return n}function F8(e,t){const i=new Map;return t.forEach((n,s)=>{i.set(n,s)}),e.sort((n,s)=>{const r=i.get(n)??1/0,o=i.get(s)??1/0;return r-o})}function iF(e,t,i){if(e>t)return;let n;for(;t>=e;){const s=Math.floor((t+e)/2);i(s)?(n=s,e=s+1):t=s-1}return n}function nF(e,t,i){if(e>t)return;let n;for(;t>=e;){const s=Math.floor((t+e)/2);i(s)?(n=s,t=s-1):e=s+1}return n}function B8(e,t,i){if(e>t)return;let n;for(;t>=e;){const s=Math.floor((t+e)/2),r=i(s);r==null?e=s+1:(n=r,t=s-1)}return n}function z8(e,t){const i=Math.max(e.length,t.length),n=new Set,s=new Set;for(let r=0;r<i;r++){const o=e[r],a=t[r];o!==a&&(s.has(a)?s.delete(a):a&&n.add(a),n.has(o)?n.delete(o):o&&s.add(o))}return{changed:n.size>0||s.size>0,added:n,removed:s}}function q1(e,t,i){const{leading:n=!0,trailing:s=!0}=i??{};let r,o,a=!1;function c(){s&&o?(r=setTimeout(c,t),e(...o)):a=!1,o=null}function h(...f){a?o=f:(a=!0,r=setTimeout(c,t),n?e(...f):o=f)}return Object.assign(h,{cancel(){clearTimeout(r),a=!1,o=null}})}function*Sh(...e){for(const t of e)yield*t}function G8(e){return e!=null&&typeof e=="object"&&Symbol.iterator in e?e:[e]}function lp(e){for(const t of e)return t;throw new Error("AG Charts - no first() value found")}function*_o(e){const t=[void 0,void 0];for(const i of Object.keys(e))t[0]=i,t[1]=e[i],yield t}function ut(e,t,i){return Math.min(i,Math.max(e,t))}function H8(e,t,i=1e-10){return e>=t[0]-i&&e<=t[1]+i}function fa(e,t,i=1e-10){return e===t||Math.abs(e-t)<i}function yL(e){return Math.sign(e)===-1||Object.is(e,-0)}function j8(e){return e%1===0}function Q1(e,t=2){const i=10**t;return Math.round(e*i)/i}function sF(e,t){return Math.floor(e%t+(e<0?Math.abs(t):0))}function vL(e){var s;if(Math.floor(e)===e)return 0;let t=String(e),i=0;if(e<1e-6||e>=1e21){let r;[t,r]=t.split("e"),r!=null&&(i=Number(r))}const n=((s=t.split(".")[1])==null?void 0:s.length)??0;return Math.max(n-i,0)}var rF=/^(?:(.)?([<>=^]))?([+\-( ])?([$€£¥₣₹#])?(0)?(\d+)?(,)?(?:\.(\d+))?(~)?([%a-z])?$/i,oF=/^((?:[^#]|#[^{])*)#{([^}]+)}(.*)$/;function V8(e){if(!Un(e))return!1;const t=oF.exec(e);return rF.test(t?t[2]:e)}function aF(e){let t,i;const n=oF.exec(e);n&&([,t,e,i]=n);const s=rF.exec(e);if(!s)throw new Error(`The number formatter is invalid: ${e}`);const[,r,o,a,c,h,f,p,m,b,C]=s;return{fill:r,align:o,sign:a,symbol:c,zero:h,width:parseInt(f),comma:p,precision:parseInt(m),trim:!!b,type:C,prefix:t,suffix:i}}function lF(e){const t=typeof e=="string"?aF(e):e,{fill:i,align:n,sign:s="-",symbol:r,zero:o,width:a,comma:c,type:h,prefix:f="",suffix:p="",precision:m}=t;let{trim:b}=t;const C=m==null||isNaN(m);let w;if(!h)w=eo.g,b=!0;else if(h in eo&&h in Qd)w=C?Qd[h]:eo[h];else if(h in eo)w=eo[h];else if(h in Qd)w=Qd[h];else throw new Error(`The number formatter type is invalid: ${h}`);let D;return C?D=h?6:12:D=m,M=>{let A=w(M,D);return b&&(A=Y8(A)),c&&(A=K8(A,c)),A=Z8(M,A,s),r&&r!=="#"&&(A=`${r}${A}`),r==="#"&&h==="x"&&(A=`0x${A}`),h==="s"&&(A=`${A}${$8(M)}`),(h==="%"||h==="p")&&(A=`${A}%`),a!=null&&!isNaN(a)&&(A=X8(A,a,i??o,n)),A=`${f}${A}${p}`,A}}var Qd={b:e=>Pv(e).toString(2),c:e=>String.fromCharCode(e),d:e=>Math.round(Math.abs(e)).toFixed(0),o:e=>Pv(e).toString(8),x:e=>Pv(e).toString(16),X:e=>Qd.x(e).toUpperCase(),n:e=>Qd.d(e),"%":e=>`${Pv(e*100).toFixed(0)}`},eo={e:(e,t)=>Math.abs(e).toExponential(t),E:(e,t)=>eo.e(e,t).toUpperCase(),f:(e,t)=>Math.abs(e).toFixed(t),F:(e,t)=>eo.f(e,t).toUpperCase(),g:(e,t)=>{if(e===0)return"0";const i=Math.abs(e),n=Math.floor(Math.log10(i));return n>=-4&&n<t?i.toFixed(t-1-n):i.toExponential(t-1)},G:(e,t)=>eo.g(e,t).toUpperCase(),n:(e,t)=>eo.g(e,t),p:(e,t)=>eo.r(e*100,t),r:(e,t)=>{if(e===0)return"0";const i=Math.abs(e),s=Math.floor(Math.log10(i))-(t-1);if(s<=0)return i.toFixed(-s);const r=10**s;return(Math.round(i/r)*r).toFixed()},s:(e,t)=>{const i=hF(e);return eo.r(e/10**i,t)},"%":(e,t)=>eo.f(e*100,t)},cF=-24,uF=24,W8={[cF]:"y",[-21]:"z",[-18]:"a",[-15]:"f",[-12]:"p",[-9]:"n",[-6]:"µ",[-3]:"m",0:"",3:"k",6:"M",9:"G",12:"T",15:"P",18:"E",21:"Z",[uF]:"Y"},U8="−";function Pv(e){return Math.floor(Math.abs(e))}function Y8(e){return e.replace(/\.0+$/,"").replace(/(\.[1-9])0+$/,"$1")}function K8(e,t){let i=e.indexOf(".");i<0&&(i=e.length);const n=e.substring(0,i).split(""),s=e.substring(i);for(let r=n.length-3;r>0;r-=3)n.splice(r,0,t);return`${n.join("")}${s}`}function $8(e){return W8[hF(e)]}function hF(e){return ut(cF,e?Math.floor(Math.log10(Math.abs(e))/3)*3:0,uF)}function Z8(e,t,i=""){if(i==="(")return e>=0?t:`(${t})`;const n=i==="+"?"+":"";return`${e>=0?n:U8}${t}`}function X8(e,t,i=" ",n=">"){let s=e;if(n===">"||!n)s=s.padStart(t,i);else if(n==="<")s=s.padEnd(t,i);else if(n==="^"){const r=Math.max(0,t-s.length),o=Math.ceil(r/2),a=Math.floor(r/2);s=s.padStart(o+s.length,i),s=s.padEnd(a+s.length,i)}return s}var dF=Object.defineProperty,q8=Object.getOwnPropertyDescriptor,jo=(e,t)=>{for(var i in t)dF(e,i,{get:t[i],enumerable:!0})},R=(e,t,i,n)=>{for(var s=n>1?void 0:n?q8(t,i):t,r=e.length-1,o;r>=0;r--)(o=e[r])&&(s=(n?o(t,i,s):o(s))||s);return n&&s&&dF(t,i,s),s},VC=class{constructor(){this.destroyFns=[]}destroy(){for(const e of this.destroyFns)e()}},Q8=class{constructor(){this.modules=[],this.dependencies=new Map,this.modulesByOptionKey=new Map}register(...e){for(const t of e){this.registerDependencies(t);const i=this.modules.find(n=>t.type===n.type&&("optionsKey"in t&&"optionsKey"in n?t.optionsKey===n.optionsKey:!0)&&t.identifier===n.identifier);if(i){if(t.packageType==="enterprise"&&i.packageType==="community"){const n=this.modules.indexOf(i);this.modules.splice(n,1,t),"optionsKey"in t&&this.modulesByOptionKey.set(t.optionsKey,t)}}else this.modules.push(t),"optionsKey"in t&&this.modulesByOptionKey.set(t.optionsKey,t)}}hasEnterpriseModules(){return this.modules.some(e=>e.packageType==="enterprise")}*byType(...e){const t=new Set,i=this.modules.filter(r=>e.includes(r.type)),n=r=>{const o=this.dependencies.get(r);return(o==null?void 0:o.flatMap(n).concat(o))??[]},s=[];for(const r of i){const o="optionsKey"in r?r.optionsKey:r.contextKey;if(!t.has(o)){for(const a of n(o)){if(t.has(a))continue;const c=this.modulesByOptionKey.get(a);if(!c){s.push(a);continue}e.includes(c.type)&&(yield c,t.add(a))}yield r,t.add(o)}}if(s.length>0)throw new Error(`Could not resolve module dependencies: ${s}`)}registerDependencies(e){if(e.dependencies==null||e.dependencies.length===0)return;const t="optionsKey"in e?e.optionsKey:e.contextKey;this.dependencies.set(t,e.dependencies)}},ba=new Q8,WC={containsPoint:J8,isEmpty:e7,normalize:t7};function J8(e,t,i){return t>=e.x&&t<=e.x+e.width&&i>=e.y&&i<=e.y+e.height}function e7(e){return e==null||e.height===0||e.width===0||isNaN(e.height)||isNaN(e.width)}function t7(e){let{x:t,y:i,width:n,height:s}=e;return(n==null||n>0)&&(s==null||s>0)?e:(t!=null&&n!=null&&n<0&&(n=-n,t=t-n),i!=null&&s!=null&&s<0&&(s=-s,i=i-s),{x:t,y:i,width:n,height:s})}var UC=Symbol("interpolate"),Kb=e=>e[UC]!=null;function YC(e,t,i,n=1/0){const s={nearest:void 0,distanceSquared:n};for(const r of i){const o=r.distanceSquared(e,t);if(o===0)return{nearest:r,distanceSquared:0};o<s.distanceSquared&&(s.nearest=r,s.distanceSquared=o)}return s}function i7(e,t,i,n=1/0){var a;const{x:s=e,y:r=t}=((a=i.transformPoint)==null?void 0:a.call(i,e,t))??{},o={nearest:void 0,distanceSquared:n};for(const c of i.children){const{nearest:h,distanceSquared:f}=c.nearestSquared(s,r,o.distanceSquared);if(f===0)return{nearest:h,distanceSquared:f};f<o.distanceSquared&&(o.nearest=h,o.distanceSquared=f)}return o}var $p=class Kd{constructor(t,i,n,s){this.x=t,this.y=i,this.width=n,this.height=s}static fromDOMRect({x:t,y:i,width:n,height:s}){return new Kd(t,i,n,s)}static merge(t){let i=1/0,n=1/0,s=-1/0,r=-1/0;for(const o of t)o.x<i&&(i=o.x),o.y<n&&(n=o.y),o.x+o.width>s&&(s=o.x+o.width),o.y+o.height>r&&(r=o.y+o.height);return new Kd(i,n,s-i,r-n)}static nearestBox(t,i,n){return YC(t,i,n)}toDOMRect(){return{x:this.x,y:this.y,width:this.width,height:this.height,top:this.y,left:this.x,right:this.x+this.width,bottom:this.y+this.height,toJSON(){return{}}}}clone(){const{x:t,y:i,width:n,height:s}=this;return new Kd(t,i,n,s)}equals(t){return this.x===t.x&&this.y===t.y&&this.width===t.width&&this.height===t.height}containsPoint(t,i){return WC.containsPoint(this,t,i)}intersection(t){if(!this.collidesBBox(t))return;const i=ut(t.x,this.x,t.x+t.width),n=ut(t.y,this.y,t.y+t.height),s=ut(t.x,this.x+this.width,t.x+t.width),r=ut(t.y,this.y+this.height,t.y+t.height);return new Kd(i,n,s-i,r-n)}collidesBBox(t){return this.x<t.x+t.width&&this.x+this.width>t.x&&this.y<t.y+t.height&&this.y+this.height>t.y}computeCenter(){return{x:this.x+this.width/2,y:this.y+this.height/2}}isFinite(){return Number.isFinite(this.x)&&Number.isFinite(this.y)&&Number.isFinite(this.width)&&Number.isFinite(this.height)}distanceSquared(t,i){if(this.containsPoint(t,i))return 0;const n=t-ut(this.x,t,this.x+this.width),s=i-ut(this.y,i,this.y+this.height);return n*n+s*s}shrink(t,i){if(typeof t=="number")this.applyMargin(t,i);else for(const n of Object.keys(t)){const s=t[n];typeof s=="number"&&this.applyMargin(s,n)}return this.width<0&&(this.width=0),this.height<0&&(this.height=0),this}grow(t,i){if(typeof t=="number")this.applyMargin(-t,i);else for(const n of Object.keys(t)){const s=t[n];typeof s=="number"&&this.applyMargin(-s,n)}return this}applyMargin(t,i){switch(i){case"top":this.y+=t;case"bottom":this.height-=t;break;case"left":this.x+=t;case"right":this.width-=t;break;case"vertical":this.y+=t,this.height-=t*2;break;case"horizontal":this.x+=t,this.width-=t*2;break;case void 0:this.x+=t,this.y+=t,this.width-=t*2,this.height-=t*2;break}}translate(t,i){return this.x+=t,this.y+=i,this}[UC](t,i){return new Kd(this.x*(1-i)+t.x*i,this.y*(1-i)+t.y*i,this.width*(1-i)+t.width*i,this.height*(1-i)+t.height*i)}};$p.zero=Object.freeze(new $p(0,0,0,0));$p.NaN=Object.freeze(new $p(NaN,NaN,NaN,NaN));var Ge=$p,n7=2e3,J1=Date.now(),s7=()=>{const e=Date.now()-J1;if(e>n7){const t=(Math.floor(e/100)/10).toFixed(1);Ee.log(`**** ${t}s since last log message ****`)}J1=Date.now()},$t={create(...e){return Object.assign((...i)=>{$t.check(...e)&&(typeof i[0]=="function"&&(i=Yb(i[0]())),s7(),Ee.log(...i))},{check:()=>$t.check(...e),group:(i,n)=>$t.check(...e)?Ee.logGroup(i,n):n()})},check(...e){return e.length===0&&e.push(!0),Yb(vi("agChartsDebug")).some(i=>e.includes(i))},inDevelopmentMode(e){if($t.check("dev"))return e()}};function fF({context:e,pixelRatio:t,width:i,height:n}){e.save(),e.resetTransform(),e.clearRect(0,0,Math.ceil(i*t),Math.ceil(n*t)),e.restore()}function gF(e){if($t.check("canvas")){const t=e.save.bind(e),i=e.restore.bind(e);let n=0;Object.assign(e,{save(){t(),n++},restore(){if(n===0)throw new Error("AG Charts - Unable to restore() past depth 0");i(),n--},verifyDepthZero(){if(n!==0)throw new Error(`AG Charts - Save/restore depth is non-zero: ${n}`)}})}}function ek(e,t,i){return[Math.floor(e*i),Math.floor(t*i)]}var bL=class{constructor(e){const{width:t,height:i,pixelRatio:n,willReadFrequently:s=!1}=e;this.width=t,this.height=i,this.pixelRatio=n;const[r,o]=ek(t,i,n);this.canvas=new OffscreenCanvas(r,o),this.context=this.canvas.getContext("2d",{willReadFrequently:s}),this.context.setTransform(n,0,0,n,0,0),gF(this.context)}drawImage(e,t=0,i=0){return e.drawImage(this.canvas,t,i)}transferToImageBitmap(){return this.canvas.transferToImageBitmap()}resize(e,t,i){if(!(e>0&&t>0))return;const{canvas:n,context:s}=this;if(e!==this.width||t!==this.height||i!==this.pixelRatio){const[r,o]=ek(e,t,i);n.width=r,n.height=o}s.setTransform(i,0,0,i,0,0),this.width=e,this.height=t,this.pixelRatio=i}clear(){fF(this)}destroy(){this.canvas.width=0,this.canvas.height=0,this.context.clearRect(0,0,0,0),this.canvas=null,this.context=null,Object.freeze(this)}},FM=new Map;function r7(){FM.clear()}function Er(e){const t=e.constructor,i=Object.hasOwn(t,"className")?t.className:t.name;if(!i)throw new Error(`The ${t} is missing the 'className' property.`);const n=(FM.get(i)??0)+1;return FM.set(i,n),`${i}-${n}`}function BM(){var e;return((e=crypto.randomUUID)==null?void 0:e.call(crypto))??o7()}function o7(){const e=new Uint8Array(16);crypto.getRandomValues(e),e[6]=e[6]&15|64,e[8]=e[8]&63|128;let t="";for(let i=0;i<e.length;i++)(i===4||i===6||i===8||i===10)&&(t+="-"),t+=e[i].toString(16).padStart(2,"0");return t}function He(e){return function(t,i){const n=`__${i}`;t[i]||a7(t,i,n,e)}}function a7(e,t,i,n){const{type:s="normal",changeCb:r,convertor:o,checkDirtyOnAssignment:a=!1}=n??{},c={changeCb:r,checkDirtyOnAssignment:a,convertor:o};let h;switch(s){case"normal":h=h7(i,c);break;case"transform":h=d7(i);break;case"path":h=f7(i);break}h=u7(i,c7(l7(h,c),c),c),Object.defineProperty(e,t,{set:h,get:function(){return this[i]},enumerable:!0,configurable:!0})}function l7(e,t){const{convertor:i}=t;return i?function(n){e.call(this,i(n))}:e}var KC=Symbol("no-change");function c7(e,t){const{changeCb:i}=t;return i?function(n){const s=e.call(this,n);return s!==KC&&i.call(this,this),s}:e}function u7(e,t,i){const{checkDirtyOnAssignment:n}=i;return n?function(s){const r=t.call(this,s);return(s==null?void 0:s._dirty)===!0&&this.markDirty(e),r}:t}function h7(e,t){const{changeCb:i}=t;return function(n){const s=this[e];return n!==s?(this[e]=n,this.markDirty(e),i==null||i(this),n):KC}}function d7(e){return function(t){const i=this[e];return t!==i?(this[e]=t,this.markDirtyTransform(),t):KC}}function f7(e){return function(t){const i=this[e];return t!==i?(this[e]=t,this._dirtyPath||(this._dirtyPath=!0,this.markDirty(e)),t):KC}}var pF=(e=>(e[e.All=0]="All",e[e.None=1]="None",e))(pF||{}),Tm=class zM{constructor(t){this.serialNumber=zM._nextSerialNumber++,this.childNodeCounts={groups:0,nonGroups:0,thisComplexity:0,complexity:0},this.id=Er(this),this.pointerEvents=0,this._dirty=!0,this.dirtyZIndex=!1,this.isContainerNode=!1,this.visible=!0,this.zIndex=0,this.name=t==null?void 0:t.name,this.tag=(t==null?void 0:t.tag)??NaN,this.zIndex=(t==null?void 0:t.zIndex)??0,((t==null?void 0:t.debugDirty)??zM._debugEnabled)&&(this._debugDirtyProperties=new Map([["__first__",[]]]))}static toSVG(t,i,n){var o,a;const s=t==null?void 0:t.toSVG();if(s==null||!s.elements.length&&!((o=s.defs)!=null&&o.length))return;const r=Wn("svg");if(r.setAttribute("width",String(i)),r.setAttribute("height",String(n)),r.setAttribute("viewBox",`0 0 ${i} ${n}`),(a=s.defs)!=null&&a.length){const c=Wn("defs");c.append(...s.defs),r.append(c)}return r.append(...s.elements),r.outerHTML}static*extractBBoxes(t,i){for(const n of t)if(!i||n.visible&&!n.transitionOut){const s=n.getBBox();s&&(yield s)}}get datum(){return this._datum}set datum(t){this._datum!==t&&(this._previousDatum=this._datum,this._datum=t)}get previousDatum(){return this._previousDatum}get layerManager(){return this._layerManager}get dirty(){return this._dirty}closestDatum(){for(const{datum:t}of this.traverseUp(!0))if(t!=null)return t}preRender(t,i=1){this.childNodeCounts.groups=0,this.childNodeCounts.nonGroups=1,this.childNodeCounts.complexity=i,this.childNodeCounts.thisComplexity=i;for(const n of this.children()){const s=n.preRender(t);this.childNodeCounts.groups+=s.groups,this.childNodeCounts.nonGroups+=s.nonGroups,this.childNodeCounts.complexity+=s.complexity}return this.childNodeCounts}render(t){const{stats:i}=t;if(this._dirty=!1,this.debugDirtyProperties(),t.debugNodeSearch){const n=this.name??this.id;t.debugNodeSearch.some(s=>typeof s=="string"?s===n:s.test(n))&&(t.debugNodes[this.name??this.id]=this)}i&&(i.nodesRendered++,i.opsPerformed+=this.childNodeCounts.thisComplexity)}_setLayerManager(t){this._layerManager=t,this._debug=t==null?void 0:t.debug;for(const i of this.children())i._setLayerManager(t)}sortChildren(t){if(this.dirtyZIndex=!1,!this.childNodes)return;const i=[...this.childNodes].sort(t);this.childNodes.clear();for(const n of i)this.childNodes.add(n)}*traverseUp(t){let i=this;for(t&&(yield i);i=i.parentNode;)yield i}*children(){if(this.childNodes)for(const t of this.childNodes)yield t}*descendants(){for(const t of this.children())yield t,yield*t.descendants()}isLeaf(){var t;return!((t=this.childNodes)!=null&&t.size)}isRoot(){return!this.parentNode}append(t){var i;this.childNodes??(this.childNodes=new Set);for(const n of G8(t))(i=n.parentNode)==null||i.removeChild(n),this.childNodes.add(n),n.parentNode=this,n._setLayerManager(this.layerManager);this.invalidateCachedBBox(),this.dirtyZIndex=!0,this.markDirty()}appendChild(t){return this.append(t),t}removeChild(t){var i;if(!((i=this.childNodes)!=null&&i.delete(t)))throw new Error(`AG Charts - internal error, unknown child node ${t.name??t.id} in $${this.name??this.id}`);delete t.parentNode,t._setLayerManager(),this.invalidateCachedBBox(),this.dirtyZIndex=!0,this.markDirty()}remove(){var t;(t=this.parentNode)==null||t.removeChild(this)}clear(){var t;for(const i of this.children())delete i.parentNode,i._setLayerManager();(t=this.childNodes)==null||t.clear(),this.invalidateCachedBBox()}destroy(){var t;(t=this.parentNode)==null||t.removeChild(this)}setProperties(t,i){if(i)for(const n of i)this[n]=t[n];else Object.assign(this,t);return this}containsPoint(t,i){return!1}pickNode(t,i){if(!(!this.visible||this.pointerEvents===1||!this.containsPoint(t,i))){if(this.childNodes!=null&&this.childNodes.size!==0){const n=[...this.children()];for(let s=n.length-1;s>=0;s--){const r=n[s].pickNode(t,i);if(r)return r}}else if(!this.isContainerNode)return this}}pickNodes(t,i,n=[]){if(!this.visible||this.pointerEvents===1||!this.containsPoint(t,i))return n;this.isContainerNode||n.push(this);for(const s of this.children())s.pickNodes(t,i,n);return n}invalidateCachedBBox(){var t;this.cachedBBox!=null&&(this.cachedBBox=void 0,(t=this.parentNode)==null||t.invalidateCachedBBox())}getBBox(){return this.cachedBBox==null&&(this.cachedBBox=Object.freeze(this.computeBBox())),this.cachedBBox}computeBBox(){}markDirty(t){const{_dirty:i}=this;t!=null&&this._debugDirtyProperties&&this.markDebugProperties(t),!(this.cachedBBox==null&&i)&&(this.invalidateCachedBBox(),this._dirty=!0,this.parentNode&&this.parentNode.markDirty())}markClean(){if(this._dirty){this._dirty=!1,this.debugDirtyProperties();for(const t of this.children())t.markClean()}}markDebugProperties(t){var s,r,o;const i=((s=this._debugDirtyProperties)==null?void 0:s.get(t))??[],n=((r=new Error().stack)==null?void 0:r.split(`
`).filter(a=>a!=="Error"&&!a.includes(".markDebugProperties")&&!a.includes(".markDirty")&&!a.includes("Object.assign ")&&!a.includes(`${this.constructor.name}.`)))??"unknown";i.push(n[0].replace(" at ","").trim()),(o=this._debugDirtyProperties)==null||o.set(t,i)}debugDirtyProperties(){this._debugDirtyProperties!=null&&(this._debugDirtyProperties.has("__first__")||this._debugDirtyProperties.forEach((t,i)=>{t.length>1&&(console.groupCollapsed(`Property changed multiple times before render: ${this.constructor.name}.${i} (${t.length}x)`),t.forEach(n=>console.log(n)),console.groupEnd())}),this._debugDirtyProperties.clear())}onZIndexChange(){const{parentNode:t}=this;t&&(t.dirtyZIndex=!0)}toSVG(){}};Tm._nextSerialNumber=0;Tm._debugEnabled=!1;R([He()],Tm.prototype,"visible",2);R([He({changeCb:e=>e.onZIndexChange()})],Tm.prototype,"zIndex",2);var Tl=Tm,$b=Symbol("BREAK"),lf="__decorator_config";function g7(e,t){CL(e,t).optional=!0}function CL(e,t){Object.getOwnPropertyDescriptor(e,lf)==null&&Object.defineProperty(e,lf,{value:{}});const i=e[lf],n=t.toString();if(typeof i[n]<"u")return i[n];const s=new WeakMap;i[n]={setters:[],getters:[],observers:[],valuesMap:s};const r=Object.getOwnPropertyDescriptor(e,t),o=r==null?void 0:r.set,a=r==null?void 0:r.get;return Object.defineProperty(e,t,{set:function(f){const{setters:p,observers:m}=i[n];let b;p.some(C=>C.length>2)&&(b=a?a.call(this):s.get(this));for(const C of p)if(f=C(this,t,f,b),f===$b)return;o?o.call(this,f):s.set(this,f);for(const C of m)C(this,f,b)},get:function(){let f=a?a.call(this):s.get(this);for(const p of i[n].getters)if(f=p(this,t,f),f===$b)return;return f},enumerable:!0,configurable:!1}),i[n]}function au(e,t,i){return(n,s)=>{const r=CL(n,s);r.setters.push(e),t&&r.getters.unshift(t),i&&Object.assign(r,i)}}function mF(e){return(t,i)=>{CL(t,i).observers.push(e)}}function Am(e){return typeof e<"u"&&lf in e}function eu(e){const t=new Set;for(;Am(e);)t.add(e==null?void 0:e[lf]),e=Object.getPrototypeOf(e);return Array.from(t).flatMap(i=>Object.keys(i))}function yF(e){return eu(e).reduce((t,i)=>(t[i]=e[i]??null,t),{})}function p7(e,t){const i=t.toString();for(;Am(e);){const n=e[lf];if(Object.hasOwn(n,i))return n[i];e=Object.getPrototypeOf(e)}}function Da(e,t){return Array.isArray(e)?!Array.isArray(t)||e.length!==t.length?!1:e.every((i,n)=>Da(i,t[n])):ln(e)?ln(t)?xL(e,t,Da):!1:e===t}function xL(e,t,i){for(const n of Object.keys(t))if(!(n in e))return!1;for(const n of Object.keys(e))if(!(n in t)||!i(e[n],t[n]))return!1;return!0}function Pt(...e){const t={};for(const i of e){if(!an(i))continue;const n=Am(i)?eu(i):Object.keys(i);for(const s of n)ln(t[s])&&ln(i[s])?t[s]=Pt(t[s],i[s]):t[s]??(t[s]=i[s])}return t}function Zp(...e){const t={};for(const i of e){if(!an(i))continue;const n=Am(i)?eu(i):Object.keys(i);for(const s of n)ln(t[s])&&ln(i[s])?t[s]=Zp(t[s],i[s]):s in t||(t[s]??(t[s]=i[s]))}return t}function Zb(e,...t){return t&&bt(e)?e.map(i=>Pt(i,...t)):e}function vF(e,t){const i={};for(const[n,s]of _o(e))i[n]=t(s,n,e);return i}function lu(e,t){const i={...e};for(const n of t)delete i[n];return i}function pf(e,t){return(bt(t)?t:t.split(".")).reduce((n,s)=>n[s],e)}var SL=new Set(["__proto__","constructor","prototype"]);function wL(e,t,i){const n=bt(t)?t.slice():t.split("."),s=n.pop();if(n.some(o=>SL.has(o)))return;const r=n.reduce((o,a)=>o[a],e);return r[s]=i,r[s]}function GM(e,t,i){if(i===void 0)return t;for(const n of e){const s=i[n];s!==void 0&&(t[n]=s)}return t}function Eh(e){return e==null||typeof e!="object"||!ln(e)||(Object.freeze(e),Object.getOwnPropertyNames(e).forEach(t=>{const i=e[t];i!==null&&(typeof i=="object"||typeof i=="function")&&!Object.isFrozen(i)&&Eh(i)})),e}var no=Math.PI*2,cp=Math.PI/2;function Mi(e){return e%=no,e+=no,e%=no,e}function m7(e){return e%=no,e+=no,e!==no&&(e%=no),e}function Xp(e){return e%=no,e<-Math.PI?e+=no:e>=Math.PI&&(e-=no),e}function Uc(e,t,i){const n=Mi(e),s=Mi(t),r=Mi(i);return s<r?s<=n&&n<=r:s>r?s<=n||n<=r:!0}function Oi(e){return e/180*Math.PI}function y7(e){return e/Math.PI*180}function $C(e,t){return e=Mi(e),t=Mi(t),t-e+(e>t?no:0)}function bF(e){const t=Mi(e);return t<=cp?t/cp:t<=Math.PI?(Math.PI-t)/cp:t<=1.5*Math.PI?(t-Math.PI)/cp:(no-t)/cp}var eh=(e,t,i)=>e*(1-i)+t*i,Ew=e=>{const t=e<0?-1:1,i=Math.abs(e);return i<=.04045?e/12.92:t*((i+.055)/1.055)**2.4},Rw=e=>{const t=e<0?-1:1,i=Math.abs(e);return i>.0031308?t*(1.055*i**(1/2.4)-.055):12.92*e},CF=class Xt{constructor(t,i,n,s=1){this.r=ut(0,t||0,1),this.g=ut(0,i||0,1),this.b=ut(0,n||0,1),this.a=ut(0,s||0,1)}static validColorString(t){return t.indexOf("#")>=0?!!Xt.parseHex(t):t.indexOf("rgb")>=0?!!Xt.stringToRgba(t):Xt.nameToHex.has(t.toLowerCase())}static fromString(t){if(t.indexOf("#")>=0)return Xt.fromHexString(t);const i=Xt.nameToHex.get(t.toLowerCase());if(i)return Xt.fromHexString(i);if(t.indexOf("rgb")>=0)return Xt.fromRgbaString(t);throw new Error(`Invalid color string: '${t}'`)}static parseHex(t){t=t.replace(/ /g,"").slice(1);let i;switch(t.length){case 6:case 8:i=[];for(let n=0;n<t.length;n+=2)i.push(parseInt(`${t[n]}${t[n+1]}`,16));break;case 3:case 4:i=t.split("").map(n=>parseInt(n,16)).map(n=>n+n*16);break}if((i==null?void 0:i.length)>=3&&i.every(n=>n>=0))return i.length===3&&i.push(255),i}static fromHexString(t){const i=Xt.parseHex(t);if(i){const[n,s,r,o]=i;return new Xt(n/255,s/255,r/255,o/255)}throw new Error(`Malformed hexadecimal color string: '${t}'`)}static stringToRgba(t){let i=-1,n=-1;for(let a=0;a<t.length;a++){const c=t[a];if(i===-1&&c==="(")i=a;else if(c===")"){n=a;break}}if(i===-1||n===-1)return;const r=t.substring(i+1,n).split(","),o=[];for(let a=0;a<r.length;a++){const c=r[a];let h=parseFloat(c);if(!Number.isFinite(h))return;c.indexOf("%")>=0?(h=ut(0,h,100),h/=100):a===3?h=ut(0,h,1):(h=ut(0,h,255),h/=255),o.push(h)}return o}static fromRgbaString(t){const i=Xt.stringToRgba(t);if(i){if(i.length===3)return new Xt(i[0],i[1],i[2]);if(i.length===4)return new Xt(i[0],i[1],i[2],i[3])}throw new Error(`Malformed rgb/rgba color string: '${t}'`)}static fromArray(t){if(t.length===4)return new Xt(t[0],t[1],t[2],t[3]);if(t.length===3)return new Xt(t[0],t[1],t[2]);throw new Error("The given array should contain 3 or 4 color components (numbers).")}static fromHSB(t,i,n,s=1){const r=Xt.HSBtoRGB(t,i,n);return new Xt(r[0],r[1],r[2],s)}static fromHSL(t,i,n,s=1){const r=Xt.HSLtoRGB(t,i,n);return new Xt(r[0],r[1],r[2],s)}static fromOKLCH(t,i,n,s=1){const r=Xt.OKLCHtoRGB(t,i,n);return new Xt(r[0],r[1],r[2],s)}static padHex(t){return t.length===1?"0"+t:t}toHexString(){let t="#"+Xt.padHex(Math.round(this.r*255).toString(16))+Xt.padHex(Math.round(this.g*255).toString(16))+Xt.padHex(Math.round(this.b*255).toString(16));return this.a<1&&(t+=Xt.padHex(Math.round(this.a*255).toString(16))),t}toRgbaString(t=3){const i=[Math.round(this.r*255),Math.round(this.g*255),Math.round(this.b*255)],n=Math.pow(10,t);return this.a!==1?(i.push(Math.round(this.a*n)/n),`rgba(${i.join(", ")})`):`rgb(${i.join(", ")})`}toString(){return this.a===1?this.toHexString():this.toRgbaString()}toHSB(){return Xt.RGBtoHSB(this.r,this.g,this.b)}static RGBtoOKLCH(t,i,n){const s=Ew(t),r=Ew(i),o=Ew(n),a=Math.cbrt(.4122214708*s+.5363325363*r+.0514459929*o),c=Math.cbrt(.2119034982*s+.6806995451*r+.1073969566*o),h=Math.cbrt(.0883024619*s+.2817188376*r+.6299787005*o),f=.2104542553*a+.793617785*c-.0040720468*h,p=1.9779984951*a-2.428592205*c+.4505937099*h,m=.0259040371*a+.7827717662*c-.808675766*h,b=Math.atan2(m,p)*180/Math.PI,C=f,w=Math.hypot(p,m),D=b>=0?b:b+360;return[C,w,D]}static OKLCHtoRGB(t,i,n){const s=t,r=i*Math.cos(n*Math.PI/180),o=i*Math.sin(n*Math.PI/180),a=(s+.3963377774*r+.2158037573*o)**3,c=(s-.1055613458*r-.0638541728*o)**3,h=(s-.0894841775*r-1.291485548*o)**3,f=4.0767416621*a-3.3077115913*c+.2309699292*h,p=-1.2684380046*a+2.6097574011*c-.3413193965*h,m=-.0041960863*a-.7034186147*c+1.707614701*h,b=Rw(f),C=Rw(p),w=Rw(m);return[b,C,w]}static RGBtoHSL(t,i,n){const s=Math.min(t,i,n),r=Math.max(t,i,n),o=(r+s)/2;let a,c;if(r===s)a=0,c=0;else{const h=r-s;c=o>.5?h/(2-r-s):h/(r+s),r===t?a=(i-n)/h+(i<n?6:0):r===i?a=(n-t)/h+2:a=(t-i)/h+4,a*=360/6}return[a,c,o]}static HSLtoRGB(t,i,n){if(t=(t%360+360)%360,i===0)return[n,n,n];const s=n<.5?n*(1+i):n+i-n*i,r=2*n-s;function o(f){return f<0&&(f+=1),f>1&&(f-=1),f<1/6?r+(s-r)*6*f:f<1/2?s:f<2/3?r+(s-r)*(2/3-f)*6:r}const a=o(t/360+1/3),c=o(t/360),h=o(t/360-1/3);return[a,c,h]}static RGBtoHSB(t,i,n){const s=Math.min(t,i,n),r=Math.max(t,i,n),o=r===0?0:(r-s)/r;let a=0;if(s!==r){const c=r-s,h=(r-t)/c,f=(r-i)/c,p=(r-n)/c;t===r?a=p-f:i===r?a=2+h-p:a=4+f-h,a/=6,a<0&&(a=a+1)}return[a*360,o,r]}static HSBtoRGB(t,i,n){t=(t%360+360)%360/360;let s=0,r=0,o=0;if(i===0)s=r=o=n;else{const a=(t-Math.floor(t))*6,c=a-Math.floor(a),h=n*(1-i),f=n*(1-i*c),p=n*(1-i*(1-c));switch(a>>0){case 0:s=n,r=p,o=h;break;case 1:s=f,r=n,o=h;break;case 2:s=h,r=n,o=p;break;case 3:s=h,r=f,o=n;break;case 4:s=p,r=h,o=n;break;case 5:s=n,r=h,o=f;break}}return[s,r,o]}static mix(t,i,n){return new Xt(eh(t.r,i.r,n),eh(t.g,i.g,n),eh(t.b,i.b,n),eh(t.a,i.a,n))}static lighten(t,i){const n=Xt.RGBtoOKLCH(t.r,t.g,t.b);return Xt.fromOKLCH(ut(0,n[0]+i,1),n[1],n[2])}static darken(t,i){const n=Xt.RGBtoOKLCH(t.r,t.g,t.b);return Xt.fromOKLCH(ut(0,n[0]-i,1),n[1],n[2])}static interpolate(t,i){const n=1/(t.length-1),s=t.map(r=>Xt.RGBtoOKLCH(r.r,r.g,r.b));return Array.from({length:i},(r,o)=>{const a=o/(i-1),c=t.length<=2?0:Math.min(Math.floor(a*(t.length-1)),t.length-2),h=(a-c*n)/n,f=s[c],p=s[c+1];return Xt.fromOKLCH(eh(f[0],p[0],h),eh(f[1],p[1],h),eh(f[2],p[2],h))})}};CF.nameToHex=new Map([["aliceblue","#F0F8FF"],["antiquewhite","#FAEBD7"],["aqua","#00FFFF"],["aquamarine","#7FFFD4"],["azure","#F0FFFF"],["beige","#F5F5DC"],["bisque","#FFE4C4"],["black","#000000"],["blanchedalmond","#FFEBCD"],["blue","#0000FF"],["blueviolet","#8A2BE2"],["brown","#A52A2A"],["burlywood","#DEB887"],["cadetblue","#5F9EA0"],["chartreuse","#7FFF00"],["chocolate","#D2691E"],["coral","#FF7F50"],["cornflowerblue","#6495ED"],["cornsilk","#FFF8DC"],["crimson","#DC143C"],["cyan","#00FFFF"],["darkblue","#00008B"],["darkcyan","#008B8B"],["darkgoldenrod","#B8860B"],["darkgray","#A9A9A9"],["darkgreen","#006400"],["darkgrey","#A9A9A9"],["darkkhaki","#BDB76B"],["darkmagenta","#8B008B"],["darkolivegreen","#556B2F"],["darkorange","#FF8C00"],["darkorchid","#9932CC"],["darkred","#8B0000"],["darksalmon","#E9967A"],["darkseagreen","#8FBC8F"],["darkslateblue","#483D8B"],["darkslategray","#2F4F4F"],["darkslategrey","#2F4F4F"],["darkturquoise","#00CED1"],["darkviolet","#9400D3"],["deeppink","#FF1493"],["deepskyblue","#00BFFF"],["dimgray","#696969"],["dimgrey","#696969"],["dodgerblue","#1E90FF"],["firebrick","#B22222"],["floralwhite","#FFFAF0"],["forestgreen","#228B22"],["fuchsia","#FF00FF"],["gainsboro","#DCDCDC"],["ghostwhite","#F8F8FF"],["gold","#FFD700"],["goldenrod","#DAA520"],["gray","#808080"],["green","#008000"],["greenyellow","#ADFF2F"],["grey","#808080"],["honeydew","#F0FFF0"],["hotpink","#FF69B4"],["indianred","#CD5C5C"],["indigo","#4B0082"],["ivory","#FFFFF0"],["khaki","#F0E68C"],["lavender","#E6E6FA"],["lavenderblush","#FFF0F5"],["lawngreen","#7CFC00"],["lemonchiffon","#FFFACD"],["lightblue","#ADD8E6"],["lightcoral","#F08080"],["lightcyan","#E0FFFF"],["lightgoldenrodyellow","#FAFAD2"],["lightgray","#D3D3D3"],["lightgreen","#90EE90"],["lightgrey","#D3D3D3"],["lightpink","#FFB6C1"],["lightsalmon","#FFA07A"],["lightseagreen","#20B2AA"],["lightskyblue","#87CEFA"],["lightslategray","#778899"],["lightslategrey","#778899"],["lightsteelblue","#B0C4DE"],["lightyellow","#FFFFE0"],["lime","#00FF00"],["limegreen","#32CD32"],["linen","#FAF0E6"],["magenta","#FF00FF"],["maroon","#800000"],["mediumaquamarine","#66CDAA"],["mediumblue","#0000CD"],["mediumorchid","#BA55D3"],["mediumpurple","#9370DB"],["mediumseagreen","#3CB371"],["mediumslateblue","#7B68EE"],["mediumspringgreen","#00FA9A"],["mediumturquoise","#48D1CC"],["mediumvioletred","#C71585"],["midnightblue","#191970"],["mintcream","#F5FFFA"],["mistyrose","#FFE4E1"],["moccasin","#FFE4B5"],["navajowhite","#FFDEAD"],["navy","#000080"],["oldlace","#FDF5E6"],["olive","#808000"],["olivedrab","#6B8E23"],["orange","#FFA500"],["orangered","#FF4500"],["orchid","#DA70D6"],["palegoldenrod","#EEE8AA"],["palegreen","#98FB98"],["paleturquoise","#AFEEEE"],["palevioletred","#DB7093"],["papayawhip","#FFEFD5"],["peachpuff","#FFDAB9"],["peru","#CD853F"],["pink","#FFC0CB"],["plum","#DDA0DD"],["powderblue","#B0E0E6"],["purple","#800080"],["rebeccapurple","#663399"],["red","#FF0000"],["rosybrown","#BC8F8F"],["royalblue","#4169E1"],["saddlebrown","#8B4513"],["salmon","#FA8072"],["sandybrown","#F4A460"],["seagreen","#2E8B57"],["seashell","#FFF5EE"],["sienna","#A0522D"],["silver","#C0C0C0"],["skyblue","#87CEEB"],["slateblue","#6A5ACD"],["slategray","#708090"],["slategrey","#708090"],["snow","#FFFAFA"],["springgreen","#00FF7F"],["steelblue","#4682B4"],["tan","#D2B48C"],["teal","#008080"],["thistle","#D8BFD8"],["tomato","#FF6347"],["transparent","#00000000"],["turquoise","#40E0D0"],["violet","#EE82EE"],["wheat","#F5DEB3"],["white","#FFFFFF"],["whitesmoke","#F5F5F5"],["yellow","#FFFF00"],["yellowgreen","#9ACD32"]]);var ni=CF,ZC=class{ticks(e,t,i){}niceDomain(e,t=this.domain){return t}tickFormatter(e){}datumFormatter(e){}get bandwidth(){}get step(){}get inset(){}},_f=(e,t)=>{const i=Symbol(String(t));e[i]=void 0,Object.defineProperty(e,t,{get(){return this[i]},set(n){this[i]!==n&&(this[i]=n,this.invalid=!0)},enumerable:!0,configurable:!1})},tk=e=>{const t=ni.fromString(e),[i,n,s]=ni.RGBtoOKLCH(t.r,t.g,t.b);return{l:i,c:n,h:s,a:t.a}},Iw=1e-6,ik=e=>e.c<Iw||e.l<Iw||e.l>1-Iw,v7=(e,t,i)=>{i=ut(0,i,1);let n;if(ik(e))n=t.h;else if(ik(t))n=e.h;else{const a=e.h;let c=t.h;const h=t.h-e.h;h>180?c-=360:h<-180&&(c+=360),n=a*(1-i)+c*i}const s=e.c*(1-i)+t.c*i,r=e.l*(1-i)+t.l*i,o=e.a*(1-i)+t.a*i;return ni.fromOKLCH(r,s,n,o)},Nf=class extends ZC{constructor(){super(...arguments),this.type="color",this.invalid=!0,this.domain=[0,1],this.range=["red","blue"],this.parsedRange=this.range.map(tk)}update(){const{domain:e,range:t}=this;e.length<2&&(Ee.warnOnce("`colorDomain` should have at least 2 values."),e.length===0?e.push(0,1):e.length===1&&e.push(e[0]+1));for(let i=1;i<e.length;i++){const n=e[i-1],s=e[i];if(n>=s){Ee.warnOnce("`colorDomain` values should be supplied in ascending order."),e.sort((r,o)=>r-o);break}}if(t.length<e.length)for(let i=t.length;i<e.length;i++)t.push(t.length>0?t[0]:"black");this.parsedRange=this.range.map(tk)}normalizeDomains(...e){return{domain:e.flat(),animatable:!0}}toDomain(){}convert(e){this.refresh();const{domain:t,range:i,parsedRange:n}=this,s=t[0],r=t.at(-1),o=i[0],a=i[i.length-1];if(e<=s)return o;if(e>=r)return a;let c,h;if(t.length===2){const m=(e-s)/(r-s),b=1/(i.length-1);c=i.length<=2?0:Math.min(Math.floor(m*(i.length-1)),i.length-2),h=(m-c*b)/b}else{for(c=0;c<t.length-2&&!(e<t[c+1]);c++);const m=t[c],b=t[c+1];h=(e-m)/(b-m)}const f=n[c],p=n[c+1];return v7(f,p,h).toRgbaString()}invert(){}refresh(){this.invalid&&(this.invalid=!1,this.update(),this.invalid&&Ee.warnOnce("Expected update to not invalidate scale"))}};R([_f],Nf.prototype,"domain",2);R([_f],Nf.prototype,"range",2);var XC=class{constructor(e,t=[],i){this.colorSpace=e,this.stops=t,this.bbox=i,this._cache=void 0}createGradient(e,t,i){const n=this.bbox??t;if(isNaN(n.x)||isNaN(n.y))return;if(this._cache!=null&&this._cache.ctx===e&&this._cache.bbox.equals(n))return this._cache.gradient;const{stops:s,colorSpace:r}=this;if(s.length===0)return;if(s.length===1)return s[0].color;let o=this.createCanvasGradient(e,n,i);if(o==null)return;const a=r==="oklch",c=.05;let h=s[0];o.addColorStop(h.stop,h.color);for(let f=1;f<s.length;f+=1){const p=s[f];if(a){const m=new Nf;m.domain=[h.stop,p.stop],m.range=[h.color,p.color];for(let b=h.stop+c;b<p.stop;b+=c)o.addColorStop(b,m.convert(b))}o.addColorStop(p.stop,p.color),h=p}return"createPattern"in o&&(o=o.createPattern()),this._cache={ctx:e,bbox:n,gradient:o},o}toSvg(e){const t=this.bbox??e,i=this.createSvgGradient(t);return this.stops.forEach(({stop:n,color:s})=>{const r=Wn("stop");r.setAttribute("offset",`${n}`),r.setAttribute("stop-color",`${s}`),i.appendChild(r)}),i}},xF=class extends XC{constructor(e,t,i=0,n){super(e,t,n),this.angle=i}createCanvasGradient(e,t,i){const{angle:s}=this,r=Mi(Oi(s+-90)),o=(i==null?void 0:i.centerX)??t.x+t.width*.5,a=(i==null?void 0:i.centerY)??t.y+t.height*.5;return e.createConicGradient(r,o,a)}createSvgGradient(e){return Wn("linearGradient")}},SF=class extends XC{constructor(e,t,i=0,n){super(e,t,n),this.angle=i}getGradientPoints(e){const{angle:i}=this,n=Mi(Oi(i+90)),s=Math.cos(n),r=Math.sin(n),o=e.width,a=e.height,c=e.x+o*.5,h=e.y+a*.5,f=Math.sqrt(a*a+o*o)/2,p=Math.atan2(a,o);let m;n<Math.PI/2?m=n:n<Math.PI?m=Math.PI-n:n<1.5*Math.PI?m=n-Math.PI:m=2*Math.PI-n;const b=f*Math.abs(Math.cos(m-p));return{x0:c+s*b,y0:h+r*b,x1:c-s*b,y1:h-r*b}}createCanvasGradient(e,t){const{x0:i,y0:n,x1:s,y1:r}=this.getGradientPoints(t);return e.createLinearGradient(i,n,s,r)}createSvgGradient(e){const{x0:t,y0:i,x1:n,y1:s}=this.getGradientPoints(e),r=Wn("linearGradient");return r.setAttribute("x1",String(t)),r.setAttribute("y1",String(i)),r.setAttribute("x2",String(n)),r.setAttribute("y2",String(s)),r.setAttribute("gradientUnits","userSpaceOnUse"),r}},b7=class extends XC{constructor(e,t,i){super(e,t,i)}createCanvasGradient(e,t,i){const n=(i==null?void 0:i.centerX)??t.x+t.width*.5,s=(i==null?void 0:i.centerY)??t.y+t.height*.5,r=(i==null?void 0:i.innerRadius)??0,o=(i==null?void 0:i.outerRadius)??Math.hypot(t.width*.5,t.height*.5)/Math.SQRT2;return e.createRadialGradient(n,s,r,n,s,o)}createSvgGradient(e){const t=e.x+e.width*.5,i=e.y+e.height*.5,n=Wn("radialGradient");return n.setAttribute("cx",String(t)),n.setAttribute("cy",String(i)),n.setAttribute("r",String(Math.hypot(e.width*.5,e.height*.5)/Math.SQRT2)),n.setAttribute("gradientUnits","userSpaceOnUse"),n}},ht=class{handleUnknownProperties(e,t){}set(e){const{className:t=this.constructor.name}=this.constructor;if(typeof e!="object")return Ee.warn(`unable to set ${t} - expecting a properties object`),this;const i=new Set(Object.keys(e));for(const n of eu(this))if(i.has(n)){const s=e[n],r=this;if(La(r[n]))if(r[n]instanceof Em){const o=r[n].reset(s);o!=null?r[n]=o:Ee.warn(`unable to set [${n}] - expecting a properties array`)}else r[n].set(s);else ln(s)?r[n]=Zp(s,r[n]??{}):r[n]=s;i.delete(n)}this.handleUnknownProperties(i,e);for(const n of i)Ee.warn(`unable to set [${n}] in ${t} - property is unknown`);return this}isValid(e){return eu(this).every(t=>{const i=p7(this,t);if(i==null)return!0;const n=i.optional===!0||typeof this[t]<"u";return n||Ee.warnOnce(`${e??""}[${t}] is required.`),n})}toJson(){return eu(this).reduce((e,t)=>{const i=this[t];return e[t]=La(i)?i.toJson():i,e},{})}},Em=class wF extends Array{constructor(t,...i){super(i.length);const s=(r=>{var o,a;return!!((a=(o=r==null?void 0:r.prototype)==null?void 0:o.constructor)!=null&&a.name)})(t)?r=>new t().set(r):t;Object.defineProperty(this,"itemFactory",{value:s,enumerable:!1,configurable:!1}),this.set(i)}set(t){if(bt(t)){this.length=t.length;for(let i=0;i<t.length;i++)this[i]=this.itemFactory(t[i])}return this}reset(t){if(Array.isArray(t))return new wF(this.itemFactory,...t)}toJson(){return this.map(t=>{var i;return((i=t==null?void 0:t.toJson)==null?void 0:i.call(t))??t})}};function La(e){return e instanceof ht||e instanceof Em}function C7(e,t={}){const{optional:i=!1}=t;return au((n,s,r)=>{const o={...t,target:n,property:s};if(i&&typeof r>"u"||e(r,o))return La(n[s])&&!La(r)?(n[s].set(r),n[s]):r;const a=qP(r,50),c=String(s).replace(/^_*/,""),h=n.constructor.className??n.constructor.name.replace(/Properties$/,""),f=e.message?`; expecting ${Rm(e,o)}`:"";return Ee.warn(`Property [${c}] of [${h}] cannot be set to [${a}]${f}, ignoring.`),$b},void 0,{optional:i})}var P=()=>g7,gu=(...e)=>{const t=[];return li((i,n)=>(t.length=0,e.every(s=>{const r=s(i,n);return r||t.push(Rm(s,n)),r})),()=>t.filter(Boolean).join(" AND "))},ds=(...e)=>li((t,i)=>e.some(n=>n(t,i)),t=>e.map($7(t)).filter(Boolean).join(" OR ")),MF=ex(li((e,t)=>La(e)||an(e)&&La(t.target[t.property]),"a properties object")),x7=ex(li(e=>an(e),"an object")),DF=li(QP,"a boolean"),S7=li(fu,"a function"),LF=li(Un,"a string"),Rr=X7(li(Vt,"a number")),w7=li(e=>io(e)&&!isNaN(e),"a real number"),qC=li(e=>io(e)&&isNaN(e),"NaN"),ML=Rr.restrict({min:0}),M7=Rr.restrict({min:0,max:1}),DL=ds(Rr,qC),LL=Z7(li(bt,"an array")),kn=(e,t)=>li((i,n)=>bt(i)&&i.every(s=>e(s,n)),i=>{const n=Rm(LL,i)??"";return typeof t=="function"?`${n} of ${t(i)}`:t?`${n} of ${t}`:n}),Xb=e=>Vt(e)||Dm(e),QC=e=>li((t,i)=>!Xb(t)||!Xb(i.target[e])||t<i.target[e],`to be less than ${e}`),JC=e=>li((t,i)=>!Xb(t)||!Xb(i.target[e])||t>i.target[e],`to be greater than ${e}`),TL=li(Dm,"Date object"),AL=ds(TL,ML),TF="A color string can be in one of the following formats to be valid: #rgb, #rrggbb, rgb(r, g, b), rgba(r, g, b, a) or a CSS color name such as 'white', 'orange', 'cyan', etc",Ir=li(JP,`color string. ${TF}`),ka=ex(li(e=>an(e)&&e.type==="gradient","a color gradient object")),_a=ex(li(e=>an(e)&&e.type==="pattern","a color pattern object")),EL=li(kn(Ir),`color strings. ${TF}`),D7=kn(DF,"boolean values"),L7=kn(Rr,"numbers"),T7=kn(LF,"strings"),A7=li(kn(TL),"Date objects"),E7=li(kn(MF),"objects"),R7=ci(["butt","round","square"],"a line cap"),I7=ci(["round","bevel","miter"],"a line join"),k7=ci(["solid","dashed","dotted"],"a line style"),_7=li(kn(ML),"numbers specifying the length in pixels of alternating dashes and gaps, for example, [6, 3] means dashes with a length of 6 pixels with gaps between of 3 pixels."),N7=ci(["top","right","bottom","left"],"a position"),O7=ci(["normal","italic","oblique"],"a font style"),P7=ds(ci(["normal","bold","bolder","lighter"],"a font weight"),Rr.restrict({min:1,max:1e3})),F7=ci(["never","always","hyphenate","on-space"],"a text wrap strategy"),B7=ci(["left","center","right"],"a text align"),z7=ci(["top","middle","bottom"],"a vertical align"),G7=ci(["ellipsis","hide"],"an overflow strategy"),H7=ci(["horizontal","vertical"],"a direction"),j7=ci(["inside","outside"],"a placement"),V7=ds(ci(["exact","nearest"],"interaction range"),Rr),W7=ci(["top","bottom","left","right"]);function ci(e,t="a"){return li((i,n)=>{const s=e.find(r=>{const o=typeof r=="string"?r:r.value;return i===o});if(s==null)return!1;if(typeof s!="string"&&(s.deprecated===!0||s.deprecatedTo!=null)){const r=[`Property [%s] with value '${s.value}' is deprecated.`];s.deprecatedTo&&r.push(`Use ${s.deprecatedTo} instead.`),Ee.warnOnce(r.join(" "),n.property)}return!0},`${t} keyword such as ${K7(e)}`)}var U7=ds(gu(Rr.restrict({min:1}),QC("maxSpacing")),qC),Y7=ds(gu(Rr.restrict({min:1}),JC("minSpacing")),qC);function li(e,t){return e.message=t,e}function K7(e){const t=e.filter(n=>typeof n=="string"||n.undocumented!==!0).map(n=>`'${typeof n=="string"?n:n.value}'`);if(t.length===1)return t[0];const i=t.pop();return`${t.join(", ")} or ${i}`}function Rm(e,t){return fu(e.message)?e.message(t):e.message}function $7(e){return t=>Rm(t,e)}function Z7(e){return Object.assign(e,{restrict({length:t,minLength:i}={}){let n="an array";return io(i)&&i>0?n="a non-empty array":io(t)&&(n=`an array of length ${t}`),li(s=>bt(s)&&(io(t)?s.length===t:!0)&&(io(i)?s.length>=i:!0),n)}})}function X7(e){return Object.assign(e,{restrict({min:t,max:i}={}){const n=["a number"],s=io(t),r=io(i);return s&&r?n.push(`between ${t} and ${i} inclusive`):s?n.push(`greater than or equal to ${t}`):r&&n.push(`less than or equal to ${i}`),li(o=>Vt(o)&&(s?o>=t:!0)&&(r?o<=i:!0),n.join(" "))}})}function ex(e){return Object.assign(e,{restrict(t){return li(i=>i instanceof t,i=>Rm(e,i)??`an instance of ${t.name}`)}})}var RL=class extends ht{constructor(){super(...arguments),this.color="black"}};R([P()],RL.prototype,"stop",2);R([P()],RL.prototype,"color",2);function q7(e){let t;for(const i of e)if((i==null?void 0:i.stop)!=null){if(t!=null&&i.stop<t)return!1;t=i.stop}return!0}function AF(e){return e.flatMap((t,i)=>{var r;const{stop:n}=t,s=(r=e.at(i+1))==null?void 0:r.color;return s!=null?[t,{stop:n,color:s}]:[t]})}function Q7(e,t){const i=t==="discrete"?1:0,n=e.map((s,r,{length:o})=>({stop:(r+i)/(o-1+i),color:s}));return t==="discrete"?AF(n):n}function EF(e,t,i,n="continuous"){var C,w,D,M;const s=e.map(A=>typeof A=="string"?{color:A}:A);if(s.length===0)return Q7(t,n);if(!q7(s))return Ee.warnOnce("[fills] must have the stops defined in ascending order"),[];const r=Math.min(...i),o=Math.max(...i),a=n==="discrete",c=new Float64Array(s.length);let h=0,f=-1;for(let A=0;A<s.length;A+=1){const k=s[A];if(A>=f){f=s.length-1;for(let F=A+1;F<s.length;F+=1)if(((C=s[F])==null?void 0:C.stop)!=null){f=F;break}}let _=k==null?void 0:k.stop;if(_==null){const F=(w=s[h])==null?void 0:w.stop,N=(D=s[f])==null?void 0:D.stop,z=F??r,V=N??o,j=a&&F==null?1:0;_=z+(V-z)*(A-h+j)/(f-h+j)}else h=A;c[A]=Math.max(0,Math.min(1,(_-r)/(o-r)))}let p=(M=s.find(A=>A.color!=null))==null?void 0:M.color,m;const b=s.map((A,k)=>{let _=A==null?void 0:A.color;const F=c[k];return _!=null?p=_:p!=null?_=p:(m==null&&(m=new Nf,m.domain=[0,1],m.range=t),_=m.convert(F)),{stop:F,color:_}});return n==="discrete"?AF(b):b}function Rp(e,t,i,n){const s=e-i,r=t-n;return s*s+r*r}function Ip(e,t,i,n,s,r,o){if(i===s&&n===r)return Math.min(o,Rp(e,t,i,n));const a=s-i,c=r-n,h=Math.max(0,Math.min(1,((e-i)*a+(t-n)*c)/(a*a+c*c))),f=i+h*a,p=n+h*c;return Math.min(o,Rp(e,t,f,p))}function J7(e,t,i,n,s,r,o,a,c){a&&([o,r]=[r,o]);const h=Math.atan2(t-n,e-i);if(!Uc(h,r,o)){const p=i+Math.cos(r)*s,m=n+Math.sin(r)*s,b=i+Math.cos(r)*s,C=n+Math.sin(r)*s;return Math.min(c,Rp(e,t,p,m),Rp(e,t,b,C))}const f=s-Math.sqrt(Rp(e,t,i,n));return Math.min(c,f*f)}function eX(e,t){const i=-t/e;return e!==0&&i>=0&&i<=1?[i]:[]}function tX(e,t,i){if(e===0)return eX(t,i);const n=t*t-4*e*i,s=[];if(n===0){const r=-t/(2*e);r>=0&&r<=1&&s.push(r)}else if(n>0){const r=Math.sqrt(n),o=(-t-r)/(2*e),a=(-t+r)/(2*e);o>=0&&o<=1&&s.push(o),a>=0&&a<=1&&s.push(a)}return s}function iX(e,t,i,n){if(e===0)return tX(t,i,n);const s=t/e,r=i/e,o=n/e,a=(3*r-s*s)/9,c=(9*s*r-27*o-2*s*s*s)/54,h=a*a*a+c*c,f=1/3,p=[];if(h>=0){const m=Math.sqrt(h),b=Math.sign(c+m)*Math.pow(Math.abs(c+m),f),C=Math.sign(c-m)*Math.pow(Math.abs(c-m),f),w=Math.abs(Math.sqrt(3)*(b-C)/2),D=-.3333333333333333*s+(b+C);if(D>=0&&D<=1&&p.push(D),w===0){const M=-.3333333333333333*s-(b+C)/2;M>=0&&M<=1&&p.push(M)}}else{const m=Math.acos(c/Math.sqrt(-a*a*a)),b=f*s,C=2*Math.sqrt(-a),w=C*Math.cos(f*m)-b,D=C*Math.cos(f*(m+2*Math.PI))-b,M=C*Math.cos(f*(m+4*Math.PI))-b;w>=0&&w<=1&&p.push(w),D>=0&&D<=1&&p.push(D),M>=0&&M<=1&&p.push(M)}return p}function Jd(e,t,i,n,s,r,o,a){const c=(i-e)*(a-r)-(n-t)*(o-s);if(c===0)return 0;const h=((o-s)*(t-r)-(e-s)*(a-r))/c,f=((i-e)*(t-r)-(n-t)*(e-s))/c;return h>=0&&h<=1&&f>=0&&f<=1?1:0}function nX(e,t,i,n,s,r,o,a,c,h,f,p){let m=0;const b=h-p,C=f-c,w=c*(p-h)-h*(f-c),D=nk(e,i,s,o),M=nk(t,n,r,a),A=b*D[0]+C*M[0],k=b*D[1]+C*M[1],_=b*D[2]+C*M[2],F=b*D[3]+C*M[3]+w,N=iX(A,k,_,F);for(const z of N){const V=z*z,j=z*V,U=D[0]*j+D[1]*V+D[2]*z+D[3],$=M[0]*j+M[1]*V+M[2]*z+M[3];let Q;c===f?Q=($-h)/(p-h):Q=(U-c)/(f-c),Q>=0&&Q<=1&&m++}return m}function nk(e,t,i,n){return[-e+3*t-3*i+n,3*e-6*t+3*i,-3*e+3*t,e]}function RF(e,t,i,n,s,r,o,a,c,h){if(isNaN(e)||isNaN(t))return 0;r&&([s,n]=[n,s]);const f=(h-a)/(c-o),p=a-f*o,m=Math.pow(f,2)+1,b=2*(f*(p-t)-e),C=Math.pow(e,2)+Math.pow(p-t,2)-Math.pow(i,2),w=Math.pow(b,2)-4*m*C;if(w<0)return 0;const D=(-b+Math.sqrt(w))/2/m,M=(-b-Math.sqrt(w))/2/m;let A=0;return[D,M].forEach(k=>{if(!(k>=Math.min(o,c)&&k<=Math.max(o,c)))return;const F=f*k+p,N=k-e,z=F-t,V=Math.atan2(z,N);Uc(V,n,s)&&A++}),A}function qb(e,t,i,n,s){return(1-s)**3*e+3*(1-s)**2*s*t+3*(1-s)*s**2*i+s**3*n}function Qb(e,t,i,n,s){if(s<=Math.min(e,n))return e<n?0:1;if(s>=Math.max(e,n))return e<n?1:0;let r=0,o=1,a=NaN;for(let c=0;c<12;c+=1)a=(r+o)/2,qb(e,t,i,n,a)<s?r=a:o=a;return a}function Jb(e,t,i,n,s,r,o,a,c){const h=(1-c)*e+c*i,f=(1-c)*t+c*n,p=(1-c)*i+c*s,m=(1-c)*n+c*r,b=(1-c)*s+c*o,C=(1-c)*r+c*a,w=(1-c)*h+c*p,D=(1-c)*f+c*m,M=(1-c)*p+c*b,A=(1-c)*m+c*C,k=(1-c)*w+c*M,_=(1-c)*D+c*A;return[[{x:e,y:t},{x:h,y:f},{x:w,y:D},{x:k,y:_}],[{x:k,y:_},{x:M,y:A},{x:b,y:C},{x:o,y:a}]]}function HM(e,t,i,n){const s=-e+3*t-3*i+n,r=3*e-6*t+3*i,o=-3*e+3*t;if(s===0){if(r!==0){const c=-o/r;if(c>0&&c<1)return[c]}return[]}const a=r*r-4*s*o;if(a>=0){const c=Math.sqrt(a),h=(-r+c)/(2*s),f=(-r-c)/(2*s);return[h,f].filter(p=>p>0&&p<1)}return[]}function IF(e,t,i,n,s,r,o,a){const c=HM(e,i,s,o),h=HM(t,n,r,a);return[...c,...h]}var mf=class{constructor(){this.path2d=new Path2D,this.previousCommands=[],this.previousParams=[],this.previousClosedPath=!1,this.commands=[],this.params=[],this.openedPath=!1,this.closedPath=!1}isEmpty(){return this.commands.length===0}isDirty(){return this.closedPath!==this.previousClosedPath||this.previousCommands.length!==this.commands.length||this.previousParams.length!==this.params.length||this.previousCommands.toString()!==this.commands.toString()||this.previousParams.toString()!==this.params.toString()}getPath2D(){return this.path2d}moveTo(e,t){this.openedPath=!0,this.path2d.moveTo(e,t),this.commands.push(0),this.params.push(e,t)}lineTo(e,t){this.openedPath?(this.path2d.lineTo(e,t),this.commands.push(1),this.params.push(e,t)):this.moveTo(e,t)}rect(e,t,i,n){this.moveTo(e,t),this.lineTo(e+i,t),this.lineTo(e+i,t+n),this.lineTo(e,t+n),this.closePath()}roundRect(e,t,i,n,s){s=Math.min(s,i/2,n/2),this.moveTo(e,t+s),this.arc(e+s,t+s,s,Math.PI,1.5*Math.PI),this.lineTo(e+s,t),this.lineTo(e+i-s,t),this.arc(e+i-s,t+s,s,1.5*Math.PI,2*Math.PI),this.lineTo(e+i,t+s),this.lineTo(e+i,t+n-s),this.arc(e+i-s,t+n-s,s,0,Math.PI/2),this.lineTo(e+i-s,t+n),this.lineTo(e+s,t+n),this.arc(e+ +s,t+n-s,s,Math.PI/2,Math.PI),this.lineTo(e,t+n-s),this.closePath()}arc(e,t,i,n,s,r){this.openedPath=!0,this.path2d.arc(e,t,i,n,s,r),this.commands.push(2),this.params.push(e,t,i,n,s,r?1:0)}cubicCurveTo(e,t,i,n,s,r){this.openedPath||this.moveTo(e,t),this.path2d.bezierCurveTo(e,t,i,n,s,r),this.commands.push(3),this.params.push(e,t,i,n,s,r)}closePath(){this.openedPath&&(this.path2d.closePath(),this.commands.push(4),this.openedPath=!1,this.closedPath=!0)}clear(e){e&&(this.previousCommands=this.commands,this.previousParams=this.params,this.previousClosedPath=this.closedPath),this.path2d=new Path2D,this.openedPath=!1,this.closedPath=!1,this.commands=[],this.params=[]}isPointInPath(e,t){const i=this.commands,n=this.params,s=i.length,r=-1e4,o=-1e4;let a=NaN,c=NaN,h=0,f=0,p=0;for(let m=0,b=0;m<s;m++)switch(i[m]){case 0:p+=Jd(a,c,h,f,r,o,e,t),h=n[b++],a=h,f=n[b++],c=f;break;case 1:p+=Jd(h,f,n[b++],n[b++],r,o,e,t),h=n[b-2],f=n[b-1];break;case 3:p+=nX(h,f,n[b++],n[b++],n[b++],n[b++],n[b++],n[b++],r,o,e,t),h=n[b-2],f=n[b-1];break;case 2:{const C=n[b++],w=n[b++],D=n[b++],M=n[b++],A=n[b++],k=!!n[b++];if(p+=RF(C,w,D,M,A,k,r,o,e,t),!isNaN(a)){const _=C+Math.cos(M)*D,F=w+Math.sin(M)*D;p+=Jd(h,f,_,F,r,o,e,t)}h=C+Math.cos(A)*D,f=w+Math.sin(A)*D;break}case 4:p+=Jd(a,c,h,f,r,o,e,t);break}return p%2===1}distanceSquared(e,t){let i=1/0;const n=this.commands,s=this.params,r=n.length;let o=NaN,a=NaN,c=0,h=0;for(let f=0,p=0;f<r;f++)switch(n[f]){case 0:c=o=s[p++],h=a=s[p++];break;case 1:{const m=s[p++],b=s[p++];i=Ip(e,t,c,h,m,b,i);break}case 3:Ee.error("Command.Curve distanceSquare not implemented");break;case 2:{const m=s[p++],b=s[p++],C=s[p++],w=s[p++],D=s[p++],M=m+Math.cos(w)*C,A=b+Math.sin(w)*C,k=!!s[p++];i=Ip(e,t,c,h,M,A,i),i=J7(e,t,m,b,C,w,D,k,i),c=m+Math.cos(D)*C,h=b+Math.sin(D)*C;break}case 4:i=Ip(e,t,c,h,o,a,i);break}return i}toSVG(e=(t,i)=>({x:t,y:i})){const t=[],{commands:i,params:n}=this,s=(o,...a)=>{t.push(o);for(let c=0;c<a.length;c+=2){const{x:h,y:f}=e(a[c],a[c+1]);t.push(h,f)}};let r=0;for(const o of i)switch(o){case 0:s("M",n[r++],n[r++]);break;case 1:s("L",n[r++],n[r++]);break;case 3:s("C",n[r++],n[r++],n[r++],n[r++],n[r++],n[r++]);break;case 2:{const a=n[r++],c=n[r++],h=n[r++],f=n[r++],p=n[r++],m=n[r++];let b=m?f-p:p-f;b<0&&(b+=Math.ceil(-b/(2*Math.PI))*2*Math.PI),m&&(b=-b);const C=Math.max(Math.ceil(Math.abs(b)/(Math.PI/2)),1),w=b/C,D=4/3*Math.tan(w/4),M=t.length===0?"M":"L";s(M,a+Math.cos(f)*h,c+Math.sin(f)*h);for(let A=0;A<C;A+=1){const k=f+w*(A+0),_=f+w*(A+1),F=h*Math.sin(k),N=h*Math.cos(k),z=h*Math.sin(_),V=h*Math.cos(_);s("C",a+N-D*F,c+F+D*N,a+V+D*z,c+z-D*V,a+V,c+z)}break}case 4:t.push("Z");break}return t.join(" ")}computeBBox(){const{commands:e,params:t}=this;let[i,n,s,r]=[1/0,1/0,-1/0,-1/0],[o,a]=[NaN,NaN],[c,h]=[NaN,NaN];const f=(m,b,C)=>{i=Math.min(b,i),n=Math.min(m,n),s=Math.max(m,s),r=Math.max(b,r),C&&([o,a]=[m,b])};let p=0;for(const m of e)switch(m){case 0:f(t[p++],t[p++],!0),[c,h]=[o,a];break;case 1:f(t[p++],t[p++],!0);break;case 3:{const b=t[p++],C=t[p++],w=t[p++],D=t[p++],M=t[p++],A=t[p++];f(M,A,!0),IF(o,a,b,C,w,D,M,A).forEach(_=>{const F=qb(o,b,w,M,_),N=qb(a,C,D,A,_);f(F,N)});break}case 2:{const b=t[p++],C=t[p++],w=t[p++];let D=Mi(t[p++]),M=Mi(t[p++]);t[p++]&&([D,M]=[M,D]);const k=(F,N)=>{const z=b+w*Math.cos(F),V=C+w*Math.sin(F);f(z,V,N)};k(D),k(M,!0);const _=[0,Math.PI/2,Math.PI,3*Math.PI/2];for(const F of _)(D<M&&D<=F&&F<=M||D>M&&(D<=F||F<=M))&&k(F);break}case 4:[o,a]=[c,h];break}return new Ge(n,i,s-n,r-i)}};function En(e,t,i){const n=Math.round(t*e)/e;return i==null?n:i===0?0:i<1?Math.ceil(i*e)/e:Math.round((i+t)*e)/e-n}function sk(e,t){return Math.floor(t*e)/e}function kw(e,t,i){const{width:n,height:s,padding:r,strokeWidth:o}=t,a=n/2,c=s/2,h=Math.max(1,n-r-o/2),f=Math.max(1,s-r-o/2);let p=!1;for(const[m,b]of i){const C=a+(m-.5)*h,w=c+(b-.5)*f;p?e.lineTo(C,w):e.moveTo(C,w),p=!0}e.closePath()}var sX={circles(e,{width:t,strokeWidth:i,padding:n}){const s=t/2,r=Math.max(1,s-n-i/2);e.arc(s,s,r,0,Math.PI*2)},squares(e,{width:t,height:i,pixelRatio:n,padding:s,strokeWidth:r}){const o=s+r/2;e.moveTo(En(n,o),En(n,o)),e.lineTo(En(n,t-o),En(n,o)),e.lineTo(En(n,t-o),En(n,i-o)),e.lineTo(En(n,o),En(n,i-o)),e.closePath()},triangles(e,t){kw(e,t,[[.5,0],[1,1],[0,1]])},diamonds(e,t){kw(e,t,[[.5,0],[1,.5],[.5,1],[0,.5]])},stars(e,{width:t,height:i,padding:n}){const r=Math.max(1,(t-n)/2),o=r/2,a=Math.PI/2;for(let c=0;c<5*2;c++){const h=c%2===0?r:o,f=c*Math.PI/5-a,p=t/2+Math.cos(f)*h,m=i/2+Math.sin(f)*h;e.lineTo(p,m)}e.closePath()},hearts(e,{width:t,height:i,padding:n}){const s=Math.max(1,t/4-n/2),r=t/2,o=i/2+s/2;e.arc(r-s,o-s,s,Oi(130),Oi(330)),e.arc(r+s,o-s,s,Oi(220),Oi(50)),e.lineTo(r,o+s),e.closePath()},crosses(e,t){kw(e,t,[[.25,0],[.5,.25],[.75,0],[1,.25],[.75,.5],[1,.75],[.75,1],[.5,.75],[.25,1],[0,.75],[.25,.5],[0,.25]])},"vertical-lines"(e,{width:t,height:i,pixelRatio:n,strokeWidth:s}){const r=En(n,t/2)-s%2/2;e.moveTo(r,0),e.lineTo(r,i)},"horizontal-lines"(e,{width:t,height:i,pixelRatio:n,strokeWidth:s}){const r=En(n,i/2)-s%2/2;e.moveTo(0,r),e.lineTo(t,r)},"forward-slanted-lines"(e,{width:t,height:i,strokeWidth:n}){const s=Math.atan2(i,t),r=n*Math.cos(s),o=n*Math.sin(s);e.moveTo(-r,o),e.lineTo(r,-o),e.moveTo(-r,i+o),e.lineTo(t+r,-o),e.moveTo(t-r,i+o),e.lineTo(t+r,i-o)},"backward-slanted-lines"(e,{width:t,height:i,strokeWidth:n}){const s=Math.atan2(i,t),r=n*Math.cos(s),o=n*Math.sin(s);e.moveTo(t-r,-o),e.lineTo(t+r,o),e.moveTo(-r,-o),e.lineTo(t+r,i+o),e.moveTo(-r,i-o),e.lineTo(r,i+o)}},rX=class{constructor(e,t=1){this.pixelRatio=t,this._cache=void 0,this.width=Math.max((e==null?void 0:e.width)??10,1),this.height=Math.max((e==null?void 0:e.height)??10,1),this.fill=e.fill??"transparent",this.fillOpacity=e.fillOpacity??1,this.backgroundFill=e.backgroundFill??"transparent",this.backgroundFillOpacity=e.backgroundFillOpacity??1,this.stroke=e.stroke??"black",this.strokeOpacity=e.strokeOpacity??1,this.strokeWidth=e.strokeWidth??1,this.padding=e.padding??1,this.pattern=e.pattern??"forward-slanted-lines",this.rotation=e.rotation??0}getPath(){const{pattern:e,width:t,height:i,padding:n,strokeWidth:s,pixelRatio:r}=this,o=new mf;return sX[e](o,{width:t,height:i,pixelRatio:r,strokeWidth:s,padding:n}),o}renderStroke(e,t){const{stroke:i,strokeWidth:n,strokeOpacity:s}=this;n&&(t.strokeStyle=i,t.lineWidth=n,t.globalAlpha=s,t.stroke(e))}renderFill(e,t){const{fill:i,fillOpacity:n}=this;t.fillStyle=i,t.globalAlpha=n,t.fill(e)}createCanvasPattern(e){const{width:t,height:i,backgroundFill:n,backgroundFillOpacity:s,pixelRatio:r,rotation:o}=this,a=new bL({width:t,height:i,pixelRatio:r}),c=a.context;c.fillStyle=n,c.globalAlpha=s,c.fillRect(0,0,t,i);const h=this.getPath().getPath2D();this.renderFill(h,c),this.renderStroke(h,c);const f=e.createPattern(a.canvas,"repeat"),p=Mi(Oi(o)),m=1/r,b=Math.cos(p)*m,C=Math.sin(p)*m;return f==null||f.setTransform(new DOMMatrix([b,C,-C,b,0,0])),a.destroy(),f}createPattern(e){if(this._cache!=null&&this._cache.ctx===e)return this._cache.pattern;const t=this.createCanvasPattern(e);if(t!=null)return this._cache={ctx:e,pattern:t},t}toSvg(){const{width:e,height:t,fill:i,fillOpacity:n,backgroundFill:s,backgroundFillOpacity:r,stroke:o,strokeWidth:a,strokeOpacity:c,rotation:h}=this,f=Wn("pattern");f.setAttribute("viewBox",`0 0 ${e} ${t}`),f.setAttribute("width",String(e)),f.setAttribute("height",String(t)),f.setAttribute("patternUnits","userSpaceOnUse");const p=Wn("rect");p.setAttribute("x","0"),p.setAttribute("y","0"),p.setAttribute("width",String(e)),p.setAttribute("height",String(t)),p.setAttribute("fill",s),p.setAttribute("fill-opacity",String(r)),f.appendChild(p);const m=Wn("path");return m.setAttribute("fill",i),m.setAttribute("fill-opacity",String(n)),m.setAttribute("stroke-opacity",String(c)),m.setAttribute("stroke",o),m.setAttribute("stroke-width",String(a)),m.setAttribute("transform",`rotate(${h})`),m.setAttribute("d",this.getPath().toSVG()),f.appendChild(m),f}};function Bo(e){return an(e)&&e.type=="gradient"}function kF(e){return bt(e)&&e.every(t=>typeof t=="string")}function Fh(e){return e!==null&&an(e)&&e.type=="pattern"}function oX(e){return Bo(e)||Fh(e)}var Ds=class ua extends Tl{constructor(){super(...arguments),this.fillOpacity=1,this.strokeOpacity=1,this.fill=ua.defaultStyles.fill,this.stroke=ua.defaultStyles.stroke,this.strokeWidth=ua.defaultStyles.strokeWidth,this.lineDash=ua.defaultStyles.lineDash,this.lineDashOffset=ua.defaultStyles.lineDashOffset,this.lineCap=ua.defaultStyles.lineCap,this.lineJoin=ua.defaultStyles.lineJoin,this.miterLimit=void 0,this.opacity=ua.defaultStyles.opacity,this.fillShadow=ua.defaultStyles.fillShadow}restoreOwnStyles(){const{defaultStyles:t}=this.constructor;Object.assign(this,t)}getGradient(t){if(Bo(t))return this.createGradient(t)}createGradient(t){const{colorSpace:i="rgb",gradient:n="linear",colorStops:s,rotation:r=0,reverse:o=!1}=t;if(s==null)return;let a=EF(s,["black"],[0,1]);switch(o&&(a=a.map(c=>({color:c.color,stop:1-c.stop})).reverse()),n){case"linear":return new SF(i,a,r);case"radial":return new b7(i,a);case"conic":return new xF(i,a,r)}}getPattern(t){if(Fh(t))return this.createPattern(t)}createPattern(t){var n,s;const i=((s=(n=this.layerManager)==null?void 0:n.canvas)==null?void 0:s.pixelRatio)??1;return new rX(t,i)}onFillChange(){typeof this.fill=="object"&&Da(this._cachedFill??{},this.fill)||(this.fillGradient=this.getGradient(this.fill),this.fillPattern=this.getPattern(this.fill),this._cachedFill=this.fill)}onStrokeChange(){this.strokeGradient=this.getGradient(this.stroke)}align(t,i){var n,s;return En(((s=(n=this.layerManager)==null?void 0:n.canvas)==null?void 0:s.pixelRatio)??1,t,i)}preRender(t,i){return this.dirty&&(this.cachedDefaultGradientFillBBox=void 0),super.preRender(t,i)}fillStroke(t,i){this.renderFill(t,i),this.renderStroke(t,i)}renderFill(t,i){if(this.fill){const{globalAlpha:n}=t;this.applyFill(t),this.applyFillAlpha(t),this.applyShadow(t),this.executeFill(t,i),t.globalAlpha=n}t.shadowColor="rgba(0, 0, 0, 0)"}executeFill(t,i){i?t.fill(i):t.fill()}applyFill(t){var c;const{fill:i,fillGradient:n,fillBBox:s=this.getDefaultGradientFillBBox()??this.getBBox(),fillParams:r}=this,o=s?n==null?void 0:n.createGradient(t,s,r):void 0,a=(c=this.fillPattern)==null?void 0:c.createPattern(t);t.fillStyle=a??o??(typeof i=="string"?i:void 0)??"black"}applyStroke(t){var i;t.strokeStyle=((i=this.strokeGradient)==null?void 0:i.createGradient(t,this.getBBox()))??(typeof this.stroke=="string"?this.stroke:void 0)??"black"}applyFillAlpha(t){t.globalAlpha*=this.opacity*this.fillOpacity}applyShadow(t){var s;const i=((s=this.layerManager)==null?void 0:s.canvas.pixelRatio)??1,n=this.fillShadow;n!=null&&n.enabled&&(t.shadowColor=n.color,t.shadowOffsetX=n.xOffset*i,t.shadowOffsetY=n.yOffset*i,t.shadowBlur=n.blur*i)}renderStroke(t,i){if(this.stroke&&this.strokeWidth){const{globalAlpha:n}=t;this.applyStroke(t),t.globalAlpha*=this.opacity*this.strokeOpacity,t.lineWidth=this.strokeWidth,this.lineDash&&t.setLineDash(this.lineDash),this.lineDashOffset&&(t.lineDashOffset=this.lineDashOffset),this.lineCap&&(t.lineCap=this.lineCap),this.lineJoin&&(t.lineJoin=this.lineJoin),this.miterLimit!=null&&(t.miterLimit=this.miterLimit),this.executeStroke(t,i),t.globalAlpha=n}}executeStroke(t,i){i?t.stroke(i):t.stroke()}getDefaultGradientFillBBox(){return this.cachedDefaultGradientFillBBox==null&&(this.cachedDefaultGradientFillBBox=Object.freeze(this.computeDefaultGradientFillBBox())),this.cachedDefaultGradientFillBBox}computeDefaultGradientFillBBox(){}containsPoint(t,i){return this.isPointInPath(t,i)}applySvgFillAttributes(t,i){const{fill:n,fillOpacity:s}=this;if(typeof n=="string")t.setAttribute("fill",n);else if(Bo(n)&&this.fillGradient){i??(i=[]);const r=this.fillGradient.toSvg(this.fillBBox??this.getBBox()),o=BM();r.setAttribute("id",o),i.push(r),t.setAttribute("fill",`url(#${o})`)}else if(Fh(n)&&this.fillPattern){i??(i=[]);const r=this.fillPattern.toSvg(),o=BM();r.setAttribute("id",o),i.push(r),t.setAttribute("fill",`url(#${o})`)}else t.setAttribute("fill","none");return t.setAttribute("fill-opacity",String(s)),i}applySvgStrokeAttributes(t){const{stroke:i,strokeOpacity:n,strokeWidth:s,lineDash:r,lineDashOffset:o}=this;if(i!=null&&(t.setAttribute("stroke",typeof i=="string"?i:"none"),t.setAttribute("stroke-opacity",String(n)),t.setAttribute("stroke-width",String(s))),(r==null?void 0:r.some(a=>a!==0))===!0){const a=r.length%2===1?[...r,...r]:r;t.setAttribute("stroke-dasharray",a.join(" ")),t.setAttribute("stroke-dashoffset",String(o))}}};Ds.defaultStyles={fill:"black",stroke:void 0,strokeWidth:0,lineDash:void 0,lineDashOffset:0,lineCap:void 0,lineJoin:void 0,opacity:1,fillShadow:void 0};R([He()],Ds.prototype,"fillOpacity",2);R([He()],Ds.prototype,"strokeOpacity",2);R([He({changeCb:e=>e.onFillChange()})],Ds.prototype,"fill",2);R([He({changeCb:e=>e.onStrokeChange()})],Ds.prototype,"stroke",2);R([He()],Ds.prototype,"strokeWidth",2);R([He()],Ds.prototype,"lineDash",2);R([He()],Ds.prototype,"lineDashOffset",2);R([He()],Ds.prototype,"lineCap",2);R([He()],Ds.prototype,"lineJoin",2);R([He()],Ds.prototype,"miterLimit",2);R([He({convertor:e=>ut(0,e,1)})],Ds.prototype,"opacity",2);R([He({checkDirtyOnAssignment:!0})],Ds.prototype,"fillShadow",2);R([He({changeCb:e=>e.onFillChange()})],Ds.prototype,"fillBBox",2);R([He({changeCb:e=>e.onFillChange()})],Ds.prototype,"fillParams",2);var co=Ds,_F=[1,0,0,1,0,0],zo=class cb{get e(){return[...this.elements]}constructor(t=_F){this.elements=[...t]}setElements(t){const i=this.elements;return i[0]=t[0],i[1]=t[1],i[2]=t[2],i[3]=t[3],i[4]=t[4],i[5]=t[5],this}get identity(){const t=this.elements;return fa(t[0],1)&&fa(t[1],0)&&fa(t[2],0)&&fa(t[3],1)&&fa(t[4],0)&&fa(t[5],0)}AxB(t,i,n){const s=t[0]*i[0]+t[2]*i[1],r=t[1]*i[0]+t[3]*i[1],o=t[0]*i[2]+t[2]*i[3],a=t[1]*i[2]+t[3]*i[3],c=t[0]*i[4]+t[2]*i[5]+t[4],h=t[1]*i[4]+t[3]*i[5]+t[5];n=n??t,n[0]=s,n[1]=r,n[2]=o,n[3]=a,n[4]=c,n[5]=h}multiplySelf(t){return this.AxB(this.elements,t.elements),this}multiply(t){const i=new Array(6);return t instanceof cb?this.AxB(this.elements,t.elements,i):this.AxB(this.elements,[t.a,t.b,t.c,t.d,t.e,t.f],i),new cb(i)}preMultiplySelf(t){return this.AxB(t.elements,this.elements,this.elements),this}inverse(){const t=this.elements;let i=t[0],n=t[1],s=t[2],r=t[3];const o=t[4],a=t[5],c=1/(i*r-n*s);return i*=c,n*=c,s*=c,r*=c,new cb([r,-n,-s,i,s*a-r*o,n*o-i*a])}invertSelf(){const t=this.elements;let i=t[0],n=t[1],s=t[2],r=t[3];const o=t[4],a=t[5],c=1/(i*r-n*s);return i*=c,n*=c,s*=c,r*=c,t[0]=r,t[1]=-n,t[2]=-s,t[3]=i,t[4]=s*a-r*o,t[5]=n*o-i*a,this}transformPoint(t,i){const n=this.elements;return{x:t*n[0]+i*n[2]+n[4],y:t*n[1]+i*n[3]+n[5]}}transformBBox(t,i){const n=this.elements,s=n[0],r=n[1],o=n[2],a=n[3],c=t.width*.5,h=t.height*.5,f=t.x+c,p=t.y+h,m=Math.abs(c*s)+Math.abs(h*o),b=Math.abs(c*r)+Math.abs(h*a);return i??(i=new Ge(0,0,0,0)),i.x=f*s+p*o+n[4]-m,i.y=f*r+p*a+n[5]-b,i.width=m+m,i.height=b+b,i}toContext(t){if(this.identity)return;const i=this.elements;t.transform(i[0],i[1],i[2],i[3],i[4],i[5])}static updateTransformMatrix(t,i,n,s,r,o,a){const c=i,h=n;let f,p;c===1&&h===1?(f=0,p=0):(f=(a==null?void 0:a.scalingCenterX)??0,p=(a==null?void 0:a.scalingCenterY)??0);const m=s,b=Math.cos(m),C=Math.sin(m);let w,D;m===0?(w=0,D=0):(w=(a==null?void 0:a.rotationCenterX)??0,D=(a==null?void 0:a.rotationCenterY)??0);const M=r,A=o,k=f*(1-c)-w,_=p*(1-h)-D;return t.setElements([b*c,C*c,-C*h,b*h,b*k-C*_+w+M,C*k+b*_+D+A]),t}};function Oc(e){return OF(e.constructor)}var NF=Symbol("isMatrixTransform");function OF(e){return e[NF]===!0}function IL(e){var t,i;const n=e;if(OF(e))return e;const s=Symbol("matrix_combined_transform");class r extends n{constructor(){super(...arguments),this[i]=new zo,this._dirtyTransform=!0}markDirtyTransform(){this._dirtyTransform=!0,super.markDirty()}updateMatrix(a){}computeTransformMatrix(){this._dirtyTransform&&(this[s].setElements(_F),this.updateMatrix(this[s]),this._dirtyTransform=!1)}toParent(a){return this.computeTransformMatrix(),this[s].identity?a.clone():this[s].transformBBox(a)}toParentPoint(a,c){return this.computeTransformMatrix(),this[s].identity?{x:a,y:c}:this[s].transformPoint(a,c)}fromParent(a){return this.computeTransformMatrix(),this[s].identity?a.clone():this[s].inverse().transformBBox(a)}fromParentPoint(a,c){return this.computeTransformMatrix(),this[s].identity?{x:a,y:c}:this[s].inverse().transformPoint(a,c)}computeBBox(){const a=super.computeBBox();return a&&this.toParent(a)}computeBBoxWithoutTransforms(){return super.computeBBox()}pickNode(a,c){return{x:a,y:c}=this.fromParentPoint(a,c),super.pickNode(a,c)}pickNodes(a,c,h){return{x:a,y:c}=this.fromParentPoint(a,c),super.pickNodes(a,c,h)}render(a){this.computeTransformMatrix();const{ctx:c}=a,h=this[s];let f=!1;h.identity||(c.save(),f=!0,h.toContext(c)),super.render(a),f&&c.restore()}toSVG(){this.computeTransformMatrix();const a=super.toSVG(),c=this[s];if(c.identity||a==null)return a;const h=Wn("g");h.append(...a.elements);const[f,p,m,b,C,w]=c.e;return h.setAttribute("transform",`matrix(${f} ${p} ${m} ${b} ${C} ${w})`),{elements:[h],defs:a.defs}}}return t=NF,i=s,r[t]=!0,r}function Of(e){var t;const i=e,n=Symbol("matrix_rotation");class s extends IL(i){constructor(){super(...arguments),this[t]=new zo,this.rotationCenterX=null,this.rotationCenterY=null,this.rotation=0}updateMatrix(o){super.updateMatrix(o);const{rotation:a,rotationCenterX:c,rotationCenterY:h}=this;a!==0&&(zo.updateTransformMatrix(this[n],1,1,a,0,0,{rotationCenterX:c,rotationCenterY:h}),o.multiplySelf(this[n]))}}return t=n,R([He({type:"transform"})],s.prototype,"rotationCenterX",2),R([He({type:"transform"})],s.prototype,"rotationCenterY",2),R([He({type:"transform"})],s.prototype,"rotation",2),s}function kL(e){var t;const i=e,n=Symbol("matrix_scale");class s extends IL(i){constructor(){super(...arguments),this[t]=new zo,this.scalingX=1,this.scalingY=1,this.scalingCenterX=null,this.scalingCenterY=null}updateMatrix(o){super.updateMatrix(o);const{scalingX:a,scalingY:c,scalingCenterX:h,scalingCenterY:f}=this;a===1&&c===1||(zo.updateTransformMatrix(this[n],a,c,0,0,0,{scalingCenterX:h,scalingCenterY:f}),o.multiplySelf(this[n]))}}return t=n,R([He({type:"transform"})],s.prototype,"scalingX",2),R([He({type:"transform"})],s.prototype,"scalingY",2),R([He({type:"transform"})],s.prototype,"scalingCenterX",2),R([He({type:"transform"})],s.prototype,"scalingCenterY",2),s}function Vh(e){var t;const i=e,n=Symbol("matrix_translation");class s extends IL(i){constructor(){super(...arguments),this[t]=new zo,this.translationX=0,this.translationY=0}updateMatrix(o){super.updateMatrix(o);const{translationX:a,translationY:c}=this;a===0&&c===0||(zo.updateTransformMatrix(this[n],1,1,0,a,c),o.multiplySelf(this[n]))}}return t=n,R([He({type:"transform"})],s.prototype,"translationX",2),R([He({type:"transform"})],s.prototype,"translationY",2),s}var en=class{static fromCanvas(e,t){const i=[];for(const n of e.traverseUp())Oc(n)&&i.unshift(n);for(const n of i)t=n.fromParent(t);return Oc(e)&&(t=e.fromParent(t)),t}static toCanvas(e,t){t==null?t=e.getBBox():Oc(e)&&(t=e.toParent(t));for(const i of e.traverseUp())Oc(i)&&(t=i.toParent(t));return t}static fromCanvasPoint(e,t,i){const n=[];for(const s of e.traverseUp())Oc(s)&&n.unshift(s);for(const s of n)({x:t,y:i}=s.fromParentPoint(t,i));return Oc(e)&&({x:t,y:i}=e.fromParentPoint(t,i)),{x:t,y:i}}static toCanvasPoint(e,t,i){Oc(e)&&({x:t,y:i}=e.toParentPoint(t,i));for(const n of e.traverseUp())Oc(n)&&({x:t,y:i}=n.toParentPoint(t,i));return{x:t,y:i}}},_w=(e,t)=>Math.sign(e-t);function PF(e,t){if(typeof e=="number"&&typeof t=="number")return _w(e,t);const i=typeof e=="number"?[e]:e,n=typeof t=="number"?[t]:t,s=Math.min(i.length,n.length);for(let r=0;r<s;r+=1){const o=_w(i[r],n[r]);if(o!==0)return o}return _w(i.length,n.length)}var up,_L=class xp extends Tl{constructor(t){super(t),this.opacity=1,this.renderToOffscreenCanvas=!1,this.optimizeForInfrequentRedraws=!1,this.layer=void 0,this.image=void 0,this._lastWidth=NaN,this._lastHeight=NaN,this._lastDevicePixelRatio=NaN,this.isContainerNode=!0,this.renderToOffscreenCanvas=(t==null?void 0:t.renderToOffscreenCanvas)===!0}static is(t){return t instanceof xp}static computeChildrenBBox(t,i=!0){return Ge.merge(Tl.extractBBoxes(t,i))}static compareChildren(t,i){return PF(t.zIndex,i.zIndex)||t.serialNumber-i.serialNumber}containsPoint(t,i){return!0}computeBBox(){return xp.computeChildrenBBox(this.children())}computeSafeClippingBBox(t){const i=this.computeBBox();if(!i.isFinite())return;let n=0;const s=4;for(const m of this.descendants())m instanceof co&&(n=Math.max(n,m.strokeWidth));const r=Math.max(1,n/2*s),{x:o,y:a}=en.toCanvasPoint(this,0,0),c=sk(t,o+i.x-r)-o,h=sk(t,a+i.y-r)-a,f=Math.ceil(i.x+i.width-c+r),p=Math.ceil(i.y+i.height-h+r);return new Ge(c,h,f,p)}prepareSharedCanvas(t,i,n){return up==null||up.pixelRatio!==n?up=new bL({width:t,height:i,pixelRatio:n}):up.resize(t,i,n),up}isDirty(t){const{width:i,height:n,devicePixelRatio:s}=t,{dirty:r,dirtyZIndex:o,layer:a}=this,c=a!=null&&(this._lastWidth!==i||this._lastHeight!==n),h=this._lastDevicePixelRatio!==s;if(this._lastWidth=i,this._lastHeight=n,this._lastDevicePixelRatio=s,r||o||c||h)return!0;for(const f of this.children())if(f.dirty)return!0;return!1}preRender(t){var n,s;const i=super.preRender(t,0);return i.groups+=1,i.nonGroups-=1,this.renderToOffscreenCanvas&&!this.optimizeForInfrequentRedraws&&i.nonGroups>0&&this.getVisibility()?this.layer??(this.layer=(n=this._layerManager)==null?void 0:n.addLayer({name:this.name})):this.layer!=null&&((s=this._layerManager)==null||s.removeLayer(this.layer),this.layer=void 0),i}render(t){const{layer:i,renderToOffscreenCanvas:n}=this,s={...t};if(!n){this.renderInContext(s),super.render(s);return}const{ctx:r,stats:o,devicePixelRatio:a}=t;let{image:c}=this;if(this.isDirty(t)){c==null||c.bitmap.close(),c=void 0;const f=i?void 0:this.computeSafeClippingBBox(a),p=(m,...b)=>{var w;const C=m.context;s.ctx=C,m.clear(),C.save(),C.setTransform(...b),C.globalAlpha=1,this.renderInContext(s),C.restore(),(w=C.verifyDepthZero)==null||w.call(C)};if(i)p(i,r.getTransform());else if(f){const{x:m,y:b,width:C,height:w}=f,D=this.prepareSharedCanvas(C,w,a);p(D,a,0,0,a,-m*a,-b*a),c={bitmap:D.transferToImageBitmap(),x:m,y:b,width:C,height:w}}else this.dirtyZIndex&&this.sortChildren(xp.compareChildren);this.image=c,o&&o.layersRendered++}else this.skipRender(s),o&&o.layersSkipped++;const{globalAlpha:h}=r;if(r.globalAlpha=h*this.opacity,i)r.save(),r.resetTransform(),i.drawImage(r),r.restore();else if(c){const{bitmap:f,x:p,y:m,width:b,height:C}=c;r.drawImage(f,0,0,b*a,C*a,p,m,b,C)}r.globalAlpha=h,super.render(s)}skipRender(t){const{stats:i}=t;for(const n of this.children())n.markClean(),i&&(i.nodesSkipped+=this.childNodeCounts.groups+this.childNodeCounts.nonGroups,i.opsSkipped+=this.childNodeCounts.complexity)}applyClip(t,i){const{x:n,y:s,width:r,height:o}=i;t.beginPath(),t.rect(n,s,r,o),t.clip()}renderInContext(t){const{ctx:i,stats:n}=t;this.dirtyZIndex&&this.sortChildren(xp.compareChildren),i.save(),i.globalAlpha*=this.opacity,this.clipRect!=null&&(this.applyClip(i,this.clipRect),t.clipBBox=en.toCanvas(this,this.clipRect));for(const s of this.children()){if(!s.visible){s.markClean(),n&&(n.nodesSkipped+=s.childNodeCounts.nonGroups+s.childNodeCounts.groups,n.opsSkipped+=s.childNodeCounts.complexity);continue}i.save(),s.render(t),i.restore()}i.restore()}setClipRect(t){this.clipRect=t?en.fromCanvas(this,t):void 0}setClipRectCanvasSpace(t){this.clipRect=t}_setLayerManager(t){var i;this.layer&&((i=this._layerManager)==null||i.removeLayer(this.layer),this.layer=void 0),super._setLayerManager(t)}getVisibility(){for(const t of this.traverseUp(!0))if(!t.visible)return!1;return!0}toSVG(){if(!this.visible)return;const t=[],i=[];for(const n of this.children()){const s=n.toSVG();s!=null&&(i.push(...s.elements),s.defs!=null&&t.push(...s.defs))}return{elements:i,defs:t}}};_L.className="Group";R([He({convertor:e=>ut(0,e,1)})],_L.prototype,"opacity",2);var at=_L,aX=class extends kL(at){},lX=class extends Of(at){},zs=class extends Vh(at){},hp=class extends Of(Vh(at)){},rk=class{constructor(){this.queue=[]}await(e=50){return new Promise(t=>{const i=()=>{clearTimeout(s),t(!0)},s=setTimeout(()=>{const r=this.queue.indexOf(i);r<0||(this.queue.splice(r,1),t(!1))},e);this.queue.push(i)})}notify(){this.queue.splice(0).forEach(e=>e())}};function cX(){return new Promise(e=>{setTimeout(e,0)})}function eC(e,t){e&&(t=WC.normalize(t),t.width==null?e.style.removeProperty("width"):e.style.width=`${t.width}px`,t.height==null?e.style.removeProperty("height"):e.style.height=`${t.height}px`,t.x==null?e.style.removeProperty("left"):e.style.left=`${t.x}px`,t.y==null?e.style.removeProperty("top"):e.style.top=`${t.y}px`)}function FF(e){const t=parseFloat(e.style.width)||e.offsetWidth,i=parseFloat(e.style.height)||e.offsetHeight,n=parseFloat(e.style.left)||e.offsetLeft,s=parseFloat(e.style.top)||e.offsetTop;return{x:n,y:s,width:t,height:i}}function uX(e){var n;if(e.focus({preventScroll:!0}),((n=e.lastChild)==null?void 0:n.textContent)==null)return;const t=Ll().createRange();t.setStart(e.lastChild,e.lastChild.textContent.length),t.setEnd(e.lastChild,e.lastChild.textContent.length);const i=vi().getSelection();i==null||i.removeAllRanges(),i==null||i.addRange(t)}var hX=0;function dX(e){return`${e??"ag-charts-element"}-${hX++}`}function BF(){const e=vi("navigator");if("scheduling"in e){const t=e.scheduling;if("isInputPending"in t)return t.isInputPending({includeContinuous:!0})}return!1}function tx(e){return`ag-charts-icon ag-charts-icon-${e}`}var jM="class-instance";function Ta(e,t,i){if(bt(t)){if(!bt(e)||e.length!==t.length||t.some((n,s)=>Ta(e[s],n,i)!=null))return t}else if(ln(t)){if(!ln(e))return t;const n={},s=new Set([...Object.keys(e),...Object.keys(t)]);for(const r of s)if(e[r]!==t[r])if(i!=null&&i.has(r))n[r]=t[r];else if(typeof e[r]==typeof t[r]){const o=Ta(e[r],t[r],i);o!==null&&(n[r]=o)}else n[r]=t[r];return Object.keys(n).length?n:null}else if(e!==t)return t;return null}function zF(e,t){for(const i of Object.keys(e))if(e[i]!==(t==null?void 0:t[i]))return!1;return!0}function Ii(e,t){return bt(e)?e.map(i=>Ii(i,t)):ln(e)?fX(e,t):e instanceof Map?new Map(Ii(Array.from(e))):NL(e)}function fX(e,t){var n,s;const i={};for(const r of Object.keys(e))(n=t==null?void 0:t.assign)!=null&&n.has(r)?i[r]=e[r]:(s=t==null?void 0:t.shallow)!=null&&s.has(r)?i[r]=NL(e[r]):i[r]=Ii(e[r],t);return i}function NL(e){return bt(e)?e.slice(0):ln(e)?{...e}:kf(e)?new Date(e):C8(e)?new RegExp(e.source,e.flags):e}function ml(e,t,i,n,s,r){if(bt(e)){r=t(e,n,s,r);let o=0;for(const a of e)r=ml(a,t,i,n==null?void 0:n[o],s,r),o++}else if(ln(e)){r=t(e,n,s,r);for(const o of Object.keys(e)){if(i!=null&&i.has(o))continue;const a=e[o];r=ml(a,t,i,n==null?void 0:n[o],s,r)}}return r}function kp(e,t,i={}){const{path:n,matcherPath:s=n==null?void 0:n.replace(/(\[[0-9+]+])/i,"[]"),skip:r=[]}=i;if(e==null)throw new Error(`AG Charts - target is uninitialised: ${n??"<root>"}`);if(t==null)return e;if(La(e))return e.set(t);const o=e,a=Nw(e);for(const c of Object.keys(t)){if(SL.has(c))continue;const h=`${s?s+".":""}${c}`;if(r.includes(h))continue;const f=t[c],p=`${n?n+".":""}${c}`,m=o.constructor,b=o[c];try{const C=Nw(b),w=Nw(f);if(a===jM&&!(c in e||c==="context")){if(f===void 0)continue;Ee.warn(`unable to set [${p}] in ${m==null?void 0:m.name} - property is unknown`);continue}if(C!=null&&w!=null&&w!==C&&(C!==jM||w!=="object")){Ee.warn(`unable to set [${p}] in ${m==null?void 0:m.name} - can't apply type of [${w}], allowed types are: [${C}]`);continue}if(La(b))o[c].set(f);else if(w==="object"&&c!=="context"){if(b==null){Ee.warn(`unable to set [${p}] in ${m==null?void 0:m.name} - property is unknown`);continue}kp(b,f,{...i,path:p,matcherPath:h})}else o[c]=f}catch(C){Ee.warn(`unable to set [${p}] in [${m==null?void 0:m.name}]; nested error is: ${C.message}`)}}return e}function Nw(e){return e==null?null:x8(e)||kf(e)?"primitive":bt(e)?"array":an(e)?ln(e)?"object":jM:fu(e)?"function":"primitive"}function tC(e,t,i,n){return WM(e,t,n??e,{matches:new Map},i)}var VM=Symbol("operation-resolved-undefined");function WM(e,t,i,n,s,r=[],o={}){if(bt(e)){ok(e,t,i,n,r,o);let a=0;for(const c of e)WM(c,t,i,n,s,[...r,`${a}`],o),a++}else if(ln(e)){ok(e,t,i,n,r,o);for(const a of Object.keys(e)){if(s!=null&&s.has(a))continue;const c=e[a];WM(c,t,i,n,s,[...r,a],o)}}return o}function ok(e,t,i,n,s,r){if(bt(e))for(let o=0;o<e.length;o++)e[o]=ak(e[o],t,i,n,[...s,`${o}`],r),e[o]===VM&&(e[o]=void 0);else{let o=!1;for(const a of Object.keys(e))e[a]=ak(e[a],t,i,n,[...s,a],r),o||(o=No(a,nC)),e[a]===VM&&delete e[a];if(o&&Object.keys(e).length>1)for(const a of Object.keys(e))No(a,nC)&&delete e[a]}}function ak(e,t,i,n,s,r){const o=cu(e);if(!o)return e;r[s.join(".")]=e;const a=qp(o.operation,o.values,t,i,s,n);return a===void 0?VM:a}function cu(e){if(!ln(e))return;const[t]=Object.keys(e);if(No(t,nC))return{operation:t,values:e[t]}}function qp(e,t,i,n,s,r){r.referencedParams??(r.referencedParams=new Set);const o=["$find","$map"];bt(t)&&!o.includes(e)&&(t=t.map(c=>{const h=cu(c);return h?qp(h.operation,h.values,i,n,s,r):c}));const a=nC[e];return a(t,s,i,n,r)}function No(e,t){return Un(e)&&(an(t)||bt(t))&&e in t}function iC(e){return io(e)&&e>=0&&e<=1}function GF(e){return an(e)&&e.type=="gradient"}function gX(e){return e!==null&&an(e)&&e.type=="pattern"}function HF(e,t){const i=t.split("/");let n=[...e];t.startsWith("/")&&(n=[],i.shift());let s=!1;for(const r of i){if(r==="..")n.pop(),s||n.pop();else if(r===".")n.pop();else if(r==="$index"){const o=e.findLast(a=>!isNaN(Number(a)));o!=null&&n.push(o)}else if(r==="$prevIndex"){const o=e.findLast(a=>!isNaN(Number(a)));o!=null&&n.push(`${Number(o)-1}`)}else r.length!==0&&n.push(r);s=r===".."}return n}var pX={$ref:jF,$path:SX,$palette:xX},mX={$if:([e,t,i])=>e?t:i,$eq:([e,t])=>e===t,$not:([e])=>!e,$or:e=>bt(e)&&e.some(Boolean),$and:e=>bt(e)&&e.every(Boolean),$switch:()=>{},$isOperation:wX},yX={$isEven:MX,$mul:DX,$round:LX},vX={$map:TX,$find:AX,$merge:EX,$omit:RX,$value:IX},bX={$rem:kX},CX={$mix:_X,$foregroundBackgroundMix:NX,$foregroundBackgroundAccentMix:OX,$interpolate:PX,$isGradient:([e])=>GF(e),$isPattern:([e])=>gX(e)},nC={...pX,...mX,...yX,...vX,...bX,...CX};function jF(e,t,i,n,s){var o,a;if(!No(e,i)){Ee.warnOnce(`\`$ref\` json operation failed on [${String(e)}] at [${t.join(".")}], expecting one of [${Object.keys(i).join(", ")}].`);return}const r=cu(i[e]);if((r==null?void 0:r.operation)!=="$ref")return i[e];if((o=s.referencedParams)!=null&&o.has(r.values)){Ee.warnOnce(`\`$ref\` json operation failed on [${String(e)}] at [${t.join(".")}], circular reference detected with [${[...s.referencedParams].join(", ")}].`);return}return(a=s.referencedParams)==null||a.add(r.values),jF(r.values,t,i,n,s)}function xX(e,t,i,n){if(!Un(e))return;const s=i.__palette;if(["fill","fillFallback","stroke","gradient","range2"].includes(e)){const o=t.findLastIndex(p=>!isNaN(Number(p)));let a=Number(t[o]);if(isNaN(a))return;const c=t.slice(0,o),h=["map-shape-background","map-line-background"],f=pf(n,c).slice(0,a).filter(p=>h.includes(p.type)).length;switch(a-=f,e){case"fill":return ap(s.fills,1,a)[0];case"fillFallback":return ap(s.fillsFallback,1,a)[0];case"stroke":return ap(s.strokes,1,a)[0];case"gradient":return ap(s.sequentialColors,1,a)[0];case"range2":return ap(s.fills,2,a)}return}return e==="gradients"?s.sequentialColors:pf(s,e)}function SX(e,t,i,n){let s=!1,r,o=!1,a=n;if(bt(e))s=!0,r=e[1],o=e.length===3,a=o?e[2]:a,e=e[0];else if(!Un(e)){Ee.warnOnce(`\`$path\` json operation failed on [${String(e)}] at [${t.join(".")}], expecting a string.`);return}const c=HF(o?[]:t,e);let h=a;for(const f of c){if(!No(f,h)){if(s)return r;Ee.warnOnce(`\`$path\` json operation failed on [${String(e)}] at [${t.join(".")}] resolved to [${c.join(".")}], could not find path in object.`);return}h=h[f]}return Object.isFrozen(h)?Ii(h):h}function wX(e,t,i,n){const s=Un(e)?HF(t,e):t,r=s.length===0?n:pf(n,s);return cu(r)!=null}function MX([e],t){if(typeof e=="number")return e%2===0;Ee.warnOnce(`\`$isEven\` json operation failed on [${String(e)}] at [${t.join(".")}], expecting a number.`)}function DX([e,t],i){if(typeof e=="number"&&typeof t=="number")return e*t;Ee.warnOnce(`\`$mul\` json operation failed on [${String(e)}] and [${String(t)}] at [${i.join(".")}], expecting two numbers.`)}function LX([e],t){if(typeof e=="number")return Math.round(e);Ee.warnOnce(`\`$round\` json operation failed on [${String(e)}] at [${t.join(".")}], expecting a number.`)}function TX([e,t],i,n,s,r){const o=cu(t);if(o&&(t=qp(o.operation,o.values,n,s,i,r)),!bt(t))return[];const a=cu(e);return a?(r.matches.set(i.join("."),t),t.map(()=>({[a.operation]:a.values}))):[]}function AX([e,t],i,n,s,r){const o=cu(t);if(o&&(t=qp(o.operation,o.values,n,s,i,r)),!bt(t))return;const a=cu(e);return a?t.find(c=>qp(a.operation,a.values,n,c,[],r)):e?t[0]:void 0}function EX(e){if(bt(e)){for(const t of e)if(!ln(t))return;return Pt(...e)}}function RX([e,t]){if(!(!bt(e)||!ln(t)))return lu(t,e)}function IX(e,t,i,n,s){var c;if(e!=="$1"&&e!=="$index")return e;const r=t.findLastIndex(h=>!isNaN(Number(h)));if(r===-1)return e;const o=Number(t[r]);if(e==="$index")return o;const a=t.slice(0,r).join(".");return(c=s.matches.get(a))==null?void 0:c.at(o)}function kX([e],t,i){const n="fontSize";if(No(n,i)&&typeof i[n]=="number"&&typeof e=="number")return Math.round(e*i[n]);Ee.warnOnce(`\`$rem\` json operation failed on [${String(e)}] at [${t.join(".")}], expecting a number.`)}function _X([e,t,i],n){const s=`\`$mix\` json operation failed on [${String(e)}, ${String(t)}, ${String(i)}] at [${n.join(".")}], expecting`,r=`${s} two colors and a number between 0 and 1.`;if(typeof t!="string"||!iC(i)){Ee.warnOnce(r);return}if(typeof e=="string")try{return ni.mix(ni.fromString(e),ni.fromString(t),i).toString()}catch{Ee.warnOnce(r);return}if(!GF(e)){Ee.warnOnce(r);return}let o=e.colorStops;try{o=o==null?void 0:o.map(a=>{let c;return typeof a.color=="string"&&(c=ni.mix(ni.fromString(a.color),ni.fromString(t),i).toString()),{...a,color:c}})}catch{Ee.warnOnce(`${s} a gradient, a color and a number between 0 and 1.`);return}return{...e,colorStops:o}}function NX([e],t,i){const n="foregroundColor",s="backgroundColor";if(No(n,i)&&No(s,i)&&typeof i[n]=="string"&&typeof i[s]=="string"&&iC(e))return ni.mix(ni.fromString(i[n]),ni.fromString(i[s]),e).toString();Ee.warnOnce(`\`$foregroundBackgroundMix\` json operation failed on [${String(e)}}}] at [${t.join(".")}], expecting a number between 0 and 1.`)}function OX([e,t],i,n){const s="foregroundColor",r="backgroundColor",o="accentColor";if(No(s,n)&&No(r,n)&&No(o,n)&&typeof n[s]=="string"&&typeof n[r]=="string"&&typeof n[o]=="string"&&iC(e)&&iC(t))return ni.mix(ni.mix(ni.fromString(n[s]),ni.fromString(n[r]),e),ni.fromString(n[o]),t).toString();Ee.warnOnce(`\`$foregroundBackgroundAccentMix\` json operation failed on [${String(e)}, ${String(t)}}] at [${i.join(".")}], expecting two numbers between 0 and 1.`)}function PX([e,t]){if(!(!bt(e)||!io(t)))return ni.interpolate(e.map(i=>ni.fromString(i)),t).map(i=>i.toString())}var FX=class{constructor(){this.available=!0,this.acquireQueue=[]}acquire(e){return new Promise(t=>{this.acquireQueue.push([e,t]),this.available&&this.dispatchNext().catch(i=>Ee.errorOnce(i))})}async acquireImmediately(e){return this.available?(await this.acquire(e),!0):!1}async waitForClearAcquireQueue(){return this.acquire(()=>Promise.resolve(void 0))}async dispatchNext(){this.available=!1;let[e,t]=this.acquireQueue.shift()??[];for(;e;){try{await e(),t==null||t()}catch(i){Ee.error("mutex callback error",i),t==null||t()}[e,t]=this.acquireQueue.shift()??[]}this.available=!0}},VF=class{constructor(){this.eventListeners=new Map}addEventListener(e,t){if(typeof t!="function")throw new Error("AG Charts - listener must be a Function");const i=this.eventListeners.get(e);i?i.add(t):this.eventListeners.set(e,new Set([t]))}removeEventListener(e,t){const i=this.eventListeners.get(e);i!=null&&(i.delete(t),i.size===0&&this.eventListeners.delete(e))}hasEventListener(e){return this.eventListeners.has(e)}clearEventListeners(){this.eventListeners.clear()}fireEvent(e){var t;(t=this.eventListeners.get(e.type))==null||t.forEach(i=>i(e))}},pu=class extends ht{constructor(e=0,t=e,i=e,n=t){super(),this.top=e,this.right=t,this.bottom=i,this.left=n}};R([P()],pu.prototype,"top",2);R([P()],pu.prototype,"right",2);R([P()],pu.prototype,"bottom",2);R([P()],pu.prototype,"left",2);function hi(e,t){const i=bt(e)?e:e.split(".");if(i.length===1){const[n]=i;return au((s,r,o)=>s[n]=o,s=>s[n],t)}return au((n,s,r)=>wL(n,i,r),n=>pf(n,i),t)}function BX(e){return au((t,i,n)=>t[e]=n)}function Kn(e,t){return au((i,n,s)=>i[e][t??n]=s)}function sr(e){const{newValue:t,oldValue:i,changeValue:n}=e;return au((s,r,o,a)=>(o!==a&&(a!==void 0&&(i==null||i.call(s,a)),o!==void 0&&(t==null||t.call(s,o)),n==null||n.call(s,o,a)),o))}function mu(e){return mF(e)}function zX(e){return WF((t,i)=>vi().requestAnimationFrame(t),e)}function GX(e){return WF((t,i=0)=>{i===0?queueMicrotask(t):setTimeout(t,i)},e)}function WF(e,t){let i=0,n=!1,s,r;const o=()=>n,a=()=>{n=!1,r==null||r(),r=void 0,s=void 0,i>0&&e(c)},c=()=>{const h=i;i=0,n=!0;const f=t({count:h});if(!f){a();return}f.then(a,a)};return{schedule(h){i===0&&!o()&&e(c,h),i++},async await(){if(o())for(s==null&&(s=new Promise(h=>{r=h}));o();)await s}}}function th(e){return e==="true"}function HX(e){return Number(e)}function Do(e){return e}var Ow={role:Do,"aria-checked":th,"aria-controls":Do,"aria-describedby":Do,"aria-disabled":th,"aria-expanded":th,"aria-haspopup":th,"aria-hidden":th,"aria-label":Do,"aria-labelledby":Do,"aria-live":Do,"aria-orientation":Do,"aria-selected":th,"data-preventdefault":th,class:Do,id:Do,tabindex:HX,title:Do,placeholder:Do};function yi(e,t,i){i==null||i===""||i===""?e==null||e.removeAttribute(t):e==null||e.setAttribute(t,i.toString())}function Bh(e,t){if(t!=null)for(const[i,n]of _o(t))i!=="class"&&yi(e,i,n)}function ix(e,t,i){var s;if(!(e instanceof HTMLElement))return;const n=e.getAttribute(t);return n===null?i:((s=Ow[t])==null?void 0:s.call(Ow,n))??void 0}function Io(e,t,i){e!=null&&(i==null?e.style.removeProperty(t):e.style.setProperty(t,i.toString()))}function jX(e,t){for(const[i,n]of _o(t))Io(e,i,n)}var OL=["blur","change","contextmenu","focus","keydown","keyup","click","dblclick","mouseenter","mousemove","mouseleave","wheel","touchstart","touchmove","touchend","touchcancel"];function jd(e,t,i){const{offsetX:n,offsetY:s,clientX:r,clientY:o}=t,{currentX:a,currentY:c}=xl.calcCurrentXY(i,t);return{type:e,offsetX:n,offsetY:s,clientX:r,clientY:o,currentX:a,currentY:c,sourceEvent:t}}function Fv(e,t,i){return{type:e,sourceEvent:t}}var VX={blur:e=>({type:"blur",sourceEvent:e}),change:e=>({type:"change",sourceEvent:e}),contextmenu:(e,t)=>jd("contextmenu",e,t),focus:e=>({type:"focus",sourceEvent:e}),keydown:e=>({type:"keydown",sourceEvent:e}),keyup:e=>({type:"keyup",sourceEvent:e}),click:(e,t)=>jd("click",e,t),dblclick:(e,t)=>jd("dblclick",e,t),mouseenter:(e,t)=>jd("mouseenter",e,t),mousemove:(e,t)=>jd("mousemove",e,t),mouseleave:(e,t)=>jd("mouseleave",e,t),wheel:e=>{const{offsetX:t,offsetY:i,clientX:n,clientY:s}=e,r=e.deltaMode===0?.01:1,o=e.deltaX*r,a=e.deltaY*r;return{type:"wheel",offsetX:t,offsetY:i,clientX:n,clientY:s,deltaX:o,deltaY:a,sourceEvent:e}},touchstart:(e,t)=>Fv("touchstart",e),touchmove:(e,t)=>Fv("touchmove",e),touchend:(e,t)=>Fv("touchend",e),touchcancel:(e,t)=>Fv("touchcancel",e)},xl=class{static alloc(e,t,i){return VX[e](t,i)}static isHTMLEvent(e){return OL.includes(e)}static calcCurrentXY(e,t){const i=e.getBoundingClientRect();return{currentX:t.clientX-i.x,currentY:t.clientY-i.y}}},WX=class{constructor(){this.widgetListeners={},this.sourceListeners={}}initSourceHandler(e,t){this.sourceListeners??(this.sourceListeners={}),this.sourceListeners[e]=t}lazyGetWidgetListeners(e,t){var i;if(!(e in(this.sourceListeners??{}))){const n=r=>{var a;const o=xl.alloc(e,r,t.getElement());for(const c of((a=this.widgetListeners)==null?void 0:a[e])??[])c(o,t)},s={};e.startsWith("touch")&&(s.passive=!1),this.initSourceHandler(e,n),t.getElement().addEventListener(e,n,s)}return this.widgetListeners??(this.widgetListeners={}),(i=this.widgetListeners)[e]??(i[e]=[]),this.widgetListeners[e]}add(e,t,i){this.lazyGetWidgetListeners(e,t).push(i)}remove(e,t,i){const n=this.lazyGetWidgetListeners(e,t),s=n.indexOf(i);s>-1&&n.splice(s,1)}destroy(e){for(const[t,i]of _o(this.sourceListeners??{}))e.getElement().removeEventListener(t,i);this.widgetListeners=void 0,this.sourceListeners=void 0}},UX=class{constructor(e,t,i,n){this.glob=e,this.self=t,this.window=vi(),this.mousegeneral=c=>{c.stopPropagation(),c.stopImmediatePropagation()},this.mousemove=c=>{var h;c.stopPropagation(),c.stopImmediatePropagation(),(h=this.glob.globalMouseDragCallbacks)==null||h.mousemove(c)},this.mouseup=c=>{var h;c.button===0&&(c.stopPropagation(),c.stopImmediatePropagation(),(h=this.glob.globalMouseDragCallbacks)==null||h.mouseup(c),this.destroy())};const{window:s,mousegeneral:r,mousemove:o,mouseup:a}=this;s.addEventListener("mousedown",r,{capture:!0}),s.addEventListener("mouseenter",r,{capture:!0}),s.addEventListener("mouseleave",r,{capture:!0}),s.addEventListener("mouseout",r,{capture:!0}),s.addEventListener("mouseover",r,{capture:!0}),s.addEventListener("mousemove",o,{capture:!0}),s.addEventListener("mouseup",a,{capture:!0}),t.mouseDragger=this,e.globalMouseDragCallbacks=i,e.globalMouseDragCallbacks.mousedown(n)}destroy(){const{window:e,mousegeneral:t,mousemove:i,mouseup:n}=this;e.removeEventListener("mousedown",t,{capture:!0}),e.removeEventListener("mouseenter",t,{capture:!0}),e.removeEventListener("mouseleave",t,{capture:!0}),e.removeEventListener("mouseout",t,{capture:!0}),e.removeEventListener("mouseover",t,{capture:!0}),e.removeEventListener("mousemove",i,{capture:!0}),e.removeEventListener("mouseup",n,{capture:!0}),this.glob.globalMouseDragCallbacks=void 0,this.self.mouseDragger=void 0}};function YX(e,t,i,n){if(e.globalMouseDragCallbacks==null)return new UX(e,t,i,n)}var KX=500,$X=100;function ZX(e,t){const i=e.clientX-t.clientX,n=e.clientY-t.clientY;return i*i+n*n}var UM=!1,XX=class{constructor(e,t,i,n,s){this.glob=e,this.self=t,this.initialTouch=n,this.target=s,this.longTapInterrupted=!1,this.longtap=()=>{const{target:a,initialTouch:c}=this;if(!this.longTapInterrupted){a.dispatchEvent(new TouchEvent("touchcancel",{touches:[c],bubbles:!0})),UM=!0;const h=C=>{C.preventDefault()},f=C=>{UM=!1,C.preventDefault(),a.removeEventListener("touchmove",h),a.removeEventListener("touchend",f),a.removeEventListener("touchcancel",f)};a.addEventListener("touchmove",h,{passive:!1}),a.addEventListener("touchend",f,{passive:!1}),a.addEventListener("touchcancel",f,{passive:!1});const{clientX:p,clientY:m}=c,b=new PointerEvent("contextmenu",{bubbles:!0,cancelable:!0,view:vi(),clientX:p,clientY:m,pointerType:"touch"});a.dispatchEvent(b)}},this.touchmove=a=>{var m;const{glob:c,self:h,initialTouch:f}=this,p=this.findInitialFinger(a.targetTouches);p!=null&&(this.longTapInterrupted=this.longTapInterrupted||ZX(f,p)>$X,h.dragTouchEnabled&&p!=null&&((m=c.globalTouchDragCallbacks)==null||m.touchmove(a,p)))},this.touchend=a=>{var h;this.longTapInterrupted=!0;const c=this.findInitialFinger(a.changedTouches,a.touches);c!=null&&((h=this.glob.globalTouchDragCallbacks)==null||h.touchend(a,c)),this.destroy()},this.longtapTimer=setTimeout(this.longtap,KX);const{touchmove:r,touchend:o}=this;s.addEventListener("touchmove",r,{passive:!1}),s.addEventListener("touchstart",o,{passive:!1}),s.addEventListener("touchend",o,{passive:!1}),s.addEventListener("touchcancel",o,{passive:!1}),t.touchDragger=this,e.globalTouchDragCallbacks=i}destroy(){const{longtapTimer:e,touchmove:t,touchend:i}=this;clearTimeout(e),this.target.removeEventListener("touchstart",i),this.target.removeEventListener("touchmove",t),this.target.removeEventListener("touchend",i),this.target.removeEventListener("touchcancel",i),this.glob.globalTouchDragCallbacks=void 0,this.self.touchDragger=void 0}findInitialFinger(...e){const t=e.map(i=>Array.from(i)).flat();return Array.from(t).find(i=>i.identifier===this.initialTouch.identifier)}};function qX(e,t,i,n,s){if(!(e.globalTouchDragCallbacks!=null||UM))return new XX(e,t,i,n,s)}function Pw(e,t,i,n){const{currentX:s,currentY:r}=xl.calcCurrentXY(e.getElement(),n),o=n.pageX-i.pageX,a=n.pageY-i.pageY;return{type:t,device:"mouse",offsetX:i.offsetX+o,offsetY:i.offsetY+a,clientX:n.clientX,clientY:n.clientY,currentX:s,currentY:r,originDeltaX:o,originDeltaY:a,sourceEvent:n}}function QX(e,{pageX:t,pageY:i}){const{x:n,y:s}=e.getElement().getBoundingClientRect();return{offsetX:t-n,offsetY:i-s}}function Fw(e,t,i,n,s){const{currentX:r,currentY:o}=xl.calcCurrentXY(e.getElement(),s),a=s.pageX-i.pageX,c=s.pageY-i.pageY;return{type:t,device:"touch",offsetX:i.offsetX+a,offsetY:i.offsetY+c,clientX:s.clientX,clientY:s.clientY,currentX:r,currentY:o,originDeltaX:a,originDeltaY:c,sourceEvent:n}}var lk={},ck=class{constructor(e){this.dispatchCallback=e,this.dragTouchEnabled=!0}destroy(){var e,t,i;(e=this.dragTriggerRemover)==null||e.call(this),this.dragTriggerRemover=void 0,this.dragStartListeners=void 0,this.dragMoveListeners=void 0,this.dragEndListeners=void 0,(t=this.mouseDragger)==null||t.destroy(),(i=this.touchDragger)==null||i.destroy()}add(e,t,i){switch(e){case"drag-start":{this.dragStartListeners??(this.dragStartListeners=[]),this.dragStartListeners.push(i),this.registerDragTrigger(t);break}case"drag-move":{this.dragMoveListeners??(this.dragMoveListeners=[]),this.dragMoveListeners.push(i),this.registerDragTrigger(t);break}case"drag-end":{this.dragEndListeners??(this.dragEndListeners=[]),this.dragEndListeners.push(i),this.registerDragTrigger(t);break}}}remove(e,t,i){switch(e){case"drag-start":return this.removeHandler(this.dragStartListeners,i);case"drag-move":return this.removeHandler(this.dragMoveListeners,i);case"drag-end":return this.removeHandler(this.dragEndListeners,i)}}removeHandler(e,t){const i=e==null?void 0:e.indexOf(t);i!==void 0&&(e==null||e.splice(i,1))}registerDragTrigger(e){if(this.dragTriggerRemover==null){const t=n=>this.triggerMouseDrag(e,n),i=n=>this.triggerTouchDrag(e,n);e.getElement().addEventListener("mousedown",t),e.getElement().addEventListener("touchstart",i,{passive:!1}),this.dragTriggerRemover=()=>{e.getElement().removeEventListener("mousedown",t),e.getElement().removeEventListener("touchstart",i)}}}triggerMouseDrag(e,t){t.button===0&&this.startMouseDrag(e,t)}startMouseDrag(e,t){const i={pageX:NaN,pageY:NaN,offsetX:NaN,offsetY:NaN};GM(["pageX","pageY","offsetX","offsetY"],i,t);const n={mousedown:s=>{const r=Pw(e,"drag-start",i,s);this.dispatch("drag-start",e,r)},mousemove:s=>{const r=Pw(e,"drag-move",i,s);this.dispatch("drag-move",e,r)},mouseup:s=>{const r=Pw(e,"drag-end",i,s);this.dispatch("drag-end",e,r),this.endDrag(e,r)}};this.mouseDragger=YX(lk,this,n,t)}endDrag(e,{sourceEvent:t,clientX:i,clientY:n}){var o;const s=e.getElement(),r=s.getBoundingClientRect();WC.containsPoint(r,i,n)||(s.dispatchEvent(new MouseEvent("mouseleave",t)),(o=t.target)==null||o.dispatchEvent(new MouseEvent("mouseenter",t)))}triggerTouchDrag(e,t){const i=t.targetTouches[0];t.targetTouches.length===1&&i!=null&&this.startOneFingerTouch(e,t,i)}startOneFingerTouch(e,t,i){const n={pageX:NaN,pageY:NaN,...QX(e,i)};GM(["pageX","pageY"],n,i);const s={touchmove:(a,c)=>{const h=Fw(e,"drag-move",n,a,c);this.dispatch("drag-move",e,h)},touchend:(a,c)=>{const h=Fw(e,"drag-end",n,a,c);this.dispatch("drag-end",e,h)}},r=e.getElement();this.touchDragger=qX(lk,this,s,i,r);const o=Fw(e,"drag-start",n,t,i);this.dispatch("drag-start",e,o)}dispatch(e,t,i){var n,s,r;switch(e){case"drag-start":(n=this.dragStartListeners)==null||n.forEach(o=>o(i,t));break;case"drag-move":(s=this.dragMoveListeners)==null||s.forEach(o=>o(i,t));break;case"drag-end":(r=this.dragEndListeners)==null||r.forEach(o=>o(i,t));break}this.dispatchCallback(e,i)}},JX=class{constructor(e){this.elem=e}setBounds(e){eC(this.elemContainer??this.elem,e)}getBounds(){return FF(this.elemContainer??this.elem)}static setElementContainer(e,t){const i=e.getBounds();eC(t,i),jX(e.elem,{width:"100%",height:"100%"}),e.elem.remove(),e.elemContainer=t,e.elemContainer.replaceChildren(e.elem)}},Na=class extends JX{constructor(e){super(e),this.elem=e,this.index=NaN,this.children=[]}getElement(){return this.elem}getBoundingClientRect(){return this.elem.getBoundingClientRect()}get clientWidth(){return this.elem.clientWidth}get clientHeight(){return this.elem.clientHeight}destroy(){var e,t,i,n;(e=this.parent)==null||e.removeChild(this),this.children.forEach(s=>{s.parent=void 0,s.destroy()}),this.children.length=0,this.destructor(),this.elem.remove(),(t=this.elemContainer)==null||t.remove(),(i=this.internalListener)==null||i.destroy(),(n=this.htmlListener)==null||n.destroy(this)}setHidden(e){Io(this.elem,"display",e?"none":void 0)}isHidden(){var e,t;return((t=(e=vi())==null?void 0:e.getComputedStyle)==null?void 0:t.call(e,this.elem).display)==="none"}setCursor(e){Io(this.elem,"cursor",e)}setTextContent(e){this.elem.textContent=e??null}setAriaDescribedBy(e){yi(this.elem,"aria-describedby",e)}setAriaHidden(e){yi(this.elem,"aria-hidden",e)}setAriaLabel(e){yi(this.elem,"aria-label",e)}setInnerHTML(e){this.elem.innerHTML=e}isDisabled(){return ix(this.elem,"aria-disabled",!1)}parseFloat(e){return e===""?0:parseFloat(e)}cssLeft(){return this.parseFloat(this.elem.style.left)}cssTop(){return this.parseFloat(this.elem.style.top)}cssWidth(){return this.parseFloat(this.elem.style.width)}cssHeight(){return this.parseFloat(this.elem.style.height)}focus(){this.elem.focus()}setPreventsDefault(e){yi(this.elem,"data-preventdefault",e)}setTabIndex(e){yi(this.elem,"tabindex",e)}addChild(e){this.addChildToDOM(e,this.getBefore(e)),this.children.push(e),e.index=this.children.length-1,e.parent=this,this.onChildAdded(e)}removeChild(e){const t=this.children.findIndex(i=>i===e);this.children.splice(t,1),this.removeChildFromDOM(e),this.onChildRemoved(e)}moveChild(e,t){e.domIndex!==t&&(e.domIndex=t,this.removeChildFromDOM(e),this.addChildToDOM(e,this.getBefore(e)))}addClass(...e){this.elem.classList.add(...e)}removeClass(...e){this.elem.classList.remove(...e)}toggleClass(e,t){this.elem.classList.toggle(e,t)}appendOrInsert(e,t){t?t.getElement().insertAdjacentElement("beforebegin",e):this.elem.appendChild(e)}addChildToDOM(e,t){this.appendOrInsert(e.getElement(),t)}removeChildFromDOM(e){this.elem.removeChild(e.getElement())}onChildAdded(e){}onChildRemoved(e){}getBefore({domIndex:e}){if(e!==void 0)return this.children.filter(t=>t.domIndex!==void 0&&t.domIndex>e).reduce((t,i)=>!t||i.domIndex<t.domIndex?i:t,void 0)}addListener(e,t){return xl.isHTMLEvent(e)?(this.htmlListener??(this.htmlListener=new WX),this.htmlListener.add(e,this,t)):(this.internalListener??(this.internalListener=new ck(this.onDispatch.bind(this))),this.internalListener.add(e,this,t)),()=>this.removeListener(e,t)}removeListener(e,t){var i,n;xl.isHTMLEvent(e)?(i=this.htmlListener)==null||i.remove(e,this,t):this.htmlListener!=null&&((n=this.internalListener)==null||n.remove(e,this,t))}setDragTouchEnabled(e){this.internalListener??(this.internalListener=new ck(this.onDispatch.bind(this))),this.internalListener.dragTouchEnabled=e}onDispatch(e,t){if(!t.sourceEvent.bubbles)return;let{parent:i}=this;for(;i!=null;){const{internalListener:n}=i;if(n!=null){const s={...t,...xl.calcCurrentXY(i.getElement(),t)};n.dispatch(e,i,s)}i=i.parent}}static addWindowEvent(e,t){const i=n=>{n.persisted||t()};return vi().addEventListener("pagehide",i),()=>vi().removeEventListener("pagehide",i)}};function eq(e=0,t=0){return new OffscreenCanvas(e,t).getContext("2d")}var PL=class{constructor(e=5){this.maxCacheSize=e,this.store=new Map}get(e){if(!this.store.has(e))return;const t=this.store.get(e);return this.store.delete(e),this.store.set(e,t),t}has(e){return this.store.has(e)}set(e,t){if(this.store.set(e,t),this.store.size>this.maxCacheSize){const i=this.store.keys();let n=this.store.size-this.maxCacheSize;for(;n>0;){const s=i.next();s.done||this.store.delete(s.value),n--}}return t}clear(){this.store.clear()}},kl=class{static measureText(e,t){return this.getMeasurer(t).measureText(e)}static measureLines(e,t){return this.getMeasurer(t).measureLines(e)}static getMeasurer(e){const t=typeof e.font=="string"?e.font:_i.toFontString(e.font),i=`${t}-${e.textAlign??"start"}-${e.textBaseline??"alphabetic"}`;return this.instanceMap.get(i)??this.createFontMeasurer(t,e,i)}static createFontMeasurer(e,t,i){const n=eq();n.font=e,n.textAlign=t.textAlign??"start",n.textBaseline=t.textBaseline??"alphabetic";const s=new UF(n,t);return this.instanceMap.set(i,s),s}};kl.instanceMap=new PL(10);var UF=class{constructor(e,t){this.ctx=e,this.measureMap=new PL(100),t.textAlign&&(e.textAlign=t.textAlign),t.textBaseline&&(e.textBaseline=t.textBaseline),e.font=typeof t.font=="string"?t.font:_i.toFontString(t.font),this.textMeasurer=new FL(i=>this.cachedCtxMeasureText(i),t.textBaseline??"alphabetic")}textWidth(e,t){return this.textMeasurer.textWidth(e,t)}measureText(e){return this.textMeasurer.measureText(e)}measureLines(e){return this.textMeasurer.measureLines(e)}cachedCtxMeasureText(e){if(!this.measureMap.has(e)){const t=this.ctx.measureText(e);this.measureMap.set(e,{actualBoundingBoxAscent:t.actualBoundingBoxAscent,emHeightAscent:t.emHeightAscent,emHeightDescent:t.emHeightDescent,actualBoundingBoxDescent:t.actualBoundingBoxDescent,actualBoundingBoxLeft:t.actualBoundingBoxLeft,actualBoundingBoxRight:t.actualBoundingBoxRight,alphabeticBaseline:t.alphabeticBaseline,fontBoundingBoxAscent:t.fontBoundingBoxAscent,fontBoundingBoxDescent:t.fontBoundingBoxDescent,hangingBaseline:t.hangingBaseline,ideographicBaseline:t.ideographicBaseline,width:t.width})}return this.measureMap.get(e)}},_i=class{static toFontString({fontSize:e=10,fontStyle:t,fontWeight:i,fontFamily:n,lineHeight:s}){let r="";return t&&(r+=`${t} `),i&&(r+=`${i} `),r+=`${e}px`,s&&(r+=`/${s}px`),r+=` ${n}`,r.trim()}static getLineHeight(e){return Math.ceil(e*this.defaultLineHeight)}static getVerticalModifier(e){switch(e){case"hanging":case"top":return 0;case"middle":return .5;case"alphabetic":case"bottom":case"ideographic":default:return 1}}};_i.EllipsisChar="…";_i.defaultLineHeight=1.15;_i.lineSplitter=/\r?\n/g;var FL=class{constructor(e,t="alphabetic"){this.measureTextFn=e,this.textBaseline=t,this.charMap=new Map}getMetrics(e){const t=this.measureTextFn(e);return t.fontBoundingBoxAscent??(t.fontBoundingBoxAscent=t.emHeightAscent),t.fontBoundingBoxDescent??(t.fontBoundingBoxDescent=t.emHeightDescent),{width:t.width,height:t.actualBoundingBoxAscent+t.actualBoundingBoxDescent,lineHeight:t.fontBoundingBoxAscent+t.fontBoundingBoxDescent,offsetTop:t.actualBoundingBoxAscent,offsetLeft:t.actualBoundingBoxLeft}}getMultilineMetrics(e){let t=0,i=0,n=0,s=0,r=0;const o=_i.getVerticalModifier(this.textBaseline),a=[];let c=0;const h=e.length;for(const f of e){const p=this.measureTextFn(f);p.fontBoundingBoxAscent??(p.fontBoundingBoxAscent=p.emHeightAscent),p.fontBoundingBoxDescent??(p.fontBoundingBoxDescent=p.emHeightDescent),t<p.width&&(t=p.width),s<p.actualBoundingBoxLeft&&(s=p.actualBoundingBoxLeft),c===0?(i+=p.actualBoundingBoxAscent,n+=p.actualBoundingBoxAscent):r+=p.fontBoundingBoxAscent,c===h-1?i+=p.actualBoundingBoxDescent:r+=p.fontBoundingBoxDescent,a.push({text:f,width:p.width,height:p.actualBoundingBoxAscent+p.actualBoundingBoxDescent,lineHeight:p.fontBoundingBoxAscent+p.fontBoundingBoxDescent,offsetTop:p.actualBoundingBoxAscent,offsetLeft:p.actualBoundingBoxLeft}),c++}return i+=r,n+=r*o,{width:t,height:i,offsetTop:n,offsetLeft:s,lineMetrics:a}}textWidth(e,t){if(t){let i=0;for(let n=0;n<e.length;n++)i+=this.textWidth(e.charAt(n));return i}return e.length>1?this.measureTextFn(e).width:this.charMap.get(e)??this.charWidth(e)}measureText(e){return this.getMetrics(e)}measureLines(e){const t=typeof e=="string"?e.split(_i.lineSplitter):e;return this.getMultilineMetrics(t)}charWidth(e){const{width:t}=this.measureTextFn(e);return this.charMap.set(e,t),t}},kr=class ub extends co{constructor(){super(...arguments),this.x=0,this.y=0,this.lines=[],this.text=void 0,this.fontSize=10,this.fontFamily="sans-serif",this.textAlign=ub.defaultStyles.textAlign,this.textBaseline=ub.defaultStyles.textBaseline}onTextChange(){var t;this.lines=((t=this.text)==null?void 0:t.split(`
`).map(i=>i.trim()))??[]}static computeBBox(t,i,n,s){const{offsetTop:r,offsetLeft:o,width:a,height:c}=kl.measureLines(t,s);return new Ge(i-o,n-r,a,c)}computeBBox(){const{x:t,y:i,lines:n,textBaseline:s,textAlign:r}=this;return ub.computeBBox(n,t,i,{font:this,textBaseline:s,textAlign:r})}isPointInPath(t,i){const n=this.getBBox();return n?n.containsPoint(t,i):!1}render(t){const{ctx:i,stats:n}=t;if(!this.lines.length||!this.layerManager)return n&&(n.nodesSkipped+=1),super.render(t);const{fill:s,stroke:r,strokeWidth:o}=this,{pixelRatio:a}=this.layerManager.canvas;if(!s&&!(r!=null&&o>0))return super.render(t);const c=_i.toFontString(this);if(i.font!==c&&(i.font=c),i.textAlign=this.textAlign,i.textBaseline=this.textBaseline,s){this.applyFill(i),i.globalAlpha*=this.opacity*this.fillOpacity;const{fillShadow:h}=this;h!=null&&h.enabled&&(i.shadowColor=h.color,i.shadowOffsetX=h.xOffset*a,i.shadowOffsetY=h.yOffset*a,i.shadowBlur=h.blur*a),this.renderLines((f,p,m)=>i.fillText(f,p,m))}if(r&&o){this.applyStroke(i),i.lineWidth=o,i.globalAlpha*=this.opacity*this.strokeOpacity;const{lineDash:h,lineDashOffset:f,lineCap:p,lineJoin:m}=this;h&&i.setLineDash(h),f&&(i.lineDashOffset=f),p&&(i.lineCap=p),m&&(i.lineJoin=m),this.renderLines((b,C,w)=>i.strokeText(b,C,w))}super.render(t)}renderLines(t){const{lines:i,x:n,y:s}=this,r=this.lineHeight??_i.getLineHeight(this.fontSize);let o=(r-r*i.length)*_i.getVerticalModifier(this.textBaseline);for(const a of i)t(a,n,s+o),o+=r}setFont(t){this.fontFamily=t.fontFamily,this.fontSize=t.fontSize,this.fontStyle=t.fontStyle,this.fontWeight=t.fontWeight}setAlign(t){this.textAlign=t.textAlign,this.textBaseline=t.textBaseline}toSVG(){var i;if(!this.visible||!this.text)return;const t=Wn("text");return this.applySvgFillAttributes(t),t.setAttribute("font-family",((i=this.fontFamily)==null?void 0:i.split(",")[0])??""),t.setAttribute("font-size",String(this.fontSize)),t.setAttribute("font-style",this.fontStyle??""),t.setAttribute("font-weight",String(this.fontWeight??"")),t.setAttribute("text-anchor",{center:"middle",left:"start",right:"end",start:"start",end:"end"}[this.textAlign??"start"]),t.setAttribute("alignment-baseline",{alphabetic:"alphabetic",top:"top",bottom:"bottom",hanging:"hanging",middle:"middle",ideographic:"ideographic"}[this.textBaseline??"alphabetic"]),t.setAttribute("x",String(this.x)),t.setAttribute("y",String(this.y)),t.textContent=this.text??"",{elements:[t]}}};kr.className="Text";kr.defaultStyles={...co.defaultStyles,textAlign:"start",fontStyle:void 0,fontWeight:void 0,fontSize:10,fontFamily:"sans-serif",textBaseline:"alphabetic"};R([He()],kr.prototype,"x",2);R([He()],kr.prototype,"y",2);R([He({changeCb:e=>e.onTextChange()})],kr.prototype,"text",2);R([He()],kr.prototype,"fontStyle",2);R([He()],kr.prototype,"fontWeight",2);R([He()],kr.prototype,"fontSize",2);R([He()],kr.prototype,"fontFamily",2);R([He()],kr.prototype,"textAlign",2);R([He()],kr.prototype,"textBaseline",2);R([He()],kr.prototype,"lineHeight",2);var Rn=kr,YF=class extends Of(Rn){},yf=class extends Of(Vh(Rn)){},BL=class{static wrapText(e,t){return this.wrapLines(e,t).join(`
`)}static wrapLines(e,t){const i=this.textWrap(e,t);return t.overflow==="hide"&&i.some(n=>n.endsWith(_i.EllipsisChar))?[]:i}static appendEllipsis(e){return e.replace(/[.,]{1,5}$/,"")+_i.EllipsisChar}static truncateLine(e,t,i,n){const s=t.textWidth(_i.EllipsisChar);let r=0,o=0;for(;o<e.length;o++){const a=t.textWidth(e.charAt(o));if(r+a>i)break;r+=a}if(e.length===o&&(!n||r+s<=i))return n?e+_i.EllipsisChar:e;for(e=e.slice(0,o).trimEnd();e.length&&t.textWidth(e)+s>i;)e=e.slice(0,-1).trimEnd();return e+_i.EllipsisChar}static textWrap(e,t){const i=e.split(_i.lineSplitter),n=kl.getMeasurer(t);if(t.textWrap==="never")return i.map(a=>this.truncateLine(a.trimEnd(),n,t.maxWidth));const s=[],r=t.textWrap==="hyphenate",o=t.textWrap==null||t.textWrap==="on-space";for(const a of i){let c=a.trimEnd();if(c===""){s.push(c);continue}let h=0,f=0,p=0;for(;h<c.length;){const m=c.charAt(h);if(f+=n.textWidth(m),m===" "&&(p=h),f>t.maxWidth){if(h===0)break;const b=n.textWidth(c.slice(0,h+1));if(b<=t.maxWidth){f=b,h++;continue}if(p){const D=this.getWordAt(c,p+1),M=n.textWidth(D);if(M<=t.maxWidth){s.push(c.slice(0,p).trimEnd()),c=c.slice(p).trimStart(),h=0,f=0,p=0;continue}else o&&M>t.maxWidth&&s.push(c.slice(0,p).trimEnd(),this.truncateLine(c.slice(p).trimStart(),n,t.maxWidth,!0))}else o&&s.push(this.truncateLine(c,n,t.maxWidth,!0));if(o){c="";break}const C=r?"-":"";let w=c.slice(0,h).trim();for(;w.length&&n.textWidth(w+C)>t.maxWidth;)w=w.slice(0,-1).trimEnd();if(s.push(w+C),!w.length){c="";break}c=c.slice(w.length).trimStart(),h=-1,f=0,p=0}h++}c&&s.push(c)}return this.avoidOrphans(s,n,t),this.clipLines(s,n,t)}static getWordAt(e,t){const i=e.indexOf(" ",t);return i===-1?e.slice(t):e.slice(t,i)}static clipLines(e,t,i){if(!i.maxHeight)return e;const{height:n,lineMetrics:s}=t.measureLines(e);if(n<=i.maxHeight)return e;for(let r=0,o=0;r<s.length;r++){const{lineHeight:a}=s[r];if(o+=a,o>i.maxHeight){if(i.overflow==="hide")return[];const c=e.slice(0,r||1),h=c.pop();return c.concat(this.truncateLine(h,t,i.maxWidth,!0))}}return e}static avoidOrphans(e,t,i){if(i.avoidOrphans===!1||e.length<2)return;const{length:n}=e,s=e[n-1],r=e[n-2];if(r.length<s.length)return;const o=r.lastIndexOf(" ");if(o===-1||o===r.indexOf(" ")||s.includes(" "))return;const a=r.slice(o+1);t.textWidth(s+a)<=i.maxWidth&&(e[n-2]=r.slice(0,o),e[n-1]=a+" "+s)}},Pi=class extends ht{constructor(){super(...arguments),this.id=Er(this),this.node=new YF({zIndex:1}).setProperties({textAlign:"center",pointerEvents:1}),this.enabled=!1,this.textAlign="center",this.fontSize=10,this.fontFamily="sans-serif",this.wrapping="always",this.padding=0,this.layoutStyle="block",this.truncated=!1}registerInteraction(e,t){return e.layoutManager.addListener("layout:complete",()=>this.updateA11yText(e,t))}computeTextWrap(e,t){const{text:i,padding:n,wrapping:s}=this,r=Math.min(this.maxWidth??1/0,e)-n*2,o=this.maxHeight??t-n*2;if(!isFinite(r)&&!isFinite(o)){this.node.text=i;return}const a=BL.wrapText(i??"",{maxWidth:r,maxHeight:o,font:this,textWrap:s});this.node.text=a,this.truncated=a.includes(_i.EllipsisChar)}updateA11yText(e,t){var n;const{proxyInteractionService:i}=e;if(this.enabled&&this.text){const s=en.toCanvas(this.node);if(s){const{id:r}=this;this.proxyText??(this.proxyText=i.createProxyElement({type:"text",domManagerId:r,where:t})),this.proxyText.textContent=this.text,this.proxyText.setBounds(s),this.proxyText.addListener("mousemove",o=>this.handleMouseMove(e,o)),this.proxyText.addListener("mouseleave",o=>this.handleMouseLeave(e,o))}}else(n=this.proxyText)==null||n.destroy(),this.proxyText=void 0}handleMouseMove(e,t){if(t!=null&&this.enabled&&this.node.visible&&this.truncated){const{x:i,y:n}=en.toCanvas(this.node),s=t.sourceEvent.offsetX+i,r=t.sourceEvent.offsetY+n;e.tooltipManager.updateTooltip(this.id,{canvasX:s,canvasY:r,showArrow:!1},[{type:"structured",title:this.text}])}}handleMouseLeave(e,t){e.tooltipManager.removeTooltip(this.id)}};Pi.SMALL_PADDING=10;R([P(),Kn("node","visible")],Pi.prototype,"enabled",2);R([P(),Kn("node")],Pi.prototype,"text",2);R([P(),Kn("node")],Pi.prototype,"textAlign",2);R([P(),Kn("node")],Pi.prototype,"fontStyle",2);R([P(),Kn("node")],Pi.prototype,"fontWeight",2);R([P(),Kn("node")],Pi.prototype,"fontSize",2);R([P(),Kn("node")],Pi.prototype,"fontFamily",2);R([P(),Kn("node","fill")],Pi.prototype,"color",2);R([P()],Pi.prototype,"spacing",2);R([P()],Pi.prototype,"maxWidth",2);R([P()],Pi.prototype,"maxHeight",2);R([P()],Pi.prototype,"wrapping",2);R([P()],Pi.prototype,"padding",2);R([P()],Pi.prototype,"layoutStyle",2);var zL=(e=>(e.X="x",e.Y="y",e))(zL||{}),GL=(e=>(e[e.Caption=0]="Caption",e[e.Legend=1]="Legend",e[e.ToolbarLeft=2]="ToolbarLeft",e[e.ToolbarBottom=3]="ToolbarBottom",e[e.Navigator=4]="Navigator",e[e.Overlay=5]="Overlay",e))(GL||{}),KF=class{constructor(){this.events=new hL,this.elements=new Map}addListener(e,t){return this.events.on(e,t)}registerElement(e,t){return this.elements.has(e)?this.elements.get(e).add(t):this.elements.set(e,new Set([t])),()=>{var i;return(i=this.elements.get(e))==null?void 0:i.delete(t)}}createContext(e,t){var n;const i=new tq(e,t);for(const s of Object.values(GL))typeof s=="number"&&((n=this.elements.get(s))==null||n.forEach(r=>r(i)));return i}emitLayoutComplete(e,t){const i="layout:complete",{width:n,height:s}=e;this.events.emit(i,{type:i,axes:t.axes??[],chart:{width:n,height:s},clipSeries:t.clipSeries??!1,series:t.series})}},tq=class{constructor(e,t){this.width=e,this.height=t,this.layoutBox=new Ge(0,0,e,t)}},nx=class{constructor(){this.title=new Pi,this.subtitle=new Pi,this.footnote=new Pi}positionCaptions(e){const{title:t,subtitle:i,footnote:n}=this,s=e.layoutBox.height/10;if(t.enabled){const{spacing:r}=t;this.positionCaption("top",t,e.layoutBox,s),this.shrinkLayoutByCaption("top",t,e.layoutBox,r)}i.enabled&&(this.positionCaption("top",i,e.layoutBox,s),this.shrinkLayoutByCaption("top",i,e.layoutBox,i.spacing)),n.enabled&&(this.positionCaption("bottom",n,e.layoutBox,s),this.shrinkLayoutByCaption("bottom",n,e.layoutBox,n.spacing))}positionAbsoluteCaptions(e){const{title:t,subtitle:i,footnote:n}=this,{rect:s}=e.series;for(const r of[t,i,n])if(r.layoutStyle==="overlay"){if(r.textAlign==="left")r.node.x=s.x+r.padding;else if(r.textAlign==="right"){const o=r.node.getBBox();r.node.x=s.x+s.width-o.width-r.padding}}}computeX(e,t){return e==="left"?t.x:e==="right"?t.x+t.width:t.x+t.width/2}positionCaption(e,t,i,n){const s=Math.max(_i.getLineHeight(t.fontSize),n);t.node.x=this.computeX(t.textAlign,i)+t.padding,t.node.y=i.y+(e==="top"?0:i.height)+t.padding,t.node.textBaseline=e,t.computeTextWrap(i.width,s)}shrinkLayoutByCaption(e,t,i,n=0){if(t.layoutStyle==="block"){const s=t.node.getBBox();i.shrink(Math.ceil(e==="top"?s.y-i.y+s.height+n:i.y+i.height-s.y+n),e)}}};R([P()],nx.prototype,"title",2);R([P()],nx.prototype,"subtitle",2);R([P()],nx.prototype,"footnote",2);var iq=["candlestick","hollow-candlestick","ohlc","line","step-line","hlc","high-low"],nq=class{constructor(e){this.chartService=e,this.mementoOriginatorKey="chartType"}createMemento(){var t,i;let e=(i=(t=this.chartService.publicApi)==null?void 0:t.getOptions())==null?void 0:i.chartType;return e==null&&(e="candlestick"),e}guardMemento(e){return e==null||iq.includes(e)}restoreMemento(e,t,i){var s;if(i==null)return;const n={chartType:i};(s=this.chartService.publicApi)==null||s.updateDelta(n).catch(r=>Ee.error("error restoring state",r))}},$F=class{constructor(){this.destroyFns=[]}destroy(){this.destroyFns.forEach(e=>e()),this.destroyFns.length=0}setFns(e){this.destroy(),this.destroyFns=e}push(...e){this.destroyFns.push(...e)}},sC="11.2.4",uk=Symbol("previous-memento-not-found"),sq=class{constructor(e){this.history=[],this.historyIndex=-1,this.originators=new Map,this.clearState=new Map,this.maxHistoryLength=100,this.debug=$t.create(!0,"history"),this.destroyFns=new $F,this.destroyFns.setFns([e.addListener("series-undo",this.undo.bind(this)),e.addListener("series-redo",this.redo.bind(this))])}destroy(){this.destroyFns.destroy()}addMementoOriginator(e){this.originators.set(e.mementoOriginatorKey,e),this.clearState.set(e.mementoOriginatorKey,e.createMemento()),this.debugEvent("History add originator:",e.mementoOriginatorKey)}clear(){this.debug("History clear:",Object.keys(this.originators)),this.history=[],this.historyIndex=-1;for(const[e,t]of this.originators.entries())this.clearState.set(e,t.createMemento())}record(e,...t){this.historyIndex<this.history.length-1&&(this.history=this.history.slice(0,this.historyIndex+1)),this.history.length>this.maxHistoryLength&&(this.history=this.history.slice(-this.maxHistoryLength));const i=new Map;for(const n of t){if(!this.originators.has(n.mementoOriginatorKey))throw new Error(`Originator [${n.mementoOriginatorKey}] has not been added to the HistoryManager.`);i.set(n.mementoOriginatorKey,n.createMemento())}this.history.push({label:e,mementos:i}),this.historyIndex=this.history.length-1,this.debugEvent(`History record: [${e}]`)}undo(){const e=this.history[this.historyIndex];if(e){for(const t of e.mementos.keys()){const i=this.findPreviousMemento(t);if(i===uk)throw new Error(`Could not find previous memento for [${t}].`);this.restoreMemento(t,i)}this.historyIndex-=1,this.debugEvent(`History undo: [${e.label}]`)}}redo(){const e=this.history[this.historyIndex+1];if(e){for(const[t,i]of e.mementos.entries())this.restoreMemento(t,i);this.historyIndex+=1,this.debugEvent(`History redo: [${e.label}]`)}}findPreviousMemento(e){for(let t=this.historyIndex-1;t>=0;t--)if(this.history[t].mementos.has(e))return this.history[t].mementos.get(e);return this.clearState.has(e)?this.clearState.get(e):uk}restoreMemento(e,t){var i;(i=this.originators.get(e))==null||i.restoreMemento(sC,sC,t)}debugEvent(...e){this.debug(...e,this.history.map((t,i)=>i===this.historyIndex?`** ${t.label} **`:t.label))}},ZF=class YM{constructor(t){this.version=t.split("-")[0]}save(...t){const i={version:this.version};for(const n of Object.values(t))i[n.mementoOriginatorKey]=this.encode(n,n.createMemento());return i}restore(t,...i){if(typeof t!="object"){Ee.warnOnce(`Could not restore data of type [${typeof t}], expecting an object, ignoring.`);return}if(t==null){Ee.warnOnce("Could not restore data of type [null], expecting an object, ignoring.");return}if(!("version"in t)||typeof t.version!="string"){Ee.warnOnce("Could not restore data, missing [version] string in object, ignoring.");return}for(const n of i){const s=this.decode(n,t[n.mementoOriginatorKey]),r=[];if(!n.guardMemento(s,r)){const o=r.length>0?`

${r.join(`

`)}

`:"";Ee.warnOnce(`Could not restore [${n.mementoOriginatorKey}] data, value was invalid, ignoring.${o}`,s);return}n.restoreMemento(this.version,t.version,s)}}encode(t,i){try{return JSON.parse(JSON.stringify(i,YM.encodeTypes))}catch(n){throw new Error(`Failed to encode [${t.mementoOriginatorKey}] value [${n}].`,{cause:n})}}decode(t,i){if(i==null)return i;try{return JSON.parse(JSON.stringify(i),YM.decodeTypes)}catch(n){throw new Error(`Failed to decode [${t.mementoOriginatorKey}] value [${n}].`,{cause:n})}}static encodeTypes(t,i){return kf(this[t])?{__type:"date",value:this[t].toISOString()}:i}static decodeTypes(t,i){return an(this[t])&&"__type"in this[t]&&this[t].__type==="date"?new Date(this[t].value):i}},rq=class{constructor(){this.caretaker=new ZF(sC),this.state=new Map}setState(e,t){Da(this.state.get(e.mementoOriginatorKey),t)||this.setStateAndRestore(e,t)}setStateAndRestore(e,t){this.state.set(e.mementoOriginatorKey,t),this.restoreState(e)}restoreState(e){const{caretaker:t,state:i}=this;if(!i.has(e.mementoOriginatorKey))return;const n=i.get(e.mementoOriginatorKey);t.restore({version:t.version,[e.mementoOriginatorKey]:n},e)}},oq=`.ag-charts-wrapper,.ag-charts-wrapper:after,.ag-charts-wrapper:before,.ag-charts-wrapper *,.ag-charts-wrapper *:after,.ag-charts-wrapper *:before{box-sizing:border-box}.ag-charts-wrapper{--align-items: center;--justify-content: center;position:relative;user-select:none;-webkit-user-select:none;-webkit-tap-highlight-color:rgba(0,0,0,0)}.ag-charts-wrapper--safe-horizontal{--justify-content: flex-start}.ag-charts-wrapper--safe-vertical{--align-items: flex-start}.ag-charts-tab-guard{width:0%;height:0%;position:absolute;pointer-events:none}.ag-charts-canvas-center{width:100%;height:100%;position:absolute;touch-action:auto;pointer-events:auto;display:flex;align-items:var(--align-items);justify-content:var(--justify-content)}.ag-charts-canvas-container,.ag-charts-canvas{position:relative;user-select:none;-webkit-user-select:none}.ag-charts-canvas-container>*,.ag-charts-canvas>*{pointer-events:none}.ag-charts-canvas canvas{display:block}.ag-charts-series-area{outline:none;pointer-events:auto;position:absolute}.ag-charts-swapchain{top:0;left:0;outline:none;opacity:0;pointer-events:none;position:absolute;width:100%;height:100%}.ag-charts-swapchain:focus-visible{opacity:1}.ag-charts-canvas-proxy,.ag-charts-canvas-overlay{inset:0;pointer-events:none;position:absolute;user-select:none;-webkit-user-select:none}.ag-charts-canvas-overlay>*{position:absolute;pointer-events:auto}.ag-charts-theme-default,.ag-charts-theme-default-dark{--ag-charts-accent-color: #2196f3;--ag-charts-background-color: #fff;--ag-charts-border-color: #dddddd;--ag-charts-foreground-color: #464646;--ag-charts-font-family: Verdana, sans-serif;--ag-charts-font-size: 12px;--ag-charts-font-weight: 400;--ag-charts-padding: 20px;--ag-charts-shadow-color: #00000080;--ag-charts-subtle-text-color: #8c8c8c;--ag-charts-text-color: #464646;--ag-charts-chrome-background-color: #fafafa;--ag-charts-chrome-font-family: Verdana, sans-serif;--ag-charts-chrome-font-size: 12px;--ag-charts-chrome-font-weight: 400;--ag-charts-chrome-subtle-text-color: #8c8c8c;--ag-charts-chrome-text-color: #181d1f;--ag-charts-input-background-color: #fff;--ag-charts-input-text-color: #464646;--ag-charts-crosshair-label-background-color: #fff;--ag-charts-crosshair-label-text-color: #464646;--ag-charts-spacing: 4px;--ag-charts-border-radius: 4px;--ag-charts-shadow: 0 2px 8px 0 color-mix(in srgb, black 8%, transparent);--ag-charts-focus-shadow: 0 0 0 3px var(--ag-charts-accent-color);--ag-charts-focus-color: color-mix(in srgb, var(--ag-charts-background-color), var(--ag-charts-accent-color) 12%);--ag-charts-input-border-color: var(--ag-charts-border-color);--ag-charts-input-border-radius: var(--ag-charts-border-radius);--ag-charts-input-focus-border-color: var(--ag-charts-accent-color);--ag-charts-input-focus-text-color: var(--ag-charts-accent-color);--ag-charts-input-disabled-background-color: color-mix( in srgb, var(--ag-charts-chrome-background-color), var(--ag-charts-foreground-color) 6% );--ag-charts-input-disabled-border-color: var(--ag-charts-border-color);--ag-charts-input-disabled-text-color: color-mix( in srgb, var(--ag-charts-chrome-background-color), var(--ag-charts-input-text-color) 50% );--ag-charts-input-placeholder-text-color: color-mix( in srgb, var(--ag-charts-input-background-color), var(--ag-charts-input-text-color) 60% );--ag-charts-button-background-color: var(--ag-charts-background-color);--ag-charts-button-border-color: var(--ag-charts-border-color);--ag-charts-button-border-radius: var(--ag-charts-border-radius);--ag-charts-button-text-color: var(--ag-charts-text-color);--ag-charts-button-focus-background-color: color-mix( in srgb, var(--ag-charts-button-background-color), var(--ag-charts-accent-color) 12% );--ag-charts-button-focus-border-color: var(--ag-charts-accent-color);--ag-charts-button-focus-text-color: var(--ag-charts-accent-color);--ag-charts-button-disabled-background-color: color-mix( in srgb, var(--ag-charts-chrome-background-color), var(--ag-charts-foreground-color) 6% );--ag-charts-button-disabled-border-color: var(--ag-charts-border-color);--ag-charts-button-disabled-text-color: color-mix( in srgb, var(--ag-charts-chrome-background-color), var(--ag-charts-chrome-text-color) 50% );--ag-charts-checkbox-background-color: color-mix( in srgb, var(--ag-charts-background-color), var(--ag-charts-foreground-color) 35% );--ag-charts-checkbox-checked-background-color: var(--ag-charts-accent-color);--ag-charts-chrome-font-size-small: var(--ag-charts-chrome-font-size);--ag-charts-chrome-font-size-medium: calc(var(--ag-charts-chrome-font-size) * (13 / 12));--ag-charts-chrome-font-size-large: calc(var(--ag-charts-chrome-font-size) * (14 / 12));--ag-charts-border: solid 1px var(--ag-charts-border-color);--ag-charts-focus-border: solid 1px var(--ag-charts-accent-color);--ag-charts-focus-border-shadow: 0 0 0 3px color-mix(in srgb, transparent, var(--ag-charts-accent-color) 20%);--ag-charts-layer-menu: 6;--ag-charts-layer-ui-overlay: 5;--ag-charts-layer-tooltip: 4;--ag-charts-layer-toolbar: 3;--ag-charts-layer-crosshair: 2;--ag-charts-layer-annotations: 1}.ag-charts-theme-default-dark{--ag-charts-shadow: 0 2px 12px 0 color-mix(in srgb, black 33.3%, transparent);--ag-charts-focus-color: color-mix(in srgb, var(--ag-charts-background-color), var(--ag-charts-accent-color) 22%)}.ag-chart-canvas-wrapper .ag-charts-theme-default{--ag-charts-border-radius: var(--ag-border-radius, 4px);--ag-charts-border: var(--ag-borders-critical, solid 1px) var(--ag-charts-border-color);--ag-charts-focus-shadow: var(--ag-focus-shadow, 0 0 0 3px var(--ag-charts-accent-color));--ag-charts-focus-border-shadow: var( --ag-focus-shadow, 0 0 0 3px color-mix(in srgb, transparent, var(--ag-charts-accent-color) 20%) )}.ag-charts-icon{display:block;width:20px;height:20px;speak:none;speak:never;mask:var(--icon) center / contain no-repeat;background-color:currentColor;transition:background-color .25s ease-in-out}.ag-charts-icon-align-center{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBmaWxsPSIjMDAwIiBkPSJNNyAxMGg2djFIN3pNNCA3aDEydjFINHptMSA2aDEwdjFINXoiLz48L3N2Zz4=)}.ag-charts-icon-align-left{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBmaWxsPSIjMDAwIiBkPSJNNCAxMGg2djFINHptMC0zaDEydjFINHptMCA2aDEwdjFINHoiLz48L3N2Zz4=)}.ag-charts-icon-align-right{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBmaWxsPSIjMDAwIiBkPSJNMTAgMTBoNnYxaC02ek00IDdoMTJ2MUg0em0yIDZoMTB2MUg2eiIvPjwvc3ZnPg==)}.ag-charts-icon-arrow-drawing{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTE1LjI5MyA0LjVIMTIuNXYtMUgxN3Y0aC0xVjUuMjA3bC05LjY0NiA5LjY0Ny0uNzA4LS43MDh6IiBmaWxsPSIjMDAwIi8+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik03IDE2YTIuNSAyLjUgMCAxIDEtNSAwIDIuNSAyLjUgMCAwIDEgNSAwbS0yLjUgMS41YTEuNSAxLjUgMCAxIDAgMC0zIDEuNSAxLjUgMCAwIDAgMCAzIiBmaWxsPSIjMDAwIi8+PC9zdmc+)}.ag-charts-icon-arrow-down-drawing{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik02IDhMMS41IDhMMTAgMThMMTguNSA4TDE0IDhMMTQgM0w2IDNMNiA4Wk03IDRMNyA5SDMuNjYyNDRMMTAgMTYuNDU2TDE2LjMzNzYgOUwxMyA5TDEzIDRMNyA0WiIgZmlsbD0iYmxhY2siLz4KPC9zdmc+Cg==)}.ag-charts-icon-arrow-up-drawing{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xNCAxMkgxOC41TDEwIDJMMS41IDEySDZMNi4wMDAwMiAxN0gxNFYxMlpNMTMgMTZWMTFIMTYuMzM3NkwxMCAzLjU0NDA1TDMuNjYyNDQgMTFIN0w3LjAwMDAyIDE2SDEzWiIgZmlsbD0iYmxhY2siLz4KPC9zdmc+Cg==)}.ag-charts-icon-callout-annotation{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMyA0LjVBMS41IDEuNSAwIDAgMSA0LjUgM2gxMUExLjUgMS41IDAgMCAxIDE3IDQuNXY4YTEuNSAxLjUgMCAwIDEtMS41IDEuNWgtNC41MTRhMjYgMjYgMCAwIDAtMi4wMTcgMS41NGwtLjMxNC4yNmMtLjU1LjQ1Ny0xLjExNS45MjYtMS43NiAxLjQtLjY2OS40OTEtMS41NjItLjAxMi0xLjU2Mi0uOFYxNEg0LjVBMS41IDEuNSAwIDAgMSAzIDEyLjV6TTQuNSA0YS41LjUgMCAwIDAtLjUuNXY4YS41LjUgMCAwIDAgLjUuNWgxLjgzM3YzLjM3MmEzNiAzNiAwIDAgMCAxLjY3OC0xLjMzOGwuMzItLjI2NWEyNiAyNiAwIDAgMSAyLjIyNS0xLjY4NWwuMTI2LS4wODRIMTUuNWEuNS41IDAgMCAwIC41LS41di04YS41LjUgMCAwIDAtLjUtLjV6IiBjbGlwLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=)}.ag-charts-icon-candlestick-series{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNNyAxdjNoMnYxMkg3djNINnYtM0g0VjRoMlYxek01IDVoM3YxMEg1ek0xMSAxNFY2aDJWMy4yNWgxVjZoMnY4aC0ydjIuNzVoLTFWMTR6bTEtN2gzdjZoLTN6IiBjbGlwLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=)}.ag-charts-icon-close{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBkPSJtNSA1IDEwIDEwTTUgMTUgMTUgNSIgc3Ryb2tlPSIjMDAwIi8+PC9zdmc+)}.ag-charts-icon-comment-annotation{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNNy41MTMgMy45OTVhNi41IDYuNSAwIDAgMSA2LjA5OCAxMS40MWMtLjU4OC4zOTMtMS4yMTcuNTM2LTEuODI5LjU4NWExMyAxMyAwIDAgMS0xLjI3LjAxN0EyNyAyNyAwIDAgMCAxMCAxNkg0LjVhLjUuNSAwIDAgMS0uNS0uNVYxMHEwLS4yNDctLjAwNy0uNTEzYy0uMDA4LS40MTYtLjAxNi0uODU3LjAxNy0xLjI2OS4wNS0uNjEyLjE5Mi0xLjI0LjU4NS0xLjgzYTYuNSA2LjUgMCAwIDEgMi45MTgtMi4zOTNtMy41Ni42MWE1LjUgNS41IDAgMCAwLTUuNjQ2IDIuMzRjLS4yNjYuMzk3LS4zNzkuODQyLS40MiAxLjM1NC0uMDMuMzYtLjAyMi43MTgtLjAxNSAxLjEwOFE1IDkuNjg5IDUgMTB2NWg1cS4zMTEuMDAxLjU5My4wMDhjLjM5LjAwNy43NDcuMDE1IDEuMTA4LS4wMTUuNTEyLS4wNDEuOTU3LS4xNTQgMS4zNTUtLjQyYTUuNSA1LjUgMCAwIDAtMS45ODMtOS45NjciIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg==)}.ag-charts-icon-crosshair-add-line{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZD0iTTEwIDUuNWEuNS41IDAgMCAxIC41LjV2My41aDMuODc1YS41LjUgMCAwIDEgMCAxSDEwLjV2NC4yNWEuNS41IDAgMSAxLTEgMFYxMC41SDUuNjI1YS41LjUgMCAxIDEgMC0xSDkuNVY2YS41LjUgMCAwIDEgLjUtLjUiLz48L3N2Zz4=)}.ag-charts-icon-date-range-drawing{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBkPSJNMiAyaDF2MTZIMnptMTUgMGgxdjE2aC0xeiIgZmlsbD0iIzE4MUQxRiIvPjxwYXRoIGQ9Ik0xMy4xNTcgMTFINXYtMWg3Ljc5M0wxMSA4LjIwN2wuNzA3LS43MDcgMy4xODIgMy4xODItMy4xODIgMy4xODItLjcwNy0uNzA3eiIgZmlsbD0iIzAwMCIvPjwvc3ZnPg==)}.ag-charts-icon-date-price-range-drawing{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBkPSJNMyAySDJ2MTZoMXptMy41MDcgNC44OUw4LjUgNC44OTVWMTBINXYxaDMuNXY3aDF2LTdoNS4wODhsLTEuOTU3IDEuOTU3LjcwNy43MDcgMy4xODItMy4xODJMMTMuMzM4IDcuM2wtLjcwNy43MDdMMTQuNjI0IDEwSDkuNVY0LjkzMmwxLjk1NyAxLjk1Ny43MDctLjcwN0w4Ljk4MiAzIDUuOCA2LjE4MnoiIGZpbGw9IiMxODFEMUYiLz48L3N2Zz4=)}.ag-charts-icon-delete{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZD0iTTguNDk2IDguOTk2QS41LjUgMCAwIDEgOSA5LjQ5MnY0YS41LjUgMCAxIDEtMSAuMDA4di00YS41LjUgMCAwIDEgLjQ5Ni0uNTA0TTEyIDkuNWEuNS41IDAgMCAwLTEgMHY0YS41LjUgMCAwIDAgMSAweiIvPjxwYXRoIGZpbGw9IiMxMzE3MjIiIGZpbGwtcnVsZT0iZXZlbm9kZCIgZD0iTTYgNVYzLjVBMi41IDIuNSAwIDAgMSA4LjUgMWgzQTIuNSAyLjUgMCAwIDEgMTQgMy41VjVoMi44MzNhLjUuNSAwIDAgMSAwIDFIMTV2MTAuMjVjMCAuNDE1LS4wNjYuODYzLS4zIDEuMjIxLS4yNTcuMzk0LS42NzIuNjEyLTEuMi42MTJoLTdjLS41MjggMC0uOTQzLS4yMTgtMS4yLS42MTItLjIzNC0uMzU4LS4zLS44MDYtLjMtMS4yMjFWNkgzLjMzM2EuNS41IDAgMCAxIDAtMXptMS0xLjVBMS41IDEuNSAwIDAgMSA4LjUgMmgzQTEuNSAxLjUgMCAwIDEgMTMgMy41VjVIN3pNNiAxNi4yNVY2aDh2MTAuMjVjMCAuMzM1LS4wNTkuNTU0LS4xMzguNjc1LS4wNTUuMDg1LS4xNC4xNTgtLjM2Mi4xNThoLTdjLS4yMjIgMC0uMzA3LS4wNzMtLjM2Mi0uMTU4LS4wOC0uMTIxLS4xMzgtLjM0LS4xMzgtLjY3NSIgY2xpcC1ydWxlPSJldmVub2RkIi8+PC9zdmc+)}.ag-charts-icon-disjoint-channel,.ag-charts-icon-disjoint-channel-drawing{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMTkuMDI4IDE3LjQ2YTIuMjUgMi4yNSAwIDAgMC00LjA5Mi0xLjg1bC05LjUxMS0yLjM3OGEyLjI1IDIuMjUgMCAxIDAtLjIyNS45NzRsOS40NzUgMi4zNjlhMi4yNTEgMi4yNTEgMCAwIDAgNC4zNTMuODg2bS0xLjY2Mi0xLjk2NWExLjI1IDEuMjUgMCAxIDEtLjg4NSAyLjMzOCAxLjI1IDEuMjUgMCAwIDEgLjg4NS0yLjMzOE00LjM0MyAxMy42NjlhMS4yNSAxLjI1IDAgMSAwLTIuMzM4LS44ODUgMS4yNSAxLjI1IDAgMCAwIDIuMzM4Ljg4NU0zLjk3IDguNzY5YTIuMjUgMi4yNSAwIDAgMCAxLjQ1NS0yLjExbDkuNTExLTIuMzc4YTIuMjUgMi4yNSAwIDEgMC0uMjYtLjk2NUw1LjIgNS42ODVhMi4yNSAyLjI1IDAgMSAwLTEuMjMgMy4wODRtLjM3My0yLjU0N2ExLjI1IDEuMjUgMCAxIDEtMi4zMzguODg1IDEuMjUgMS4yNSAwIDAgMSAyLjMzOC0uODg1bTEzLjc1LTMuNDM4YTEuMjUgMS4yNSAwIDEgMS0yLjMzOC44ODUgMS4yNSAxLjI1IDAgMCAxIDIuMzM4LS44ODUiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg==)}.ag-charts-icon-drag-handle{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48Y2lyY2xlIGN4PSI1Ljc1IiBjeT0iNy43NSIgcj0iLjc1IiBmaWxsPSIjMDAwIiBmaWxsLW9wYWNpdHk9Ii41Ii8+PGNpcmNsZSBjeD0iOS43NSIgY3k9IjcuNzUiIHI9Ii43NSIgZmlsbD0iIzAwMCIgZmlsbC1vcGFjaXR5PSIuNSIvPjxjaXJjbGUgY3g9IjEzLjc1IiBjeT0iNy43NSIgcj0iLjc1IiBmaWxsPSIjMDAwIiBmaWxsLW9wYWNpdHk9Ii41Ii8+PGNpcmNsZSBjeD0iMTMuNzUiIGN5PSIxMS43NSIgcj0iLjc1IiBmaWxsPSIjMDAwIiBmaWxsLW9wYWNpdHk9Ii41Ii8+PGNpcmNsZSBjeD0iOS43NSIgY3k9IjExLjc1IiByPSIuNzUiIGZpbGw9IiMwMDAiIGZpbGwtb3BhY2l0eT0iLjUiLz48Y2lyY2xlIGN4PSI1Ljc1IiBjeT0iMTEuNzUiIHI9Ii43NSIgZmlsbD0iIzAwMCIgZmlsbC1vcGFjaXR5PSIuNSIvPjwvc3ZnPg==)}.ag-charts-icon-fibonacci-retracement-drawing{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBmaWxsPSIjMDAwIiBkPSJNMiA1aDEydjFIMnoiLz48Y2lyY2xlIGN4PSIxNS43NSIgY3k9IjUuNSIgcj0iMS43NSIgc3Ryb2tlPSIjMDAwIi8+PGNpcmNsZSBjeD0iNC4yNSIgY3k9IjE0LjUiIHI9IjEuNzUiIHN0cm9rZT0iIzAwMCIvPjxwYXRoIGZpbGw9IiMwMDAiIGQ9Ik0xOCAxNUg2di0xaDEyem0wLTQuNUgydi0xaDE2eiIvPjwvc3ZnPg==)}.ag-charts-icon-fibonacci-retracement-trend-based-drawing{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBmaWxsPSIjMDAwIiBkPSJtNC45OTYgMTIuNjc0IDMuMjkxLTUuNzQzLjg2OC40OTctMy4yOTEgNS43NDN6Ii8+PGNpcmNsZSBjeD0iOS43NSIgY3k9IjUuNSIgcj0iMS43NSIgc3Ryb2tlPSIjMDAwIi8+PGNpcmNsZSBjeD0iNC4zNTEiIGN5PSIxNC41IiByPSIxLjc1IiBzdHJva2U9IiMwMDAiLz48cGF0aCBmaWxsPSIjMDAwIiBkPSJNMTggNmgtN1Y1aDd6bTAgNC41aC03di0xaDd6bTAgNC41SDZ2LTFoMTJ6Ii8+PC9zdmc+)}.ag-charts-icon-fill-color{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJtOC4wNzEgNC4wNi0uOTI0LS45MjQuNzA3LS43MDcgNy4yODggNy4yODgtNC45NSA0Ljk1YTMuNSAzLjUgMCAwIDEtNC45NSAwbC0xLjQxNC0xLjQxNGEzLjUgMy41IDAgMCAxIDAtNC45NXptLjcwNy43MDhMNC41MzYgOS4wMWEyLjUgMi41IDAgMCAwIDAgMy41MzZMNS45NSAxMy45NmEyLjUgMi41IDAgMCAwIDMuNTM1IDBsNC4yNDMtNC4yNDN6bTYuOSA3LjIwMi0uMzQ1LjM2My0uMzQ0LS4zNjNhLjUuNSAwIDAgMSAuNjg4IDBtLS4zNDUgMS4wOGE4IDggMCAwIDAtLjI4LjMyMyA0LjMgNC4zIDAgMCAwLS40MDkuNTgyYy0uMTEzLjIwMS0uMTQ0LjMyNi0uMTQ0LjM3OGEuODMzLjgzMyAwIDAgMCAxLjY2NyAwYzAtLjA1Mi0uMDMxLS4xNzctLjE0NC0uMzc4YTQuMyA0LjMgMCAwIDAtLjQxLS41ODIgOCA4IDAgMCAwLS4yOC0uMzIybS0uMzQ0LTEuMDguMzQ0LjM2My4zNDQtLjM2My4wMDIuMDAyLjAwNC4wMDQuMDEzLjAxMmE2IDYgMCAwIDEgLjIwNi4yMDhjLjEzMS4xMzYuMzA4LjMyNy40ODUuNTQ1LjE3Ni4yMTUuMzYzLjQ2Ny41MDcuNzI0LjEzNy4yNDMuMjczLjU1My4yNzMuODY4YTEuODMzIDEuODMzIDAgMSAxLTMuNjY3IDBjMC0uMzE1LjEzNi0uNjI1LjI3My0uODY4LjE0NC0uMjU3LjMzLS41MDkuNTA3LS43MjRhOSA5IDAgMCAxIC42NDUtLjcwOGwuMDQ2LS4wNDUuMDEzLS4wMTIuMDA0LS4wMDR6IiBjbGlwLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=)}.ag-charts-icon-hollow-candlestick-series{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZmlsbC1vcGFjaXR5PSIuMTUiIGQ9Ik01IDVoM3YxMEg1eiIvPjxwYXRoIGZpbGw9IiMxMzE3MjIiIGZpbGwtcnVsZT0iZXZlbm9kZCIgZD0iTTcgMXYzaDJ2MTJIN3YzSDZ2LTNINFY0aDJWMXpNNSA1aDN2MTBINXptNyAyaDN2NmgtM3ptLTEgN1Y2aDJWMy4yNWgxVjZoMnY4aC0ydjIuNzVoLTFWMTR6IiBjbGlwLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=)}.ag-charts-icon-horizontal-line,.ag-charts-icon-horizontal-line-drawing{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNLjUgOS41aDcuMzA2YTIuMjUgMi4yNSAwIDAgMSA0LjM4OCAwSDE5LjV2MWgtNy4zMDZhMi4yNSAyLjI1IDAgMCAxLTQuMzg4IDBILjV6bTkuNSAxLjc1YTEuMjUgMS4yNSAwIDEgMCAwLTIuNSAxLjI1IDEuMjUgMCAwIDAgMCAyLjUiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg==)}.ag-charts-icon-line-color{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMTQuMjQyIDIuNzIyYy0uNjEyIDAtMS4yLjI0My0xLjYzMi42NzVsLTEuMzQzIDEuMzQ0YS41LjUgMCAwIDAtLjExMi4xMTJMNC4wNSAxMS45NTljLS4yMDcuMjA3LS4zNi40Ni0uNDQ2Ljc0di4wMDFsLS42OSAyLjc2N3YuMDAyYS44Mi44MiAwIDAgMCAxLjAyMiAxLjAyMWguMDAybDIuNjM0LS44MjJjLjI4LS4wODUuNTM0LS4yMzcuNzQtLjQ0M2w3LjEwNy03LjEwOGEuNS41IDAgMCAwIC4xMTItLjExMmwxLjM0My0xLjM0M2EyLjMwOCAyLjMwOCAwIDAgMC0xLjYzMi0zLjk0TTE0LjEyMiA3bDEuMDQ0LTEuMDQ1YTEuMzA4IDEuMzA4IDAgMSAwLTEuODQ5LTEuODVMMTIuMjcxIDUuMTV6bS0yLjU1OC0xLjE0Mi02LjgwNyA2LjgwOWEuOC44IDAgMCAwLS4xOTYuMzI1bC0uNzUgMi40NjggMi40Ny0uNzQ5YS44LjggMCAwIDAgLjMyNS0uMTk0bDYuODA4LTYuODF6IiBjbGlwLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=)}.ag-charts-icon-line-series{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJtMTcuMzYyIDQuODczLTQuNTk0IDYuNjU0LTQuODUtMy4zMTctNC4yNTEgNi45NzctLjg1NC0uNTJMNy42MTIgNi43OWw0Ljg5OSAzLjM1IDQuMDI4LTUuODM2eiIgY2xpcC1ydWxlPSJldmVub2RkIi8+PC9zdmc+)}.ag-charts-icon-line-style-dashed{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBmaWxsPSIjMDAwIiBkPSJNMiA5aDR2MUgyem0xMiAwaDR2MWgtNHpNOCA5aDR2MUg4eiIvPjwvc3ZnPg==)}.ag-charts-icon-line-style-dotted{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48Y2lyY2xlIGN4PSIyLjUiIGN5PSI5LjUiIHI9Ii41IiBmaWxsPSIjMDAwIi8+PGNpcmNsZSBjeD0iNC41IiBjeT0iOS41IiByPSIuNSIgZmlsbD0iIzAwMCIvPjxjaXJjbGUgY3g9IjYuNSIgY3k9IjkuNSIgcj0iLjUiIGZpbGw9IiMwMDAiLz48Y2lyY2xlIGN4PSI4LjUiIGN5PSI5LjUiIHI9Ii41IiBmaWxsPSIjMDAwIi8+PGNpcmNsZSBjeD0iMTAuNSIgY3k9IjkuNSIgcj0iLjUiIGZpbGw9IiMwMDAiLz48Y2lyY2xlIGN4PSIxMi41IiBjeT0iOS41IiByPSIuNSIgZmlsbD0iIzAwMCIvPjxjaXJjbGUgY3g9IjE0LjUiIGN5PSI5LjUiIHI9Ii41IiBmaWxsPSIjMDAwIi8+PGNpcmNsZSBjeD0iMTYuNSIgY3k9IjkuNSIgcj0iLjUiIGZpbGw9IiMwMDAiLz48L3N2Zz4=)}.ag-charts-icon-line-style-solid{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBmaWxsPSIjMDAwIiBkPSJNMiA5aDE2djFIMnoiLz48L3N2Zz4=)}.ag-charts-icon-line-with-markers-series{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJtMTguMTk4IDQuODg4LTMuNTU2IDQuOTE4YTIuMjUgMi4yNSAwIDEgMS0zLjg2Ni43NWwtMS40MzItLjlhMi4yNCAyLjI0IDAgMCAxLTIuMDA5LjQzNWwtMy44MjggNi40MjgtLjg2LS41MTJMNi40NSA5LjYyM2EyLjI1IDIuMjUgMCAxIDEgMy41MS0uNzYxbDEuMzI5LjgzNWEyLjI0IDIuMjQgMCAwIDEgMi41NTctLjQ5N2wzLjU0Mi00Ljg5OHptLTQuOTYgNS4xNTNhMS4yNSAxLjI1IDAgMSAwLS42NCAyLjQxOSAxLjI1IDEuMjUgMCAwIDAgLjY0LTIuNDE5TTkuMSA4LjMyMXEuMDY2LS4xOTIuMDY3LS40MDRhMS4yNSAxLjI1IDAgMSAwLS4wNjcuNDA0IiBjbGlwLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=)}.ag-charts-icon-lock,.ag-charts-icon-locked{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMTAuMjA3IDMuNzY0YTIuODk0IDIuODk0IDAgMCAwLTIuODk1IDIuODk0VjloNS43ODlWNi42NThhMi44OTQgMi44OTQgMCAwIDAtMi44OTUtMi44OTRNMTQuMSA5VjYuNjU4YTMuODk0IDMuODk0IDAgMSAwLTcuNzg5IDB2Mi4zNDlBMi41IDIuNSAwIDAgMCA0IDExLjV2M0EyLjUgMi41IDAgMCAwIDYuNSAxN2g4YTIuNSAyLjUgMCAwIDAgMi41LTIuNXYtM0EyLjUgMi41IDAgMCAwIDE0LjUgOXpNNi41IDEwQTEuNSAxLjUgMCAwIDAgNSAxMS41djNBMS41IDEuNSAwIDAgMCA2LjUgMTZoOGExLjUgMS41IDAgMCAwIDEuNS0xLjV2LTNhMS41IDEuNSAwIDAgMC0xLjUtMS41eiIgY2xpcC1ydWxlPSJldmVub2RkIi8+PC9zdmc+)}.ag-charts-icon-measurer-drawing{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0ibTQuNDYxIDEyLjcxIDEuNTMyLTEuNTMxIDEuNDE0IDEuNDE0LjcwNy0uNzA3TDYuNyAxMC40NzJsMS41MzItMS41MzMgMiAyIC43MDctLjcwNy0yLTIgNi4wMS02LjAxIDIuODMgMi44MjhMNS4wNSAxNy43NzggMi4yMjIgMTQuOTVsMS41MzItMS41MzIgMS40MTQgMS40MTQuNzA3LS43MDd6TS44MDggMTQuOTVsLjcwNy0uNzA3TDE0LjI0MyAxLjUxNWwuNzA3LS43MDcuNzA3LjcwNyAyLjgyOCAyLjgyOC43MDcuNzA3LS43MDcuNzA3TDUuNzU3IDE4LjQ4NWwtLjcwNy43MDctLjcwNy0uNzA3LTIuODI4LTIuODI4em0xMS4wNzgtNi44MzVMMTAuNDcgNi43bC43MDctLjcwNyAxLjQxNSAxLjQxNHptLjgyNC0zLjY1NCAxIDEgLjcwOC0uNzA3LTEtMXoiIGZpbGw9IiMxODFEMUYiLz48L3N2Zz4=)}.ag-charts-icon-note-annotation{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMyA0LjVBMS41IDEuNSAwIDAgMSA0LjUgM2gxMUExLjUgMS41IDAgMCAxIDE3IDQuNXY4YTEuNSAxLjUgMCAwIDEtMS41IDEuNWgtMy4yMWwtMS40NjkgMi41N2ExIDEgMCAwIDEtMS42ODIuMDg1TDcuMjQzIDE0SDQuNUExLjUgMS41IDAgMCAxIDMgMTIuNXpNNC41IDRhLjUuNSAwIDAgMC0uNS41djhhLjUuNSAwIDAgMCAuNS41aDMuMjU3bDIuMTk2IDMuMDc0TDExLjcxIDEzaDMuNzlhLjUuNSAwIDAgMCAuNS0uNXYtOGEuNS41IDAgMCAwLS41LS41eiIgY2xpcC1ydWxlPSJldmVub2RkIi8+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNNi41IDYuNUEuNS41IDAgMCAxIDcgNmg2YS41LjUgMCAwIDEgMCAxSDdhLjUuNSAwIDAgMS0uNS0uNU02LjUgOS41QS41LjUgMCAwIDEgNyA5aDZhLjUuNSAwIDAgMSAwIDFIN2EuNS41IDAgMCAxLS41LS41IiBjbGlwLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=)}.ag-charts-icon-ohlc-series{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZD0iTTEzIDExaC0zdi0xaDNWM2gxdjJoNHYxaC00djExaC0xek02IDE3di0yaDN2LTFINlY0SDV2MUgydjFoM3YxMXoiLz48L3N2Zz4=)}.ag-charts-icon-pan-end{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZD0ibTYuNjQ2IDEzLjgxMy0uMzUzLjM1NC43MDcuNzA3LjM1NC0uMzU0ek0xMS4xNjYgMTBsLjM1NC4zNTQuMzU0LS4zNTQtLjM1NC0uMzU0ek03LjM1NSA1LjQ4IDcgNS4xMjZsLS43MDcuNzA3LjM1My4zNTR6bTAgOS4wNCA0LjE2Ni00LjE2Ni0uNzA3LS43MDgtNC4xNjcgNC4xNjd6bTQuMTY2LTQuODc0TDcuMzU0IDUuNDhsLS43MDguNzA3IDQuMTY3IDQuMTY3ek0xMy4wODMgNXYxMGgxVjV6Ii8+PC9zdmc+)}.ag-charts-icon-pan-left{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMTIuNzkgNS44MzMgOC42MjUgMTBsNC4xNjYgNC4xNjctLjcwNy43MDdMNy4yMSAxMGw0Ljg3My00Ljg3NHoiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg==)}.ag-charts-icon-pan-right{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNNy4yMSAxNC4xNjcgMTEuMzc2IDEwIDcuMjEgNS44MzNsLjcwNy0uNzA3TDEyLjc5IDEwbC00Ljg3MyA0Ljg3NHoiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg==)}.ag-charts-icon-pan-start{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZD0iTTYgNXYxMGgxVjV6TTkuNjI0IDEwbDQuMTY2LTQuMTY3LS43MDctLjcwN0w4LjIxIDEwbDQuODc0IDQuODc0LjcwNy0uNzA3eiIvPjwvc3ZnPg==)}.ag-charts-icon-parallel-channel,.ag-charts-icon-parallel-channel-drawing{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMTcuNzIgNS4zMzFBMi4yNSAyLjI1IDAgMSAwIDE0LjcwNSAzLjZsLTkuNDkgNC41NjJhMi4yNSAyLjI1IDAgMSAwIC4yMDkgMS4wMWw5LjY2Mi00LjY0NmEyLjI1IDIuMjUgMCAwIDAgMi42MzQuODA1bS4zNzMtMi41NDdhMS4yNSAxLjI1IDAgMSAxLTIuMzM4Ljg4NSAxLjI1IDEuMjUgMCAwIDEgMi4zMzgtLjg4NU00LjM0MyA4LjY3YTEuMjUgMS4yNSAwIDEgMS0yLjMzOC44ODUgMS4yNSAxLjI1IDAgMCAxIDIuMzM4LS44ODVNNS4zMDcgMTYuNzI4YTIuMjUgMi4yNSAwIDEgMS0uNTI1LS44NThsOS45MjMtNC43N2EyLjI1IDIuMjUgMCAxIDEgLjM4MS45MjZ6bS0uOTY0LjI3NGExLjI1IDEuMjUgMCAxIDEtMi4zMzguODg1IDEuMjUgMS4yNSAwIDAgMSAyLjMzOC0uODg1bTEzLjAyMy01LjEwNmExLjI1IDEuMjUgMCAxIDAtLjg4NS0yLjMzOSAxLjI1IDEuMjUgMCAwIDAgLjg4NSAyLjMzOSIgY2xpcC1ydWxlPSJldmVub2RkIi8+PC9zdmc+)}.ag-charts-icon-position-bottom{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBmaWxsPSIjMDAwIiBmaWxsLW9wYWNpdHk9Ii4yNSIgZD0iTTMgMTBoMTR2MUgzem0zLTNoOHYxSDZ6Ii8+PHBhdGggZmlsbD0iIzAwMCIgZD0iTTYgMTNoOHYxSDZ6Ii8+PC9zdmc+)}.ag-charts-icon-position-center{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBmaWxsPSIjMDAwIiBkPSJNMyAxMGgxNHYxSDN6Ii8+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1vcGFjaXR5PSIuMjUiIGQ9Ik02IDdoOHYxSDZ6bTAgNmg4djFINnoiLz48L3N2Zz4=)}.ag-charts-icon-position-top{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBmaWxsPSIjMDAwIiBmaWxsLW9wYWNpdHk9Ii4yNSIgZD0iTTMgMTBoMTR2MUgzeiIvPjxwYXRoIGZpbGw9IiMwMDAiIGQ9Ik02IDdoOHYxSDZ6Ii8+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1vcGFjaXR5PSIuMjUiIGQ9Ik02IDEzaDh2MUg2eiIvPjwvc3ZnPg==)}.ag-charts-icon-price-label-annotation{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNNC41IDNBMS41IDEuNSAwIDAgMCAzIDQuNVYxM2ExLjUgMS41IDAgMCAwIDEuNSAxLjVoLjgzM3YuMDU3Yy4yNDItLjI5OS41OTctLjUwMyAxLS41NDhWMTMuNUg0LjVBLjUuNSAwIDAgMSA0IDEzVjQuNWEuNS41IDAgMCAxIC41LS41aDExYS41LjUgMCAwIDEgLjUuNXY4YS41LjUgMCAwIDEtLjUuNWgtNC44MThsLS4xMjYuMDg0YTI2IDI2IDAgMCAwLTIuMjI1IDEuNjg1bC0uMzIuMjY1LS4wNjguMDU2YTEuNSAxLjUgMCAwIDEtMi42MDkgMS4zNTRjLjAzMy43NjMuOTA1IDEuMjM4IDEuNTYuNzU2LjY0Ni0uNDc0IDEuMjEtLjk0MyAxLjc2MS0xLjRsLjMxMy0uMjZBMjYgMjYgMCAwIDEgMTAuOTg2IDE0SDE1LjVhMS41IDEuNSAwIDAgMCAxLjUtMS41di04QTEuNSAxLjUgMCAwIDAgMTUuNSAzeiIgY2xpcC1ydWxlPSJldmVub2RkIi8+PHBhdGggZmlsbD0iIzEzMTcyMiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNOC43MTYgMTQuODE1YTIuMjUgMi4yNSAwIDEgMS00LjIxIDEuNTkzIDIuMjUgMi4yNSAwIDAgMSA0LjIxLTEuNTkzbS0xLjY2MiAxLjk2NmExLjI1IDEuMjUgMCAxIDAtLjg4NS0yLjMzOSAxLjI1IDEuMjUgMCAwIDAgLjg4NSAyLjMzOSIgY2xpcC1ydWxlPSJldmVub2RkIi8+PC9zdmc+)}.ag-charts-icon-price-range-drawing{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBkPSJNOS4wNDYgMTVWNS44NzdoLjk0MlYxNXoiIGZpbGw9IiMxODFEMUYiLz48cGF0aCBkPSJNOS4wNDYgMTVWNS44NzdoLjk0MlYxNXoiIGZpbGw9IiMxODFEMUYiLz48cGF0aCBkPSJNOS41IDYuMjI4IDcuMTY3IDguMzc2IDYuNSA3Ljc2MiA5LjUgNWwzIDIuNzYyLS42NjcuNjE0eiIgZmlsbD0iIzAwMCIvPjxwYXRoIGQ9Ik0yIDE4di0xaDE2djF6TTIgM1YyaDE2djF6IiBmaWxsPSIjMTgxRDFGIi8+PC9zdmc+)}.ag-charts-icon-reset{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMTIuMDQgNC40NDVhNS44MSA1LjgxIDAgMCAwLTcuMjU3IDIuNDUzLjUuNSAwIDAgMS0uODY1LS41MDJBNi44MSA2LjgxIDAgMSAxIDMgOS44MTNhLjUuNSAwIDAgMSAxIDAgNS44MSA1LjgxIDAgMSAwIDguMDQtNS4zNjgiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjxwYXRoIGZpbGw9IiMwMDAiIGZpbGwtcnVsZT0iZXZlbm9kZCIgZD0iTTQuMjg5IDMuMDAyYS41LjUgMCAwIDEgLjUuNXYyLjY1NWgyLjY1NWEuNS41IDAgMCAxIDAgMUg0LjI5YS41LjUgMCAwIDEtLjUtLjVWMy41MDJhLjUuNSAwIDAgMSAuNS0uNSIgY2xpcC1ydWxlPSJldmVub2RkIi8+PC9zdmc+)}.ag-charts-icon-settings{--icon: url(data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMjAgMjAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSIgc3R5bGU9ImZpbGwtcnVsZTpldmVub2RkIj48cGF0aCBkPSJNMTAgMTNhMyAzIDAgMSAwIDAtNiAzIDMgMCAwIDAgMCA2bTAtMWEyIDIgMCAxIDEtLjAwMS0zLjk5OUEyIDIgMCAwIDEgMTAgMTIiLz48cGF0aCBkPSJNMi4zMSAxNC4zNDVjLS44MTctMS40OTEuMDI3LTIuNDk5LjQ3NC0yLjg2NS41MzEtLjQzNC45NjktLjM2NS45NzItMS40OC0uMDAzLTEuMTE1LS40NDEtMS4wNDYtLjk3Mi0xLjQ4MS0uNDU0LS4zNzEtMS4zMTctMS40MDUtLjQzNC0yLjkzNmwuMDA1LS4wMDljLjg4NC0xLjUyIDIuMjA3LTEuMjkgMi43NTUtMS4wODMuNjQxLjI0My44MDEuNjU2IDEuNzY4LjEwMS45NjQtLjU2LjY4Ni0uOTA0Ljc5Ni0xLjU4Mi4wOTQtLjU3OC41NTktMS44NDMgMi4zMjYtMS44NDNoLjAxYzEuNzU5LjAwNSAyLjIyMiAxLjI2NiAyLjMxNiAxLjg0My4xMS42NzgtLjE2OCAxLjAyMi43OTYgMS41ODIuOTY3LjU1NSAxLjEyNy4xNDIgMS43NjgtLjEwMS41NDktLjIwOCAxLjg3Ni0uNDM4IDIuNzYgMS4wOTJzLjAyIDIuNTY1LS40MzQgMi45MzZjLS41MzEuNDM1LS45NjkuMzY2LS45NzIgMS40ODEuMDAzIDEuMTE1LjQ0MSAxLjA0Ni45NzIgMS40OC40NTQuMzcyIDEuMzE3IDEuNDA2LjQzNCAyLjkzN2wtLjAwNS4wMDljLS44ODQgMS41Mi0yLjIwNyAxLjI5LTIuNzU1IDEuMDgzLS42NDEtLjI0My0uODAxLS42NTYtMS43NjgtLjEwMS0uOTY0LjU2LS42ODYuOTA0LS43OTYgMS41ODEtLjA5NC41NzktLjU1OSAxLjg0NC0yLjMyNiAxLjg0NGgtLjAxYy0xLjc1OS0uMDA1LTIuMjIyLTEuMjY2LTIuMzE2LTEuODQ0LS4xMS0uNjc3LjE2OC0xLjAyMS0uNzk2LTEuNTgxLS45NjctLjU1NS0xLjEyNy0uMTQyLTEuNzY4LjEwMS0uNTQ5LjIwOC0xLjg3Ni40MzgtMi43Ni0xLjA5MmwtLjAyLS4wMzZ6TTkuOTg0IDIuMTYySDEwYzEuMzU1IDAgMS4zNDIgMS4wMzkgMS4zNTMgMS40MjUuMDA4LjMxMi4wNCAxLjE2IDEuMjU5IDEuODcybC4wMTUuMDA4YzEuMjI1LjcgMS45NzYuMzA0IDIuMjUxLjE1NS4zMzctLjE4MyAxLjIyNi0uNzExIDEuOTAyLjQ0NWwuMDA4LjAxNGMuNjc4IDEuMTczLS4yMjkgMS42ODItLjU1OCAxLjg4NC0uMjY2LjE2My0uOTg0LjYxNS0uOTkxIDIuMDI3di4wMTZjLjAwNyAxLjQxMi43MjUgMS44NjQuOTkxIDIuMDI3LjMyOC4yMDEgMS4yMjkuNzA3LjU2NiAxLjg3bC0uMDA4LjAxNGMtLjY3NyAxLjE3NC0xLjU3MS42NDMtMS45MS40NTktLjI3NS0uMTQ5LTEuMDI2LS41NDUtMi4yNTEuMTU0bC0uMDE1LjAwOWMtMS4yMTkuNzEyLTEuMjUxIDEuNTYtMS4yNTkgMS44NzItLjAxMS4zODYuMDAyIDEuNDI1LTEuMzUzIDEuNDI1cy0xLjM0Mi0xLjAzOS0xLjM1My0xLjQyNWMtLjAwOC0uMzEyLS4wNC0xLjE2LTEuMjU5LTEuODcybC0uMDE1LS4wMDljLTEuMjI1LS42OTktMS45NzYtLjMwMy0yLjI1MS0uMTU0LS4zMzYuMTgzLTEuMjE5LjcwNi0xLjg5NC0uNDMybC0uMDE2LS4wMjdjLS42NzgtMS4xNzQuMjI5LTEuNjgyLjU1OC0xLjg4NC4yNjYtLjE2My45ODQtLjYxNS45OTEtMi4wMjd2LS4wMTZjLS4wMDctMS40MTItLjcyNS0xLjg2NC0uOTkxLTIuMDI3LS4zMjgtLjIwMS0xLjIyOS0uNzA3LS41NjYtMS44N2wuMDA4LS4wMTRjLjY3Ny0xLjE3NCAxLjU3MS0uNjQzIDEuOTEtLjQ1OS4yNzUuMTQ5IDEuMDI2LjU0NSAyLjI1MS0uMTU1bC4wMTUtLjAwOGMxLjIxOS0uNzEyIDEuMjUxLTEuNTYgMS4yNTktMS44NzIuMDEtLjM4NC0uMDAyLTEuNDE3IDEuMzM3LTEuNDI1Ii8+PC9zdmc+)}.ag-charts-icon-step-line-series{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzE4MUQxRiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNNiA0aDV2OGgzVjhoNXYxaC00djRoLTVWNUg3djEwSDJ2LTFoNHoiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg==)}.ag-charts-icon-text-annotation{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik00IDRIMTZWN0gxNVY1SDEwLjVWMTVIMTRWMTZINlYxNUg5LjVWNUg1VjdINFY0WiIgZmlsbD0iYmxhY2siLz4KPC9zdmc+Cg==)}.ag-charts-icon-trend-line,.ag-charts-icon-trend-line-drawing{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNNS4zMTQgMTAuOTM4YTIuMjUgMi4yNSAwIDEgMSAuMDEtMWg5LjM1MmEyLjI1IDIuMjUgMCAxIDEgLjAxIDF6bS0yLjE4OS43MjlhMS4yNSAxLjI1IDAgMSAwIDAtMi41IDEuMjUgMS4yNSAwIDAgMCAwIDIuNW0xMy43NSAwYTEuMjUgMS4yNSAwIDEgMCAwLTIuNSAxLjI1IDEuMjUgMCAwIDAgMCAyLjUiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg==)}.ag-charts-icon-unlock,.ag-charts-icon-unlocked{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMTAuNjUxIDMuNWEyLjg5NCAyLjg5NCAwIDAgMC0yLjg5NCAyLjg5NFY5SDE0LjVhMi41IDIuNSAwIDAgMSAyLjUgMi41djNhMi41IDIuNSAwIDAgMS0yLjUgMi41aC04QTIuNSAyLjUgMCAwIDEgNCAxNC41di0zQTIuNSAyLjUgMCAwIDEgNi41IDloLjI1N1Y2LjM5NGEzLjg5NCAzLjg5NCAwIDEgMSA3Ljc4OSAwIC41LjUgMCAwIDEtMSAwQTIuODk0IDIuODk0IDAgMCAwIDEwLjY1IDMuNU02LjUgMTBBMS41IDEuNSAwIDAgMCA1IDExLjV2M0ExLjUgMS41IDAgMCAwIDYuNSAxNmg4YTEuNSAxLjUgMCAwIDAgMS41LTEuNXYtM2ExLjUgMS41IDAgMCAwLTEuNS0xLjV6IiBjbGlwLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=)}.ag-charts-icon-vertical-line,.ag-charts-icon-vertical-line-drawing{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMTAuNSA3LjgwNmEyLjI1IDIuMjUgMCAwIDEgMCA0LjM4OFYxOS41aC0xdi03LjMwNmEyLjI1IDIuMjUgMCAwIDEgMC00LjM4OFYuNWgxem0tLjUuOTQ0YTEuMjUgMS4yNSAwIDEgMSAwIDIuNSAxLjI1IDEuMjUgMCAwIDEgMC0yLjUiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg==)}.ag-charts-icon-zoom-in{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZD0iTTEwIDUuNWEuNS41IDAgMCAxIC41LjV2My41aDMuODc1YS41LjUgMCAwIDEgMCAxSDEwLjV2NC4yNWEuNS41IDAgMSAxLTEgMFYxMC41SDUuNjI1YS41LjUgMCAxIDEgMC0xSDkuNVY2YS41LjUgMCAwIDEgLjUtLjUiLz48L3N2Zz4=)}.ag-charts-icon-zoom-out{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNNS41IDEwYS41LjUgMCAwIDEgLjUtLjVoOGEuNS41IDAgMCAxIDAgMUg2YS41LjUgMCAwIDEtLjUtLjUiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg==)}.ag-charts-icon-high-low-series{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNNyA0aDJ2MTJINFY0aDNNNSA1aDN2MTBINXpNMTEgMTRWNmg1djhoLTVtMS03aDN2NmgtM3oiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg==)}.ag-charts-icon-hlc-series{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJtMTguMTYzIDEuODM3LTUuMzM0IDExLjYyMUw2Ljk1NyA4LjEybC00LjE5OSA5LjYyMi0uOTE2LS40IDQuNzU2LTEwLjlMMTIuNDkgMTEuOCAxNy4yNTQgMS40MnoiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjxwYXRoIGZpbGw9IiMwMDAiIGZpbGwtb3BhY2l0eT0iLjQiIGZpbGwtcnVsZT0iZXZlbm9kZCIgZD0iTTUuODI1IDIuNzA0LjU1IDEzLjc4NWwuOTAyLjQzIDQuNzI0LTkuOTE5IDYuMDM0IDUuMDI5IDMuMjU1LTguMTQtLjkyOC0uMzctMi43NDUgNi44NnptNy44NTIgMTQuNjM2IDUuNzgtMTMuMTM5LS45MTUtLjQwMi01LjIxOSAxMS44Ni02LjAwNS01LjUwNC0zLjI3OCA3LjY0OC45Mi4zOTQgMi43MjItNi4zNTJ6IiBjbGlwLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=)}.ag-charts-icon-zoom-in-alt{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSJub25lIiBzdHJva2U9ImN1cnJlbnRDb2xvciIgc3Ryb2tlLXdpZHRoPSIyIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIGNsYXNzPSJsdWNpZGUgbHVjaWRlLXpvb20taW4iPjxjaXJjbGUgY3g9IjExIiBjeT0iMTEiIHI9IjgiLz48bGluZSB4MT0iMjEiIHgyPSIxNi42NSIgeTE9IjIxIiB5Mj0iMTYuNjUiLz48bGluZSB4MT0iMTEiIHgyPSIxMSIgeTE9IjgiIHkyPSIxNCIvPjxsaW5lIHgxPSI4IiB4Mj0iMTQiIHkxPSIxMSIgeTI9IjExIi8+PC9zdmc+)}.ag-charts-icon-zoom-out-alt{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSJub25lIiBzdHJva2U9ImN1cnJlbnRDb2xvciIgc3Ryb2tlLXdpZHRoPSIyIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIGNsYXNzPSJsdWNpZGUgbHVjaWRlLXpvb20tb3V0Ij48Y2lyY2xlIGN4PSIxMSIgY3k9IjExIiByPSI4Ii8+PGxpbmUgeDE9IjIxIiB4Mj0iMTYuNjUiIHkxPSIyMSIgeTI9IjE2LjY1Ii8+PGxpbmUgeDE9IjgiIHgyPSIxNCIgeTE9IjExIiB5Mj0iMTEiLz48L3N2Zz4=)}.ag-charts-input{--input-layer-active: 1;--input-layer-focus: 2;--input-padding: calc(var(--ag-charts-spacing) * 2);--input-padding-large: calc(var(--ag-charts-spacing) * 2.5);color:var(--ag-charts-input-text-color);font-family:var(--ag-charts-chrome-font-family);font-size:var(--ag-charts-chrome-font-size-large);transition-duration:.25s;transition-property:none;transition-timing-function:ease-out}.ag-charts-input:focus-visible{outline:var(--ag-charts-focus-border);box-shadow:var(--ag-charts-focus-border-shadow);z-index:var(--input-layer-focus)}.ag-charts-button{background:var(--ag-charts-button-background-color);border:1px solid var(--ag-charts-border-color);border-radius:var(--ag-charts-button-border-radius);color:var(--ag-charts-button-text-color);cursor:pointer;padding:var(--input-padding);transition-property:background,border-color}.ag-charts-button:hover{background:var(--ag-charts-focus-color)}.ag-charts-button:has(.ag-charts-icon){padding:2px}.ag-charts-checkbox{--checkbox-transition-duration: .1s;appearance:none;background:var(--ag-charts-checkbox-background-color);border-radius:calc(var(--ag-charts-border-radius) * 9);cursor:pointer;height:18px;margin:0;transition-duration:var(--checkbox-transition-duration);transition-property:margin;width:29px}.ag-charts-checkbox:before{display:block;background:var(--ag-charts-input-background-color);border-radius:calc(var(--ag-charts-border-radius) * 7);content:" ";height:14px;margin:2px;transition-duration:var(--checkbox-transition-duration);transition-property:margin;transition-timing-function:var(--ag-charts-input-transition-easing);width:14px}.ag-charts-checkbox:checked{background:var(--ag-charts-checkbox-checked-background-color)}.ag-charts-checkbox:checked:before{margin-left:13px}.ag-charts-select{background:var(--ag-charts-input-background-color);border:1px solid var(--ag-charts-input-border-color);border-radius:var(--ag-charts-input-border-radius);padding:3px 2px 4px;font-size:inherit}.ag-charts-textarea{--textarea-line-height: 1.38;background:var(--ag-charts-input-background-color);border:1px solid var(--ag-charts-border-color);border-radius:var(--ag-charts-input-border-radius);line-height:var(--textarea-line-height);font-family:var(--ag-charts-chrome-font-family);font-size:var(--ag-charts-chrome-font-size-large);padding:var(--input-padding-large) var(--input-padding)}.ag-charts-textarea::placeholder{color:var(--ag-charts-input-placeholder-text-color)}.ag-charts-proxy-container{pointer-events:none;position:absolute}.ag-charts-proxy-elem{-webkit-appearance:none;appearance:none;background:none;border:none;color:#0000;overflow:hidden;pointer-events:auto;position:absolute}.ag-charts-proxy-elem::-moz-range-thumb,.ag-charts-proxy-elem::-moz-range-track{opacity:0}.ag-charts-proxy-elem::-webkit-slider-runnable-track,.ag-charts-proxy-elem::-webkit-slider-thumb{opacity:0}.ag-charts-proxy-elem:focus-visible{outline:var(--ag-charts-focus-border);box-shadow:var(--ag-charts-focus-border-shadow)}.ag-charts-focus-indicator{position:absolute;display:block;pointer-events:none;user-select:none;-webkit-user-select:none;width:100%;height:100%}.ag-charts-focus-indicator>div{position:absolute;outline:solid 1px var(--ag-charts-chrome-background-color);box-shadow:var(--ag-charts-focus-shadow)}.ag-charts-focus-indicator>svg{width:100%;height:100%;fill:none;overflow:visible}.ag-charts-focus-svg-outer-path{stroke:var(--ag-charts-chrome-background-color);stroke-width:4px}.ag-charts-focus-svg-inner-path{stroke:var(--ag-charts-accent-color);stroke-width:2px}.ag-charts-overlay{color:#181d1f;pointer-events:none}.ag-charts-overlay.ag-charts-dark-overlay{color:#fff}.ag-charts-overlay--loading{color:#8c8c8c}.ag-charts-overlay__loading-background{background:#fff;pointer-events:none}.ag-charts-overlay.ag-charts-dark-overlay .ag-charts-overlay__loading-background{background:#192232}.ag-charts-tooltip{--tooltip-arrow-size: 8px;--tooltip-row-spacing: 8px;--tooltip-column-spacing: 16px;position:fixed;inset:unset;margin:0;padding:0;overflow:visible;top:var(--top, 0px);left:var(--left, 0px);width:max-content;max-width:100%;font-family:var(--ag-charts-chrome-font-family);font-size:var(--ag-charts-chrome-font-size);font-weight:var(--ag-charts-chrome-font-weight);color:var(--ag-charts-chrome-text-color);background:var(--ag-charts-chrome-background-color);border:var(--ag-charts-border);border-radius:var(--ag-charts-border-radius);box-shadow:var(--ag-charts-shadow)}.ag-charts-tooltip--compact .ag-charts-tooltip-content{--tooltip-row-spacing: 2px;--tooltip-column-spacing: 8px;padding:3px 6px}.ag-charts-tooltip--arrow-top:before,.ag-charts-tooltip--arrow-right:before,.ag-charts-tooltip--arrow-bottom:before,.ag-charts-tooltip--arrow-left:before{content:"";position:absolute;display:block;width:var(--tooltip-arrow-size);height:var(--tooltip-arrow-size);border:inherit;border-bottom-color:transparent;border-right-color:transparent;background:inherit;clip-path:polygon(0 0,100% 0,100% 1px,1px 100%,0 100%)}.ag-charts-tooltip--arrow-top:before{bottom:100%;left:50%;transform:translate(-50%) translateY(calc(var(--tooltip-arrow-size) * .5)) rotate(45deg)}.ag-charts-tooltip--arrow-bottom:before{top:100%;left:50%;transform:translate(-50%) translateY(calc(var(--tooltip-arrow-size) * -.5)) rotate(225deg)}.ag-charts-tooltip--arrow-left:before{right:100%;top:50%;transform:translateY(-50%) translate(calc(var(--tooltip-arrow-size) * .5)) rotate(315deg)}.ag-charts-tooltip--arrow-right:before{left:100%;top:50%;transform:translateY(-50%) translate(calc(var(--tooltip-arrow-size) * -.5)) rotate(135deg)}.ag-charts-tooltip--no-interaction{pointer-events:none;user-select:none;-webkit-user-select:none}.ag-charts-tooltip--wrap-always{overflow-wrap:break-word;word-break:break-word;hyphens:none}.ag-charts-tooltip--wrap-hyphenate{overflow-wrap:break-word;word-break:break-word;hyphens:auto}.ag-charts-tooltip--wrap-on-space{overflow-wrap:normal;word-break:normal}.ag-charts-tooltip--wrap-never{white-space:nowrap}.ag-charts-tooltip-heading,.ag-charts-tooltip-title,.ag-charts-tooltip-label,.ag-charts-tooltip-value{overflow:hidden;text-overflow:ellipsis}.ag-charts-tooltip-content{display:grid;grid:auto-flow minmax(1em,auto) / 1fr;padding:8px 12px;gap:var(--tooltip-row-spacing)}.ag-charts-tooltip-content:has(.ag-charts-tooltip-symbol){grid:auto-flow minmax(1em,auto) / auto 1fr}.ag-charts-tooltip-heading{grid-column:1 / -1}.ag-charts-tooltip-symbol{grid-column:1 / 2;place-self:center}.ag-charts-tooltip-symbol svg{display:block}.ag-charts-tooltip-title{grid-column:-2 / -1}.ag-charts-tooltip-row{grid-column:1 / -1;display:flex;gap:var(--tooltip-column-spacing);align-items:baseline;justify-content:space-between;overflow:hidden}.ag-charts-tooltip-row--inline{grid-column:-2 / -1}.ag-charts-tooltip-label{flex:1;min-width:0}.ag-charts-tooltip-value{min-width:0}.ag-charts-tooltip-footer{grid-column:1 / -1;color:var(--ag-charts-chrome-subtle-text-color);text-align:center}.ag-charts-popover{position:absolute;border:var(--ag-charts-border);border-radius:var(--ag-charts-border-radius);background:var(--ag-charts-chrome-background-color);color:var(--ag-charts-chrome-text-color);font-family:var(--ag-charts-chrome-font-family);font-size:var(--ag-charts-chrome-font-size);font-weight:var(--ag-charts-chrome-font-weight);box-shadow:var(--ag-charts-shadow);z-index:var(--ag-charts-layer-ui-overlay)}.ag-charts-menu{--item-padding: 6px 12px;--icon-color: var(--ag-charts-chrome-text-color);display:grid;grid:auto-flow auto / 1fr;column-gap:12px;font-size:var(--ag-charts-chrome-font-size)}.ag-charts-menu:has(.ag-charts-menu__icon,.ag-charts-menu__row--stroke-width-visible){grid:auto-flow auto / auto 1fr}.ag-charts-menu__row--stroke-width-visible:before{content:"";height:var(--strokeWidth);width:12px;background:var(--icon-color)}.ag-charts-menu__row--stroke-width-visible[aria-disabled=true]:before{filter:grayscale(1);opacity:.5}.ag-charts-menu__row{display:grid;grid-column:1 / -1;grid-template-columns:subgrid;align-items:center;padding:var(--item-padding)}.ag-charts-menu__row:not(.ag-charts-menu__row--active){cursor:pointer}.ag-charts-menu__row:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.ag-charts-menu__row:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.ag-charts-menu__row:focus{background:var(--ag-charts-focus-color)}.ag-charts-menu__row:focus-visible{outline:var(--ag-charts-focus-border);box-shadow:var(--ag-charts-focus-border-shadow);z-index:var(--ag-charts-layer-menu)}.ag-charts-menu__row--active{--icon-color: var(--ag-charts-accent-color);background:var(--ag-charts-focus-color);color:var(--ag-charts-accent-color)}.ag-charts-menu__label{grid-column:-1 / span 1}.ag-charts-toolbar{--toolbar-gap: calc(var(--ag-charts-spacing) * 2);--toolbar-size: 34px;--toolbar-button-padding: 6px;align-items:center;display:flex;flex-wrap:nowrap;position:absolute}.ag-charts-toolbar__button{align-items:center;background:var(--ag-charts-chrome-background-color);border:var(--ag-charts-border);color:var(--ag-charts-chrome-text-color);cursor:pointer;display:flex;font-family:var(--ag-charts-chrome-font-family);font-size:var(--ag-charts-chrome-font-size-medium);font-weight:var(--ag-charts-chrome-font-weight);justify-content:center;min-height:var(--toolbar-size);min-width:var(--toolbar-size);padding:var(--toolbar-button-padding);position:relative;transition:background-color .25s ease-in-out,border-color .25s ease-in-out,color .25s ease-in-out;white-space:nowrap}.ag-charts-toolbar__button:hover{background:var(--ag-charts-focus-color);z-index:1}.ag-charts-toolbar__button:focus-visible{outline:var(--ag-charts-focus-border);box-shadow:var(--ag-charts-focus-border-shadow);z-index:calc(var(--ag-charts-layer-ui-overlay) + 1)}.ag-charts-toolbar__button--active{background:var(--ag-charts-focus-color);border-color:var(--ag-charts-accent-color);color:var(--ag-charts-accent-color);z-index:2}.ag-charts-toolbar__button[aria-disabled=true]{background:var(--ag-charts-button-disabled-background-color);color:var(--ag-charts-button-disabled-text-color);cursor:default}.ag-charts-toolbar--horizontal{flex-direction:row;.ag-charts-toolbar__button{margin:0 0 0 -1px}.ag-charts-toolbar__button--first{border-bottom-left-radius:var(--ag-charts-border-radius);border-top-left-radius:var(--ag-charts-border-radius);margin:0}.ag-charts-toolbar__button--last{border-bottom-right-radius:var(--ag-charts-border-radius);border-top-right-radius:var(--ag-charts-border-radius)}}.ag-charts-toolbar--vertical{flex-direction:column;.ag-charts-toolbar__button{margin:-1px 0 0;max-width:100%}.ag-charts-toolbar__button--first{border-top-left-radius:var(--ag-charts-border-radius);border-top-right-radius:var(--ag-charts-border-radius);margin:0}.ag-charts-toolbar__button--last{border-bottom-left-radius:var(--ag-charts-border-radius);border-bottom-right-radius:var(--ag-charts-border-radius)}}.ag-charts-toolbar__icon+.ag-charts-toolbar__label{margin-left:var(--toolbar-gap)}.ag-charts-toolbar__icon,.ag-charts-toolbar__label{pointer-events:none}.ag-charts-floating-toolbar{border:none;display:flex;.ag-charts-toolbar{align-items:unset;position:unset}}.ag-charts-floating-toolbar__drag-handle{align-items:center;background:var(--ag-charts-chrome-background-color);border:var(--ag-charts-border);border-bottom-left-radius:var(--ag-charts-border-radius);border-top-left-radius:var(--ag-charts-border-radius);cursor:grab;display:flex;justify-content:center;min-width:24px;padding-left:0;padding-right:0}.ag-charts-floating-toolbar__drag-handle--dragging{cursor:grabbing}
`,_l=class{constructor(){this.registeredListeners=new Map}addListener(e,t){const i={symbol:Symbol(e),handler:t};return this.registeredListeners.has(e)?this.registeredListeners.get(e).push(i):this.registeredListeners.set(e,[i]),()=>this.removeListener(i.symbol)}removeListener(e){for(const[t,i]of this.registeredListeners.entries()){const n=i.findIndex(s=>s.symbol===e);if(n>=0){i.splice(n,1),i.length===0&&this.registeredListeners.delete(t);break}}}dispatch(e,...t){for(const i of this.getListenersByType(e))try{i.handler(...t)}catch(n){Ee.errorOnce(String(n))}}getListenersByType(e){return this.registeredListeners.get(e)??[]}destroy(){this.registeredListeners.clear()}},yu=class{constructor(){this.listeners=new _l,this.destroyFns=[],this.destroyed=!1}addListener(e,t){return this.listeners.addListener(e,t)}destroy(){this.listeners.destroy(),this.destroyFns.forEach(e=>e()),this.destroyed=!0}},aq=class hb{constructor(t,i,n){this.element=t,this.topTabGuard=i,this.bottomTabGuard=n,this.destroyFns=[],this.guardTabIndex=0,this.hasFocus=!1,this.initTabGuard(this.topTabGuard,s=>this.onTab(s,!1)),this.initTabGuard(this.bottomTabGuard,s=>this.onTab(s,!0)),this.element.addEventListener("focus",()=>this.onFocus(),{capture:!0}),this.element.addEventListener("blur",s=>this.onBlur(s),{capture:!0})}set tabIndex(t){this.guardTabIndex=t,this.guardTabIndex===0?this.setGuardIndices(void 0):this.hasFocus||this.setGuardIndices(this.guardTabIndex)}destroy(){for(const t of this.destroyFns)t();this.destroyFns.length=0}initTabGuard(t,i){const n=()=>i(t);t.addEventListener("focus",n),this.destroyFns.push(()=>t.removeEventListener("focus",n))}setGuardIndices(t){const i=t;yi(this.topTabGuard,"tabindex",i),yi(this.bottomTabGuard,"tabindex",i)}onFocus(){this.hasFocus=!0,this.guardTabIndex!==0&&this.setGuardIndices(0)}onBlur({relatedTarget:t}){const{topTabGuard:i,bottomTabGuard:n}=this;this.hasFocus=!1,this.guardTabIndex!==0&&t!==i&&t!==n&&this.setGuardIndices(this.guardTabIndex)}onTab(t,i){if(this.guardTabIndex!==0){let n;t.tabIndex===0?(n=this.findExitTarget(!i),this.setGuardIndices(this.guardTabIndex)):n=this.findEnterTarget(i),n==null||n.focus()}}static queryFocusable(t,i){const n=vi();return Array.from(t.querySelectorAll(i)).filter(s=>{if(s instanceof HTMLElement){const r=n.getComputedStyle(s);return r.display!=="none"&&r.visibility!=="none"}return!1})}findEnterTarget(t){const i=hb.queryFocusable(this.element,'[tabindex="0"]'),n=t?i.length-1:0;return i[n]}findExitTarget(t){const i=hb.queryFocusable(Ll(),"[tabindex]").filter(r=>r.tabIndex>0).sort((r,o)=>r.tabIndex-o.tabIndex),{before:n,after:s}=hb.findBeforeAndAfter(i,this.guardTabIndex);return t?n:s}static findBeforeAndAfter(t,i){let n=0,s=t.length-1,r,o;for(;n<=s;){const a=Math.floor((n+s)/2),c=t[a].tabIndex;if(c===i){r=t[a-1]||void 0,o=t[a+1]||void 0;break}else c<i?(r=t[a],n=a+1):(o=t[a],s=a-1)}return{before:r,after:o}}};function Oo(e,t,i,n,s){t.addEventListener(i,n);const r=()=>t.removeEventListener(i,n,s);return e.push(r),r}function XF(e,t,i){Oo(e,t,"keydown",n=>{n.key==="Escape"&&i(n)})}function lq(e,t,i){const n=Oo(e,window,"mousedown",s=>{[0,2].includes(s.button)&&!qF(t,s)&&(i(),n())});return n}function cq(e,t,i){const n=Oo(e,window,"touchstart",s=>{Array.from(s.targetTouches).some(o=>!qF(t,o))&&(i(),n())});return n}function qF(e,t){if(t.target instanceof Element){const{x:i,y:n,width:s,height:r}=e.getBoundingClientRect(),{clientX:o,clientY:a}=t;return o>=i&&a>=n&&o<=i+s&&a<=n+r}return!1}function sx(e){return!(e.shiftKey||e.altKey||e.ctrlKey||e.metaKey)}function HL(e,t,...i){return sx(e)&&(e.key===t||i.some(n=>e.key===n))}function hk(e,t,i,n){i&&Oo(e,t,"keydown",s=>{HL(s,n)&&i.focus()})}function uq(e,t,i,n,s,r){hk(e,t,s,r),hk(e,t,i,n),Oo(e,t,"keydown",o=>{HL(o,n,r)&&o.preventDefault()})}var cf={horizontal:{nextKey:"ArrowRight",prevKey:"ArrowLeft"},vertical:{nextKey:"ArrowDown",prevKey:"ArrowUp"}};function QF(e){const{orientation:t,buttons:i,wrapAround:n=!1,onEscape:s,onFocus:r,onBlur:o}=e,{nextKey:a,prevKey:c}=cf[t],h=b=>{b.target&&"tabIndex"in b.target&&(i.forEach(C=>C.tabIndex=-1),b.target.tabIndex=0)},[f,p]=n?[i.length,i.length]:[0,1/0],m=[];for(let b=0;b<i.length;b++){const C=i[(f+b-1)%p],w=i[b],D=i[(f+b+1)%p];Oo(m,w,"focus",h),r&&Oo(m,w,"focus",r),o&&Oo(m,w,"blur",o),s&&XF(m,w,s),uq(m,w,D,a,C,c),w.tabIndex=b===0?0:-1}return m}var hq=class{constructor(e,t,i){this.lastFocus=t,this.closeCallback=i,this.destroyFns=[],this.destroyFns.push(lq(this.destroyFns,e,()=>this.close(!0))),this.destroyFns.push(cq(this.destroyFns,e,()=>this.close(!0)))}close(e){this.destroyFns.forEach(t=>t()),this.destroyFns.length=0,this.closeCallback(),this.finishClosing(e)}finishClosing(e){var t;this.destroyFns.forEach(i=>i()),this.destroyFns.length=0,yi(this.lastFocus,"aria-expanded",!1),e||(t=this.lastFocus)==null||t.focus({preventScroll:!0}),this.lastFocus=void 0}};function JF(e){var C;const{sourceEvent:t,orientation:i,menu:n,buttons:s,closeCallback:r,overrideFocusVisible:o,autoCloseOnBlur:a=!1}=e,{nextKey:c,prevKey:h}=cf[i],f=VL(t);yi(f,"aria-expanded",!0);const p=new hq(n,f,r),m=()=>p.close(),{destroyFns:b}=p;if(n.role="menu",n.ariaOrientation=i,b.push(...QF({orientation:i,buttons:s,onEscape:m,wrapAround:!0})),n.tabIndex=-1,XF(b,n,m),Oo(b,n,"keydown",w=>{var D;w.target===n&&(w.key===c||w.key===h)&&(w.preventDefault(),(D=s[0])==null||D.focus())}),a){const w=D=>{!s.includes(D.relatedTarget)&&m()};for(const D of s)Oo(b,D,"blur",w)}return(C=s[0])==null||C.focus({preventScroll:!0}),o!==void 0&&(s.forEach(D=>D.setAttribute("data-focus-visible-override",o.toString())),Oo(b,n,"keydown",()=>{s.forEach(D=>D.setAttribute("data-focus-visible-override","true"))},{once:!0})),p}function dq(e,t){return i=>{if(e.ariaDisabled==="true")return i.preventDefault();t(i)}}function jL(e){return"button"in e?e.button===0:sx(e)&&(e.code==="Space"||e.key==="Enter")}function VL(e){if((e==null?void 0:e.target)instanceof HTMLElement&&"tabindex"in e.target.attributes)return e.target}function e2(e){const t=i=>{if(i.defaultPrevented)return;ix(i.target,"data-preventdefault",!0)&&HL(i,"ArrowRight","ArrowLeft","ArrowDown","ArrowUp")&&i.preventDefault()};return e.addEventListener("keydown",t),()=>e.removeEventListener("keydown",t)}var fq=class{constructor(e){this.callback=e,this.devicePixelRatio=vi("devicePixelRatio")??1,this.devicePixelRatioMediaQuery=void 0,this.devicePixelRatioListener=t=>{t.matches||(this.devicePixelRatio=vi("devicePixelRatio")??1,this.unregisterDevicePixelRatioListener(),this.registerDevicePixelRatioListener(),this.callback(this.pixelRatio))}}get pixelRatio(){return this.devicePixelRatio}observe(){this.registerDevicePixelRatioListener()}disconnect(){this.unregisterDevicePixelRatioListener()}unregisterDevicePixelRatioListener(){var e;(e=this.devicePixelRatioMediaQuery)==null||e.removeEventListener("change",this.devicePixelRatioListener),this.devicePixelRatioMediaQuery=void 0}registerDevicePixelRatioListener(){var t;const e=(t=vi("matchMedia"))==null?void 0:t(`(resolution: ${this.pixelRatio}dppx)`);e==null||e.addEventListener("change",this.devicePixelRatioListener),this.devicePixelRatioMediaQuery=e}},t2=class{constructor(){var t;this.elements=new Map,this.documentReady=!1,this.queuedObserveRequests=[],this.onLoad=()=>{this.documentReady=!0,this.queuedObserveRequests.forEach(([i,n])=>this.observe(i,n)),this.queuedObserveRequests=[],this.observeWindow()},typeof ResizeObserver<"u"&&(this.resizeObserver=new ResizeObserver(i=>{for(const{target:n,contentRect:{width:s,height:r}}of i){const o=this.elements.get(n);this.checkSize(o,n,s,r)}}));let e;this.pixelRatioObserver=new fq(()=>{clearTimeout(e),e=setTimeout(()=>this.checkPixelRatio(),0)}),this.documentReady=Ll("readyState")==="complete",this.documentReady?this.observeWindow():(t=vi())==null||t.addEventListener("load",this.onLoad)}destroy(){var e,t,i;(e=vi())==null||e.removeEventListener("load",this.onLoad),(t=this.resizeObserver)==null||t.disconnect(),this.resizeObserver=void 0,(i=this.pixelRatioObserver)==null||i.disconnect(),this.pixelRatioObserver=void 0}observeWindow(){var e;(e=this.pixelRatioObserver)==null||e.observe()}checkPixelRatio(){var t;const e=((t=this.pixelRatioObserver)==null?void 0:t.pixelRatio)??1;for(const[i,n]of this.elements)if(n.size!=null&&n.size.pixelRatio!==e){const{width:s,height:r}=n.size;n.size={width:s,height:r,pixelRatio:e},n.cb(n.size,i)}}checkSize(e,t,i,n){var s,r,o;if(e&&(i!==((s=e.size)==null?void 0:s.width)||n!==((r=e.size)==null?void 0:r.height))){const a=((o=this.pixelRatioObserver)==null?void 0:o.pixelRatio)??1;e.size={width:i,height:n,pixelRatio:a},e.cb(e.size,t)}}observe(e,t){var n;if(!this.documentReady){this.queuedObserveRequests.push([e,t]);return}this.elements.has(e)?this.removeFromQueue(e):(n=this.resizeObserver)==null||n.observe(e);const i={cb:t};this.elements.set(e,i)}unobserve(e){var t;(t=this.resizeObserver)==null||t.unobserve(e),this.elements.delete(e),this.removeFromQueue(e),this.elements.size||this.destroy()}removeFromQueue(e){this.queuedObserveRequests=this.queuedObserveRequests.filter(([t])=>t!==e)}},vf=class extends Map{constructor(e,t){super(),this.defaultValue=e,this.defaultState=t}set(e,t){return this.delete(e),typeof t<"u"&&super.set(e,t),this}stateId(){return Array.from(this.keys()).pop()??this.defaultState}stateValue(){return Array.from(this.values()).pop()??this.defaultValue}},gq='<div role="presentation" class="ag-charts-wrapper ag-charts-styles" data-ag-charts><div role="presentation" class="ag-charts-canvas-center"><div role="presentation" class="ag-charts-canvas-container"><div role="presentation" class="ag-charts-canvas" aria-hidden="true"></div><div role="figure" class="ag-charts-canvas-proxy"><div role="presentation" class="ag-charts-series-area"></div></div><div role="presentation" class="ag-charts-canvas-overlay ag-charts-tooltip-container"></div></div></div></div>',pq=["styles","canvas","canvas-center","canvas-container","canvas-overlay","canvas-proxy","series-area","tooltip-container"],dk={safeHorizontal:"ag-charts-wrapper--safe-horizontal",safeVertical:"ag-charts-wrapper--safe-vertical"},mq=new Map([["styles",{childElementType:"style"}],["canvas",{childElementType:"canvas"}],["canvas-proxy",{childElementType:"div"}],["canvas-overlay",{childElementType:"div"}],["canvas-center",{childElementType:"div"}],["series-area",{childElementType:"div"}],["tooltip-container",{childElementType:"div"}]]);function yq(e,t){if(typeof IntersectionObserver>"u")return;const i=new IntersectionObserver(n=>{for(const s of n)s.target===e&&t(s.intersectionRatio)},{root:e});return i.observe(e),i}var i2={x:0,y:0,width:0,height:0,top:0,bottom:0,left:0,right:0,toJSON(){return i2}};function fk(e,t){const i=Lt("div");return i.className="ag-charts-tab-guard",e.insertAdjacentElement(t,i),i}var WL=class gh extends yu{constructor(t,i,n="normal"){super(),this.styleContainer=i,this.mode=n,this.anchorName=`--${Er(this)}`,this.styles=new Map,this.pendingContainer=void 0,this.container=void 0,this.documentRoot=void 0,this.initiallyConnected=void 0,this.containerSize=void 0,this.sizeMonitor=new t2,this.cursorState=new vf("default"),this.minWidth=0,this.minHeight=0,this.element=this.initDOM(),this.rootElements=this.initRootElements(),this.rootElements.canvas.element.style.setProperty("anchor-name",this.anchorName);let s=!1;if(this.observer=yq(this.element,r=>{r===0&&!s&&this.listeners.dispatch("hidden",{type:"hidden"}),s=r===0}),this.setSizeOptions(),this.updateContainerSize(),this.addStyles("ag-charts-community",oq),this.setContainer(t),this.destroyFns.push(e2(this.element)),this.mode==="normal"){const r=this.rootElements["canvas-center"].element;if(r==null)throw new Error("Error initializing tab guards");const o=fk(r,"beforebegin"),a=fk(r,"afterend");this.tabGuards=new aq(r,o,a)}}initDOM(){if(this.mode==="normal"){const n=Lt("div");return n.innerHTML=gq,n.firstChild}const t=Lt("div");t.role="presentation",t.classList.add("ag-charts-canvas-container","ag-charts-canvas","ag-charts-tooltip-container");const i=Lt("div");return t.appendChild(i),i.role="presentation",i.classList.add("ag-charts-series-area"),t}initRootElements(){return pq.reduce((t,i)=>{const n=`ag-charts-${i}`;let s=this.element.classList.contains(n)?this.element:this.element.querySelector(`.${n}`);if(!s&&this.mode==="normal")throw new Error(`AG Charts - unable to find DOM element ${n}`);return s??(s=Lt("div")),t[i]={element:s,children:new Map,listeners:[]},t},{})}destroy(){var t;super.destroy(),(t=this.observer)==null||t.unobserve(this.element),this.container&&this.sizeMonitor.unobserve(this.container),this.pendingContainer=void 0,Object.values(this.rootElements).forEach(i=>{i.children.forEach(n=>n.remove()),i.element.remove()}),this.element.remove()}postRenderUpdate(){this.mode!=="minimal"&&(this.pendingContainer==null||this.pendingContainer===this.container||(gh.batchedUpdateContainer.length===0&&vi().setTimeout(this.applyBatchedUpdateContainer.bind(this),0),gh.batchedUpdateContainer.push(this)))}applyBatchedUpdateContainer(){for(const t of gh.batchedUpdateContainer)t.destroyed||t.updateContainer();gh.batchedUpdateContainer.splice(0)}setSizeOptions(t=300,i=300,n,s){const{style:r}=this.element;r.width=`${n??t}px`,r.height=`${s??i}px`,this.minWidth=n??t,this.minHeight=s??i,this.updateContainerClassName()}updateContainerSize(){const{style:t}=this.rootElements["canvas-center"].element;t.visibility=this.containerSize==null?"hidden":"",this.containerSize?(t.width=`${this.containerSize.width??0}px`,t.height=`${this.containerSize.height??0}px`):(t.width="",t.height=""),this.updateContainerClassName()}setTabGuardIndex(t){this.tabGuards&&(this.tabGuards.tabIndex=t)}setContainer(t){t!==this.container&&(this.pendingContainer=t,(this.mode==="minimal"||this.container==null)&&this.updateContainer())}updateContainer(){const{pendingContainer:t}=this;if(!(t==null||t===this.container)){if(this.container&&(this.container.removeChild(this.element),this.sizeMonitor.unobserve(this.container)),this.documentRoot!=null)for(const i of this.rootElements.styles.children.keys())this.removeChild("styles",i);this.container=t,this.pendingContainer=void 0,this.documentRoot=this.getShadowDocumentRoot(t),this.initiallyConnected=this.mode==="minimal"||t.isConnected;for(const[i,n]of this.styles)this.addStyles(i,n);t.appendChild(this.element),this.sizeMonitor.observe(t,i=>{this.containerSize=i,this.updateContainerSize(),this.listeners.dispatch("resize",{type:"resize"})}),this.listeners.dispatch("container-changed",{type:"container-changed"})}}setThemeClass(t){const i="ag-charts-theme-";this.element.classList.forEach(n=>{n.startsWith(i)&&n!==t&&this.element.classList.remove(n)}),this.element.classList.add(t)}setThemeParameters(t){const i={accentColor:"accent-color",axisColor:"axis-color",backgroundColor:"background-color",borderColor:"border-color",foregroundColor:"foreground-color",fontFamily:"font-family",fontSize:"font-size",fontWeight:"font-weight",gridLineColor:"grid-line-color",padding:"padding",subtleTextColor:"subtle-text-color",textColor:"text-color",chromeBackgroundColor:"chrome-background-color",chromeFontFamily:"chrome-font-family",chromeFontSize:"chrome-font-size",chromeFontWeight:"chrome-font-weight",chromeSubtleTextColor:"chrome-subtle-text-color",chromeTextColor:"chrome-text-color",inputBackgroundColor:"input-background-color",inputTextColor:"input-text-color",crosshairLabelBackgroundColor:"crosshair-label-background-color",crosshairLabelTextColor:"crosshair-label-text-color"},n=["fontSize","chromeFontSize"];for(const[s,r]of _o(t)){let o=`${r}`;n.includes(s)&&(o=`${r}px`),this.element.style.setProperty(`--ag-charts-${i[s]}`,o)}}updateCanvasLabel(t){yi(this.rootElements["canvas-proxy"].element,"aria-label",t)}getEventElement(t,i){return["focus","blur","keydown","keyup"].includes(i)?this.rootElements["series-area"].element:t}addEventListener(t,i,n){this.getEventElement(this.element,t).addEventListener(t,i,n)}removeEventListener(t,i,n){this.getEventElement(this.element,t).removeEventListener(t,i,n)}getBoundingClientRect(){return this.rootElements.canvas.element.getBoundingClientRect()}getOverlayClientRect(){var s;const t=vi(),i=new Ge(0,0,t.innerWidth,t.innerHeight),n=this.getRawOverlayClientRect();return((s=i.intersection(n))==null?void 0:s.toDOMRect())??i2}getRawOverlayClientRect(){var r,o,a;let t=this.element;const i=(r=this.element.getRootNode())==null?void 0:r.fullscreenElement;for(;t!=null;){let c;if(i!=null&&t===i)c=!0;else{const h=(o=t.computedStyleMap)==null?void 0:o.call(t),f=(a=h==null?void 0:h.get("overflow-y"))==null?void 0:a.toString();c=f==="auto"||f==="scroll"}if(c)return Ge.fromDOMRect(t.getBoundingClientRect());t=t.parentElement}if(this.documentRoot!=null)return Ge.fromDOMRect(this.documentRoot.getBoundingClientRect());const{innerWidth:n,innerHeight:s}=vi();return new Ge(0,0,n,s)}getShadowDocumentRoot(t=this.container){var n;const i=((n=t==null?void 0:t.ownerDocument)==null?void 0:n.body)??Ll("body");for(;t!=null;){if(t===i)return;if(t.parentNode instanceof DocumentFragment)return t;t=t.parentNode}}getParent(t){return this.rootElements[t].element}getChildBoundingClientRect(t){const{children:i}=this.rootElements[t],n=[];for(const s of i.values())n.push(Ge.fromDOMRect(s.getBoundingClientRect()));return Ge.merge(n)}isManagedChildDOMElement(t,i,n){const{children:s}=this.rootElements[i],r=s==null?void 0:s.get(n);return r!=null&&t.contains(r)}contains(t,i){return i==null?this.element.contains(t):this.rootElements[i].element.contains(t)}addStyles(t,i){const n="data-ag-charts";if(this.styles.set(t,i),this.container==null)return;const s=a=>a.getAttribute(n)===t,r=a=>{const c=new Set(["TITLE","META"]);let h=!0,f;for(const m of a.children){if(h&&c.has(m.tagName)){f=m;continue}if(h=!1,s(m))return;m.hasAttribute(n)&&(f=m)}const p=Lt("style");return f==null?a.prepend(p):a.insertBefore(p,f.nextSibling),p};let o;this.styleContainer?o=r(this.styleContainer):this.initiallyConnected===!1?o=this.addChild("styles",t):this.documentRoot==null&&!gh.headStyles.has(t)?(o=r(Ll("head")),gh.headStyles.add(t)):this.documentRoot!=null&&(o=this.addChild("styles",t)),!(o==null||s(o))&&(o.setAttribute(n,t),o.innerHTML=i)}removeStyles(t){this.removeChild("styles",t)}updateCursor(t,i){this.cursorState.set(t,i),this.element.style.cursor=this.cursorState.stateValue()}getCursor(){return this.element.style.cursor}addChild(t,i,n,s){const{element:r,children:o,listeners:a}=this.rootElements[t];if(!o)throw new Error("AG Charts - unable to create DOM elements after destroy()");if(o.has(i))return o.get(i);const{childElementType:c="div"}=mq.get(t)??{};if(n&&n.tagName.toLowerCase()!==c.toLowerCase())throw new Error("AG Charts - mismatching DOM element type");const h=n??Lt(c);for(const[f,p,m]of a)h.addEventListener(f,p,m);if(o.set(i,h),s){const f=r.querySelector(s.query);if(f==null)throw new Error(`AG Charts - addChild query failed ${s.query}`);f.insertAdjacentElement(s.where,h)}else r==null||r.appendChild(h);return h}removeChild(t,i){var s;const{children:n}=this.rootElements[t];n&&((s=n.get(i))==null||s.remove(),n.delete(i))}incrementDataCounter(t){const{dataset:i}=this.element;i[t]??(i[t]="0"),i[t]=String(Number(i[t])+1)}setDataBoolean(t,i){this.element.dataset[t]=String(i)}updateContainerClassName(){const{element:t,containerSize:i,minWidth:n,minHeight:s}=this;t.classList.toggle(dk.safeHorizontal,n>=((i==null?void 0:i.width)??1/0)),t.classList.toggle(dk.safeVertical,s>=((i==null?void 0:i.height)??1/0))}};WL.batchedUpdateContainer=[];WL.headStyles=new Set;var n2=WL,vq=class extends Na{constructor(){super(Lt("div")),this.textElement=Wn("text"),this.textElement.role="presentation",this.svgElement=Wn("svg"),this.svgElement.appendChild(this.textElement),this.svgElement.style.width="100%",this.svgElement.style.opacity="0",this.svgElement.role="presentation",this.elem.appendChild(this.svgElement),this.elem.role="presentation"}set textContent(e){var n;this.textElement.textContent=e;const t=this.textElement,i=(n=t.getBBox)==null?void 0:n.call(t);i&&this.svgElement.setAttribute("viewBox",`${i.x} ${i.y} ${i.width} ${i.height}`)}get textContent(){return this.textElement.textContent}destructor(){}},Im=class extends Na{constructor(){super(Lt("button")),this.setEnabled(!0)}destructor(){}setEnabled(e){yi(this.elem,"aria-disabled",!e),Io(this.elem,"pointer-events",e?void 0:"none")}addListener(e,t){return super.addListener(e,(i,n)=>{(e==="click"||e==="dblclick")&&this.isDisabled()||t(i,n)})}},bq=class extends Na{constructor(){super(Lt("div")),yi(this.elem,"role","group")}destructor(){}},s2=class extends Na{constructor(e,t){super(Lt("div")),this.focusedChildIndex=0,this.onChildFocus=(i,n)=>{const s=this.children[this.focusedChildIndex];this.focusedChildIndex=n.index,s==null||s.setTabIndex(-1),n.setTabIndex(0)},this.onChildKeyDown=(i,n)=>{var c;const s=this.orientation,[r,o]=s==="both"?[cf.horizontal,cf.vertical]:[cf[s],void 0];let a=-1;if(sx(i.sourceEvent)){const h=i.sourceEvent.key;h===r.nextKey||h===(o==null?void 0:o.nextKey)?a=n.index+1:(h===r.prevKey||h===(o==null?void 0:o.prevKey))&&(a=n.index-1)}(c=this.children[a])==null||c.focus()},this.orientation=e,yi(this.elem,"role",t)}get orientation(){return ix(this.elem,"aria-orientation")??"both"}set orientation(e){yi(this.elem,"aria-orientation",e!=="both"?e:void 0)}focus(){var e;(e=this.children[this.focusedChildIndex])==null||e.focus()}onChildAdded(e){e.addListener("focus",this.onChildFocus),e.addListener("keydown",this.onChildKeyDown),e.setTabIndex(this.children.length===1?0:-1)}onChildRemoved(e){e.removeListener("focus",this.onChildFocus),e.removeListener("keydown",this.onChildKeyDown);const{focusedChildIndex:t,children:i}=this,n=t===e.index;for(let s=0;s<i.length;s++){const r=i[s];r.index===t&&(this.focusedChildIndex=s),r.index=s}if(n){const s=i[t]??i[t-1];s?(this.focusedChildIndex=s.index,s.setTabIndex(0)):this.focusedChildIndex=0}}},Cq=class extends s2{constructor(){super("both","list"),this.setHidden(!0)}destructor(){this.children.forEach(e=>e.getElement().parentElement.remove())}addChildToDOM(e,t){const i=Lt("div");yi(i,"role","listitem"),Io(i,"position","absolute"),Na.setElementContainer(e,i),this.appendOrInsert(i,t),this.setHidden(!1)}removeChildFromDOM(e){e.getElement().parentElement.remove(),this.setHidden(this.children.length===0)}setHidden(e){this.children.length===0&&(e=!0),super.setHidden(e)}},bf=class extends Na{constructor(e){super(e)}destructor(){}},xq=new Intl.NumberFormat("en-US",{style:"percent"});function Al(e,t=2){return typeof e=="number"?o2(e,t):typeof e=="string"?e:String(e??"")}function r2(e){return xq.format(e)}var gk=new Map().set(2,new Intl.NumberFormat("en-US",{maximumFractionDigits:2,useGrouping:!1}));function o2(e,t){let i=gk.get(t);return i||(i=new Intl.NumberFormat("en-US",{maximumFractionDigits:t,useGrouping:!1}),gk.set(t,i)),i.format(e)}var UL=class Sp extends Na{constructor(){super(Lt("input")),this._step=Sp.STEP_ONE,this.orientation="both"}get step(){return this._step}set step(t){this._step=t,this.getElement().step=t.attributeValue}get keyboardStep(){var t;return((t=this._keyboardStep)==null?void 0:t.step)??this._step}set keyboardStep(t){var i;if(t!==((i=this._keyboardStep)==null?void 0:i.step)&&(this._keyboardStep!==void 0&&(this.removeListener("keydown",this._keyboardStep.onKeyDown),this.removeListener("keyup",this._keyboardStep.onKeyUp),this.removeListener("blur",this._keyboardStep.onBlur),this._keyboardStep=void 0),t!==void 0)){const n=()=>this.getElement().step=t.attributeValue,s=()=>this.getElement().step=this._step.attributeValue;this._keyboardStep={step:t,onKeyDown:n,onKeyUp:s,onBlur:s},this.addListener("keydown",this._keyboardStep.onKeyDown),this.addListener("keyup",this._keyboardStep.onKeyUp),this.addListener("blur",this._keyboardStep.onBlur)}}get orientation(){return ix(this.elem,"aria-orientation")??"both"}set orientation(t){yi(this.elem,"aria-orientation",t!=="both"?t:void 0),Sp.registerDefaultPreventers(this,t)}destructor(){}clampValueRatio(t,i){const n=this.getValueRatio(),s=ut(t,n,i);return s!==n&&this.setValueRatio(s),s}setValueRatio(t,i){const{divider:n}=this.step,s=Math.round(t*1e4)/n,{ariaValueText:r=r2(s/n)}=i??{},o=this.getElement();o.value=`${s}`,o.ariaValueText=r}getValueRatio(){return parseFloat(this.getElement().value)/this.step.divider}static registerDefaultPreventers(t,i){i==="both"?t.removeListener("keydown",Sp.onKeyDown):t.addListener("keydown",Sp.onKeyDown)}static onKeyDown(t,i){let n=[];const{orientation:s}=i;s==="horizontal"?n=["ArrowUp","ArrowDown"]:s==="vertical"&&(n=["ArrowLeft","ArrowRight"]),n.includes(t.sourceEvent.code)&&t.sourceEvent.preventDefault()}};UL.STEP_ONE={attributeValue:"1",divider:1};UL.STEP_HUNDRETH={attributeValue:"0.01",divider:100};var YL=UL,Sq=class extends Im{constructor(){super(),yi(this.elem,"role","switch"),this.setChecked(!1)}setChecked(e){yi(this.elem,"aria-checked",e)}},rx=class extends s2{constructor(e="horizontal"){super(e,"toolbar")}destructor(){}};function Vd(e,t){var i;return((i=t.params)==null?void 0:i.type)===e}function wq(e){if(e==="button")return new Im;if(e==="slider")return new YL;if(e==="toolbar")return new rx;if(e==="group")return new bq;if(e==="list")return new Cq;if(e==="region")return new bf(Lt("div"));if(e==="text")return new vq;if(e==="listswitch")return new Sq;throw Error("AG Charts - error allocating meta")}function pk(e){const t={params:e,result:void 0};return t.result=wq(t.params.type),t}var a2=class{constructor(e,t){this.localeManager=e,this.domManager=t,this.destroyFns=[]}destroy(){this.destroyFns.forEach(e=>e())}addLocalisation(e){e(),this.destroyFns.push(this.localeManager.addListener("locale-changed",e))}createProxyContainer(e){const t=pk(e),{params:i,result:n}=t,s=n.getElement();return this.domManager.addChild("canvas-proxy",i.domManagerId,s),s.classList.add(...i.classList,"ag-charts-proxy-container"),s.role=i.type,"ariaOrientation"in i&&(s.ariaOrientation=i.ariaOrientation),Vd("toolbar",t)&&(t.result.orientation=t.params.orientation),this.addLocalisation(()=>{s.ariaLabel=this.localeManager.t(i.ariaLabel.id,i.ariaLabel.params)}),n}createProxyElement(e){const t=pk(e);if(Vd("button",t)){const{params:i,result:n}=t,s=n.getElement();if(this.initInteract(i,n),typeof i.textContent=="string")s.textContent=i.textContent;else{const{textContent:r}=i;this.addLocalisation(()=>{s.textContent=this.localeManager.t(r.id,r.params)})}this.setParent(t.params,t.result)}if(Vd("slider",t)){const{params:i,result:n}=t,s=n.getElement();this.initInteract(i,n),s.type="range",s.role="presentation",s.style.margin="0px",this.addLocalisation(()=>{s.ariaLabel=this.localeManager.t(i.ariaLabel.id,i.ariaLabel.params)}),this.setParent(t.params,t.result)}if(Vd("text",t)){const{params:i,result:n}=t;this.initElement(i,n),this.setParent(t.params,t.result)}if(Vd("listswitch",t)){const{params:i,result:n}=t;this.initInteract(i,n),n.setTextContent(i.textContent),n.setChecked(i.ariaChecked),n.setAriaDescribedBy(i.ariaDescribedBy),this.setParent(t.params,t.result)}if(Vd("region",t)){const{params:i,result:n}=t,s=n.getElement();this.initInteract(i,n),s.role="region",this.setParent(t.params,t.result)}return t.result}initElement(e,t){const i=t.getElement();return yi(i,"id",e.id),Io(i,"cursor",e.cursor),i.classList.toggle("ag-charts-proxy-elem",!0),i}initInteract(e,t){const{tabIndex:i,domIndex:n}=e,s=this.initElement(e,t);i!==void 0&&(s.tabIndex=i),n!==void 0&&(t.domIndex=n)}setParent(e,t){var i;if("parent"in e)(i=e.parent)==null||i.addChild(t);else{const n={where:e.where,query:".ag-charts-series-area"};this.domManager.addChild("canvas-proxy",e.domManagerId,t.getElement(),n)}}},Mq={ariaAnnounceHoverDatum:"${datum}",ariaAnnounceChart:"chart, ${seriesCount}[number] series",ariaAnnounceHierarchyChart:"hierarchy chart, ${caption}",ariaAnnounceGaugeChart:"gauge chart, ${caption}",ariaAnnounceHierarchyDatum:"level ${level}[number], ${count}[number] children, ${description}",ariaAnnounceFlowProportionLink:"link ${index} of ${count}, from ${from} to ${to}, ${sizeName} ${size}",ariaAnnounceFlowProportionNode:"node ${index} of ${count}, ${description}",ariaDescriptionLegendItem:"Press Space or Enter to toggle visibility",ariaLabelAddHorizontalLine:"Add Horizontal Line",ariaLabelAnnotationOptionsToolbar:"Annotation Options",ariaLabelAnnotationSettingsDialog:"Annotation Settings",ariaLabelColorPicker:"Color picker",ariaLabelFinancialCharts:"Financial Charts",ariaLabelLegend:"Legend",ariaLabelLegendPagination:"Legend Pagination",ariaLabelLegendPagePrevious:"Previous Legend Page",ariaLabelLegendPageNext:"Next Legend Page",ariaLabelLegendItem:"${label}, Legend item ${index}[number] of ${count}[number]",ariaLabelLegendItemUnknown:"Unknown legend item",ariaLabelNavigator:"Navigator",ariaLabelNavigatorRange:"Range",ariaLabelNavigatorMinimum:"Minimum",ariaLabelNavigatorMaximum:"Maximum",ariaLabelRangesToolbar:"Ranges",ariaLabelSettingsTabBar:"Settings",ariaLabelZoomToolbar:"Zoom",ariaValuePanRange:"${min}[percent0to2dp] to ${max}[percent0to2dp]",iconAltTextLineStyleSolid:"Solid",iconAltTextLineStyleDashed:"Long-dashed",iconAltTextLineStyleDotted:"Short-dashed",iconAltTextPositionTop:"Top",iconAltTextPositionCenter:"Center",iconAltTextPositionBottom:"Bottom",iconAltTextAlignLeft:"Left",iconAltTextAlignCenter:"Center",iconAltTextAlignRight:"Right",iconAltTextClose:"Close",overlayLoadingData:"Loading data...",overlayNoData:"No data to display",overlayNoVisibleSeries:"No visible series",overlayUnsupportedBrowser:"Incompatible browser version. Please upgrade your browser.",seriesHistogramTooltipFrequency:"Frequency",seriesHistogramTooltipSum:"${yName} (sum)",seriesHistogramTooltipCount:"${yName} (count)",seriesHistogramTooltipMean:"${yName} (mean)",toolbarSeriesTypeDropdown:"Chart Type",toolbarSeriesTypeOHLC:"OHLC",toolbarSeriesTypeHLC:"HLC",toolbarSeriesTypeHighLow:"High Low",toolbarSeriesTypeCandles:"Candles",toolbarSeriesTypeHollowCandles:"Hollow Candles",toolbarSeriesTypeLine:"Line",toolbarSeriesTypeLineWithMarkers:"Line with Markers",toolbarSeriesTypeStepLine:"Step Line",toolbarAnnotationsTrendLine:"Trend Line",toolbarAnnotationsFibonacciRetracement:"Fib Retracement",toolbarAnnotationsFibonacciRetracementTrendBased:"Fib Trend Based",toolbarAnnotationsHorizontalLine:"Horizontal Line",toolbarAnnotationsVerticalLine:"Vertical Line",toolbarAnnotationsParallelChannel:"Parallel Channel",toolbarAnnotationsDisjointChannel:"Disjoint Channel",toolbarAnnotationsClearAll:"Clear All",toolbarAnnotationsFillColor:"Fill Color",toolbarAnnotationsLineColor:"Line Color",toolbarAnnotationsLineStyle:"Line Style",toolbarAnnotationsLineStrokeWidth:"Line Stroke Width",toolbarAnnotationsSettings:"Settings",toolbarAnnotationsTextColor:"Text Color",toolbarAnnotationsTextSize:"Text Size",toolbarAnnotationsLock:"Lock",toolbarAnnotationsUnlock:"Unlock",toolbarAnnotationsDelete:"Delete",toolbarAnnotationsDragHandle:"Drag Toolbar",toolbarAnnotationsLineAnnotations:"Trend Lines",toolbarAnnotationsFibonacciAnnotations:"Fibonacci",toolbarAnnotationsTextAnnotations:"Text Annotations",toolbarAnnotationsShapeAnnotations:"Arrows",toolbarAnnotationsMeasurerAnnotations:"Measurers",toolbarAnnotationsCallout:"Callout",toolbarAnnotationsComment:"Comment",toolbarAnnotationsNote:"Note",toolbarAnnotationsText:"Text",toolbarAnnotationsArrow:"Arrow",toolbarAnnotationsArrowUp:"Arrow Up",toolbarAnnotationsArrowDown:"Arrow Down",toolbarAnnotationsDateRange:"Date Range",toolbarAnnotationsPriceRange:"Price Range",toolbarAnnotationsDatePriceRange:"Date and Price",toolbarAnnotationsQuickDatePriceRange:"Measure",toolbarRange1Month:"1M",toolbarRange1MonthAria:"1 month",toolbarRange3Months:"3M",toolbarRange3MonthsAria:"3 months",toolbarRange6Months:"6M",toolbarRange6MonthsAria:"6 months",toolbarRangeYearToDate:"YTD",toolbarRangeYearToDateAria:"Year to date",toolbarRange1Year:"1Y",toolbarRange1YearAria:"1 year",toolbarRangeAll:"All",toolbarRangeAllAria:"All",toolbarZoomZoomOut:"Zoom out",toolbarZoomZoomIn:"Zoom in",toolbarZoomPanLeft:"Pan left",toolbarZoomPanRight:"Pan right",toolbarZoomPanStart:"Pan to the start",toolbarZoomPanEnd:"Pan to the end",toolbarZoomReset:"Reset the zoom",contextMenuDownload:"Download",contextMenuToggleSeriesVisibility:"Toggle Visibility",contextMenuToggleOtherSeries:"Toggle Other Series",contextMenuZoomToCursor:"Zoom to here",contextMenuPanToCursor:"Pan to here",dialogHeaderChannel:"Channel",dialogHeaderLine:"Line",dialogHeaderFibonacciRange:"Fib Retracement",dialogHeaderDateRange:"Date Range",dialogHeaderPriceRange:"Price Range",dialogHeaderDatePriceRange:"Date and Price",dialogHeaderText:"Text",dialogInputAlign:"Align",dialogInputColorPicker:"Color",dialogInputColorPickerAltText:"Text Color",dialogInputFillColorPicker:"Fill",dialogInputFillColorPickerAltText:"Fill Color",dialogInputExtendChannelStart:"Extend channel start",dialogInputExtendChannelEnd:"Extend channel end",dialogInputExtendLineStart:"Extend line start",dialogInputExtendLineEnd:"Extend line end",dialogInputExtendAbove:"Extend above",dialogInputExtendBelow:"Extend below",dialogInputExtendLeft:"Extend left",dialogInputExtendRight:"Extend right",dialogInputReverse:"Reverse",dialogInputShowFill:"Show Fill",dialogInputFontSize:"Size",dialogInputFontSizeAltText:"Font Size",dialogInputLineStyle:"Dash",dialogInputPosition:"Position",dialogInputStrokeWidth:"Weight",dialogInputStrokeWidthAltText:"Line Weight",dialogInputFibonacciBands:"Bands",dialogInputFibonacciBandsAltText:"Fibonacci Bands",inputTextareaPlaceholder:"Add Text",measurerDateRangeBars:"${value}[number] bars",measurerPriceRangeValue:"${value}[number]",measurerPriceRangePercent:"${value}[percent]",measurerVolume:"Vol ${value}",tooltipPaginationStatus:"${index}[number] of ${count}[number]"},Dq=/\$\{(\w+)}(?:\[(\w+)])?/gi,Bw={number:new Intl.NumberFormat("en-US"),percent:new Intl.NumberFormat("en-US",{style:"percent",minimumFractionDigits:2,maximumFractionDigits:2}),percent0to2dp:new Intl.NumberFormat("en-US",{style:"percent",minimumFractionDigits:0,maximumFractionDigits:2}),date:new Intl.DateTimeFormat("en-US",{dateStyle:"full"}),time:new Intl.DateTimeFormat("en-US",{timeStyle:"full"}),datetime:new Intl.DateTimeFormat("en-US",{dateStyle:"full",timeStyle:"full"})},Lq=({defaultValue:e,variables:t})=>e==null?void 0:e.replaceAll(Dq,(i,n,s)=>{const r=t[n],o=s!=null?Bw[s]:null;return s!=null&&o==null&&Ee.warnOnce(`Format style [${s}] is not supported`),o!=null?o.format(r):typeof r=="number"?Bw.number.format(r):r instanceof Date?Bw.datetime.format(r):String(r)}),Tq=class extends _l{constructor(){super(...arguments),this.localeText=void 0,this.getLocaleText=void 0}setLocaleText(e){this.localeText!==e&&(this.localeText=e,this.dispatch("locale-changed"))}setLocaleTextFormatter(e){this.getLocaleText=e,this.getLocaleText!==e&&(this.getLocaleText=e,this.dispatch("locale-changed"))}t(e,t={}){const{localeText:i=Mq,getLocaleText:n}=this,s=i[e];return(n==null?void 0:n({key:e,defaultValue:s,variables:t}))??Lq({defaultValue:s,variables:t})??e}},KL=class{constructor(e){this.enabled=!0,this.width=600,this.height=300;const{width:t,height:i,canvasElement:n,willReadFrequently:s=!1}=e;this.pixelRatio=e.pixelRatio??vi("devicePixelRatio")??1,this.element=n??Lt("canvas"),this.element.style.display="block",this.element.style.width=(t??this.width)+"px",this.element.style.height=(i??this.height)+"px",this.element.width=Math.round((t??this.width)*this.pixelRatio),this.element.height=Math.round((i??this.height)*this.pixelRatio),this.context=this.element.getContext("2d",{willReadFrequently:s}),this.onEnabledChange(),this.resize(t??0,i??0,this.pixelRatio),gF(this.context)}drawImage(e,t=0,i=0){return e.drawImage(this.context.canvas,t,i)}toDataURL(e){return this.element.toDataURL(e)}resize(e,t,i){if(!(e>0&&t>0))return;const{element:n,context:s}=this;n.width=Math.round(e*i),n.height=Math.round(t*i),s.setTransform(i,0,0,i,0,0),n.style.width=e+"px",n.style.height=t+"px",this.width=e,this.height=t,this.pixelRatio=i}clear(){fF(this)}destroy(){this.element.remove(),this.element.width=0,this.element.height=0,this.context.clearRect(0,0,0,0),Object.freeze(this)}onEnabledChange(){this.element&&(this.element.style.display=this.enabled?"":"none")}};R([mu(e=>e.onEnabledChange())],KL.prototype,"enabled",2);var Aq=class{constructor(e){this.canvas=e,this.debug=$t.create(!0,"scene"),this.layersMap=new Map,this.nextLayerId=0}get size(){return this.layersMap.size}resize(e,t,i){this.canvas.resize(e,t,i),this.layersMap.forEach(({canvas:n})=>n.resize(e,t,i))}addLayer(e){const{width:t,height:i,pixelRatio:n}=this.canvas,{name:s}=e,r=new bL({width:t,height:i,pixelRatio:n});return this.layersMap.set(r,{id:this.nextLayerId++,name:s,canvas:r}),this.debug("Scene.addLayer() - layers",this.layersMap),r}removeLayer(e){this.layersMap.has(e)&&(this.layersMap.delete(e),e.destroy(),this.debug("Scene.removeLayer() -  layers",this.layersMap))}clear(){for(const e of this.layersMap.values())e.canvas.destroy();this.layersMap.clear()}};function Eq(e){for(const t of["B","KB","MB","GB"]){if(e<1536)return`${e.toFixed(1)}${t}`;e/=1024}return`${e.toFixed(1)}TB}`}function Rq(){if(!("memory"in performance))return;const{totalJSHeapSize:e,usedJSHeapSize:t,jsHeapSizeLimit:i}=performance.memory,n=[];for(const s of[t,e,i])typeof s=="number"&&n.push(Eq(s));return`Heap ${n.join(" / ")}`}function mk(e,t,i,n,s={},r=Ge.zero){if(!$t.check("scene:stats","scene:stats:verbose"))return;const{layersRendered:o=0,layersSkipped:a=0,nodesRendered:c=0,nodesSkipped:h=0,opsPerformed:f=0,opsSkipped:p=0}=n??{},m=performance.now(),{start:b,...C}=t,w=Object.entries(C).map(([U,$])=>yk(U,$)).filter(U=>U!=null).join(" + "),D=Object.entries(s).map(([U,$])=>`${U}: ${JSON.stringify($)}`).join(" ; "),M=$t.check("scene:stats:verbose"),A=Rq(),k=[`${yk("⏱️",b,m)} (${w})`,`${D}`,`Layers: ${M?zw(o,a):e.size}`,M?`Nodes: ${zw(c,h)}`:null,M?`Ops: ${zw(f,p)}`:null,M&&A?A:null].filter(Un),_=new FL(U=>i.measureText(U)),F=new Map(k.map(U=>[U,_.measureLines(U)])),N=Math.max(...Array.from(F.values(),U=>U.width)),z=Pq(F.values(),U=>U.height),V=2+r.x;i.save(),i.fillStyle="white",i.fillRect(V,0,N,z),i.fillStyle="black";let j=0;for(const[U,$]of F.entries())j+=$.height,i.fillText(U,V,j);i.restore()}function Iq(e){const t=Yb(vi("agChartsSceneDebug")),i=[];for(const n of t)n==="layout"?i.push("seriesRoot","legend","root",/.*Axis-\d+-axis.*/):i.push(n);e.debugNodeSearch=i}function kq(e,t){e.save();for(const[i,n]of Object.entries(t)){const s=en.toCanvas(n);if(!s){Ee.log(`Scene.render() - no bbox for debugged node [${i}].`);continue}e.globalAlpha=.8,e.strokeStyle="red",e.lineWidth=1,e.strokeRect(s.x,s.y,s.width,s.height),e.fillStyle="red",e.strokeStyle="white",e.font="16px sans-serif",e.textBaseline="top",e.textAlign="left",e.lineWidth=2,e.strokeText(i,s.x,s.y,s.width),e.fillText(i,s.x,s.y,s.width)}e.restore()}var _q=new Set,Nq=new Set(["gradient","zIndex","clipRect","cachedBBox","childNodeCounts","path","__zIndex","name","__scalingCenterX","__scalingCenterY","__rotationCenterX","__rotationCenterY","_previousDatum","__fill","__lineDash","borderPath","borderClipPath","_clipPath"]);function Oq(e){const{...t}=e;for(const i of Object.keys(t))Nq.has(i)||typeof t[i]!="number"&&typeof t[i]!="string"&&typeof t[i]!="boolean"&&(_q.add(i),delete t[i]);return t}function db(e,t){if(!$t.check(!0,"scene"))return{};let i=0;return{node:t==="json"?Oq(e):e,name:e.name??e.id,dirty:e.dirty,...Array.from(e.children(),n=>db(n,t)).reduce((n,s)=>{let{name:r}=s;const{node:{visible:o,opacity:a,zIndex:c,translationX:h,translationY:f,rotation:p,scalingX:m,scalingY:b},node:C}=s;(!o||a<=0)&&(r=`(${r})`),at.is(C)&&C.renderToOffscreenCanvas&&(r=`*${r}*`);const w=Array.isArray(c)?`(${c.join(", ")})`:c,D=[`${(i++).toString().padStart(3,"0")}|`,`${r??"<unknown>"}`,`z: ${w}`,h&&`x: ${h}`,f&&`y: ${f}`,p&&`r: ${p}`,m!=null&&m!==1&&`sx: ${m}`,b!=null&&b!==1&&`sy: ${b}`].filter(k=>!!k).join(" ");let M=D,A=1;for(;n[M]!=null&&A<100;)M=`${D} (${A++})`;return n[M]=s,n},{})}}function l2(e){if(!e.dirty)return{dirtyTree:{},paths:[]};const t=Array.from(e.children(),s=>l2(s)).filter(s=>s.paths.length>0),i=at.is(e)?e.name??e.id:e.id,n=t.length?t.flatMap(s=>s.paths).map(s=>`${i}.${s}`):[i];return{dirtyTree:{name:i,node:e,dirty:e.dirty,...t.map(s=>s.dirtyTree).filter(s=>s.dirty!=null).reduce((s,r)=>(s[r.name??"<unknown>"]=r,s),{})},paths:n}}function zw(e,t){const i=e+t;return`${e} / ${i} (${Math.round(100*e/i)}%)`}function yk(e,t,i){const n=i!=null?i-t:t;return`${e}: ${Math.round(n*100)/100}ms`}function Pq(e,t){let i=0;for(const n of e)i+=t(n);return i}var ox=class{constructor(e){this.debug=$t.create(!0,"scene"),this.id=Er(this),this.root=null,this.pendingSize=null,this.isDirty=!1,this.updateDebugFlags(),this.canvas=new KL(e),this.layersManager=new Aq(this.canvas)}get width(){var e;return((e=this.pendingSize)==null?void 0:e[0])??this.canvas.width}get height(){var e;return((e=this.pendingSize)==null?void 0:e[1])??this.canvas.height}get pixelRatio(){var e;return((e=this.pendingSize)==null?void 0:e[2])??this.canvas.pixelRatio}setContainer(e){var i;const{element:t}=this.canvas;return(i=t.parentElement)==null||i.removeChild(t),e.appendChild(t),this}setRoot(e){var t;return this.root===e?this:(this.isDirty=!0,(t=this.root)==null||t._setLayerManager(),this.root=e,e&&(e.visible=!0,e._setLayerManager(this.layersManager)),this)}updateDebugFlags(){$t.inDevelopmentMode(()=>Tl._debugEnabled=!0)}clear(){this.canvas.clear()}attachNode(e){return this.appendChild(e),()=>this.removeChild(e)}appendChild(e){var t;return(t=this.root)==null||t.appendChild(e),this}removeChild(e){var t;return(t=this.root)==null||t.removeChild(e),this}download(e,t){v8(this.canvas.toDataURL(t),(e==null?void 0:e.trim())??"image")}getDataURL(e){return this.canvas.toDataURL(e)}resize(e,t,i){return e=Math.round(e),t=Math.round(t),i??(i=this.pixelRatio),e>0&&t>0&&(e!==this.width||t!==this.height||i!==this.pixelRatio)?(this.pendingSize=[e,t,i],this.isDirty=!0,!0):!1}render(e){var w;const{debugSplitTimes:t={start:performance.now()},extraDebugStats:i,seriesRect:n}=e??{},{canvas:s,canvas:{context:r}={},root:o,pendingSize:a,width:c,height:h,pixelRatio:f}=this;if(!r)return;const p=performance.now();let m=!1;if(a&&(m=!0,this.layersManager.resize(...a),this.pendingSize=null),o&&!o.visible){this.isDirty=!1;return}if((o==null?void 0:o.dirty)===!1&&!this.isDirty){this.debug.check()&&this.debug("Scene.render() - no-op",{tree:db(o,"console")}),mk(this.layersManager,t,r,void 0,i,n);return}const b={ctx:r,width:c,height:h,devicePixelRatio:f,debugNodes:{}};$t.check("scene:stats:verbose")&&(b.stats={layersRendered:0,layersSkipped:0,nodesRendered:0,nodesSkipped:0,opsPerformed:0,opsSkipped:0}),Iq(b);let C=!1;if(((o==null?void 0:o.dirty)!==!1||m)&&(C=!0,s.clear()),o&&$t.check("scene:dirtyTree")){const{dirtyTree:D,paths:M}=l2(o);$t.create("scene:dirtyTree")("Scene.render() - dirtyTree",{dirtyTree:D,paths:M})}if(o&&C){if(o.visible&&o.preRender(b),this.debug.check()){const D=db(o,"console");this.debug("Scene.render() - before",{canvasCleared:C,tree:D})}o.visible&&(r.save(),o.render(b),r.restore())}t["✍️"]=performance.now()-p,(w=r.verifyDepthZero)==null||w.call(r),this.isDirty=!1,mk(this.layersManager,t,r,b.stats,i,n),kq(r,b.debugNodes),o&&this.debug.check()&&this.debug("Scene.render() - after",{tree:db(o,"console"),canvasCleared:C})}toSVG(){const{root:e,width:t,height:i}=this;if(e!=null)return Tl.toSVG(e,t,i)}strip(){const{context:e,pixelRatio:t}=this.canvas;e.setTransform(t,0,0,t,0,0),this.layersManager.clear(),this.setRoot(null),this.isDirty=!1}destroy(){this.strip(),this.canvas.destroy(),Object.assign(this,{canvas:void 0})}};ox.className="Scene";function Fq(e,t){return"context"in e}function $L(e,t,i){return Fq(e)&&i[0]!=null&&typeof i[0]=="object"&&(i[0].context=e.context),t(...i)}var Bq=class{constructor(){this.cache=new WeakMap}call(e,t,...i){let n,s=this.cache.get(t);try{n=JSON.stringify(i)}catch{return this.invoke(e,t,i,s)}return s==null&&(s=new Map,this.cache.set(t,s)),s.has(n)?s.get(n):this.invoke(e,t,i,s,n)}invoke(e,t,i,n,s){try{const r=$L(e,t,i);return n&&s!=null&&n.set(s,r),r}catch(r){Ee.warnOnce("User callback errored, ignoring",r);return}}invalidateCache(){this.cache=new WeakMap}},zq=class extends yu{constructor(e,t){super(),this.annotationRoot=e,this.fireChartEvent=t,this.mementoOriginatorKey="annotations",this.annotations=[]}createMemento(){return this.annotations}guardMemento(e){return e==null||bt(e)}restoreMemento(e,t,i){this.annotations=this.cleanData(i??[]).map(n=>{const s=this.getAnnotationTypeStyles(n.type);return Pt(n,s)}),this.listeners.dispatch("restore-annotations",{type:"restore-annotations",annotations:this.annotations})}updateData(e){this.annotations=this.cleanData(e??[])}fireChangedEvent(){this.fireChartEvent({type:"annotations",annotations:Ii([...this.annotations])})}attachNode(e){return this.annotationRoot.append(e),()=>{var t;return(t=this.annotationRoot)==null||t.removeChild(e),this}}setAnnotationStyles(e){this.styles=e}getAnnotationTypeStyles(e){var t;return(t=this.styles)==null?void 0:t[e]}cleanData(e){for(const t of e)"textAlign"in t&&delete t.textAlign;return e}},c2=(e=>(e[e.CHART_BACKGROUND=0]="CHART_BACKGROUND",e[e.AXIS_GRID=1]="AXIS_GRID",e[e.AXIS=2]="AXIS",e[e.ZOOM_SELECTION=3]="ZOOM_SELECTION",e[e.SERIES_CROSSLINE_RANGE=4]="SERIES_CROSSLINE_RANGE",e[e.SERIES_LAYER=5]="SERIES_LAYER",e[e.AXIS_FOREGROUND=6]="AXIS_FOREGROUND",e[e.SERIES_CROSSHAIR=7]="SERIES_CROSSHAIR",e[e.SERIES_CROSSLINE_LINE=8]="SERIES_CROSSLINE_LINE",e[e.SERIES_ANNOTATION=9]="SERIES_ANNOTATION",e[e.CHART_ANNOTATION=10]="CHART_ANNOTATION",e[e.CHART_ANNOTATION_FOCUSED=11]="CHART_ANNOTATION_FOCUSED",e[e.STATUS_BAR=12]="STATUS_BAR",e[e.SERIES_LABEL=13]="SERIES_LABEL",e[e.LEGEND=14]="LEGEND",e[e.NAVIGATOR=15]="NAVIGATOR",e[e.FOREGROUND=16]="FOREGROUND",e))(c2||{}),Gq=class{constructor(e){this.sceneRoot=e,this.axes=new Map,this.axisGridGroup=new at({name:"Axes-Grids",zIndex:1}),this.axisGroup=new at({name:"Axes",zIndex:2}),this.axisLabelGroup=new at({name:"Axes-Labels",zIndex:13}),this.axisCrosslineRangeGroup=new at({name:"Axes-Crosslines-Range",zIndex:4}),this.axisCrosslineLineGroup=new at({name:"Axes-Crosslines-Line",zIndex:8}),this.axisCrosslineLabelGroup=new at({name:"Axes-Crosslines-Label",zIndex:13}),this.sceneRoot.appendChild(this.axisGroup),this.sceneRoot.appendChild(this.axisGridGroup),this.sceneRoot.appendChild(this.axisLabelGroup),this.sceneRoot.appendChild(this.axisCrosslineRangeGroup),this.sceneRoot.appendChild(this.axisCrosslineLineGroup),this.sceneRoot.appendChild(this.axisCrosslineLabelGroup)}updateAxes(e,t){var n;const i={axisNode:this.axisGroup,gridNode:this.axisGridGroup,labelNode:this.axisLabelGroup,crossLineRangeNode:this.axisCrosslineRangeGroup,crossLineLineNode:this.axisCrosslineLineGroup,crossLineLabelNode:this.axisCrosslineLabelGroup};for(const s of e)t.includes(s)||(s.detachAxis(i),s.destroy());for(const s of t)e!=null&&e.includes(s)||s.attachAxis(i);this.axes.clear();for(const s of t){const r=s.createAxisContext();this.axes.has(r.direction)?(n=this.axes.get(r.direction))==null||n.push(r):this.axes.set(r.direction,[r])}}getAxisContext(e){return this.axes.get(e)??[]}destroy(){this.axes.clear(),this.sceneRoot.removeChild(this.axisGroup),this.sceneRoot.removeChild(this.axisGridGroup)}},ax=class extends _l{constructor(e){super(),this.animationManager=e,this.dispatchOnlyLatest=!0,this.dispatchThrottle=0,this.requestThrottle=300,this.isLoadingInitialData=!1,this.isLoadingData=!1,this.freshRequests=[],this.requestCounter=0,this.debug=$t.create(!0,"data-model","data-source"),this.throttledFetch=this.createThrottledFetch(this.requestThrottle),this.throttledDispatch=this.createThrottledDispatch(this.dispatchThrottle)}updateCallback(e){typeof e=="function"&&(this.debug("DataService - updated data source callback"),this.dataSourceCallback=e,this.isLoadingInitialData=!0,this.animationManager.skip(),this.dispatch("data-source-change"))}clearCallback(){this.dataSourceCallback=void 0}load(e){this.isLoadingData=!0,this.throttledFetch(e)}isLazy(){return this.dataSourceCallback!=null}isLoading(){return this.isLazy()&&(this.isLoadingInitialData||this.isLoadingData)}createThrottledFetch(e){return q1(t=>this.fetch(t).catch(i=>Ee.error("callback failed",i)),e,{leading:!1,trailing:!0})}createThrottledDispatch(e){return q1((t,i)=>{this.debug(`DataService - dispatching 'data-load' | ${t}`),this.dispatch("data-load",{type:"data-load",data:i})},e,{leading:!0,trailing:!0})}async fetch(e){if(!this.dataSourceCallback)throw new Error("DataService - [dataSource.getData] callback not initialised");const t=performance.now(),i=this.requestCounter++;this.debug(`DataService - requesting | ${i}`),this.freshRequests.push(i);let n;try{n=await this.dataSourceCallback(e),this.debug(`DataService - response | ${performance.now()-t}ms | ${i}`)}catch(r){this.debug(`DataService - request failed | ${i}`),Ee.errorOnce(`DataService - request failed | [${r}]`)}this.isLoadingInitialData=!1;const s=this.freshRequests.findIndex(r=>r===i);if(s===-1||this.dispatchOnlyLatest&&s!==this.freshRequests.length-1){this.debug(`DataService - discarding stale request | ${i}`);return}this.freshRequests=this.freshRequests.slice(s+1),this.freshRequests.length===0&&(this.isLoadingData=!1),Array.isArray(n)?this.throttledDispatch(i,n):this.dispatch("data-error")}};R([sr({newValue(e){this.throttledDispatch=this.createThrottledDispatch(e)}})],ax.prototype,"dispatchThrottle",2);R([sr({newValue(e){this.throttledFetch=this.createThrottledFetch(e)}})],ax.prototype,"requestThrottle",2);function Hq(e,t){return i=>Number(e)*(1-i)+Number(t)*i}function u2(e,t){if(typeof e=="string")try{e=ni.fromString(e)}catch{e=ni.fromArray([0,0,0])}if(typeof t=="string")try{t=ni.fromString(t)}catch{t=ni.fromArray([0,0,0])}return i=>ni.mix(e,t,i).toRgbaString()}var KM={};jo(KM,{easeIn:()=>jq,easeInOut:()=>Vq,easeInOutQuad:()=>Yq,easeInQuad:()=>Wq,easeOut:()=>Qp,easeOutQuad:()=>Uq,inverseEaseOut:()=>d2,linear:()=>h2});var h2=e=>e,jq=e=>1-Math.cos(e*Math.PI/2),Qp=e=>Math.sin(e*Math.PI/2),Vq=e=>-(Math.cos(e*Math.PI)-1)/2,Wq=e=>e*e,Uq=e=>1-(1-e)**2,Yq=e=>e<.5?2*e*e:1-(-2*e+2)**2/2,d2=e=>2*Math.asin(e)/Math.PI,rC=.2,$d=["initial","remove","update","add","trailing","end","none"],Jp={initial:{animationDuration:1,animationDelay:0},add:{animationDuration:.25,animationDelay:.75},remove:{animationDuration:.25,animationDelay:0},update:{animationDuration:.5,animationDelay:.25},trailing:{animationDuration:rC,animationDelay:1,skipIfNoEarlierAnimations:!0},end:{animationDelay:1+rC,animationDuration:0,skipIfNoEarlierAnimations:!0},none:{animationDuration:0,animationDelay:0}},f2=(e=>(e.Loop="loop",e.Reverse="reverse",e))(f2||{});function Kq(e){return e.every(t=>t instanceof Tl)}function lx(e){return Kq(e)?{nodes:e,selections:[]}:{nodes:[],selections:e}}function $M(e,t){return e===t?!0:Array.isArray(e)&&Array.isArray(t)?e.length===t.length&&e.every((i,n)=>$M(i,t[n])):Kb(e)&&Kb(t)?e.equals(t):ln(e)&&ln(t)?xL(e,t,$M):!1}var g2=class{constructor(e){var i,n,s;this.isComplete=!1,this.elapsed=0,this.iteration=0,this.isPlaying=!1,this.isReverse=!1,this.id=e.id,this.groupId=e.groupId,this.autoplay=e.autoplay??!0,this.ease=e.ease??h2,this.phase=e.phase;const t=e.duration??Jp[this.phase].animationDuration;this.duration=t*e.defaultDuration,this.delay=(e.delay??0)*e.defaultDuration,this.onComplete=e.onComplete,this.onPlay=e.onPlay,this.onStop=e.onStop,this.onUpdate=e.onUpdate,this.interpolate=this.createInterpolator(e.from,e.to),this.from=e.from,e.skip===!0&&((i=this.onUpdate)==null||i.call(this,e.to,!1,this),(n=this.onStop)==null||n.call(this,this),(s=this.onComplete)==null||s.call(this,this),this.isComplete=!0),e.collapsable!==!1&&(this.duration=this.checkCollapse(e,this.duration))}checkCollapse(e,t){return $M(e.from,e.to)?0:t}play(e=!1){var t,i;this.isPlaying||this.isComplete||(this.isPlaying=!0,(t=this.onPlay)==null||t.call(this,this),this.autoplay&&(this.autoplay=!1,e&&((i=this.onUpdate)==null||i.call(this,this.from,!0,this))))}stop(){var e;this.isPlaying=!1,this.isComplete||(this.isComplete=!0,(e=this.onStop)==null||e.call(this,this))}update(e){var s,r;if(this.isComplete)return e;!this.isPlaying&&this.autoplay&&this.play(!0);const t=this.elapsed;if(this.elapsed+=e,this.delay>this.elapsed)return 0;const i=this.interpolate(this.isReverse?1-this.delta:this.delta);(s=this.onUpdate)==null||s.call(this,i,!1,this);const n=this.delay+this.duration;return this.elapsed>=n?(this.stop(),this.isComplete=!0,(r=this.onComplete)==null||r.call(this,this),e-(n-t)):0}get delta(){return this.ease(ut(0,(this.elapsed-this.delay)/this.duration,1))}createInterpolator(e,t){if(typeof t!="object"||Kb(t))return this.interpolateValue(e,t);const i=[];for(const n of Object.keys(t)){const s=this.interpolateValue(e[n],t[n]);s!=null&&i.push([n,s])}return n=>{const s={};for(const[r,o]of i)s[r]=o(n);return s}}interpolateValue(e,t){if(!(e==null||t==null)){if(Kb(e))return i=>e[UC](t,i);try{switch(typeof e){case"number":return Hq(e,t);case"string":return u2(e,t);case"boolean":if(e===t)return()=>e;break;case"object":return()=>e}}catch{}throw new Error(`Unable to interpolate values: ${e}, ${t}`)}}},vk=class{constructor(e){this.maxAnimationTime=e,this.debug=$t.create(!0,"animation"),this.controllers=new Map,this.stoppedCbs=new Set,this.currentPhase=0,this.phases=new Map($d.map(t=>[t,[]])),this.skipAnimations=!1,this.animationTimeConsumed=0,this.isReady=!1}get size(){return this.controllers.size}get consumedTimeMs(){return this.animationTimeConsumed}isActive(){return this.controllers.size>0}getActiveControllers(){return this.phases.get($d[this.currentPhase])??[]}checkOverlappingId(e){e!=null&&this.controllers.has(e)&&(this.controllers.get(e).stop(),this.debug(`Skipping animation batch due to update of existing animation: ${e}`),this.skip())}addAnimation(e){var i;if(e.isComplete)return;if($d.indexOf(e.phase)<this.currentPhase){this.debug("Skipping animation due to being for an earlier phase",e.id),e.stop();return}this.controllers.set(e.id,e),(i=this.phases.get(e.phase))==null||i.push(e)}removeAnimation(e){this.controllers.delete(e.id);const t=this.phases.get(e.phase),i=t==null?void 0:t.indexOf(e);i!=null&&i>=0&&(t==null||t.splice(i,1))}progress(e){if(!this.isReady)return;let t=e===0?.01:e;const i=()=>{const h=$d[this.currentPhase];return{phaseControllers:[...this.getActiveControllers()],phase:h,phaseMeta:Jp[h]}};let{phase:n,phaseControllers:s,phaseMeta:r}=i();const o=()=>$d[this.currentPhase]==null,a=()=>{for({phase:n,phaseControllers:s,phaseMeta:r}=i();!o()&&s.length===0;)this.currentPhase++,{phase:n,phaseControllers:s,phaseMeta:r}=i(),this.debug(`AnimationBatch - phase changing to ${n}`,{unusedTime:t},s)},c=this.controllers.size;this.debug(`AnimationBatch - ${e}ms; phase ${n} with ${s==null?void 0:s.length} of ${c}`);do{const h=t,f=r.skipIfNoEarlierAnimations&&this.animationTimeConsumed===0;let p=0;for(const m of s)f?m.stop():t=Math.min(m.update(h),t),m.isComplete&&(p++,this.removeAnimation(m));this.animationTimeConsumed+=h-t,this.debug(`AnimationBatch - updated ${s.length} controllers; ${p} completed`),this.debug(`AnimationBatch - animationTimeConsumed: ${this.animationTimeConsumed}`),a()}while(t>0&&!o());this.animationTimeConsumed>this.maxAnimationTime&&(this.debug("Animation batch exceeded max animation time, skipping",[...this.controllers]),this.stop())}ready(){if(this.isReady)return;this.isReady=!0,this.debug(`AnimationBatch - ready; skipped: ${this.skipAnimations}`,[...this.controllers]);let e=!0;for(const[,t]of this.controllers)if(t.duration>0&&Jp[t.phase].skipIfNoEarlierAnimations!==!0){e=!1;break}if(!e)for(const[,t]of this.controllers)t.autoplay&&t.play(!0)}skip(e=!0){if(this.skipAnimations===!1&&e===!0){for(const t of this.controllers.values())t.stop();this.controllers.clear()}this.skipAnimations=e}play(){for(const e of this.controllers.values())e.play()}stop(){for(const e of this.controllers.values())try{e.stop(),this.removeAnimation(e)}catch(t){Ee.error("Error during animation stop",t)}this.dispatchStopped()}stopByAnimationId(e){if(e!=null&&this.controllers.has(e)){const t=this.controllers.get(e);t&&(t.stop(),this.removeAnimation(t))}}stopByAnimationGroupId(e){for(const t of this.controllers.values())t.groupId===e&&this.stopByAnimationId(t.id)}dispatchStopped(){this.stoppedCbs.forEach(e=>e()),this.stoppedCbs.clear()}isSkipped(){return this.skipAnimations}destroy(){this.stop(),this.controllers.clear()}},p2=(e=>(e[e.Default=32]="Default",e[e.ZoomDrag=16]="ZoomDrag",e[e.Annotations=8]="Annotations",e[e.ContextMenu=4]="ContextMenu",e[e.Animation=2]="Animation",e[e.AnnotationsSelected=1]="AnnotationsSelected",e[e.Clickable=41]="Clickable",e[e.Focusable=34]="Focusable",e[e.Keyable=43]="Keyable",e[e.ContextMenuable=36]="ContextMenuable",e[e.AnnotationsMoveable=9]="AnnotationsMoveable",e[e.AnnotationsDraggable=57]="AnnotationsDraggable",e[e.ZoomDraggable=50]="ZoomDraggable",e[e.ZoomClickable=34]="ZoomClickable",e[e.ZoomWheelable=59]="ZoomWheelable",e[e.All=63]="All",e))(p2||{}),m2=class{constructor(){this.stateQueue=34}pushState(e){this.stateQueue|=e}popState(e){this.stateQueue&=~e}isState(e){return!!(this.stateQueue&-this.stateQueue&e)}};function bk(e){return e==null?!0:!isNaN(e)&&e>=0&&e<=2}var y2=class{constructor(e,t){this.interactionManager=e,this.chartUpdateMutex=t,this.defaultDuration=1e3,this.batch=new vk(this.defaultDuration*1.5),this.debug=$t.create(!0,"animation"),this.events=new hL,this.rafAvailable=typeof requestAnimationFrame<"u",this.isPlaying=!0,this.requestId=null,this.skipAnimations=!0,this.currentAnonymousAnimationId=0}addListener(e,t){return this.events.on(e,t)}animate(e){const t=this.batch;try{t.checkOverlappingId(e.id)}catch(a){this.failsafeOnError(a);return}let{id:i}=e;i==null&&(i=`__${this.currentAnonymousAnimationId}`,this.currentAnonymousAnimationId+=1);const n=this.isSkipped()||e.phase==="none";n&&this.debug("AnimationManager - skipping animation");const{delay:s,duration:r}=e;if(!bk(s))throw new Error(`Animation delay of ${s} is unsupported (${i})`);if(!bk(r))throw new Error(`Animation duration of ${r} is unsupported (${i})`);const o=new g2({...e,id:i,skip:n,autoplay:this.isPlaying?e.autoplay:!1,phase:e.phase,defaultDuration:this.defaultDuration});if(!this.forceTimeJump(o,this.defaultDuration))return this.batch.addAnimation(o),o}play(){if(!this.isPlaying){this.isPlaying=!0,this.debug("AnimationManager.play()");try{this.batch.play()}catch(e){this.failsafeOnError(e)}this.requestAnimation()}}stop(){this.isPlaying=!1,this.cancelAnimation(),this.debug("AnimationManager.stop()"),this.batch.stop()}stopByAnimationId(e){try{this.batch.stopByAnimationId(e)}catch(t){this.failsafeOnError(t)}}stopByAnimationGroupId(e){try{this.batch.stopByAnimationGroupId(e)}catch(t){this.failsafeOnError(t)}}reset(){this.isPlaying?(this.stop(),this.play()):this.stop()}skip(e=!0){this.skipAnimations=e}isSkipped(){return!this.rafAvailable||this.skipAnimations||this.batch.isSkipped()}isActive(){return this.isPlaying&&this.batch.isActive()}skipCurrentBatch(){this.debug.check()&&this.debug("AnimationManager - skipCurrentBatch()",{stack:new Error().stack}),this.batch.skip()}isSkippingFrames(){return!0}scheduleAnimationFrame(e){this.requestId=vi().requestAnimationFrame(t=>{e(t).catch(i=>Ee.error(i))})}forceTimeJump(e,t){return!1}requestAnimation(){if(!this.rafAvailable||!this.batch.isActive()||this.requestId!==null)return;let e;const t=async i=>{const n=()=>{const s=i-(e??i);e=i,this.debug("AnimationManager - onAnimationFrame()",{controllersCount:this.batch.size,deltaTime:s}),this.interactionManager.pushState(2);try{this.batch.progress(s)}catch(r){this.failsafeOnError(r)}this.events.emit("animation-frame",{type:"animation-frame",deltaMs:s})};this.isSkippingFrames()?await this.chartUpdateMutex.acquireImmediately(n):await this.chartUpdateMutex.acquire(n),this.batch.isActive()?this.scheduleAnimationFrame(t):(this.batch.stop(),this.events.emit("animation-stop",{type:"animation-stop",deltaMs:this.batch.consumedTimeMs}))};this.events.emit("animation-start",{type:"animation-start",deltaMs:0}),this.scheduleAnimationFrame(t)}cancelAnimation(){this.requestId!==null&&(cancelAnimationFrame(this.requestId),this.requestId=null,this.startBatch())}failsafeOnError(e,t=!0){Ee.error("Error during animation, skipping animations",e),t&&this.cancelAnimation()}startBatch(e){this.debug(`AnimationManager - startBatch() with skipAnimations=${e}.`),this.reset(),this.batch.destroy(),this.batch=new vk(this.defaultDuration*1.5),e===!0&&this.batch.skip()}endBatch(){this.batch.isActive()?(this.batch.ready(),this.requestAnimation()):(this.interactionManager.popState(2),this.batch.isSkipped()&&this.batch.skip(!1))}onBatchStop(e){this.batch.stoppedCbs.add(e)}destroy(){this.stop(),this.events.clear()}},v2=class extends yu{seriesEvent(e){this.listeners.dispatch(e,{type:e})}seriesKeyNavZoom(e,t){const i={type:"series-keynav-zoom",delta:e,widgetEvent:t};this.listeners.dispatch("series-keynav-zoom",i)}legendItemClick(e,t,i,n,s){const r={type:"legend-item-click",legendType:e,series:t,itemId:i,enabled:n,legendItemName:s};this.listeners.dispatch("legend-item-click",r)}legendItemDoubleClick(e,t,i,n,s,r){const o={type:"legend-item-double-click",legendType:e,series:t,itemId:i,enabled:n,legendItemName:r,numVisibleItems:s};this.listeners.dispatch("legend-item-double-click",o)}},b2=class{constructor(){this.defaultActions=[],this.disabledActions=new Set,this.hiddenActions=new Set,this.listeners=new _l}static check(e,t){return t.type===e}static checkCallback(e,t,i){return e===t}dispatchContext(e,t,i,n){const{sourceEvent:s}=t;if(s.defaultPrevented)return;const r=(n==null?void 0:n.x)??t.canvasX,o=(n==null?void 0:n.y)??t.canvasY,a={type:e,x:r,y:o,context:i,sourceEvent:s};this.listeners.dispatch("",a)}addListener(e){return this.listeners.addListener("",e)}filterActions(e){return this.defaultActions.filter(t=>t.id!=null&&!this.hiddenActions.has(t.id)&&["all",e].includes(t.type))}registerDefaultAction(e){const t=e.id!=null&&!this.defaultActions.some(({id:i})=>i===e.id);return t&&this.defaultActions.push(e),()=>{const i=t?this.defaultActions.findIndex(({id:n})=>n===e.id):-1;i!==-1&&this.defaultActions.splice(i,1)}}enableAction(e){this.disabledActions.delete(e)}disableAction(e){this.disabledActions.add(e)}showAction(e){this.hiddenActions.add(e)}hideAction(e){this.hiddenActions.delete(e)}isDisabled(e){return this.disabledActions.has(e)}},C2=class extends yu{constructor(){super(...arguments),this.highlightStates=new vf}updateHighlight(e,t){const{activeHighlight:i}=this;this.highlightStates.set(e,t),this.activeHighlight=this.highlightStates.stateValue(),this.isEqual(this.activeHighlight,i)||this.listeners.dispatch("highlight-change",{type:"highlight-change",currentHighlight:this.activeHighlight,previousHighlight:i,callerId:e})}getActiveHighlight(){return this.activeHighlight}isEqual(e,t){return e===t||e!=null&&t!=null&&(e==null?void 0:e.series)===(t==null?void 0:t.series)&&(e==null?void 0:e.itemId)===(t==null?void 0:t.itemId)&&(e==null?void 0:e.datum)===(t==null?void 0:t.datum)}};function Ck(e,t){if(e==null||t.length===0)return[!1,!1];const i=e.valueOf(),n=t[0],s=t[t.length-1];if(typeof n=="string")return[i===n,i===s];let r=n.valueOf(),o=s.valueOf();return r>o&&([r,o]=[o,r]),[i===r,i===o]}function tu(e,t,i,n,s){const{xValue:r,yValue:o}=e,[a,c]=Ck(o,s),[h,f]=Ck(r,n);return{xKey:t,yKey:i,xValue:r,yValue:o,first:h,last:f,min:a,max:c}}function x2(e,[t,i],n){const s=nF(0,e-1,o=>{var c;const a=((c=n(o))==null?void 0:c[1])??NaN;return!Number.isFinite(a)||a>t})??0;let r=iF(0,e-1,o=>{var c;const a=((c=n(o))==null?void 0:c[0])??NaN;return!Number.isFinite(a)||a<i})??e-1;return r=Math.min(r+1,e),[s,r]}function ZL(e,t,i){var s,r;if(i){const{x:o,y:a,width:c,height:h}=i;return{canvasX:o+c/2,canvasY:a+h/2}}const n=((s=t.yBar)==null?void 0:s.upperPoint)??t.midPoint??((r=e.datumMidPoint)==null?void 0:r.call(e,t));if(n){const{x:o,y:a}=en.toCanvasPoint(e.contentGroup,n.x,n.y);return{canvasX:Math.round(o),canvasY:Math.round(a)}}}function S2(e,t,i,n,s){let r=-1,o=0,a=0,c=!1;for(;o<n&&r<=t-e;){r+=1;const h=i+a;if(c||(a*=-1),a>=0&&(a+=1),c&&a<0&&(a-=1),h<e||h>t){c=!0;continue}s(h)&&(o+=1)}return o}var oC=class{constructor(e,t,i){this.domManager=t,this.tooltip=i,this.stateTracker=new vf,this.suppressState=new vf(!1),this.appliedState=null,this.destroyFns=[],this.destroyFns.push(i.setup(e,t),t.addListener("hidden",()=>this.tooltip.hide()))}destroy(){this.destroyFns.forEach(e=>e())}updateTooltip(e,t,i,n){var s;i??(i=(s=this.stateTracker.get(e))==null?void 0:s.content),this.stateTracker.set(e,{meta:t,content:i,pagination:n}),this.applyStates()}removeTooltip(e){this.stateTracker.delete(e),this.applyStates()}suppressTooltip(e){this.suppressState.set(e,!0)}unsuppressTooltip(e){this.suppressState.delete(e)}applyStates(){var s;const e=this.stateTracker.stateId(),t=e?this.stateTracker.get(e):void 0;if(this.suppressState.stateValue()||(t==null?void 0:t.meta)==null||(t==null?void 0:t.content)==null){this.appliedState=null,this.tooltip.hide();return}const i=this.domManager.getBoundingClientRect(),n=this.tooltip.bounds==="extended"?this.domManager.getOverlayClientRect():i;if(((s=this.appliedState)==null?void 0:s.content)===(t==null?void 0:t.content)){const r=this.tooltip.isVisible();this.tooltip.show(n,i,t==null?void 0:t.meta,null,void 0,r)}else this.tooltip.show(n,i,t==null?void 0:t.meta,t==null?void 0:t.content,t==null?void 0:t.pagination);this.appliedState=t}static makeTooltipMeta(e,t,i,n){var w;const{canvasX:s,canvasY:r}=e,o=t.properties.tooltip,{placement:a,defaultPlacement:c,anchorTo:h,defaultAnchorTo:f,xOffset:p,yOffset:m}=o.position,b=ZL(t,i,n);return{canvasX:s,canvasY:r,nodeCanvasX:(b==null?void 0:b.canvasX)??s,nodeCanvasY:(b==null?void 0:b.canvasY)??r,enableInteraction:((w=o.interaction)==null?void 0:w.enabled)??!1,showArrow:o.showArrow,position:{placement:a,defaultPlacement:c,anchorTo:h,defaultAnchorTo:f,xOffset:p,yOffset:m}}}isEnteringInteractiveTooltip(e){const{tooltip:t}=this,i=e.relatedTarget;return t.interactive&&t.enabled&&t.isVisible()&&t.contains(i)}},xk=3,$q=505,Sk=30;function Gw(e,t,i){const{offsetX:n,offsetY:s,clientX:r,clientY:o,currentX:a,currentY:c,sourceEvent:h}=i;return{type:t,device:e,offsetX:n,offsetY:s,clientX:r,clientY:o,currentX:a,currentY:c,sourceEvent:h}}function wk(e,t){const i=e*e+t*t,n=xk*xk;return i>=n}function Zq(e,t){const i=e.clientX-t.clientX,n=e.clientY-t.clientY,s=i*i+n*n,r=Sk*Sk;return s<r}var w2=class{constructor(e){this.destroyFns=[],this.listeners=new _l,this.isDragging=!1,this.touch={distanceTravelledX:0,distanceTravelledY:0,clientX:0,clientY:0},this.destroyFns.push(e.addListener("touchstart",this.onTouchStart.bind(this)),e.addListener("touchmove",this.onTouchMove.bind(this)),e.addListener("touchend",this.onTouchEnd.bind(this)),e.addListener("mousemove",this.onMouseMove.bind(this)),e.addListener("dblclick",this.onDblClick.bind(this)),e.addListener("drag-start",this.onDragStart.bind(this)),e.addListener("drag-move",this.onDragMove.bind(this)),e.addListener("drag-end",this.onDragEnd.bind(this)))}destroy(){this.destroyFns.forEach(e=>e()),this.listeners.destroy()}addListener(e,t){return this.listeners.addListener(e,t)}dispatch(e){this.listeners.dispatch(e.type,e)}onTouchStart(e){const{clientX:t,clientY:i}=e.sourceEvent.targetTouches[0]??{clientX:1/0,clientY:1/0};this.touch.distanceTravelledX=0,this.touch.distanceTravelledY=0,this.touch.clientX=t,this.touch.clientY=i}onTouchMove(e){const{clientX:t,clientY:i}=e.sourceEvent.targetTouches[0]??{clientX:1/0,clientY:1/0};this.touch.distanceTravelledX+=Math.abs(this.touch.clientX-t),this.touch.distanceTravelledY+=Math.abs(this.touch.clientY-i),this.touch.clientX=t,this.touch.clientY=i}onTouchEnd(e){e.sourceEvent.preventDefault()}onMouseMove(e){this.dispatch(e)}onDblClick(e){this.dispatch({device:"mouse",...e})}onDragStart(e){this.dragStartEvent=e}onDragMove(e){this.dragStartEvent!=null&&wk(e.originDeltaX,e.originDeltaY)&&(this.dispatch(this.dragStartEvent),this.dispatch({...this.dragStartEvent,type:"drag-move"}),this.dragStartEvent=void 0,this.isDragging=!0),this.isDragging&&this.dispatch(e)}onDragEnd(e){if(this.isDragging){this.dispatch(e),this.isDragging=!1;return}if(e.device==="mouse"){const t=Gw("mouse","click",e);this.dispatch(t)}else if(e.sourceEvent.type==="touchend"){if(wk(this.touch.distanceTravelledX,this.touch.distanceTravelledY))return;const t=Gw("touch","click",e);this.dispatch(t);const i=Date.now();if(this.lastClick!==void 0&&i-this.lastClick.time<=$q&&Zq(this.lastClick,e)){const n=Gw(e.device,"dblclick",e);this.dispatch(n),this.lastClick=void 0}else this.lastClick={time:i,clientX:e.clientX,clientY:e.clientY}}}},Hw=class extends bf{constructor(e){super(e)}addChildToDOM(){}removeChildFromDOM(){}},Xq=class{constructor(e){this.seriesWidget=new Hw(e.getParent("series-area")),this.chartWidget=new Hw(e.getParent("canvas-proxy")),this.containerWidget=new Hw(e.getParent("canvas-container")),this.containerWidget.addChild(this.chartWidget),this.chartWidget.addChild(this.seriesWidget),this.seriesDragInterpreter=new w2(this.seriesWidget)}destroy(){this.seriesDragInterpreter.destroy(),this.seriesWidget.destroy(),this.chartWidget.destroy(),this.containerWidget.destroy()}};function ZM(e,t){const[i,n]=pn(t);return ut(i,e,n)}function pn(e){if(e.length===0)return[];const t=[1/0,-1/0];for(const i of e)i<t[0]&&(t[0]=i),i>t[1]&&(t[1]=i);return t}function Cf(e){const[t,i]=pn(e);return i-t}var M2=class D2 extends ZC{constructor(t=[],i=[]){super(),this.domain=t,this.range=i,this.defaultClamp=!1}static is(t){return t instanceof D2}normalizeDomains(...t){let i,n=1/0,s,r=-1/0;for(const o of t)for(const a of o){const c=a.valueOf();c<n&&(n=c,i=a),c>r&&(r=c,s=a)}return i!=null&&s!=null?{domain:[i,s],animatable:!0}:{domain:[],animatable:!1}}transform(t){return t}transformInvert(t){return t}calcBandwidth(t=1){const{domain:i}=this,n=this.getPixelRange();if(i.length===0)return n;const s=Math.abs(i[1].valueOf()-i[0].valueOf())/t+1,r=Math.floor(n),o=Math.min(s,r);return n/Math.max(1,o)}convert(t,i=this.defaultClamp){const{domain:n}=this;if(!n||n.length<2)return NaN;const s=Number(this.transform(n[0])),r=Number(this.transform(n[1])),o=Number(this.transform(t)),{range:a}=this,[c,h]=a;if(i){const[f,p]=pn([s,r]);if(o<f)return c;if(o>p)return h}return s===r?(c+h)/2:o===s?c:o===r?h:c+(o-s)/(r-s)*(h-c)}invert(t,i){const n=this.domain.map(f=>this.transform(f)),[s,r]=n,{range:o}=this,[a,c]=o;let h;return a===c?h=this.toDomain((Number(s)+Number(r))/2):h=this.toDomain(Number(s)+(t-a)/(c-a)*(Number(r)-Number(s))),this.transformInvert(h)}getPixelRange(){const[t,i]=this.range;return Math.abs(i-t)}};M2.defaultTickCount=5;var ai=M2;function L2(e,t){return e.valueOf()-t.valueOf()}function qq(e){let t=NaN;const i=[];for(const n of e){const s=n.valueOf();t!==s&&i.push(n),t=s}return i}function XM(e){const t=e.slice().sort(L2);return XL(t)==null?qq(t):t}function XL(e){if(e.length===0)return 1;const t=Number(e[e.length-1])>Number(e[0])?1:-1;let i=-1/0*t;for(const n of e){const s=n.valueOf();if(Math.sign(s-i)!==t)return;i=s}return t}var Bv={days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]};function qL(e,t=new Date(e.getFullYear(),0,1)){const i=e.getTimezoneOffset()-t.getTimezoneOffset(),n=e.getTime()-t.getTime()+i*6e4,s=36e5*24;return Math.floor(n/s)}function Mk(e,t){const n=new Date(e.getFullYear(),0,1).getDay(),s=(t-n+7)%7,r=new Date(e.getFullYear(),0,s+1);return r<=e?Math.floor(qL(e,r)/7)+1:0}var Qq=0,T2=1,Dk=4;function A2(e,t=e.getFullYear()){const n=new Date(t,0,1).getDay(),s=(Dk-n+7)%7,r=new Date(t,0,s-(Dk-T2)+1);return r<=e?Math.floor(qL(e,r)/7)+1:A2(e,t-1)}function Jq(e){const t=e.getTimezoneOffset(),i=Math.abs(t);return`${t>0?"-":"+"}${cs(Math.floor(i/60),2,"0")}${cs(Math.floor(i%60),2,"0")}`}var eQ={a:e=>Bv.shortDays[e.getDay()],A:e=>Bv.days[e.getDay()],b:e=>Bv.shortMonths[e.getMonth()],B:e=>Bv.months[e.getMonth()],c:"%x, %X",d:(e,t)=>cs(e.getDate(),2,t??"0"),e:"%_d",f:(e,t)=>cs(e.getMilliseconds()*1e3,6,t??"0"),H:(e,t)=>cs(e.getHours(),2,t??"0"),I:(e,t)=>{const i=e.getHours()%12;return i===0?"12":cs(i,2,t??"0")},j:(e,t)=>cs(qL(e)+1,3,t??"0"),m:(e,t)=>cs(e.getMonth()+1,2,t??"0"),M:(e,t)=>cs(e.getMinutes(),2,t??"0"),L:(e,t)=>cs(e.getMilliseconds(),3,t??"0"),p:e=>e.getHours()<12?"AM":"PM",Q:e=>String(e.getTime()),s:e=>String(Math.floor(e.getTime()/1e3)),S:(e,t)=>cs(e.getSeconds(),2,t??"0"),u:e=>{let t=e.getDay();return t<1&&(t+=7),String(t%7)},U:(e,t)=>cs(Mk(e,Qq),2,t??"0"),V:(e,t)=>cs(A2(e),2,t??"0"),w:(e,t)=>cs(e.getDay(),2,t??"0"),W:(e,t)=>cs(Mk(e,T2),2,t??"0"),x:"%-m/%-d/%Y",X:"%-I:%M:%S %p",y:(e,t)=>cs(e.getFullYear()%100,2,t??"0"),Y:(e,t)=>cs(e.getFullYear(),4,t??"0"),Z:e=>Jq(e),"%":()=>"%"},tQ={_:" ",0:"0","-":""};function cs(e,t,i){const n=String(Math.floor(e));return n.length>=t?n:`${i.repeat(t-n.length)}${n}`}function km(e){const t=[];for(;e.length>0;){let i=e.indexOf("%");if(i!==0){const a=i>0?e.substring(0,i):e;t.push(a)}if(i<0)break;const n=e[i+1],s=tQ[n];s!=null&&i++;const r=e[i+1],o=eQ[r];if(typeof o=="function")t.push([o,s]);else if(typeof o=="string"){const a=km(o);t.push([a,s])}else t.push(`${s??""}${r}`);e=e.substring(i+2)}return i=>{const n=typeof i=="number"?new Date(i):i;return t.map(s=>typeof s=="string"?s:s[0](n,s[1])).join("")}}var iQ={};jo(iQ,{TimeInterval:()=>zh,day:()=>aC,friday:()=>yQ,hour:()=>nf,millisecond:()=>E2,minute:()=>tf,monday:()=>fQ,month:()=>bh,saturday:()=>vQ,second:()=>ef,sunday:()=>_p,thursday:()=>mQ,tuesday:()=>gQ,utcDay:()=>IQ,utcHour:()=>AQ,utcMinute:()=>DQ,utcMonth:()=>NQ,utcYear:()=>FQ,wednesday:()=>pQ,year:()=>cx});var zh=class{constructor(e,t,i){this._encode=e,this._decode=t,this._rangeCallback=i}floor(e){const t=new Date(e),i=this._encode(t);return this._decode(i)}ceil(e){const t=new Date(Number(e)-1),i=this._encode(t);return this._decode(i+1)}range(e,t,{extend:i=!1,visibleRange:n=[0,1]}={}){var m;let s=!1;e.getTime()>t.getTime()&&([e,t]=[t,e],s=!0);const r=(m=this._rangeCallback)==null?void 0:m.call(this,e,t),o=this._encode(i?this.floor(e):this.ceil(e)),a=this._encode(i?this.ceil(t):this.floor(t));if(a<o)return[];const c=a-o;let h,f;s?(h=Math.ceil(o+(1-n[1])*c),f=Math.floor(o+(1-n[0])*c)):(h=Math.floor(o+n[0]*c),f=Math.ceil(o+n[1]*c));const p=[];for(let b=h;b<=f;b+=1){const C=this._decode(b);p.push(C)}return r==null||r(),p}},_r=class extends zh{getOffset(e,t){return Math.floor(this._encode(new Date(e)))%t}every(e,t){let i=0,n;const s=e;e=Math.max(1,Math.round(e)),s!==e&&Ee.warnOnce(`interval step of [${s}] rounded to [${e}].`);const{snapTo:r="start"}=t??{};if(typeof r=="string"){const c=i;n=(h,f)=>{const p=r==="start"?h:f;return i=this.getOffset(p,e),()=>i=c}}else typeof r=="number"?i=this.getOffset(new Date(r),e):r instanceof Date&&(i=this.getOffset(r,e));const o=c=>Math.floor((this._encode(c)-i)/e),a=c=>this._decode(c*e+i);return new zh(o,a,n)}};function nQ(e){return e.getTime()}function sQ(e){return new Date(e)}var E2=new _r(nQ,sQ),Yc=1e3,hs=Yc*60,Gs=hs*60,ao=Gs*24,yl=ao*7,dp=ao*30,xf=ao*365,R2=new Date().getTimezoneOffset()*hs;function rQ(e){return Math.floor((e.getTime()-R2)/Yc)}function oQ(e){return new Date(R2+e*Yc)}var ef=new _r(rQ,oQ),I2=new Date().getTimezoneOffset()*hs;function aQ(e){return Math.floor((e.getTime()-I2)/hs)}function lQ(e){return new Date(I2+e*hs)}var tf=new _r(aQ,lQ),k2=new Date().getTimezoneOffset()*hs;function cQ(e){return Math.floor((e.getTime()-k2)/Gs)}function uQ(e){return new Date(k2+e*Gs)}var nf=new _r(cQ,uQ);function hQ(e){const t=e.getTimezoneOffset()*hs;return Math.floor((e.getTime()-t)/ao)}function dQ(e){const t=new Date(1970,0,1);return t.setDate(t.getDate()+e),t}var aC=new _r(hQ,dQ);function Wh(e){const i=(7+e-4)%7;function n(r){const o=r.getTimezoneOffset()*hs;return Math.floor((r.getTime()-o)/yl-i/7)}function s(r){const o=new Date(1970,0,1);return o.setDate(o.getDate()+r*7+i),o}return new _r(n,s)}var _p=Wh(0),fQ=Wh(1),gQ=Wh(2),pQ=Wh(3),mQ=Wh(4),yQ=Wh(5),vQ=Wh(6);function bQ(e){return e.getFullYear()*12+e.getMonth()}function CQ(e){const t=Math.floor(e/12),i=e-t*12;return new Date(t,i,1)}var bh=new _r(bQ,CQ);function xQ(e){return e.getFullYear()}function SQ(e){const t=new Date;return t.setFullYear(e),t.setMonth(0,1),t.setHours(0,0,0,0),t}var cx=new _r(xQ,SQ);function wQ(e){return Math.floor(e.getTime()/hs)}function MQ(e){return new Date(e*hs)}var DQ=new _r(wQ,MQ);function LQ(e){return Math.floor(e.getTime()/Gs)}function TQ(e){return new Date(e*Gs)}var AQ=new _r(LQ,TQ);function EQ(e){return Math.floor(e.getTime()/ao)}function RQ(e){const t=new Date(0);return t.setUTCDate(t.getUTCDate()+e),t.setUTCHours(0,0,0,0),t}var IQ=new _r(EQ,RQ);function kQ(e){return e.getUTCFullYear()*12+e.getUTCMonth()}function _Q(e){const t=Math.floor(e/12),i=e-t*12;return new Date(Date.UTC(t,i,1))}var NQ=new _r(kQ,_Q);function OQ(e){return e.getUTCFullYear()}function PQ(e){const t=new Date;return t.setUTCFullYear(e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0),t}var FQ=new _r(OQ,PQ);function xs(e){return e instanceof Date?e.getTime():e}function QL(e,t,i){const n=_2(e,t,i),s=km(n);return r=>s(r)}function _2(e,t,i=0){let n=1/0;for(let f=1;f<e.length;f++)n=Math.min(n,Math.abs(e[f].valueOf()-e[f-1].valueOf()));const[s,r]=t.length===0?[0,0]:pn([t[0].valueOf(),t[t.length-1].valueOf()]),o=new Date(s).getFullYear(),c=new Date(r).getFullYear()-o>0,h=isFinite(n)?BQ(n,e):zQ(e[0]);return HQ(Math.max(h-i,0),c,e)}function BQ(e,t){return e<Yc?0:e<hs?1:e<Gs?2:e<ao?3:e<yl?4:e<ao*28||e<ao*31&&GQ(t)?5:e<xf?6:7}function zQ(e){return ef.floor(e)<e?0:tf.floor(e)<e?1:nf.floor(e)<e?2:aC.floor(e)<e?3:bh.floor(e)<e?_p.floor(e)<e?4:5:cx.floor(e)<e?6:7}function GQ(e){let t=new Date(e[0]).getMonth();for(let i=1;i<e.length;i++){const n=new Date(e[i]).getMonth();if(t===n)return!0;t=n}return!1}function HQ(e,t,i){const n=xs(i[0]),s=xs(i.at(-1)),r=Math.abs(s-n),o=t||e===7,a=r===0,h=[["hour",6*Gs,14*ao,3,"%I %p"],["hour",hs,6*Gs,3,"%I:%M"],["second",1e3,6*Gs,1,":%S"],["ms",0,6*Gs,0,".%L"],["am/pm",hs,6*Gs,3,"%p"]," ",["day",ao,yl,4,"%a"],["month",a?0:yl,52*yl,5,"%b %d"],["month",5*yl,10*xf,6,"%B"]," ",["year",o?0:xf,1/0,7,"%Y"]].filter(m=>{if(typeof m=="string")return!0;const[b,C,w,D]=m;return D>=e&&C<=r&&r<w}).reduce((m,b)=>(typeof b=="string"?m.result.push(b):m.used.has(b[0])||(m.result.push(b),m.used.add(b[0])),m),{result:[],used:new Set}).result,f=h.findIndex(m=>typeof m!="string"),p=h.findLastIndex(m=>typeof m!="string");return h.slice(f,p+1).map(m=>typeof m=="string"?m:m[4]).join("").replaceAll(/\s+/g," ").trim()}function N2(e,t,i){if(i==null||i[0]===0&&i[1]===1)return e;const n=ut(0,Math.floor(i[0]*e.length),e.length),s=ut(0,Math.ceil(i[1]*e.length),e.length),r=t?e.length-s:n,o=t?e.length-n:s;return e.slice(r,o)}var ux=class O2 extends ZC{constructor(){super(...arguments),this.invalid=!0,this.range=[0,1],this.round=!1,this.interval=void 0,this._bandwidth=1,this._step=1,this._inset=1,this._rawBandwidth=1,this._paddingInner=0,this._paddingOuter=0}static is(t){return t instanceof O2}get bandwidth(){return this.refresh(),this._bandwidth}get step(){return this.refresh(),this._step}get inset(){return this.refresh(),this._inset}get rawBandwidth(){return this.refresh(),this._rawBandwidth}set padding(t){t=ut(0,t,1),this._paddingInner=t,this._paddingOuter=t}get padding(){return this._paddingInner}set paddingInner(t){this.invalid=!0,this._paddingInner=ut(0,t,1)}get paddingInner(){return this._paddingInner}set paddingOuter(t){this.invalid=!0,this._paddingOuter=ut(0,t,1)}get paddingOuter(){return this._paddingOuter}refresh(){this.invalid&&(this.invalid=!1,this.update(),this.invalid&&Ee.warnOnce("Expected update to not invalidate scale"))}ticks(t,i=this.domain,n){return N2(i,!1,n)}convert(t,i){this.refresh();const n=this.getIndex(t);return n==null||n<0||n>=this.domain.length?NaN:this.ordinalRange(n)}invertNearestIndex(t){this.refresh();const{domain:i}=this;if(i.length===0)return-1;let n=0,s=i.length-1,r=1/0,o=0;for(;n<=s;){const a=(s+n)/2|0,c=this.ordinalRange(a),h=Math.abs(c-t);if(h===0)return a;h<r&&(r=h,o=a),c<t?n=a+1:s=a-1}return o}update(){const t=this.domain.length;if(t===0)return;const[i,n]=this.range;let{_paddingInner:s}=this;const{_paddingOuter:r,round:o}=this,a=n-i;let c;t===1?(s=0,c=a*(1-r*2)):c=a/Math.max(1,t-s+r*2);const h=o?Math.floor(c):c;let f=i+(a-h*(t-s))/2,p=h*(1-s);o&&(f=Math.round(f),p=Math.round(p)),this._step=h,this._inset=f,this._bandwidth=p,this._rawBandwidth=c*(1-s)}ordinalRange(t){const{_inset:i,_step:n,range:s}=this,r=Math.min(s[0],s[1]),o=Math.max(s[0],s[1]);return ut(r,i+n*t,o)}};R([_f],ux.prototype,"range",2);R([_f],ux.prototype,"round",2);R([_f],ux.prototype,"interval",2);var _m=ux,$i=(e,t,i)=>({duration:t*i,timeInterval:e,step:i}),wp=[$i(ef,Yc,1),$i(ef,Yc,5),$i(ef,Yc,15),$i(ef,Yc,30),$i(tf,hs,1),$i(tf,hs,5),$i(tf,hs,15),$i(tf,hs,30),$i(nf,Gs,1),$i(nf,Gs,3),$i(nf,Gs,6),$i(nf,Gs,12),$i(aC,ao,1),$i(aC,ao,2),$i(_p,yl,1),$i(_p,yl,2),$i(_p,yl,3),$i(bh,dp,1),$i(bh,dp,2),$i(bh,dp,3),$i(bh,dp,4),$i(bh,dp,6),$i(cx,xf,1)],P2=[1,2,5,10];function Lk(e,t){return Math.abs(Math.round(e)-e)<t}function JL(e,t,i,n,s,r){if(i<2)return[e,t];const o=em(e,t,i,n,s);if(!Number.isFinite(o))return[];if(Lk(e/o,1e-12)||(e=Math.ceil(e/o)*o),Lk(t/o,1e-12)||(t=Math.floor(t/o)*o),r!=null&&r[0]!==0&&r[1]!==1){const a=t-e,c=e+a*r[0],h=t-a*(1-r[1]);return tm(c-c%o,h+h%o,o)}return tm(e,t,o)}function F2(e,t,i,n,s,r){const o=r??Math.abs(t-e)/Math.max(i,1);let a=0;for(const m of wp){if(o<=m.duration)break;a++}if(a===0){const m=Math.max(em(e,t,i,n,s),1);return E2.every(m)}else if(a===wp.length){const m=em(e/xf,t/xf,i,n,s);return cx.every(m)}const c=wp[a-1],h=wp[a],{timeInterval:f,step:p}=o-c.duration<h.duration-o?c:h;return f.every(p)}function em(e,t,i,n=0,s=1/0){if(e===t)return ut(1,n,s);if(i<1)return NaN;const r=Math.abs(t-e),o=10**Math.floor(Math.log10(r/i));let a=NaN,c=1/0,h=!1;for(const f of P2){const p=Math.ceil(r/(f*o)),m=p>=n&&p<=s;if(h&&!m)continue;const b=Math.abs(p-i);(c>b||h!==m)&&(h||(h=m),c=b,a=f)}return a*o}function Tk(e){for(let t=e.length-1;t>=0;t-=1)if(e[t]!=="0")return t+1;return 0}function Ak(e,t){const i=aF(t??",f");(i.precision==null||isNaN(i.precision))&&(!i.type||"eEFgGnprs".includes(i.type)?i.precision=Math.max(...e.map(s=>{if(!Number.isFinite(s))return 0;const[r,o]=s.toExponential((i.type?6:12)-1).split(/[.e]/g);return(r!=="1"&&r!=="-1"?1:0)+Tk(o)+1})):"f%".includes(i.type)&&(i.precision=Math.max(...e.map(s=>{if(!Number.isFinite(s)||s===0)return 0;const r=Math.floor(Math.log10(Math.abs(s))),o=i.type?6:12,a=s.toExponential(o-1).split(/[.e]/g)[1],c=Tk(a);return Math.max(0,c-r)}))));const n=lF(i);return s=>n(Number(s))}function tm(e,t,i){if(!Number.isFinite(i)||i<=0)return[];const n=10**vL(i),s=Math.min(e,t),r=Math.max(e,t),o=[];for(let a=0;;a+=1){const c=Math.round((s+i*a)*n)/n;if(c>r)break;o.push(c)}return o}function Sf(e,t){return e>=t?(Ee.warnOnce("the configured interval results in more than 1 item per pixel, ignoring. Supply a larger interval or omit this configuration"),!0):!1}function jQ(e,t){const i=Math.abs(t-e),n=10**Math.floor(Math.log10(i));let s=1/0,r=[e,t];for(const o of P2){const a=o*n,c=Math.floor(e/a)*a,h=Math.ceil(t/a)*a,f=1-i/Math.abs(h-c);s>f&&(s=f,r=[c,h])}return r}function B2(e,t,i,n,s,r){if(e<=0)return{minTickCount:0,maxTickCount:0,tickCount:0};r=Math.max(r,e/(s+1)),i??(i=r),n??(n=e),i>n&&(i===r?i=n:n=i);const o=Math.max(1,Math.floor(e/(t*i))),a=Math.min(o,Math.ceil(e/(t*n))),c=ut(a,Math.floor(s/t),o);return{minTickCount:a,maxTickCount:o,tickCount:c}}var z2=class extends ai{constructor(){super([],[0,1]),this.type="time"}toDomain(e){return new Date(e)}convert(e,t){return e instanceof Date||(e=new Date(e)),super.convert(e,t)}invert(e){return new Date(super.invert(e))}niceDomain(e,t=this.domain){if(t.length<2)return[];let[i,n]=t;const s=4,r=this.getPixelRange();for(let o=0;o<s;o++){const[a,c]=VQ(i,n,e,r);if(xs(i)===xs(a)&&xs(n)===xs(c))break;i=a,n=c}return[i,n]}ticks(e,t=this.domain,i=[0,1]){const{nice:n,interval:s,tickCount:r=ai.defaultTickCount,minTickCount:o,maxTickCount:a}=e;if(t.length<2)return[];const c=t.map(xs),h=c[0],f=c[c.length-1];if(s!=null){const p=this.getPixelRange();return eT({start:h,stop:f,interval:s,availableRange:p,visibleRange:i})??Ek({start:h,stop:f,tickCount:r,minTickCount:o,maxTickCount:a,visibleRange:i})}else{if(n&&r===2)return t;if(n&&r===1)return t.slice(0,1)}return Ek({start:h,stop:f,tickCount:r,minTickCount:o,maxTickCount:a,visibleRange:i})}_tickFormatter({domain:e,ticks:t,specifier:i},n){return i!=null?km(i):QL(t,e,n)}tickFormatter(e){return this._tickFormatter(e)}datumFormatter(e){return this._tickFormatter(e,1)}};function Ek({start:e,stop:t,tickCount:i,minTickCount:n,maxTickCount:s,visibleRange:r}){const o=F2(e,t,i,n,s);return o?o.range(new Date(e),new Date(t),{visibleRange:r}):[]}function eT({start:e,stop:t,interval:i,availableRange:n,visibleRange:s}){if(!i)return[];if(i instanceof zh){const f=i.range(new Date(e),new Date(t),{visibleRange:s});return Sf(f.length,n)?void 0:f}const r=Math.abs(i);if(Sf(Math.abs(t-e)/r,n))return;const o=wp.findLast(f=>r%f.duration===0);if(o)return o.timeInterval.every(r/(o.duration/o.step)).range(new Date(e),new Date(t),{visibleRange:s});let a=new Date(Math.min(e,t));const c=new Date(Math.max(e,t)),h=[];for(;a<=c;)h.push(a),a=new Date(a),a.setMilliseconds(a.getMilliseconds()+r);return h}function VQ(e,t,i,n){const{interval:s}=i,r=Math.min(xs(e),xs(t)),o=Math.max(xs(e),xs(t));let a;if(s instanceof zh)a=s;else{let c;typeof s=="number"&&(c=(o-r)/Math.max(s,1),Sf(c,n)&&(c=null)),c??(c=i.tickCount??ai.defaultTickCount),a=F2(r,o,c,i.minTickCount,i.maxTickCount)}if(a){const c=a.range(new Date(r),new Date(o),{extend:!0});return e>t&&c.reverse(),[c[0],c.at(-1)]}else return[e,t]}var Sl=class G2 extends _m{constructor(){super(...arguments),this.type="ordinal-time",this._domain=[],this.isReversed=!1}static is(t){return t instanceof G2}set domain(t){t!==this._domain&&(this.invalid=!0,this._domain=t,this.isReversed=t.length>0&&t[0]>t[t.length-1],this.sortedTimestamps=void 0,this.precomputedSteps=void 0)}get domain(){return this._domain}toDomain(t){return new Date(t)}normalizeDomains(...t){const i=t.filter(n=>n.length>0);if(i.length===0)return{domain:[],animatable:!1};if(i.length===1){let n=i[0];const s=XL(n);return s===-1?n=n.slice().reverse():s==null&&(n=XM(n.slice())),{domain:n,animatable:!0}}return{domain:XM(i.flat()),animatable:!0}}ticks({interval:t,maxTickCount:i},n=this.domain,s=[0,1]){if(!n.length)return[];this.refresh();const{isReversed:r}=this;if(t==null)return Rk(n,i,r,s);const[o,a]=[n[0].valueOf(),n.at(-1).valueOf()],c=Math.min(o,a),h=Math.max(o,a),[f,p]=this.range,m=Math.abs(p-f),b=eT({start:c,stop:h,interval:t,availableRange:m,visibleRange:s})??Rk(n,i,r,s);let C=-1;return b.filter(w=>{const D=this.findInterval(w.valueOf()),M=D===C;return C=D,!M})}getSortedTimestamps(){let{sortedTimestamps:t}=this;return t==null&&(t=this.domain.map(xs),this.isReversed&&t.reverse(),this.sortedTimestamps=t),t}getPrecomputedSteps(){const{domain:t}=this;let{precomputedSteps:i}=this;const n=t.length<1e4?t.length:Math.ceil(t.length/16);if(i!=null||n<=1)return i;const s=this.getSortedTimestamps();i=new Int32Array(n);const r=s[0],a=s[s.length-1]-r,c=0,h=s.length-1;for(let f=0;f<i.length;f+=1)i[f]=this.findIntervalInRange(r+f/n*a,c,h);this.precomputedSteps=i}findIntervalInRange(t,i,n){const s=this.getSortedTimestamps();for(;i<=n;){const r=(i+n)/2|0;if(s[r]===t)return r;s[r]<t?i=r+1:n=r-1}return i}findInterval(t){const i=this.getPrecomputedSteps();let n,s;if(i==null)n=0,s=this.domain.length-1;else{const r=this.getSortedTimestamps(),o=r[0],a=r[r.length-1],c=Math.min((t-o)/(a-o)*i.length|0,i.length-1|0);n=i[c],s=c<i.length-2?i[c+1]:r.length-1}return this.findIntervalInRange(t,n,s)}tickFormatter({domain:t,ticks:i,specifier:n}){return n!=null?km(n):QL(i,t)}datumFormatter(t){return this.tickFormatter(t)}invert(t,i=!1){this.refresh();const{domain:n}=this;if(i){const r=this.invertNearestIndex(t-this.bandwidth/2);return r!=null?n[r]:void 0}return B8(0,n.length-1,r=>this.ordinalRange(r)>=t?n[r]:void 0)??n[0]}getIndex(t){const i=this.getSortedTimestamps(),n=Number(t);if(n<i[0])return;let s=this.findInterval(n);return this.isReversed&&(s=this.domain.length-s-1),s}};function Rk(e,t,i,n){const s=[],r=Math.ceil(e.length/t),o=Math.floor(r/2),a=Math.floor(n[0]*e.length),c=Math.ceil(n[1]*e.length);for(let h=a;h<c;h+=1){const f=i?e.length-1-h:h;(r<=0||(f+o)%r===0)&&s.push(e[h])}return i&&s.reverse(),s}var im={bottomCenter:$Q,center:KQ,clone:QQ,collides:JQ,end:UQ,from:eJ,height:XQ,round:qQ,start:WQ,topCenter:YQ,origin:tJ,width:ZQ};function WQ(e){return{x:e.x1,y:e.y1}}function UQ(e){return{x:e.x2,y:e.y2}}function YQ(e){return{x:(e.x1+e.x2)/2,y:Math.min(e.y1,e.y2)}}function KQ(e){return{x:(e.x1+e.x2)/2,y:(e.y1+e.y2)/2}}function $Q(e){return{x:(e.x1+e.x2)/2,y:Math.max(e.y1,e.y2)}}function ZQ(e){return Math.abs(e.x2-e.x1)}function XQ(e){return Math.abs(e.y2-e.y1)}function qQ(e){return{x1:Math.round(e.x1),y1:Math.round(e.y1),x2:Math.round(e.x2),y2:Math.round(e.y2)}}function QQ(e){return{x1:e.x1,y1:e.y1,x2:e.x2,y2:e.y2}}function JQ(e,t){const i=qM(e),n=qM(t);return i.x1<=n.x2&&i.x2>=n.x1&&i.y1<=n.y2&&i.y2>=n.y1}function qM(e){return{x1:Math.min(e.x1,e.x2),x2:Math.max(e.x1,e.x2),y1:Math.min(e.y1,e.y2),y2:Math.max(e.y1,e.y2)}}function eJ(e,t,i,n){if(typeof e=="number")return{x1:e,y1:t,x2:i,y2:n};if("width"in e)return qM({x1:e.x,y1:e.y,x2:e.x+e.width,y2:e.y+e.height});throw new Error(`Values can not be converted into a vector4: [${JSON.stringify(e)}] [${t}] [${i}] [${n}]`)}function tJ(){return{x1:0,y1:0,x2:0,y2:0}}function zv(e,t,i,n,s){return t+(n-t)*((s-e)/(i-e))}function Ik(e,t,i,n,s){return e+(s-t)*((i-e)/(n-t))}function kk(e,t,i){return[Ik(e,i.min,t,i.max,0),Ik(e,i.min,t,i.max,1)]}function iJ(e,t,i){const[n,s]=kk(e.x1,e.x2,t),[r,o]=kk(e.y1,e.y2,i);return{x1:n,x2:s,y1:r,y2:o}}function _k(e,t,i,n,s,r){if(i<=s&&r<=n)return i;const o=s-i,a=r-n,c=Math.abs(o)<Math.abs(a)?o:a;return ut(e,i+c,t)}function nJ(e,t,i){const{x:n={min:0,max:1},y:s={min:0,max:1}}=t,r=im.from(i),o=im.from(e),a=iJ(o,n,s),c=_k(a.x1,a.x2,o.x1,o.x2,r.x1,r.x2),h=_k(a.y1,a.y2,o.y1,o.y2,r.y1,r.y2),f={x:{min:zv(o.x1,n.min,o.x2,n.max,c),max:zv(o.x1,n.min,o.x2,n.max,c+e.width)},y:{min:zv(o.y1,s.min,o.y2,s.max,h),max:zv(o.y1,s.min,o.y2,s.max,h+e.height)}},p=f.x.max-f.x.min,m=f.y.max-f.y.min;return f.x.min=ut(0,f.x.min,1-p),f.x.max=f.x.min+p,f.y.min=ut(0,f.y.min,1-m),f.y.max=f.y.min+m,f}var sJ=["rangeX","rangeY","ratioX","ratioY","autoScaledAxes"],rJ=class{constructor(){this.enabled=!1,this.padding=0,this.manuallyAdjusted=!1}},Nk=e=>si((t,{options:i})=>!ai.is(e==null?void 0:e.scale)&&!Sl.is(e==null?void 0:e.scale)||t==null||i.end==null?!0:t<=i.end,"to be less than end"),H2=class extends yu{constructor(e,t){super(),this.fireChartEvent=e,this.mementoOriginatorKey="zoom",this.axisZoomManagers=new Map,this.state=new vf(void 0,"initial"),this.axes=[],this.didLayoutAxes=!1,this.autoScaleYAxis=new rJ,this.lastRestoredState=void 0,this.independentAxes=!1,this.navigatorModule=!1,this.zoomModule=!1,this.pendingMemento=void 0,this.destroyFns.push(t.addListener("layout:complete",()=>{const{pendingMemento:i}=this,n=!this.didLayoutAxes;this.didLayoutAxes=!0,i?this.restoreMemento(i.version,i.mementoVersion,i.memento):n&&this.autoScaleYZoom("zoom-manager")}))}createMemento(){return this.getMementoRanges()}guardMemento(e,t){if(e==null)return!0;if(!an(e))return!1;for(const o of Object.keys(e))if(!sJ.includes(o))return!1;const i=this.getPrimaryAxis("x"),n=this.getPrimaryAxis("y"),s={rangeX:{start:us(qi(it,qd),Nk(i)),end:qi(it,qd)},rangeY:{start:us(qi(it,qd),Nk(n)),end:qi(it,qd)},ratioX:{start:us(Ni,Kp("end")),end:Ni},ratioY:{start:us(Ni,Kp("end")),end:Ni},autoScaledAxes:Hi(vt("y"))},r=Eo(e,s);return r.errors.length>0?(t.push(...r.errors.map(o=>o.message)),!1):!0}restoreMemento(e,t,i){var a;const{independentAxes:n}=this;if(!this.axes||!this.didLayoutAxes){this.pendingMemento={version:e,mementoVersion:t,memento:i};return}this.pendingMemento=void 0;const s=this.getDefinedZoom();if(i!=null&&i.rangeX?s.x=this.rangeToRatio(i.rangeX,"x")??{min:0,max:1}:i!=null&&i.ratioX?s.x={min:i.ratioX.start??0,max:i.ratioX.end??1}:s.x={min:0,max:1},!this.navigatorModule||this.zoomModule){let c=(a=i==null?void 0:i.autoScaledAxes)==null?void 0:a.includes("y");i!=null&&i.rangeY?(s.y=this.rangeToRatio(i.rangeY,"y")??{min:0,max:1},c??(c=!1)):i!=null&&i.ratioY?(s.y={min:i.ratioY.start??0,max:i.ratioY.end??1},c??(c=!1)):(s.y={min:0,max:1},c??(c=!0)),s.autoScaleYAxis=c}if(this.lastRestoredState=s,n!==!0){this.updateZoom("zoom-manager",s);return}const r=this.getPrimaryAxis("x"),o=this.getPrimaryAxis("y");for(const c of[r,o])c&&this.updateAxisZoom("zoom-manager",c.id,s[c.direction])}updateAxes(e){this.axes=e;const t=new Map(e.map(i=>[i.id,this.axisZoomManagers.get(i.id)]));this.axisZoomManagers.clear();for(const i of e)this.axisZoomManagers.set(i.id,t.get(i.id)??new oJ(i));this.state.size>0&&e.length>0&&this.updateZoom(this.state.stateId(),this.state.stateValue())}setIndependentAxes(e=!0){this.independentAxes=e}setAutoScaleYAxis(e,t){this.autoScaleYAxis.enabled=e,this.autoScaleYAxis.padding=t}setNavigatorEnabled(e=!0){this.navigatorModule=e}setZoomModuleEnabled(e=!0){this.zoomModule=e}isNavigatorEnabled(){return this.navigatorModule}isZoomEnabled(){return this.zoomModule}updateZoom(e,t){if(t!=null&&t.x&&(t.x.min<0||t.x.max>1)&&(Ee.warnOnce(`Attempted to update x-axis zoom to an invalid ratio of [{ min: ${t.x.min}, max: ${t.x.max} }], expecting a ratio of 0 to 1, ignoring.`),t.x=void 0),t!=null&&t.y&&(t.y.min<0||t.y.max>1)&&(Ee.warnOnce(`Attempted to update y-axis zoom to an invalid ratio of [{ min: ${t.y.min}, max: ${t.y.max} }], expecting a ratio of 0 to 1, ignoring.`),t.y=void 0),this.axisZoomManagers.size===0){const n=this.state.stateId();(n==="initial"||n===e)&&this.state.set(e,t);return}this.state.set(e,t);const i=t==null?void 0:t.autoScaleYAxis;i!=null&&(this.autoScaleYAxis.manuallyAdjusted=!i),this.axisZoomManagers.forEach(n=>{n.updateZoom(e,t==null?void 0:t[n.getDirection()])}),this.applyChanges(e)}updateAxisZoom(e,t,i){var n;(n=this.axisZoomManagers.get(t))==null||n.updateZoom(e,i),this.applyChanges(e)}resetZoom(e){var i,n,s,r;this.autoScaleYAxis.manuallyAdjusted=!1;const t=this.getRestoredZoom();this.updateZoom(e,{x:{min:((i=t==null?void 0:t.x)==null?void 0:i.min)??0,max:((n=t==null?void 0:t.x)==null?void 0:n.max)??1},y:{min:((s=t==null?void 0:t.y)==null?void 0:s.min)??0,max:((r=t==null?void 0:t.y)==null?void 0:r.max)??1},autoScaleYAxis:(t==null?void 0:t.autoScaleYAxis)??!0})}resetAxisZoom(e,t){const i=this.axisZoomManagers.get(t),n=i==null?void 0:i.getDirection();if(n==null)return;const s=this.getRestoredZoom();if(n==="y"){const r=(s==null?void 0:s.autoScaleYAxis)??!0;this.autoScaleYAxis.manuallyAdjusted=!r}this.updateAxisZoom(e,t,(s==null?void 0:s[n])??{min:0,max:1})}setAxisManuallyAdjusted(e,t){var n;((n=this.axisZoomManagers.get(t))==null?void 0:n.getDirection())==="y"&&(this.autoScaleYAxis.manuallyAdjusted=!0)}updatePrimaryAxisZoom(e,t,i){const n=this.getPrimaryAxis(t);n&&this.updateAxisZoom(e,n.id,i)}panToBBox(e,t,i){if(!this.isZoomEnabled()&&!this.isNavigatorEnabled())return!1;const n=this.getZoom();if(n===void 0||!n.x&&!n.y)return!1;if(!(t.width>0&&t.height>0&&Math.abs(i.width)<=Math.abs(t.width)&&Math.abs(i.height)<=Math.abs(t.height)))return Ee.warnOnce("cannot pan to target BBox - chart too small?"),!1;const r=nJ(t,n,i);return this.independentAxes?(this.updatePrimaryAxisZoom(e,"x",r.x),this.updatePrimaryAxisZoom(e,"y",r.y)):this.updateZoom(e,r),!0}fireZoomPanStartEvent(e){this.listeners.dispatch("zoom-pan-start",{type:"zoom-pan-start",callerId:e})}extendToEnd(e,t,i){return this.extendWith(e,t,n=>Number(n)-i)}extendWith(e,t,i){const n=this.getPrimaryAxis(t);if(!n)return;const s=this.getDomainExtents(n);if(!s)return;const[,r]=s,o=i(r),a=this.rangeToRatio({start:o,end:r},t);a&&this.updateZoom(e,{[t]:a})}updateWith(e,t,i){const n=this.getPrimaryAxis(t);if(!n)return;const s=this.getDomainExtents(n);if(!s)return;let[r,o]=s;[r,o]=i(r,o);const a=this.rangeToRatio({start:r,end:o},t);a&&this.updateZoom(e,{[t]:a})}getZoom(){let e,t;if(this.axisZoomManagers.forEach(i=>{i.getDirection()==="x"?e??(e=i.getZoom()):i.getDirection()==="y"&&(t??(t=i.getZoom()))}),e||t)return{x:e,y:t}}getAxisZoom(e){var t;return((t=this.axisZoomManagers.get(e))==null?void 0:t.getZoom())??{min:0,max:1}}getAxisZooms(){const e={};for(const[t,i]of this.axisZoomManagers.entries())e[t]={direction:i.getDirection(),zoom:i.getZoom()};return e}getRestoredZoom(){return this.lastRestoredState}getPrimaryAxisId(e){var t;return(t=this.getPrimaryAxis(e))==null?void 0:t.id}isVisibleItemsCountAtLeast(e,t){const i=this.getPrimaryAxis("x"),n=this.getPrimaryAxis("y"),s=new Set;let r=0;const o=[e.x.min,e.x.max],a=[e.y.min,e.y.max];for(const c of(i==null?void 0:i.boundSeries)??[]){s.add(c.id);const h=t-(r??0),f=c.getVisibleItems(o,a,h);if(r+=f,r>=t)return!0}for(const c of(n==null?void 0:n.boundSeries)??[]){if(s.has(c.id))continue;const h=t-(r??0),f=c.getVisibleItems(o,a,h);if(r+=f,r>=t)return!0}return s.size===0}getMementoRanges(){const e=this.getDefinedZoom();let t;return this.autoScaleYAxis.enabled&&(t=this.autoScaleYAxis.manuallyAdjusted?[]:["y"]),{rangeX:this.getRangeDirection(e.x,"x"),rangeY:this.getRangeDirection(e.y,"y"),ratioX:{start:e.x.min,end:e.x.max},ratioY:{start:e.y.min,end:e.y.max},autoScaledAxes:t}}autoScaleYZoom(e,t=!0){var a,c;if(!this.isZoomEnabled())return;const{independentAxes:i,autoScaleYAxis:n}=this,s=this.getZoom();if((s==null?void 0:s.x)==null||!n.enabled||n.manuallyAdjusted)return;const{padding:r}=n;let o;if(((a=s.x)==null?void 0:a.min)===0&&((c=s.x)==null?void 0:c.max)===1?o={min:0,max:1}:i?o=this.primaryAxisZoom("y",s.x,{padding:r}):o=this.combinedAxisZoom("y",s.x,{padding:r}),o!=null){if(i){const h=this.getPrimaryAxis("y"),f=h==null?void 0:this.axisZoomManagers.get(h.id);f==null||f.updateZoom("zoom-manager",o)}else for(const h of this.axisZoomManagers.values())h.getDirection()==="y"&&h.updateZoom("zoom-manager",o);t&&this.applyChanges(e)}}applyChanges(e){if(this.autoScaleYZoom(e,!1),!Array.from(this.axisZoomManagers.values(),n=>n.applyChanges()).includes(!0))return;const i={};for(const[n,s]of this.axisZoomManagers.entries())i[n]=s.getZoom();this.listeners.dispatch("zoom-change",{type:"zoom-change",...this.getZoom(),axes:i,callerId:e}),this.fireChartEvent({type:"zoom",...this.getMementoRanges()})}getRangeDirection(e,t){const i=this.getPrimaryAxis(t);if(!i||!ai.is(i.scale)&&!Sl.is(i.scale))return;const n=this.getDomainPixelExtents(i);if(!n)return;const[s,r]=n;let o,a;return s<=r?(o=i.scale.invert(0),a=i.scale.invert(s+(r-s)*e.max)):(o=i.scale.invert(s-(s-r)*e.min),a=i.scale.invert(0)),{start:o,end:a}}rangeToRatio(e,t){var b,C,w,D,M,A,k,_,F,N,z,V;const i=this.getPrimaryAxis(t);if(!i)return;const n=this.getDomainPixelExtents(i);if(!n)return;const[s,r]=n;let o=e.start==null?s:(C=(b=i.scale).convert)==null?void 0:C.call(b,e.start),a=e.end==null?r:(D=(w=i.scale).convert)==null?void 0:D.call(w,e.end);if(!Vt(o)||!Vt(a))return;const[c,h]=[Math.min(s,r),Math.max(s,r)];if(o<c||o>h){Ee.warnOnce(`Invalid range start [${e.start}], expecting a value between [${(A=(M=i.scale).invert)==null?void 0:A.call(M,s)}] and [${(_=(k=i.scale).invert)==null?void 0:_.call(k,r)}], ignoring.`);return}if(a<c||a>h){Ee.warnOnce(`Invalid range end [${e.end}], expecting a value between [${(N=(F=i.scale).invert)==null?void 0:N.call(F,s)}] and [${(V=(z=i.scale).invert)==null?void 0:V.call(z,r)}], ignoring.`);return}o=Math.min(h,Math.max(c,o)),a=Math.min(h,Math.max(c,a));const f=r-s,p=Math.abs((o-s)/f),m=Math.abs((a-s)/f);return{min:p,max:m}}getPrimaryAxis(e){var t;return(t=this.axes)==null?void 0:t.find(i=>i.direction===e)}getDomainExtents(e){const{domain:t}=e.scale,i=t.at(0),n=t.at(-1);if(!(i==null||n==null))return[i,n]}getDomainPixelExtents(e){var s,r,o,a;const{domain:t}=e.scale,i=(r=(s=e.scale).convert)==null?void 0:r.call(s,t.at(0)),n=(a=(o=e.scale).convert)==null?void 0:a.call(o,t.at(-1));if(!(!Vt(i)||!Vt(n)))return[i,n]}getDefinedZoom(){var t,i,n,s;const e=this.getZoom();return{x:{min:((t=e==null?void 0:e.x)==null?void 0:t.min)??0,max:((i=e==null?void 0:e.x)==null?void 0:i.max)??1},y:{min:((n=e==null?void 0:e.y)==null?void 0:n.min)??0,max:((s=e==null?void 0:e.y)==null?void 0:s.max)??1}}}zoomBounds(e,t,i,n){const s=e.scale,r=s.range;s.range=[0,1];const o=t.scale,a=o.range;o.range=[0,1];let c=1,h=!1,f=0,p=!1;for(const C of t.boundSeries){const{connectsToYAxis:w}=C,D=C.getRange("y",[i.min,i.max]);for(const M of D){const A=o.convert(M);Number.isFinite(A)&&(A<c&&(c=A,h=!w||M<0),A>f&&(f=A,p=!w||M>0))}}if(Vt(t.min)&&(c=0),Vt(t.max)&&(f=1),s.range=r,o.range=a,c>=f)return;const m=(h?n:0)+(p?n:0),b=Math.min((f-c)*(1+m),1);if(!(b<=0)){if(h&&p){const C=(f+c)/2;c=C-b/2,f=C+b/2}else!h&&p?f=c+b:h&&!p&&(c=f-b);return c<0?(f+=-c,c=0):f>1&&(c-=f-1,f=1),{min:c,max:f}}}primaryAxisZoom(e,t,{padding:i=0}={}){const n=e==="x"?"y":"x",s=this.getPrimaryAxis(n),r=this.getPrimaryAxis(e);if(!(s==null||r==null))return this.zoomBounds(s,r,t,i)}combinedAxisZoom(e,t,{padding:i=0}={}){const n=e==="x"?"y":"x",s=new Map;for(const c of this.axes)if(c.direction===n)for(const h of c.boundSeries)s.set(h,c);let r=1,o=0;for(const c of this.axes)if(c.direction===e)for(const h of c.boundSeries){const f=s.get(h);if(f==null)continue;const p=this.zoomBounds(f,c,t,i);if(p==null)return;r=Math.min(r,p.min),o=Math.max(o,p.max)}const a=1e-6;if(r<a&&(r=0),o>1-a&&(o=1),!(r>o))return{min:r,max:o}}},oJ=class{constructor(e){this.axis=e;const[t=0,i=1]=e.visibleRange;this.state=new vf({min:t,max:i}),this.currentZoom=this.state.stateValue()}getDirection(){return this.axis.direction}updateZoom(e,t){this.state.set(e,t)}getZoom(){return Ii(this.state.stateValue())}hasChanges(){const e=this.currentZoom,t=this.state.stateValue();return e.min!==t.min||e.max!==t.max}applyChanges(){const e=this.hasChanges();return this.currentZoom=this.state.stateValue(),e}};function aJ(e,t,i,n,s,r){if(e.size===0)return!1;let o=e.x,a=e.y;t!=null&&(o-=(t.x-.5)*e.size,a-=(t.y-.5)*e.size);let c=o;o<i?c=i:o>i+s&&(c=i+s);let h=a;a<n?h=n:a>n+r&&(h=n+r);const f=o-c,p=a-h;return Math.sqrt(f*f+p*p)<=e.size*.5}function j2(e,t,i,n,s){const r=e.x+e.width>t&&e.x<t+n,o=e.y+e.height>i&&e.y<i+s;return r&&o}function lJ(e,t,i,n,s){return t+n<e.x+e.width&&t>e.x&&i>e.y&&i+s<e.y+e.height}function cJ(e){return e!=null&&typeof e.point=="object"&&typeof e.label=="object"}var uJ={top:{x:0,y:-1},bottom:{x:0,y:1},left:{x:-1,y:0},right:{x:1,y:0},"top-left":{x:-1,y:-1},"top-right":{x:1,y:-1},"bottom-left":{x:-1,y:1},"bottom-right":{x:1,y:1}};function hJ(e,t,i=5){var a;const n=new Map,s=[],r=new Map([...e.entries()].map(([c,h])=>[c,h.toSorted((f,p)=>p.point.size-f.point.size)])),o=[...r.values()].flat();for(const[c,h]of r.entries()){const f=[];if((a=h[0])!=null&&a.label){for(let p=0,m=h.length;p<m;p++){const b=h[p],{point:C,label:w,anchor:D}=b,{text:M,width:A,height:k}=w,_=C.size*.5;let F=0,N=0;if(_>0&&b.placement!=null){const J=uJ[b.placement];F=(A*.5+_+i)*J.x,N=(k*.5+_+i)*J.y}const z=C.x-A*.5+F-(((D==null?void 0:D.x)??.5)-.5)*C.size,V=C.y-k*.5+N-(((D==null?void 0:D.y)??.5)-.5)*C.size;if(!(!t||lJ(t,z,V,A,k))||o.some(J=>aJ(J.point,J.anchor,z,V,A,k))||s.some(J=>j2(J,z,V,A,k)))continue;const Q={index:p,text:M,x:z,y:V,width:A,height:k,datum:b};f.push(Q),s.push(Q)}n.set(c,f)}}return n}function dJ(e,t=0){const i=[];for(let n=0;n<e.length;n++){const s=e[n],{point:{x:r,y:o},label:{text:a}}=s;let{width:c,height:h}=s.label;if(c+=t,h+=t,i.some(f=>j2(f,r,o,c,h)))return!0;i.push({index:n,text:a,x:r,y:o,width:c,height:h,datum:s})}return!1}var fJ=class{constructor(){this.labelData=new Map}updateLabels(e,t,i=Ge.zero){var o;const n={x:-t.left,y:-t.top,width:i.width+t.left+t.right,height:i.height+t.top+t.bottom},s=new Set(e.map(a=>a.id));for(const a of this.labelData.keys())s.has(a)||this.labelData.delete(a);for(const a of e){const c=a.getLabelData();c.every(cJ)&&this.labelData.set(a.id,c)}const r=hJ(this.labelData,n,5);for(const a of e)(o=a.updatePlacedLabelData)==null||o.call(a,r.get(a.id)??[])}},gJ=class extends yu{constructor(){super(...arguments),this.mementoOriginatorKey="legend",this.legendDataMap=new Map}createMemento(){return this.getData().filter(({hideInLegend:e,isFixed:t})=>!e&&!t).map(({enabled:e,seriesId:t,itemId:i,legendItemName:n})=>({visible:e,seriesId:t,itemId:i,legendItemName:n}))}guardMemento(e){return e==null||bt(e)}restoreMemento(e,t,i){i==null||i.forEach(n=>{const{seriesId:s,data:r}=this.getRestoredData(n)??{};!s||!r||this.updateData(s,r)}),this.update()}getRestoredData(e){const{seriesId:t,itemId:i,legendItemName:n,visible:s}=e;if(t){const o=(this.legendDataMap.get(t)??[]).map(a=>{const c=a.seriesId===t&&(!i||a.itemId===i);return c&&a.isFixed&&this.warnFixed(a.seriesId,a.itemId),!a.isFixed&&c?{...a,enabled:s}:a});return{seriesId:t,data:o}}if(!(i==null&&n==null))for(const r of this.getData()){if(i!=null&&r.itemId!==i||n!=null&&r.legendItemName!==n)continue;if(r.isFixed){this.warnFixed(r.seriesId,i);return}const o=(this.legendDataMap.get(r.seriesId)??[]).map(a=>a.itemId===i||a.legendItemName===n?{...a,enabled:s}:a);return{seriesId:r.seriesId,data:o}}}warnFixed(e,t){Ee.warnOnce(`The legend item with seriesId [${e}] and itemId [${t}] is not configurable, this series item cannot be toggled through the legend.`)}update(e){this.listeners.dispatch("legend-change",{type:"legend-change",legendData:e??this.getData()})}updateData(e,t=[]){this.legendDataMap.set(e,t)}clearData(){this.legendDataMap.clear()}toggleItem(e,t,i,n){if(n){this.getData().forEach(a=>{const c=(this.legendDataMap.get(a.seriesId)??[]).map(h=>h.legendItemName===n?{...h,enabled:e}:h);this.updateData(a.seriesId,c)});return}const s=this.getData(t),r=s.length===1,o=s.map(a=>i==null&&r||a.itemId===i?{...a,enabled:e}:a);this.updateData(t,o)}getData(e){return e?this.legendDataMap.get(e)??[]:[...this.legendDataMap].reduce((t,[i,n])=>t.concat(n),[])}getDatum({seriesId:e,itemId:t}={}){return this.getData(e).find(i=>i.itemId===t)}getSeriesEnabled(e){const t=this.getData(e);if(t.length>0)return t.some(i=>i.enabled)}getItemEnabled({seriesId:e,itemId:t}={}){var i;return((i=this.getDatum({seriesId:e,itemId:t}))==null?void 0:i.enabled)??!0}},pJ=class{constructor(){this.groups={}}registerSeries({internalId:e,seriesGrouping:t,visible:i,type:n}){var s;t&&((s=this.groups)[n]??(s[n]={}),this.groups[n][e]={grouping:t,visible:i})}updateSeries({internalId:e,seriesGrouping:t,visible:i,type:n}){var r;if(!t)return;const s=(r=this.groups[n])==null?void 0:r[e];s&&(s.grouping=t,s.visible=i)}deregisterSeries({internalId:e,type:t}){this.groups[t]&&delete this.groups[t][e],this.groups[t]&&Object.keys(this.groups[t]).length===0&&delete this.groups[t]}getVisiblePeerGroupIndex({type:e,seriesGrouping:t,visible:i}){if(!t)return{visibleGroupCount:i?1:0,visibleSameStackCount:i?1:0,index:0};const n=new Set,s=new Set;for(const o of Object.values(this.groups[e]??{}))o.visible&&(n.add(o.grouping.groupIndex),o.grouping.groupIndex===t.groupIndex&&s.add(o.grouping.stackIndex));const r=Array.from(n);return r.sort((o,a)=>o-a),{visibleGroupCount:r.length,visibleSameStackCount:s.size,index:r.indexOf(t.groupIndex)}}},Np=(e=>(e[e.FULL=0]="FULL",e[e.UPDATE_DATA=1]="UPDATE_DATA",e[e.PROCESS_DATA=2]="PROCESS_DATA",e[e.PERFORM_LAYOUT=3]="PERFORM_LAYOUT",e[e.SERIES_UPDATE=4]="SERIES_UPDATE",e[e.PRE_SCENE_RENDER=5]="PRE_SCENE_RENDER",e[e.SCENE_RENDER=6]="SCENE_RENDER",e[e.NONE=7]="NONE",e))(Np||{}),V2=class{constructor(e){this.updateCallback=e,this.events=new hL}addListener(e,t){return this.events.on(e,t)}removeListener(e,t){return this.events.on(e,t)}destroy(){this.events.clear()}update(e=0,t){this.updateCallback(e,t)}dispatchUpdateComplete(){this.events.emit("update-complete",{type:"update-complete"})}dispatchPreDomUpdate(){this.events.emit("pre-dom-update",{type:"pre-dom-update"})}dispatchPreSceneRender(){this.events.emit("pre-scene-render",{type:"pre-scene-render"})}dispatchProcessData({series:e}){this.events.emit("process-data",{type:"process-data",series:e})}},mJ=class{constructor(e,t){this.callbackCache=new Bq,this.chartEventManager=new v2,this.highlightManager=new C2,this.layoutManager=new KF,this.localeManager=new Tq,this.seriesStateManager=new pJ,this.stateManager=new rq,this.seriesLabelLayoutManager=new fJ,this.contextModules=[];const{scene:i,root:n,syncManager:s,container:r,fireEvent:o,updateCallback:a,updateMutex:c,styleContainer:h,chartType:f,domMode:p}=t;this.chartService=e,this.syncManager=s,this.domManager=new n2(r,h,p),this.widgets=new Xq(this.domManager);const m=this.domManager.addChild("canvas","scene-canvas",i==null?void 0:i.canvas.element);this.scene=i??new ox({canvasElement:m}),this.scene.setRoot(n),this.axisManager=new Gq(n),this.legendManager=new gJ,this.annotationManager=new zq(e.annotationRoot,o),this.chartTypeOriginator=new nq(e),this.interactionManager=new m2,this.contextMenuRegistry=new b2,this.updateService=new V2(a),this.proxyInteractionService=new a2(this.localeManager,this.domManager),this.historyManager=new sq(this.chartEventManager),this.animationManager=new y2(this.interactionManager,c),this.dataService=new ax(this.animationManager),this.tooltipManager=new oC(this.localeManager,this.domManager,e.tooltip),this.zoomManager=new H2(o,this.layoutManager);for(const b of ba.byType("context")){if(!b.chartTypes.includes(f))continue;const C=b.moduleFactory(this);this.contextModules.push(C),this[b.contextKey]=C}}destroy(){this.animationManager.destroy(),this.highlightManager.destroy(),this.axisManager.destroy(),this.callbackCache.invalidateCache(),this.chartEventManager.destroy(),this.domManager.destroy(),this.highlightManager.destroy(),this.proxyInteractionService.destroy(),this.syncManager.destroy(),this.tooltipManager.destroy(),this.zoomManager.destroy(),this.widgets.destroy(),this.contextModules.forEach(e=>e.destroy())}},W2=class extends ht{constructor(){super(...arguments),this.range="tooltip"}};R([P(ci(["tooltip","node"],"a range"))],W2.prototype,"range",2);function yJ(e,t){if(e.size!==t.size)return!1;for(const i of e)if(!t.has(i))return!1;return!0}function vJ(e,t){if(e==null||t==null)return e===t;if(e.size!==t.size)return!1;for(const[i,n]of e){const s=t.get(i);if(s==null||!yJ(n,s))return!1}return!0}function bJ(e,t){if(e.length!==t.length)return!1;for(let i=0;i<e.length;i+=1){const{type:n,idsMap:s,scopes:r,data:o,...a}=e[i],{type:c,idsMap:h,scopes:f,data:p,...m}=t[i];if(n!==c||r&&f&&!va(r,f)||o&&p&&o!==p||!Da(a,m)||!vJ(s,h))return!1}return!0}function CJ(e,t){const{props:i,...n}=e,{props:s,...r}=t;return Da(n,r)&&bJ(i,s)}function xJ(e,t,i,n){return t===e.data&&va(i,e.ids)&&CJ(n,e.opts)}var Ok=class U2{constructor(){this.domain=new Set}static is(t){return t instanceof U2}extend(t){this.domain.add(t)}getDomain(){return Array.from(this.domain)}},Bc=class Y2{constructor(){this.domain=[1/0,-1/0]}static is(t){return t instanceof Y2}static extendDomain(t,i=[1/0,-1/0]){for(const n of t)typeof n=="number"&&(i[0]>n&&(i[0]=n),i[1]<n&&(i[1]=n));return i}extend(t){this.domain[0]>t&&(this.domain[0]=t),this.domain[1]<t&&(this.domain[1]=t)}getDomain(){return[...this.domain]}},Wd=0,Ud=1,ca=2,SJ=class{constructor(e){const t=e.reduce((r,o)=>Math.max(r,o.length),0);let n=1<<32-Math.clz32(t);t===n/2&&(n=n>>>1),this.maxLevelSize=n;const s=new Float64Array((n*2-1)*2).fill(NaN);for(const r of e)for(let o=0;o<r.length;o+=1){const a=Number(r[o]),c=n+o-1,h=(c*ca|0)+Wd,f=(c*ca|0)+Ud,p=s[h],m=s[f];(!Number.isFinite(p)||a<p)&&(s[h]=a),(!Number.isFinite(m)||a>m)&&(s[f]=a)}for(let r=n/2|0;r>=1;r=r/2|0){const o=r-1|0,a=o+r|0;for(let c=0;c<r;c+=1){const h=o+c,f=a+c*2,p=f+1,m=s[(f*ca|0)+Wd],b=s[(p*ca|0)+Wd];s[(h*ca|0)+Wd]=!Number.isFinite(b)||m<b?m:b;const C=s[(f*ca|0)+Ud],w=s[(p*ca|0)+Ud];s[(h*ca|0)+Ud]=!Number.isFinite(w)||C>w?C:w}}this.buffer=s}computeRangeInto(e,t,i,n,s,r,o){const a=s+r-1;if(a<t||s>=i)return o;if(s>=t&&a<i){const c=e[(n*ca|0)+Wd],h=e[(n*ca|0)+Ud];Number.isFinite(c)&&(o[0]=Math.min(o[0],c)),Number.isFinite(h)&&(o[1]=Math.max(o[1],h))}else r>1&&(n=n*2|0,r=r/2|0,this.computeRangeInto(e,t,i,n+1|0,s,r,o),this.computeRangeInto(e,t,i,n+2|0,s+r,r,o));return o}rangeBetween(e,t){if(e>t)return[NaN,NaN];const{maxLevelSize:i,buffer:n}=this,s=[1/0,-1/0];return this.computeRangeInto(n,e,t,0,0,i,s),s}get range(){const{buffer:e}=this;return[e[Wd],e[Ud]]}},Pk=Symbol("domain-ranges");function wJ(e){return e.map(t=>an(t)?JSON.stringify(t):t).join("-")}function nr(e){const t=e==null?void 0:e.map(Number);return t!=null&&t.every(Number.isFinite)?t:[]}function tT(e,t){return(t==null?void 0:t.get(e.id))??0}function MJ(e){return"scopes"in e&&Array.isArray(e.scopes)}function jw(e,t){const i=[];for(let n=0;n<e;n+=1)i[n]=t;return i}function lC(e,t,i){var s;const n=[];for(const r of e){const o=(s=r.get(t))==null?void 0:s[i];if(o==null)return;n.push(o)}return n}function K2(e){const t=[];let i=0,n;const s=new RegExp(`((?:(?:^|\\.)\\s*\\w+|\\[\\s*(?:'(?:[^']|(?<!\\\\)\\\\')*'|"(?:[^"]|(?<!\\\\)\\\\")*"|-?\\d+)\\s*\\])\\s*)`,"g");for(;n=s.exec(e);){if(n.index!==i)return;i=n.index+n[0].length;const r=n[1].trim();if(r.startsWith("."))t.push(r.slice(1).trim());else if(r.startsWith("[")){const o=r.slice(1,-1).trim();o.startsWith("'")?t.push(o.slice(1,-1).replace(new RegExp("(?<!\\\\)\\\\'","g"),"'")):o.startsWith('"')?t.push(o.slice(1,-1).replace(new RegExp('(?<!\\\\)\\\\"',"g"),'"')):t.push(o)}else t.push(r)}if(i===e.length)return t}function DJ(e){return t=>{let i=t;for(const n of e)i=i[n];return i}}var $2=class{constructor(e,t="standalone",i=!1){var a;this.opts=e,this.mode=t,this.suppressFieldDotNotation=i,this.debug=$t.create(!0,"data-model"),this.scopeCache=new Map,this.keys=[],this.values=[],this.aggregates=[],this.groupProcessors=[],this.propertyProcessors=[],this.reducers=[],this.processors=[],this.markScopeDatumInvalid=function(c,h,f,p){for(const m of c)p.has(m)||p.set(m,jw(h.length,!1)),p.get(m)[f]=!0};let n=!0;for(const c of e.props){if(c.type==="key"&&!n)throw new Error("AG Charts - internal config error: keys must come before values.");c.type==="value"&&n&&(n=!1)}const s=({matchGroupIds:c=[]})=>{for(const h of c)if(this.values.every(f=>f.groupId!==h))throw new Error(`AG Charts - internal config error: matchGroupIds properties must match defined groups (${h}).`)},r=new Set,o=new Set;for(const c of e.props){const h=c.type==="key"?r:o;switch(MJ(c)&&((a=c.scopes)==null||a.forEach(f=>h.add(f))),c.type){case"key":this.keys.push({...c,index:this.keys.length,missing:new Map});break;case"value":if(c.property==null)throw new Error(`AG Charts - internal config error: no properties specified for value definitions: ${JSON.stringify(c)}`);this.values.push({...c,index:this.values.length,missing:new Map});break;case"aggregate":s(c),this.aggregates.push({...c,index:this.aggregates.length});break;case"group-value-processor":s(c),this.groupProcessors.push({...c,index:this.groupProcessors.length});break;case"property-value-processor":this.propertyProcessors.push({...c,index:this.propertyProcessors.length});break;case"reducer":this.reducers.push({...c,index:this.reducers.length});break;case"processor":this.processors.push({...c,index:this.processors.length});break}}if(this.opts.groupByKeys||this.opts.groupByFn!=null){const c=new Set(o.values());if(r.forEach(h=>c.delete(h)),c.size>0)throw new Error(`AG Charts - scopes missing key for grouping, illegal configuration: ${[...c.values()]}`)}}resolveProcessedDataDefById(e,t){var n;const i=(n=this.scopeCache.get(e.id))==null?void 0:n.get(t);if(!i)throw new Error(`AG Charts - didn't find property definition for [${t}, ${e.id}]`);return{index:i.index,def:i}}resolveProcessedDataIndexById(e,t){return this.resolveProcessedDataDefById(e,t).index}resolveKeysById(e,t,i){const n=this.resolveProcessedDataIndexById(e,t),s=i.keys[n];if(s==null)throw new Error(`AG Charts - didn't find keys for [${t}, ${e.id}]`);return s.get(e.id)}hasColumnById(e,t){var i;return((i=this.scopeCache.get(e.id))==null?void 0:i.get(t))!=null}resolveColumnById(e,t,i){var r;const n=this.resolveProcessedDataIndexById(e,t),s=(r=i.columns)==null?void 0:r[n];if(s==null)throw new Error(`AG Charts - didn't find column for [${t}, ${e.id}]`);return s}*forEachDatum(e,t,i){const n=t.columnScopes.findIndex(s=>s.has(e.id));for(const s of i.datumIndices[n]??[])yield t.columns[n][s]}*forEachGroupDatum(e,t){const i=t.columnScopes.findIndex(r=>r.has(e.id)),n={groupIndex:0,columnIndex:i},s=[];for(const r of t.groups){n.group=r;let o=0;for(const a of r.datumIndices[i]??s)n.datumIndex=a,n.valueIndex=o++,yield n;n.groupIndex++}}*forEachGroupDatumTuple(e,t){const n={columnIndex:t.columnScopes.findIndex(s=>s.has(e.id)),datumIndexes:[void 0,void 0,void 0]};for(const s of this.forEachGroupDatum(e,t))n.group=n.nextGroup,n.groupIndex=n.nextGroupIndex,n.nextGroup=s.group,n.nextGroupIndex=s.groupIndex,n.datumIndexes[0]=n.datumIndexes[1],n.datumIndexes[1]=n.datumIndexes[2],n.datumIndexes[2]=s.datumIndex,n.group!=null&&n.datumIndexes[1]!=null&&(yield n);n.group=n.nextGroup,n.groupIndex=n.nextGroupIndex,n.nextGroup=void 0,n.nextGroupIndex=void 0,n.datumIndexes[0]=n.datumIndexes[1],n.datumIndexes[1]=n.datumIndexes[2],n.datumIndexes[2]=void 0,n.group!=null&&n.datumIndexes[1]!=null&&(yield n)}getDomain(e,t,i,n){const s=this.getDomainsByType(i??"value",n);return(s==null?void 0:s[this.resolveProcessedDataIndexById(e,t)])??[]}getDomainBetweenRange(e,t,[i,n],s){const r=t.map(h=>this.resolveProcessedDataIndexById(e,h)),o=r.join(":"),a=s[Pk];let c=a.get(o);if(c==null){const h=r.map(f=>s.columns[f]);c=new SJ(h),a.set(o,c)}return c.rangeBetween(i,n)}getDomainsByType(e,t){switch(e){case"key":return t.domain.keys;case"value":return t.domain.values;case"aggregate":return t.domain.aggValues;case"group-value-processor":return t.domain.groups;default:return null}}processData(e){const{opts:{groupByKeys:t,groupByFn:i},aggregates:n,groupProcessors:s,reducers:r,processors:o,propertyProcessors:a}=this,c=performance.now();if(t&&this.keys.length===0)return;let h=this.extractData(e);t?h=this.groupData(h):i&&(h=this.groupData(h,i(h))),s.length>0&&h.type==="grouped"&&this.postProcessGroups(h),n.length>0&&h.type==="ungrouped"?this.aggregateUngroupedData(h):n.length>0&&h.type==="grouped"&&this.aggregateGroupedData(h),a.length>0&&this.postProcessProperties(h),r.length>0&&this.reduceData(h),o.length>0&&this.postProcessData(h),this.warnDataMissingProperties(e);const f=performance.now();return h.time=f-c,this.debug.check()&&LJ(h),this.processScopeCache(),h}warnDataMissingProperties(e){var t;if(e.size!==0)for(const i of Sh(this.keys,this.values))for(const[n,s]of i.missing){if(s<(((t=e.get(n))==null?void 0:t.length)??1/0))continue;const r=n==null?"":` for ${n}`;Ee.warnOnce(`the key '${i.property}' was not found in any data element${r}.`)}}processScopeCache(){var e;this.scopeCache.clear();for(const t of Sh(this.keys,this.values,this.aggregates))if(t.idsMap)for(const[i,n]of t.idsMap)for(const s of n)if(!this.scopeCache.has(i))this.scopeCache.set(i,new Map([[s,t]]));else{if((e=this.scopeCache.get(i))!=null&&e.has(s))throw new Error("duplicate definition ids on the same scope are not allowed.");this.scopeCache.get(i).set(s,t)}}valueGroupIdxLookup({matchGroupIds:e}){const t=[];for(const[i,n]of this.values.entries())(!e||n.groupId&&e.includes(n.groupId))&&t.push(i);return t}valueIdxLookup(e,t){const i=e==null||e.length===0,n=typeof t=="string"?t:t.id,s=o=>{if(o.idsMap){for(const[a,c]of o.idsMap)if(e!=null&&e.includes(a)&&c.has(n))return!0}return!1},r=this.values.reduce((o,a,c)=>((a.scopes==null||i&&!a.scopes.length||a.scopes.some(f=>e==null?void 0:e.includes(f)))&&(a.property===n||a.id===n||s(a))&&o.push(c),o),[]);if(r.length===0)throw new Error(`AG Charts - configuration error, unknown property ${JSON.stringify(t)} in scope(s) ${JSON.stringify(e)}`);return r}extractData(e){const{dataDomain:t,processValue:i,allScopesHaveSameDefs:n}=this.initDataDomainProcessor(),{keys:s,values:r}=this,{invalidData:o,invalidKeys:a,allKeyMappings:c}=this.extractKeys(s,e,i),{columns:h,columnScopes:f,partialValidDataCount:p,maxDataLength:m}=this.extractValues(o,r,e,a,i),b=C=>{const w=t.get(C),D=w.getDomain();return Bc.is(w)&&D[0]>D[1]?[]:D};return{type:"ungrouped",input:{count:m},scopes:new Set(e.keys()),dataSources:e,aggregation:void 0,keys:[...c.values()],columns:h,columnScopes:f,invalidKeys:a,invalidData:o,domain:{keys:s.map(b),values:r.map(b)},defs:{allScopesHaveSameDefs:n,keys:s,values:r},partialValidDataCount:p,time:0,[Pk]:new Map}}extractKeys(e,t,i){const n=new Map,s=new Map,r=new Map;let o,a;const c=(h,f)=>{const p=a.get(h);o.set(f,o.get(p)),n.has(p)&&(n.set(f,n.get(p)),s.set(f,s.get(p)))};for(const h of e){const{invalidValue:f,scopes:p}=h;o=new Map,a=new Map,r.set(h,o);for(const m of p??[]){const b=t.get(m)??[];if(a.has(b)){c(b,m);continue}const C=[];o.set(m,C),a.set(b,m);let w,D;for(let M=0;M<b.length;M++){if(b[M]==null||typeof b[M]!="object")continue;const A=i(h,b[M],M,m);if(A.valid){C.push(A.value);continue}C.push(f),w??(w=jw(b.length,!1)),D??(D=jw(b.length,!1)),w[M]=!0,D[M]=!0}w&&D&&(n.set(m,w),s.set(m,D))}}return{invalidData:s,invalidKeys:n,allKeyMappings:r}}extractValues(e,t,i,n,s){var h;let r=0;const o=[],a=[];let c=0;for(const f of t){const{invalidValue:p}=f;if(new Set(f.scopes.map(M=>i.get(M))).size>1)throw new Error(`AG Charts - more than one data source for: ${JSON.stringify(f)}`);const b=new Set(f.scopes),C=lp(f.scopes),w=i.get(C),D=new Array;for(let M=0;M<w.length;M++){if(w[M]==null||typeof w[M]!="object")continue;const A=w[M],k=(h=n.get(C))==null?void 0:h[M],_=s(f,A,M,f.scopes);let F=_.value;(k||!_.valid)&&this.markScopeDatumInvalid(f.scopes,w,M,e),k?F=p:_.valid||(r+=1,F=p),D[M]=F}o.push(D),a.push(b),c=Math.max(c,D.length)}return{columns:o,columnScopes:a,partialValidDataCount:r,maxDataLength:c}}groupData(e,t){var i;const n=new Map,{keys:s,columns:r,columnScopes:o,invalidKeys:a,invalidData:c}=e,h=e.scopes,f=new Set;for(const b of h){const C=r.map((_,F)=>F).filter(_=>!f.has(_)&&o[_].has(b));if(C.length===0)continue;for(const _ of C)f.add(_);const w=new Set;for(const _ of C)for(const F of o[_])w.add(F);const D=s.map(_=>_.get(b)).filter(_=>_!=null),M=r[lp(C)],A=c==null?void 0:c.get(b),k=a==null?void 0:a.get(b);for(let _=0;_<M.length;_++){if((k==null?void 0:k[_])===!0)continue;const F=D.map(j=>j[_]);if(F==null||F.length===0)throw new Error("AG Charts - no keys found for scope: "+b);const N=(t==null?void 0:t(F))??F,z=wJ(N),V=n.get(z)??{keys:N,datumIndices:[],validScopes:h};if(n.has(z)||n.set(z,V),(A==null?void 0:A[_])===!0){V.validScopes===h&&(V.validScopes=new Set(h.values()));for(const j of w)V.validScopes.delete(j)}for(const j of C)(i=V.datumIndices)[j]??(i[j]=[]),V.datumIndices[j].push(_)}}const p=[],m=[];for(const{keys:b,datumIndices:C,validScopes:w}of n.values())p.push(b),m.push({datumIndices:C,keys:b,aggregation:[],validScopes:w});return{...e,type:"grouped",domain:{...e.domain,groups:p},groups:m}}aggregateUngroupedData(e){const t=this.aggregates.map(()=>[1/0,-1/0]);e.domain.aggValues=t;const{keys:i,columns:n,dataSources:s}=e,r=lp(s.keys()),o=s.get(r);e.aggregation=o==null?void 0:o.map((a,c)=>{var f,p,m;const h=[];for(const[b,C]of this.aggregates.entries()){const w=this.valueGroupIdxLookup(C);let D=((f=C.groupAggregateFunction)==null?void 0:f.call(C))??[1/0,-1/0];const M=w.map(F=>n[F][c]),A=lC(i,r,c),k=A!=null?C.aggregateFunction(M,A):void 0;k&&(D=((p=C.groupAggregateFunction)==null?void 0:p.call(C,k,D))??Bc.extendDomain(k,D));const _=((m=C.finalFunction)==null?void 0:m.call(C,D))??D;h[b]=_,Bc.extendDomain(_,t[b])}return h})}aggregateGroupedData(e){var n,s,r;const t=this.aggregates.map(()=>[1/0,-1/0]);e.domain.aggValues=t;const{columns:i}=e;for(const[o,a]of this.aggregates.entries()){const c=this.valueGroupIdxLookup(a);for(const h of e.groups){h.aggregation??(h.aggregation=[]);const f=h.keys;let p=((n=a.groupAggregateFunction)==null?void 0:n.call(a))??[1/0,-1/0];const m=Math.max(...c.map(C=>{var w;return((w=h.datumIndices[C])==null?void 0:w.length)??0}));for(let C=0;C<m;C++){const w=c.map(M=>{var A;return i[M][(A=h.datumIndices[M])==null?void 0:A[C]]}),D=a.aggregateFunction(w,f);D&&(p=((s=a.groupAggregateFunction)==null?void 0:s.call(a,D,p))??Bc.extendDomain(D,p))}const b=((r=a.finalFunction)==null?void 0:r.call(a,p))??p;h.aggregation[o]=b,Bc.extendDomain(b,t[o])}}}postProcessGroups(e){const{groupProcessors:t}=this,{columnScopes:i,columns:n,invalidData:s}=e;for(const r of t){const o=this.valueGroupIdxLookup(r),a=r.adjust()();for(const c of e.groups)a(n,o,c);for(const c of o){const f=this.values[c].valueType==="category",p=n[c],m=lp(i[c]),b=s==null?void 0:s.get(m),C=f?new Ok:new Bc;for(let w=0;w<p.length;w+=1)(b==null?void 0:b[w])!==!0&&C.extend(p[w]);e.domain.values[c]=C.getDomain()}}}postProcessProperties(e){for(const{adjust:t,property:i,scopes:n}of this.propertyProcessors)for(const s of this.valueIdxLookup(n,i))t()(e,s)}reduceData(e){var n;e.reduced??(e.reduced={});const{dataSources:t,keys:i}=e;for(const s of this.reducers){const r=s.reducer();let o=s.initialValue;if(e.type==="grouped")for(const a of e.groups)o=r(o,a.keys);else{const a=lp(t.keys()),c=i.map(p=>p.get(a)).filter(p=>p!=null),h=c.map(()=>{}),f=t.get(a);for(let p=0;p<f.length;p+=1){for(let m=0;m<h.length;m++)h[m]=(n=c[m])==null?void 0:n[p];o=r(o,h)}}e.reduced[s.property]=o}}postProcessData(e){e.reduced??(e.reduced={});for(const t of this.processors)e.reduced[t.property]=t.calculate(e,e.reduced[t.property])}initDataDomainProcessor(){const{keys:e,values:t}=this,i=new Set;for(const f of t)if(f.scopes)for(const p of f.scopes)i.add(p);const n=new Map,s=new Map;let r=!0;const o=()=>{for(const f of Sh(e,t))f.valueType==="category"?n.set(f,new Ok):(n.set(f,new Bc),r&&(r=(f.scopes??[]).length===i.size))};o();const a=this.buildAccessors(Sh(e,t)),c={value:void 0,missing:!1,valid:!1};return{dataDomain:n,processValue:(f,p,m,b)=>{var M,A;let C,w;if(a.has(f.property)){try{w=a.get(f.property)(p)}catch{}C=w!=null}else C=f.property in p,w=C?p[f.property]:f.missingValue;f.forceValue!=null&&(w=C&&yL(w)?-1*f.forceValue:f.forceValue,C=!0),c.missing=!C;const D="missingValue"in f;if(!C&&!D)if(typeof b=="string"){const k=f.missing.get(b)??0;f.missing.set(b,k+1)}else for(const k of b){const _=f.missing.get(k)??0;f.missing.set(k,_+1)}if(n.has(f)||o(),C&&((M=f.validation)==null?void 0:M.call(f,w,p,m))===!1)if(c.valid=!1,"invalidValue"in f)w=f.invalidValue;else return this.mode!=="integrated"&&Ee.warnOnce(`invalid value of type [${typeof w}] for [${f.scopes} / ${f.id}] ignored:`,`[${w}]`),c.value=void 0,c;else c.valid=!0;if(f.processor){let k=s.get(f);k==null&&(k=f.processor(),s.set(f,k)),w=k(w,m)}return(A=n.get(f))==null||A.extend(w),c.value=w,c},initDataDomain:o,scopes:i,allScopesHaveSameDefs:r}}buildAccessors(e){const t=new Map;if(this.suppressFieldDotNotation)return t;for(const i of e){if(!(i.property.includes(".")||i.property.includes("[")))continue;const s=K2(i.property);if(s==null){Ee.warnOnce("Invalid property path [%s]",i.property);continue}const r=DJ(s);t.set(i.property,r)}return t}};function LJ(e){const t=(i,n)=>{n.length>0&&(Ee.log(`DataModel.processData() - ${i}`),Ee.table(n))};Ee.log("DataModel.processData() - processedData",e),t("Key Domains",e.domain.keys),t("Group Domains",e.domain.groups??[]),t("Value Domains",e.domain.values),t("Aggregate Domains",e.domain.aggValues??[])}var Z2=class ul{constructor(t,i){this.mode=t,this.suppressFieldDotNotation=i,this.debug=$t.create(!0,"data-model"),this.requested=[],this.status="setup"}async request(t,i,n){if(this.status!=="setup")throw new Error("AG Charts - data request after data setup phase.");return new Promise((s,r)=>{this.requested.push({id:t,opts:n,data:i,resolve:s,reject:r})})}execute(t){if(this.status!=="setup")throw new Error("AG Charts - data request after data setup phase.");this.status="executed",this.debug("DataController.execute() - requested",this.requested);const i=this.validateRequests(this.requested);this.debug("DataController.execute() - validated",i);const n=this.mergeRequested(i);this.debug("DataController.execute() - merged",n),this.debug.check()&&(vi().processedData=[]);const s=[];for(const{data:r,ids:o,opts:a,resolves:c,rejects:h}of n){const f=t==null?void 0:t.find(b=>xJ(b,r,o,a));let p,m;if(f==null)try{p=new $2(a,this.mode,this.suppressFieldDotNotation);const b=new Map(i.map(C=>[C.id,C.data]));m=p.processData(b)}catch(b){h.forEach(C=>C(b));continue}else({dataModel:p,processedData:m}=f);s.push({opts:a,data:r,ids:o,dataModel:p,processedData:m}),this.debug.check()&&vi("processedData").push(m),(m==null?void 0:m.partialValidDataCount)===0?c.forEach(b=>b({dataModel:p,processedData:m})):m?this.splitResult(p,m,o,c):h.forEach(b=>b(new Error("AG Charts - no processed data generated")))}return s}validateRequests(t){const i=[];for(const[n,s]of t.entries())n>0&&s.data.length!==t[0].data.length&&s.opts.groupByData===!1&&s.opts.groupByKeys===!1?s.reject(new Error("all series[].data arrays must be of the same length and have matching keys.")):i.push(s);return i}mergeRequested(t){const i=[];for(const n of t){const s=i.find(ul.groupMatch(n));s?s.push(n):i.push([n])}return i.map(ul.mergeRequests)}splitResult(t,i,n,s){for(let r=0;r<n.length;r++){const o=s[r];o({dataModel:t,processedData:i})}}static groupMatch({data:t,opts:i}){function n(h){return h.filter(f=>f.type==="key").map(f=>f.property).join(";")}const{groupByData:s,groupByKeys:r=!1,groupByFn:o,props:a}=i,c=n(a);return([h])=>(s===!1||h.data===t)&&(h.opts.groupByKeys??!1)===r&&h.opts.groupByFn===o&&n(h.opts.props)===c}static mergeRequests(t){const i=new Set(["key","group-value-processor"]);return t.reduce((n,{id:s,data:r,resolve:o,reject:a,opts:{props:c,...h}})=>{var f;n.ids.push(s),n.rejects.push(a),n.resolves.push(o),n.data??(n.data=r),n.opts??(n.opts={...h,props:[]});for(const p of c){const m={...p,scopes:[s],data:r};ul.createIdsMap(s,m);const b=n.opts.props.find(C=>C.type===m.type&&(i.has(C.type)||C.data===m.data)&&ul.deepEqual(C,m));if(!b){n.opts.props.push(m);continue}b.scopes??(b.scopes=[]),b.scopes.push(...m.scopes??[]),(b.type==="key"||b.type==="value")&&((f=m.idsMap)!=null&&f.size)&&ul.mergeIdsMap(m.idsMap,b.idsMap)}return n},{ids:[],rejects:[],resolves:[],data:null,opts:null})}static mergeIdsMap(t,i){for(const[n,s]of t){const r=i.get(n);if(r==null)i.set(n,new Set(s));else for(const o of s)r.add(o)}}static createIdsMap(t,i){i.id!=null&&(i.idsMap??(i.idsMap=new Map),i.idsMap.has(t)?i.idsMap.get(t).add(i.id):i.idsMap.set(t,new Set([i.id])))}static deepEqual(t,i){if(t===i)return!0;if(t&&i&&typeof t=="object"&&typeof i=="object"){if(t.constructor!==i.constructor)return!1;let n,s;if(Array.isArray(t)){if(s=t.length,s!==i.length)return!1;for(n=s-1;n>=0;n--)if(!ul.deepEqual(t[n],i[n]))return!1;return!0}const r=Object.keys(t);if(s=r.length,s!==Object.keys(i).length)return!1;for(n=s-1;n>=0;n--){const o=r[n];if(!ul.skipKeys.has(o)&&(!Object.hasOwn(i,o)||!ul.deepEqual(t[o],i[o])))return!1}return!0}return!1}};Z2.skipKeys=new Set(["id","idsMap","type","scopes","data"]);var X2=Z2,TJ=class{constructor(){this.axesMap=new Map,this.themeTemplates=new Map}register(e,t){this.axesMap.set(e,t.moduleFactory),t.themeTemplate&&this.setThemeTemplate(e,t.themeTemplate)}create(e,t){const i=this.axesMap.get(e);if(i)return i(t);throw new Error(`AG Charts - unknown axis type: ${e}`)}has(e){return this.axesMap.has(e)}keys(){return this.axesMap.keys()}setThemeTemplate(e,t){return this.themeTemplates.set(e,t),this}getThemeTemplate(e){return this.themeTemplates.get(e)}},Rh=new TJ,Nm=[{type:"root",optionsKey:"animation",chartTypes:["cartesian","polar","hierarchy","topology","flow-proportion","standalone","gauge"]},{type:"root",optionsKey:"annotations",chartTypes:["cartesian"]},{type:"root",optionsKey:"background",chartTypes:["cartesian","polar","hierarchy","topology","flow-proportion","standalone","gauge"],optionsInnerKey:"image"},{type:"root",optionsKey:"foreground",chartTypes:["cartesian","polar","hierarchy","topology","flow-proportion","standalone","gauge"],optionsInnerKey:"image"},{type:"root",optionsKey:"chartToolbar",chartTypes:["cartesian"]},{type:"root",optionsKey:"contextMenu",chartTypes:["cartesian","polar","hierarchy","topology","flow-proportion","standalone","gauge"]},{type:"root",optionsKey:"statusBar",chartTypes:["cartesian"],identifier:"status-bar"},{type:"root",optionsKey:"dataSource",chartTypes:["cartesian","polar","hierarchy","topology","flow-proportion","standalone","gauge"]},{type:"root",optionsKey:"sync",chartTypes:["cartesian"]},{type:"root",optionsKey:"zoom",chartTypes:["cartesian","topology"]},{type:"root",optionsKey:"ranges",chartTypes:["cartesian"]},{type:"legend",optionsKey:"gradientLegend",chartTypes:["cartesian","polar","hierarchy","topology","flow-proportion","standalone","gauge"],identifier:"gradient"},{type:"root",optionsKey:"navigator",chartTypes:["cartesian"]},{type:"axis",optionsKey:"axes[]",chartTypes:["polar"],identifier:"angle-category"},{type:"axis",optionsKey:"axes[]",chartTypes:["polar"],identifier:"angle-number"},{type:"axis",optionsKey:"axes[]",chartTypes:["polar"],identifier:"radius-category"},{type:"axis",optionsKey:"axes[]",chartTypes:["polar"],identifier:"radius-number"},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"bar",community:!0},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"line",community:!0},{type:"axis",optionsKey:"axes[]",chartTypes:["cartesian"],identifier:"ordinal-time"},{type:"axis-option",optionsKey:"crosshair",chartTypes:["cartesian"]},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"box-plot"},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"candlestick"},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"cone-funnel"},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"funnel"},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"ohlc"},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"heatmap"},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"range-area"},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"range-bar"},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"waterfall"},{type:"series",optionsKey:"series[]",chartTypes:["polar"],identifier:"nightingale"},{type:"series",optionsKey:"series[]",chartTypes:["polar"],identifier:"radar-area"},{type:"series",optionsKey:"series[]",chartTypes:["polar"],identifier:"radar-line"},{type:"series",optionsKey:"series[]",chartTypes:["polar"],identifier:"radial-bar"},{type:"series",optionsKey:"series[]",chartTypes:["polar"],identifier:"radial-column"},{type:"series",optionsKey:"series[]",chartTypes:["hierarchy"],identifier:"sunburst"},{type:"series",optionsKey:"series[]",chartTypes:["hierarchy"],identifier:"treemap"},{type:"series",optionsKey:"series[]",chartTypes:["topology"],identifier:"map-shape"},{type:"series",optionsKey:"series[]",chartTypes:["topology"],identifier:"map-line"},{type:"series",optionsKey:"series[]",chartTypes:["topology"],identifier:"map-marker"},{type:"series",optionsKey:"series[]",chartTypes:["topology"],identifier:"map-shape-background"},{type:"series",optionsKey:"series[]",chartTypes:["topology"],identifier:"map-line-background"},{type:"series",optionsKey:"series[]",chartTypes:["flow-proportion"],identifier:"chord"},{type:"series",optionsKey:"series[]",chartTypes:["flow-proportion"],identifier:"sankey"},{type:"series",optionsKey:"series[]",chartTypes:["standalone"],identifier:"pyramid"},{type:"series",optionsKey:"series[]",chartTypes:["gauge"],identifier:"linear-gauge"},{type:"series",optionsKey:"series[]",chartTypes:["gauge"],identifier:"radial-gauge"},{type:"series-option",optionsKey:"errorBar",chartTypes:["cartesian"],identifier:"error-bars"},{type:"context",contextKey:"sharedToolbar",chartTypes:["cartesian"]}];function Uh(e){var t;return(t=Nm.find(i=>i.type==="series"&&i.identifier===e))==null?void 0:t.chartTypes}function AJ(e){var i;return((i=Uh(e))==null?void 0:i.find(n=>n==="cartesian"))==="cartesian"}function EJ(e){var i;return((i=Uh(e))==null?void 0:i.find(n=>n==="polar"))==="polar"}function RJ(e){var i;return((i=Uh(e))==null?void 0:i.find(n=>n==="hierarchy"))==="hierarchy"}function IJ(e){var i;return((i=Uh(e))==null?void 0:i.find(n=>n==="topology"))==="topology"}function kJ(e){var i;return((i=Uh(e))==null?void 0:i.find(n=>n==="flow-proportion"))==="flow-proportion"}function _J(e){var i;return((i=Uh(e))==null?void 0:i.find(n=>n==="standalone"))==="standalone"}function NJ(e){var i;return((i=Uh(e))==null?void 0:i.find(n=>n==="gauge"))==="gauge"}function OJ(e){return e.packageType==="enterprise"}function PJ(e){if(!OJ(e))throw new Error("AG Charts - internal configuration error, only enterprise modules need verification.");const t=Nm.find(i=>i.type===e.type&&("optionsKey"in i&&"optionsKey"in e?i.optionsKey===e.optionsKey:!0)&&("contextKey"in i&&"contextKey"in e?i.contextKey===e.contextKey:!0)&&i.identifier===e.identifier&&e.chartTypes.every(n=>i.chartTypes.includes(n)));return t&&(t.useCount??(t.useCount=0),t.useCount++),t!=null}function FJ(){return Nm.filter(({useCount:e})=>e==null||e===0)}var BJ=class{constructor(){this.legendMap=new Map,this.themeTemplates=new Map}register(e,{optionsKey:t,moduleFactory:i,themeTemplate:n}){this.legendMap.set(e,{optionsKey:t,moduleFactory:i}),this.themeTemplates.set(t,n)}create(e,t){var n;const i=(n=this.legendMap.get(e))==null?void 0:n.moduleFactory;if(i)return i(t);throw new Error(`AG Charts - unknown legend type: ${e}`)}getThemeTemplates(){return Object.fromEntries(this.themeTemplates)}getKeys(){return Array.from(this.legendMap.entries()).reduce((e,[t,i])=>(e[t]=i.optionsKey,e),{})}},iT=new BJ,q2=class extends Map{get(e){return super.get(e)??"unknown"}isCartesian(e){return this.get(e)==="cartesian"}isPolar(e){return this.get(e)==="polar"}isHierarchy(e){return this.get(e)==="hierarchy"}isTopology(e){return this.get(e)==="topology"}isFlowProportion(e){return this.get(e)==="flow-proportion"}isStandalone(e){return this.get(e)==="standalone"}isGauge(e){return this.get(e)==="gauge"}get seriesTypes(){return Array.from(this.keys())}get cartesianTypes(){return this.seriesTypes.filter(e=>this.isCartesian(e))}get polarTypes(){return this.seriesTypes.filter(e=>this.isPolar(e))}get hierarchyTypes(){return this.seriesTypes.filter(e=>this.isHierarchy(e))}get topologyTypes(){return this.seriesTypes.filter(e=>this.isTopology(e))}get flowProportionTypes(){return this.seriesTypes.filter(e=>this.isFlowProportion(e))}get standaloneTypes(){return this.seriesTypes.filter(e=>this.isStandalone(e))}get gaugeTypes(){return this.seriesTypes.filter(e=>this.isGauge(e))}},zJ=class extends Map{set(e,t){return super.set(e,Pt(t,this.get(e)))}},Gi=new q2,GJ=new q2,QM=new zJ,HJ=class{constructor(){this.seriesMap=new Map,this.themeTemplates=new Map}register(e,{chartTypes:[t],moduleFactory:i,tooltipDefaults:n,defaultAxes:s,themeTemplate:r,solo:o,stackable:a,groupable:c,stackedByDefault:h,hidden:f}){this.setThemeTemplate(e,r),this.seriesMap.set(e,{moduleFactory:i,tooltipDefaults:n,defaultAxes:s,solo:o,stackable:a,groupable:c,stackedByDefault:h}),Gi.set(e,t),f||GJ.set(e,t)}create(e,t){var n;const i=(n=this.seriesMap.get(e))==null?void 0:n.moduleFactory;if(i)return i(t);throw new Error(`AG Charts - unknown series type: ${e}`)}cloneDefaultAxes(e){var i;const t=(i=this.seriesMap.get(e))==null?void 0:i.defaultAxes;return t==null?null:{axes:Ii(t)}}setThemeTemplate(e,t){const i=this.themeTemplates.get(e);this.themeTemplates.set(e,Pt(t,i))}getThemeTemplate(e){return this.themeTemplates.get(e)}getTooltipDefauls(e){var t;return(t=this.seriesMap.get(e))==null?void 0:t.tooltipDefaults}isSolo(e){var t;return((t=this.seriesMap.get(e))==null?void 0:t.solo)??!1}isGroupable(e){var t;return((t=this.seriesMap.get(e))==null?void 0:t.groupable)??!1}isStackable(e){var t;return((t=this.seriesMap.get(e))==null?void 0:t.stackable)??!1}isStackedByDefault(e){var t;return((t=this.seriesMap.get(e))==null?void 0:t.stackedByDefault)??!1}},Qr=new HJ,nT=class ph extends yu{constructor(t){super(),this.chart=t}subscribe(t=ph.DEFAULT_GROUP){let i=this.get(t);return i||(i=new Set,ph.chartsGroups.set(t,i)),i.add(this.chart),this}unsubscribe(t=ph.DEFAULT_GROUP){var i;return(i=this.get(t))==null||i.delete(this.chart),this}getChart(){return this.chart}getGroup(t=ph.DEFAULT_GROUP){const i=this.get(t);return i?Array.from(i):[]}getGroupSiblings(t=ph.DEFAULT_GROUP){return this.getGroup(t).filter(i=>i!==this.chart)}get(t){return ph.chartsGroups.get(t)}};nT.chartsGroups=new Map;nT.DEFAULT_GROUP=Symbol("sync-group-default");var jJ=nT,sT=class extends ht{constructor(){super(...arguments),this.enabled=!1}};R([P()],sT.prototype,"enabled",2);R([P()],sT.prototype,"tabIndex",2);var Q2={};jo(Q2,{NODE_UPDATE_STATE_TO_PHASE_MAPPING:()=>ko,fromToMotion:()=>Qi,staticFromToMotion:()=>Nl});var ko={added:"add",updated:"update",removed:"remove",unknown:"initial","no-op":"none"};function Qi(e,t,i,n,s,r,o){const{fromFn:a,toFn:c,applyFn:h=(C,w)=>C.setProperties(w)}=s,{nodes:f,selections:p}=lx(n),m=(C,w)=>{let D,M=0,A=0;for(const k of w){const _=C[M]===k,F={last:A>=w.length-1,lastLive:M>=C.length-1,prev:w[A-1],prevFromProps:D,prevLive:C[M-1],next:w[A+1],nextLive:C[M+(_?1:0)]},N=`${e}_${t}_${k.id}`;i.stopByAnimationId(N);let z="unknown";_?r&&o&&(z=VJ(k,k.datum,r,o)):z="removed",k.transitionOut=z==="removed";const{phase:V,start:j,finish:U,delay:$,duration:Q,...J}=a(k,k.datum,z,F),{phase:be,start:me,finish:Y,delay:re,duration:Z,...Ce}=c(k,k.datum,z,F),H=U==null;i.animate({id:N,groupId:e,phase:V??be??"update",duration:Q??Z,delay:$??re,from:J,to:Ce,ease:Qp,collapsable:H,onPlay:()=>{const K={...j,...me,...J};h(k,K,"start")},onUpdate(K){h(k,K,"update")},onStop:()=>{const K={...j,...me,...J,...Ce,...U,...Y};h(k,K,"end")}}),_&&M++,A++,D=J}};let b=0;for(const C of p){const w=C.nodes(),D=w.filter(M=>!C.isGarbage(M));m(D,w),i.animate({id:`${e}_${t}_selection_${b}`,groupId:e,phase:"end",from:0,to:1,ease:Qp,onStop(){C.cleanup()}}),b++}m(f,f)}function Nl(e,t,i,n,s,r,o){const{nodes:a,selections:c}=lx(n),{start:h,finish:f,phase:p}=o;i.animate({id:`${e}_${t}`,groupId:e,phase:p??"update",from:s,to:r,ease:Qp,onPlay:()=>{if(h){for(const m of a)m.setProperties(h);for(const m of c)for(const b of m.nodes())b.setProperties(h)}},onUpdate(m){for(const b of a)b.setProperties(m);for(const b of c)for(const C of b.nodes())C.setProperties(m)},onStop:()=>{for(const m of a)m.setProperties({...r,...f});for(const m of c){for(const b of m.nodes())b.setProperties({...r,...f});m.cleanup()}}})}function VJ(e,t,i,n){const s=i(e,t);return n.added.has(s)?"added":n.removed.has(s)?"removed":"updated"}var J2={};jo(J2,{resetMotion:()=>Hn});function Hn(e,t){const{nodes:i,selections:n}=lx(e);for(const s of n){for(const r of s.nodes()){const o=t(r,r.datum);r.setProperties(o)}s.cleanup()}for(const s of i){const r=t(s,s.datum);s.setProperties(r)}}var Vw="color: green",Ww="color: grey";function WJ(){return mF(()=>{})}function JM(e,t){const i=eu(t);if(i.length===0)return;const n=yF(e);for(const s of i)s in n&&(t[s]=n[s])}var eB=class{transitionRoot(e,t){this.parent?this.parent.transitionRoot(e,t):this.transition(e,t)}},rT=class tr extends eB{constructor(t,i,n){super(),this.defaultState=t,this.states=i,this.enterEach=n,this.debug=$t.create(!0,"animation"),this.state=t,this.debug(`%c${this.constructor.name} | init -> ${t}`,Vw)}transition(t,i){var f,p,m,b;if(!this.transitionChild(t,i)||this.state===tr.child||this.state===tr.parent)return;const s=this.state,r=this.states[this.state];let o=r[t];const a=`%c${this.constructor.name} | ${this.state} -> ${t} ->`;if(Array.isArray(o))o=o.find(C=>{if(!C.guard)return!0;const w=C.guard(i);return w||this.debug(`${a} (guarded)`,C.target,Ww),w});else if(typeof o=="object"&&!(o instanceof tr)&&o.guard&&!o.guard(i)){this.debug(`${a} (guarded)`,o.target,Ww);return}if(!o){this.debug(`${a} ${this.state}`,Ww);return}const c=this.getDestinationState(o),h=c===this.state?void 0:r.onExit;this.debug(`${a} ${c}`,Vw),this.state=c,typeof o=="function"?o(i):typeof o=="object"&&!(o instanceof tr)&&((f=o.action)==null||f.call(o,i)),h==null||h(),(p=this.enterEach)==null||p.call(this,s,c),c!==s&&c!==tr.child&&c!==tr.parent&&((b=(m=this.states[c]).onEnter)==null||b.call(m,s,i))}transitionAsync(t,i){setTimeout(()=>{this.transition(t,i)},0)}is(t){return this.state===tr.child&&this.childState?this.childState.is(t):this.state===t}resetHierarchy(){this.debug(`%c${this.constructor.name} | ${this.state} -> [resetHierarchy] -> ${this.defaultState}`,"color: green"),this.state=this.defaultState}transitionChild(t,i){var n,s;return this.state!==tr.child||!this.childState||(JM(this,this.childState),this.childState.transition(t,i),!this.childState.is(tr.parent))?!0:(this.debug(`%c${this.constructor.name} | ${this.state} -> ${t} -> ${this.defaultState}`,Vw),this.state=this.defaultState,(s=(n=this.states[this.state]).onEnter)==null||s.call(n),this.childState.resetHierarchy(),!1)}getDestinationState(t){let i=this.state;return typeof t=="string"?i=t:t instanceof tr?(this.childState=t,this.childState.parent=this,i=tr.child):typeof t=="object"&&(t.target instanceof tr?(this.childState=t.target,this.childState.parent=this,i=tr.child):t.target!=null&&(i=t.target)),i}};rT.child="__child";rT.parent="__parent";var Om=rT,UJ=class extends eB{constructor(...e){super(),this.stateMachines=e;for(const t of e)t.parent=this}transition(e,t){for(const i of this.stateMachines)JM(this,i),i.transition(e,t)}transitionAsync(e,t){for(const i of this.stateMachines)JM(this,i),i.transitionAsync(e,t)}},oT=class{constructor(){this.moduleMap=new Map}*modules(){for(const e of this.moduleMap.values())yield e.moduleInstance}addModule(e,t){if(this.moduleMap.has(e.optionsKey))throw new Error(`AG Charts - module already initialised: ${e.optionsKey}`);this.moduleMap.set(e.optionsKey,{module:e,moduleInstance:t(e)})}removeModule(e){var i;const t=Un(e)?e:e.optionsKey;(i=this.moduleMap.get(t))==null||i.moduleInstance.destroy(),this.moduleMap.delete(t)}getModule(e){var t;return(t=this.moduleMap.get(Un(e)?e:e.optionsKey))==null?void 0:t.moduleInstance}isEnabled(e){return this.moduleMap.has(Un(e)?e:e.optionsKey)}mapModules(e){return Array.from(this.moduleMap.values(),(t,i)=>e(t.moduleInstance,i))}destroy(){var e;for(const t of this.moduleMap.keys())(e=this.moduleMap.get(t))==null||e.moduleInstance.destroy();this.moduleMap.clear()}},gn=class mh{constructor(t,i,n=!0){this.parentNode=t,this.autoCleanup=n,this.garbageBin=new Set,this._nodesMap=new Map,this._nodes=[],this.data=[],this.debug=$t.create(!0,"scene","scene:selections"),this.nodeFactory=Object.prototype.isPrototypeOf.call(Tl,i)?()=>new i:i}static select(t,i,n=!0){return new mh(t,i,n)}static selectAll(t,i){const n=[],s=r=>{i(r)&&n.push(r);for(const o of r.children())s(o)};return s(t),n}static selectByClass(t,...i){return mh.selectAll(t,n=>i.some(s=>n instanceof s))}static selectByTag(t,i){return mh.selectAll(t,n=>n.tag===i)}createNode(t,i,n){const s=this.nodeFactory(t);return s.datum=t,i==null||i(s),n==null?this._nodes.push(s):this._nodes.splice(n,0,s),this.parentNode.appendChild(s),s}update(t,i,n){if(this.garbageBin.size>0&&this.debug("Selection - update() called with pending garbage",t),n){const s=new Map(t.map((r,o)=>[n(r),[r,o]]));for(const[r,o]of this._nodesMap.entries())if(s.has(o)){const[a]=s.get(o);r.datum=a,this.garbageBin.delete(r),s.delete(o)}else this.garbageBin.add(r);for(const[r,[o,a]]of s.entries())this._nodesMap.set(this.createNode(o,i,a),r)}else{const s=Math.max(t.length,this.data.length);for(let r=0;r<s;r++)r>=t.length?this.garbageBin.add(this._nodes[r]):r>=this._nodes.length?this.createNode(t[r],i):(this._nodes[r].datum=t[r],this.garbageBin.delete(this._nodes[r]))}return this.data=t.slice(),this.autoCleanup&&this.cleanup(),this}cleanup(){return this.garbageBin.size===0?this:(this._nodes=this._nodes.filter(t=>this.garbageBin.has(t)?(this._nodesMap.delete(t),this.garbageBin.delete(t),t.destroy(),!1):!0),this)}clear(){return this.update([]),this}isGarbage(t){return this.garbageBin.has(t)}each(t){for(const i of this._nodes.entries())t(i[1],i[1].datum,i[0]);return this}*[Symbol.iterator](){for(let t=0;t<this._nodes.length;t++){const i=this._nodes[t];yield{node:i,datum:i.datum,index:t}}}select(t){return mh.selectAll(this.parentNode,t)}selectByClass(t){return mh.selectByClass(this.parentNode,t)}selectByTag(t){return mh.selectByTag(this.parentNode,t)}nodes(){return this._nodes}at(t){return this._nodes.at(t)}get length(){return this._nodes.length}},Nr=class extends co{constructor(e={}){super(e),this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.restoreOwnStyles()}set x(e){this.x1=e,this.x2=e}set y(e){this.y1=e,this.y2=e}get midPoint(){return{x:(this.x1+this.x2)/2,y:(this.y1+this.y2)/2}}computeBBox(){return new Ge(Math.min(this.x1,this.x2),Math.min(this.y1,this.y2),Math.abs(this.x2-this.x1),Math.abs(this.y2-this.y1))}isPointInPath(e,t){return this.x1===this.x2||this.y1===this.y2?this.getBBox().clone().grow(this.strokeWidth/2).containsPoint(e,t):!1}distanceSquared(e,t){const{x1:i,y1:n,x2:s,y2:r}=this;return Ip(e,t,i,n,s,r,1/0)}render(e){var a;const{ctx:t,devicePixelRatio:i}=e;let{x1:n,y1:s,x2:r,y2:o}=this;if(n===r){const{strokeWidth:c}=this,h=Math.round(n*i)/i+Math.trunc(c*i)%2/(i*2);n=h,r=h}else if(s===o){const{strokeWidth:c}=this,h=Math.round(s*i)/i+Math.trunc(c*i)%2/(i*2);s=h,o=h}t.beginPath(),t.moveTo(n,s),t.lineTo(r,o),this.fillStroke(t),(a=this.fillShadow)==null||a.markClean(),super.render(e)}toSVG(){if(!this.visible)return;const e=Wn("line");return e.setAttribute("x1",String(this.x1)),e.setAttribute("y1",String(this.y1)),e.setAttribute("x2",String(this.x2)),e.setAttribute("y2",String(this.y2)),this.applySvgStrokeAttributes(e),{elements:[e]}}};Nr.className="Line";Nr.defaultStyles={...co.defaultStyles,fill:void 0,strokeWidth:1};R([He()],Nr.prototype,"x1",2);R([He()],Nr.prototype,"y1",2);R([He()],Nr.prototype,"x2",2);R([He()],Nr.prototype,"y2",2);var Vo=class extends co{constructor(e={}){super(e),this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.startLine=!1,this.endLine=!1,this.isRange=!1,this.restoreOwnStyles()}computeBBox(){return new Ge(this.x1,this.y1,this.x2-this.x1,this.y2-this.y1)}isPointInPath(e,t){return!1}render(e){var w;const{ctx:t}=e;let{x1:i,y1:n,x2:s,y2:r}=this;i=this.align(i),n=this.align(n),s=this.align(s),r=this.align(r);const{fill:o,opacity:a,isRange:c}=this;if(!!(c&&o)){const{fillOpacity:D}=this;this.applyFill(t),t.globalAlpha=a*D,t.beginPath(),t.moveTo(i,n),t.lineTo(s,n),t.lineTo(s,r),t.lineTo(i,r),t.closePath(),t.fill()}const{stroke:f,strokeWidth:p,startLine:m,endLine:b}=this;if(!!((m||b)&&f&&p)){const{strokeOpacity:D,lineDash:M,lineDashOffset:A,lineCap:k,lineJoin:_}=this;this.applyStroke(t),t.globalAlpha=a*D,t.lineWidth=p,M&&t.setLineDash(M),A&&(t.lineDashOffset=A),k&&(t.lineCap=k),_&&(t.lineJoin=_),t.beginPath(),m&&(t.moveTo(i,n),t.lineTo(s,n)),b&&(t.moveTo(s,r),t.lineTo(i,r)),t.stroke()}(w=this.fillShadow)==null||w.markClean(),super.render(e)}};Vo.className="Range";Vo.defaultStyles={...co.defaultStyles,strokeWidth:1};R([He()],Vo.prototype,"x1",2);R([He()],Vo.prototype,"y1",2);R([He()],Vo.prototype,"x2",2);R([He()],Vo.prototype,"y2",2);R([He()],Vo.prototype,"startLine",2);R([He()],Vo.prototype,"endLine",2);R([He()],Vo.prototype,"isRange",2);var _n=class extends ht{constructor(){super(...arguments),this.enabled=!0}getFont(){return _i.toFontString(this)}};R([P()],_n.prototype,"enabled",2);R([P()],_n.prototype,"color",2);R([P()],_n.prototype,"fontStyle",2);R([P()],_n.prototype,"fontWeight",2);R([P()],_n.prototype,"fontSize",2);R([P()],_n.prototype,"fontFamily",2);R([P()],_n.prototype,"formatter",2);function cC(e){const{parallelFlipRotation:t=0,regularFlipRotation:i=0}=e,n=e.rotation?Mi(Oi(e.rotation)):0,s=!n&&t>=0&&t<=Math.PI?-1:1,r=!n&&i>=0&&i<=Math.PI?-1:1;let o=0;return e.parallel?o=s*Math.PI/2:r===-1&&(o=Math.PI),{configuredRotation:n,defaultRotation:o,parallelFlipFlag:s,regularFlipFlag:r}}function YJ(e,t){return e??(t?0:10)}function KJ(e,t,i,n){return e&&!t?i*n===-1?"hanging":"bottom":"middle"}function Fk(e,t,i,n,s){const r=t>0&&t<=Math.PI,o=i>0&&i<=Math.PI,a=r||o?-1:1;if(e)if(t||i){if(n*a===-1)return"end"}else return"center";else if(n*s===-1)return"end";return"start"}function $J(e,t,i,n){const s=[];for(const{tickLabel:r,translationY:o}of e){if(!r)continue;const{width:a,height:c}=n.measureLines(r),h=new Ge(t,o,a,c),f=new Ge(t,o,0,0);i.transformBBox(f,h);const{x:p,y:m}=h;s.push({point:{x:p,y:m},label:{text:r,width:a,height:c}})}return s}function ZJ(e){return e!=null&&Object.hasOwn(e,"toString")&&Un(e.toString())}function XJ(e){return e!=null&&Object.hasOwn(e,"valueOf")&&Vt(e.valueOf())}function hx(e){return Vt(e)||Dm(e)||XJ(e)}function qJ(e,t){return e!=null&&(!t||hx(e))}function eD(e){return ZJ(e)&&Object.hasOwn(e,"id")?e.id:e}var aT=e=>e==="value"?li((t,i)=>i.target.type==="line",t=>t.target.type==="range"?"crossLine type 'range' to have a 'range' property instead of 'value'":"crossLine property 'type' to be 'line'"):li((t,i)=>i.target.type==="range",t=>t.target.type==="line"?"crossLine type 'line' to have a 'value' property instead of 'range'":"crossLine property 'type' to be 'range'");function tB(e){switch(e.type){case"line":return e.value;case"range":return e.range}}function iB(e,t){if(e==null)return!1;const i=ai.is(t)||Sl.is(t),n=s=>qJ(s,i)&&!isNaN(t.convert(s));if(bt(e)){const[s,r]=e;return n(s)&&n(r)}else return n(e)}var QJ={top:{xTranslationDirection:0,yTranslationDirection:-1},bottom:{xTranslationDirection:0,yTranslationDirection:1},left:{xTranslationDirection:-1,yTranslationDirection:0},right:{xTranslationDirection:1,yTranslationDirection:0},"top-left":{xTranslationDirection:1,yTranslationDirection:-1},"top-right":{xTranslationDirection:-1,yTranslationDirection:-1},"bottom-left":{xTranslationDirection:1,yTranslationDirection:1},"bottom-right":{xTranslationDirection:-1,yTranslationDirection:1},inside:{xTranslationDirection:0,yTranslationDirection:0},"inside-left":{xTranslationDirection:1,yTranslationDirection:0},"inside-right":{xTranslationDirection:-1,yTranslationDirection:0},"inside-top":{xTranslationDirection:0,yTranslationDirection:1},"inside-bottom":{xTranslationDirection:0,yTranslationDirection:-1},"inside-top-left":{xTranslationDirection:1,yTranslationDirection:1},"inside-bottom-left":{xTranslationDirection:1,yTranslationDirection:-1},"inside-top-right":{xTranslationDirection:-1,yTranslationDirection:1},"inside-bottom-right":{xTranslationDirection:-1,yTranslationDirection:-1}},JJ={top:{xTranslationDirection:1,yTranslationDirection:0},bottom:{xTranslationDirection:-1,yTranslationDirection:0},left:{xTranslationDirection:0,yTranslationDirection:-1},right:{xTranslationDirection:0,yTranslationDirection:1},"top-left":{xTranslationDirection:-1,yTranslationDirection:-1},"top-right":{xTranslationDirection:-1,yTranslationDirection:1},"bottom-left":{xTranslationDirection:1,yTranslationDirection:-1},"bottom-right":{xTranslationDirection:1,yTranslationDirection:1},inside:{xTranslationDirection:0,yTranslationDirection:0},"inside-left":{xTranslationDirection:0,yTranslationDirection:1},"inside-right":{xTranslationDirection:0,yTranslationDirection:-1},"inside-top":{xTranslationDirection:-1,yTranslationDirection:0},"inside-bottom":{xTranslationDirection:1,yTranslationDirection:0},"inside-top-left":{xTranslationDirection:-1,yTranslationDirection:1},"inside-bottom-left":{xTranslationDirection:1,yTranslationDirection:1},"inside-top-right":{xTranslationDirection:-1,yTranslationDirection:-1},"inside-bottom-right":{xTranslationDirection:1,yTranslationDirection:-1}};function tD({yDirection:e,padding:t=0,position:i="top",bbox:n}){const s=e?QJ:JJ,{xTranslationDirection:r,yTranslationDirection:o}=s[i],a=r*(t+n.width/2),c=o*(t+n.height/2);return{xTranslation:a,yTranslation:c}}function nB({yDirection:e,bbox:t,padding:i=0,position:n="top"}){const s={};return n.startsWith("inside")||(n==="top"&&!e?s.top=i+t.height:n==="bottom"&&!e?s.bottom=i+t.height:n==="left"&&e?s.left=i+t.width:n==="right"&&e&&(s.right=i+t.width)),s}var uC=({direction:e,xEnd:t,yStart:i,yEnd:n})=>e==="y"?{x:t/2,y:i}:{x:t,y:isNaN(n)?i:(i+n)/2},Bk=({direction:e,xStart:t,xEnd:i,yStart:n,yEnd:s})=>e==="y"?{x:t,y:isNaN(s)?n:(n+s)/2}:{x:i/2,y:n},zk=({direction:e,xEnd:t,yStart:i,yEnd:n})=>e==="y"?{x:t,y:isNaN(n)?i:(i+n)/2}:{x:t/2,y:isNaN(n)?i:n},Gk=({direction:e,xStart:t,xEnd:i,yStart:n,yEnd:s})=>e==="y"?{x:i/2,y:isNaN(s)?n:s}:{x:t,y:isNaN(s)?n:(n+s)/2},eee=({xEnd:e,yStart:t,yEnd:i})=>({x:e/2,y:isNaN(i)?t:(t+i)/2}),Hk=({direction:e,xStart:t,xEnd:i,yStart:n})=>e==="y"?{x:t/2,y:n}:{x:i,y:n},jk=({direction:e,xStart:t,yStart:i,yEnd:n})=>e==="y"?{x:t,y:isNaN(n)?i:n}:{x:t,y:i},Vk=({direction:e,xEnd:t,yStart:i,yEnd:n})=>e==="y"?{x:t,y:i}:{x:t,y:isNaN(n)?i:n},Wk=({direction:e,xStart:t,xEnd:i,yStart:n,yEnd:s})=>e==="y"?{x:i,y:isNaN(s)?n:s}:{x:t,y:isNaN(s)?n:s},sB={top:{c:uC},bottom:{c:Gk},left:{c:Bk},right:{c:zk},"top-left":{c:Hk},"top-right":{c:Vk},"bottom-left":{c:jk},"bottom-right":{c:Wk},inside:{c:eee},"inside-left":{c:Bk},"inside-right":{c:zk},"inside-top":{c:uC},"inside-bottom":{c:Gk},"inside-top-left":{c:Hk},"inside-bottom-left":{c:jk},"inside-top-right":{c:Vk},"inside-bottom-right":{c:Wk}};ci(["top","left","right","bottom","top-left","top-right","bottom-left","bottom-right","inside","inside-left","inside-right","inside-top","inside-bottom","inside-top-left","inside-bottom-left","inside-top-right","inside-bottom-right"],"crossLine label position");var uo=class extends ht{constructor(){super(...arguments),this.fontSize=14,this.fontFamily="Verdana, sans-serif",this.padding=5,this.color="rgba(87, 87, 87, 1)"}};R([P()],uo.prototype,"enabled",2);R([P()],uo.prototype,"text",2);R([P()],uo.prototype,"fontStyle",2);R([P()],uo.prototype,"fontWeight",2);R([P()],uo.prototype,"fontSize",2);R([P()],uo.prototype,"fontFamily",2);R([P()],uo.prototype,"padding",2);R([P()],uo.prototype,"color",2);R([P()],uo.prototype,"position",2);R([P()],uo.prototype,"rotation",2);R([P()],uo.prototype,"parallel",2);var Vs=class extends ht{constructor(){super(),this.id=Er(this),this.defaultColorRange=[],this.fill="#c16068",this.label=new uo,this.scale=void 0,this.clippedRange=[-1/0,1/0],this.gridLength=0,this.sideFlag=-1,this.parallelFlipRotation=0,this.regularFlipRotation=0,this.direction="x",this.rangeGroup=new at({name:this.id}),this.lineGroup=new at({name:this.id}),this.labelGroup=new at({name:this.id}),this.crossLineRange=new Vo,this.crossLineLabel=new yf,this.labelPoint=void 0,this.data=void 0,this.startLine=!1,this.endLine=!1,this._isRange=void 0,this.lineGroup.append(this.crossLineRange),this.labelGroup.append(this.crossLineLabel),this.crossLineRange.pointerEvents=1}update(e){const{enabled:t,type:i,data:n,scale:s}=this;if(!s||!t||!e||!this.isValid()||!iB(tB(this),s)||n==null){this.rangeGroup.visible=!1,this.lineGroup.visible=!1,this.labelGroup.visible=!1;return}this.rangeGroup.visible=e,this.lineGroup.visible=e,this.labelGroup.visible=e,this.updateNodes();const r=i==="range";r!==this._isRange&&(r?this.rangeGroup.appendChild(this.crossLineRange):this.lineGroup.appendChild(this.crossLineRange)),this._isRange=r}calculateLayout(e,t){if(!e)return;const{type:i,range:n,value:s,scale:r,gridLength:o,sideFlag:a,direction:c,label:{position:h="top"},clippedRange:f,strokeWidth:p=0}=this;if(this.data=void 0,!r)return;const m=r.bandwidth??0,b=r.step??0,C=(t?-1:1)*(r instanceof _m?(b-m)/2:0),[w,D]=[0,a*o];let M,A,k,_;if(i==="line"){const j=m/2;M=r.convert(s)+j,A=NaN,k=r.convert(s,!0)+j,_=NaN}else if(n){const[j,U]=n,$=(j==null?void 0:j.valueOf())===(U==null?void 0:U.valueOf())&&Sl.is(r)?m/2+C:0;M=r.convert(j)+$,A=r.convert(U)+m,k=r.convert(j,!0)+$-C,_=r.convert(U,!0)+m+C}else return;k=ZM(k,f),_=ZM(_,f);const F=(M===k||A===_||k!==_)&&Math.abs(_-k)>0;if(F&&k>_&&([k,_]=[_,k],[M,A]=[A,M]),M-C>=k&&(M-=C),A+C<=_&&(A+=C),this.startLine=p>0&&M>=k&&M<=k+C,this.endLine=p>0&&A>=_-m-C&&A<=_,i==="range"&&!F&&!this.startLine&&!this.endLine||(this.data=[k,_],this.label.enabled===!1||!this.label.text))return;const{c:N=uC}=sB[h]??{},{x:z,y:V}=N({direction:c,xStart:w,xEnd:D,yStart:k,yEnd:_});this.labelPoint={x:z,y:V}}updateNodes(){this.updateRangeNode();const{label:e}=this;e.enabled!==!1&&e.text&&(this.updateLabel(),this.positionLabel())}updateRangeNode(){const{type:e,crossLineRange:t,sideFlag:i,gridLength:n,data:s,startLine:r,endLine:o,fill:a,fillOpacity:c,stroke:h,strokeWidth:f,lineDash:p}=this;t.x1=0,t.x2=i*n,t.y1=(s==null?void 0:s[0])??0,t.y2=(s==null?void 0:s[1])??0,t.startLine=r,t.endLine=o,t.isRange=e==="range",t.fill=a,t.fillOpacity=c??1,t.stroke=h,t.strokeWidth=f??1,t.strokeOpacity=this.strokeOpacity??1,t.lineDash=p}updateLabel(){const{crossLineLabel:e,label:t}=this;t.text&&(e.fontStyle=t.fontStyle,e.fontWeight=t.fontWeight,e.fontSize=t.fontSize,e.fontFamily=t.fontFamily,e.fill=t.color,e.text=t.text)}positionLabel(){const{crossLineLabel:e,labelPoint:{x:t=void 0,y:i=void 0}={},label:{parallel:n,rotation:s,position:r="top",padding:o=0},direction:a,parallelFlipRotation:c,regularFlipRotation:h}=this;if(t===void 0||i===void 0)return;const{defaultRotation:f,configuredRotation:p}=cC({rotation:s,parallel:n,regularFlipRotation:h,parallelFlipRotation:c});e.rotation=f+p,e.textBaseline="middle",e.textAlign="center";const m=e.getBBox();if(!m)return;const b=a==="y",{xTranslation:C,yTranslation:w}=tD({yDirection:b,padding:o,position:r,bbox:m});e.translationX=t+C,e.translationY=i+w}computeLabelBBox(){const{label:e}=this;if(e.enabled===!1||!e.text)return;const t=new yf;t.fontFamily=e.fontFamily,t.fontSize=e.fontSize,t.fontStyle=e.fontStyle,t.fontWeight=e.fontWeight,t.text=e.text;const{labelPoint:{x:i=void 0,y:n=void 0}={},label:{parallel:s,rotation:r,position:o="top",padding:a=0},direction:c,parallelFlipRotation:h,regularFlipRotation:f}=this;if(i===void 0||n===void 0)return;const{configuredRotation:p}=cC({rotation:r,parallel:s,regularFlipRotation:f,parallelFlipRotation:h});t.rotation=p,t.textBaseline="middle",t.textAlign="center";const m=t.getBBox();if(!m)return;const b=c==="y",{xTranslation:C,yTranslation:w}=tD({yDirection:b,padding:a,position:o,bbox:m});return t.x=i+C,t.y=n+w,t.getBBox()}calculatePadding(e){const{data:t,direction:i,label:{padding:n=0,position:s="top"}}=this;if(t==null)return;const r=this.computeLabelBBox();if((r==null?void 0:r.x)==null||(r==null?void 0:r.y)==null)return;const o=nB({yDirection:i==="y",padding:n,position:s,bbox:r});e.left=Math.max(e.left??0,o.left??0),e.right=Math.max(e.right??0,o.right??0),e.top=Math.max(e.top??0,o.top??0),e.bottom=Math.max(e.bottom??0,o.bottom??0)}};Vs.className="CrossLine";R([P()],Vs.prototype,"enabled",2);R([P(ci(["range","line"],"a crossLine type"))],Vs.prototype,"type",2);R([P(gu(aT("range"),LL.restrict({length:2})))],Vs.prototype,"range",2);R([P(aT("value"))],Vs.prototype,"value",2);R([P()],Vs.prototype,"defaultColorRange",2);R([P()],Vs.prototype,"fill",2);R([P()],Vs.prototype,"fillOpacity",2);R([P()],Vs.prototype,"stroke",2);R([P()],Vs.prototype,"strokeWidth",2);R([P()],Vs.prototype,"strokeOpacity",2);R([P()],Vs.prototype,"lineDash",2);R([P()],Vs.prototype,"label",2);var tee=["stroke","lineDash"];kn(e=>an(e)&&Object.keys(e).every(t=>tee.includes(t)),"objects with gridline style properties such as 'stroke' or 'lineDash'");var dx=class{constructor(){this.enabled=!0,this.width=1,this.style=[{stroke:void 0,lineDash:[]}]}};R([P()],dx.prototype,"enabled",2);R([P()],dx.prototype,"width",2);R([P()],dx.prototype,"style",2);var iee=li(e=>Vt(e)&&e>0||e instanceof zh,"a non-zero positive Number value or, for a time axis, a Time Interval such as 'agCharts.time.month'"),Yh=class extends ht{};R([P()],Yh.prototype,"step",2);R([P()],Yh.prototype,"values",2);R([P()],Yh.prototype,"minSpacing",2);R([P()],Yh.prototype,"maxSpacing",2);var Nn=class extends ht{constructor(){super(...arguments),this.enabled=!0,this.spacing=5,this.color="#575757",this.avoidCollisions=!0,this.mirrored=!1,this.parallel=!1}getSideFlag(){return this.mirrored?1:-1}getFont(){return _i.toFontString(this)}};R([P()],Nn.prototype,"enabled",2);R([P()],Nn.prototype,"fontStyle",2);R([P()],Nn.prototype,"fontWeight",2);R([P(Rr.restrict({min:1}))],Nn.prototype,"fontSize",2);R([P()],Nn.prototype,"fontFamily",2);R([P()],Nn.prototype,"spacing",2);R([P()],Nn.prototype,"minSpacing",2);R([P()],Nn.prototype,"color",2);R([P()],Nn.prototype,"rotation",2);R([P()],Nn.prototype,"avoidCollisions",2);R([P()],Nn.prototype,"mirrored",2);R([P()],Nn.prototype,"parallel",2);R([P()],Nn.prototype,"itemStyler",2);R([P()],Nn.prototype,"formatter",2);R([P()],Nn.prototype,"format",2);var fx=class{constructor(){this.enabled=!0,this.width=1,this.stroke=void 0}};R([P()],fx.prototype,"enabled",2);R([P()],fx.prototype,"width",2);R([P()],fx.prototype,"stroke",2);var Pf=class extends ht{constructor(){super(...arguments),this.enabled=!0,this.width=1,this.size=6}};R([P()],Pf.prototype,"enabled",2);R([P()],Pf.prototype,"width",2);R([P()],Pf.prototype,"size",2);R([P()],Pf.prototype,"stroke",2);var Wo=class extends ht{constructor(){super(...arguments),this.caption=new Pi,this.enabled=!1,this.spacing=Pi.SMALL_PADDING,this.fontSize=10,this.fontFamily="sans-serif",this.wrapping="always"}};R([P()],Wo.prototype,"enabled",2);R([P()],Wo.prototype,"text",2);R([P()],Wo.prototype,"spacing",2);R([P()],Wo.prototype,"fontStyle",2);R([P()],Wo.prototype,"fontWeight",2);R([P()],Wo.prototype,"fontSize",2);R([P()],Wo.prototype,"fontFamily",2);R([P()],Wo.prototype,"color",2);R([P()],Wo.prototype,"wrapping",2);R([P()],Wo.prototype,"formatter",2);var rB=(e=>(e[e.TickAndDomain=0]="TickAndDomain",e[e.TicksOnly=1]="TicksOnly",e[e.Off=2]="Off",e))(rB||{});function hC(e){const[t,i]=pn(e.range),n=Math.floor(t),s=Math.ceil(i);return{min:n,max:s,visible:n!==s}}var iD=Math.PI*2,nee=iD/2;function see(e,t){return Math.abs(t-e)<nee?t:e>t?t+iD:t-iD}function oB(e){const t=(o,a)=>{const[c=e.min,h=e.max]=pn(a??[]);return o<c||o>h};return{tick:{fromFn(o,a,c){let h=o.y1+o.translationY,f=o.opacity;return(c==="added"||t(o.datum.translationY,o.datum.range))&&(h=a.translationY,f=0),{y:0,translationY:h,opacity:f,phase:ko[c]}},toFn(o,a,c){const h=a.translationY;let f=1;return c==="removed"&&(f=0),{y:0,translationY:h,opacity:f,finish:{y:h,translationY:0}}},applyFn(o,a){o.setProperties(a),o.visible=!t(o.y)}},line:{fromFn(o,a){return{...o.previousDatum??a,phase:ko.updated}},toFn(o,a){return{...a}}},label:{fromFn(o,a,c){const h=o.previousDatum??a,f=h.x,p=h.y,m=h.rotationCenterX;let b=Math.round(o.translationY),C=h.rotation,w=o.opacity;return c==="removed"||t(h.y,h.range)?C=a.rotation:(c==="added"||t(o.datum.y,o.datum.range))&&(b=Math.round(h.translationY),w=0,C=a.rotation),{x:f,y:p,rotationCenterX:m,translationY:b,rotation:C,opacity:w,phase:ko[c]}},toFn(o,a,c){var w;const h=a.x,f=a.y,p=a.rotationCenterX,m=Math.round(a.translationY);let b=0,C=1;return c==="added"?b=a.rotation:c==="removed"?(C=0,b=a.rotation):b=see(((w=o.previousDatum)==null?void 0:w.rotation)??a.rotation,a.rotation),{x:h,y:f,rotationCenterX:p,translationY:m,rotation:b,opacity:C,finish:{rotation:a.rotation}}}},group:{fromFn(o,a){const{rotation:c,translationX:h,translationY:f}=o;return{rotation:c,translationX:h,translationY:f,phase:ko.updated}},toFn(o,a){const{rotation:c,translationX:h,translationY:f}=a;return{rotation:c,translationX:h,translationY:f}}}}}function aB(){return(e,t)=>({rotation:t.rotation,rotationCenterX:t.rotationCenterX,rotationCenterY:t.rotationCenterY,translationX:t.translationX,translationY:t.translationY})}function lT(e){const{visible:t,min:i,max:n}=e;return(s,r)=>{const o=r.translationY,a=t&&o>=i&&o<=n;return{y:o,translationY:0,opacity:1,visible:a}}}function cT(){return(e,t)=>({x:t.x,y:t.y,translationY:t.translationY,rotation:t.rotation,rotationCenterX:t.rotationCenterX})}function lB(){return(e,t)=>({...t})}var dC=class extends Vh(Nr){},cB=(e=>(e[e.TickLines=0]="TickLines",e[e.AxisLine=1]="AxisLine",e[e.TickLabels=2]="TickLabels",e))(cB||{}),Ol=class uB{constructor(t,i){this.moduleCtx=t,this.scale=i,this.id=Er(this),this.nice=!0,this.reverse=!1,this.keys=[],this.interval=new Yh,this.dataDomain={domain:[],clipped:!1},this.layoutConstraints={stacked:!0,align:"start",width:100,unit:"percent"},this.boundSeries=[],this.includeInvisibleDomains=!1,this.interactionEnabled=!0,this.axisGroup=new hp({name:`${this.id}-axis`}),this.tickLineGroup=this.axisGroup.appendChild(new at({name:`${this.id}-Axis-tick-lines`,zIndex:0})),this.tickLabelGroup=this.axisGroup.appendChild(new at({name:`${this.id}-Axis-tick-labels`,zIndex:2})),this.labelGroup=new at({name:`${this.id}-Labels`,zIndex:9}),this.gridGroup=new hp({name:`${this.id}-Axis-grid`,zIndex:1}),this.gridLineGroup=this.gridGroup.appendChild(new at({name:`${this.id}-gridLines`})),this.crossLineRangeGroup=new hp({name:`${this.id}-CrossLines-Range`,zIndex:4}),this.crossLineLineGroup=new hp({name:`${this.id}-CrossLines-Line`,zIndex:8}),this.crossLineLabelGroup=new hp({name:`${this.id}-CrossLines-Label`,zIndex:13}),this.tickLineGroupSelection=gn.select(this.tickLineGroup,dC,!1),this.tickLabelGroupSelection=gn.select(this.tickLabelGroup,yf,!1),this.gridLineGroupSelection=gn.select(this.gridLineGroup,dC,!1),this._crossLines=[],this.line=new fx,this.tick=new Pf,this.gridLine=new dx,this.label=this.createLabel(),this.defaultTickMinSpacing=uB.defaultTickMinSpacing,this.translation={x:0,y:0},this.rotation=0,this.layout={label:{fractionDigits:0,spacing:this.label.spacing,format:this.label.format}},this.axisContext=void 0,this.labelFormatter=void 0,this.datumFormatter=void 0,this.scaleFormatterParams=void 0,this.destroyFns=[],this.range=[0,1],this.visibleRange=[0,1],this.title=new Wo,this.gridLength=0,this.gridPadding=0,this.seriesAreaPadding=0,this.animatable=!0,this._scaleNiceDomainInputDomain=void 0,this._scaleNiceDomainRangeExtent=NaN,this.moduleMap=new oT,this.range=this.scale.range.slice(),this.crossLines.forEach(n=>this.initCrossLine(n))}get type(){return this.constructor.type??""}get labelNodes(){return this.tickLabelGroupSelection.nodes()}set crossLines(t){const{CrossLineConstructor:i}=this.constructor;this._crossLines.forEach(n=>this.detachCrossLine(n)),this._crossLines=t.map(n=>{const s=new i;return s.set(n),s}),this._crossLines.forEach(n=>{this.attachCrossLine(n),this.initCrossLine(n)})}get crossLines(){return this._crossLines}resetAnimation(t){}attachCrossLine(t){this.crossLineRangeGroup.appendChild(t.rangeGroup),this.crossLineLineGroup.appendChild(t.lineGroup),this.crossLineLabelGroup.appendChild(t.labelGroup)}detachCrossLine(t){this.crossLineRangeGroup.removeChild(t.rangeGroup),this.crossLineLineGroup.removeChild(t.lineGroup),this.crossLineLabelGroup.removeChild(t.labelGroup)}destroy(){this.moduleMap.destroy(),this.destroyFns.forEach(t=>t())}updateScale(){const{range:t,visibleRange:i,scale:n}=this,s=(t[1]-t[0])/(i[1]-i[0]),r=s*i[0],o=t[0]-r;n.range=[o,o+s],this.crossLines.forEach(a=>{a.clippedRange=[t[0],t[1]]})}setCrossLinesVisible(t){this.crossLineRangeGroup.visible=t,this.crossLineLineGroup.visible=t,this.crossLineLabelGroup.visible=t}attachAxis(t){t.gridNode.appendChild(this.gridGroup),t.axisNode.appendChild(this.axisGroup),t.labelNode.appendChild(this.labelGroup),t.crossLineRangeNode.appendChild(this.crossLineRangeGroup),t.crossLineLineNode.appendChild(this.crossLineLineGroup),t.crossLineLabelNode.appendChild(this.crossLineLabelGroup)}detachAxis(t){t.gridNode.removeChild(this.gridGroup),t.axisNode.removeChild(this.axisGroup),t.labelNode.removeChild(this.labelGroup),t.crossLineRangeNode.removeChild(this.crossLineRangeGroup),t.crossLineLineNode.removeChild(this.crossLineLineGroup),t.crossLineLabelNode.removeChild(this.crossLineLabelGroup)}attachLabel(t){this.labelGroup.append(t)}inRange(t,i=0){const[n,s]=pn(this.range);return t>=n-i&&t<=s+i}getRangeOverflow(t){const{range:i,visibleRange:n}=this,s=(i[1]-i[0])/(n[1]-n[0]),[r,o]=pn([i[0]-s*n[0],i[0]-s*n[0]+s]);return t<r?t-r:t>o?t-o:0}defaultDatumFormatter(t,i){return Al(t,i+1)}defaultLabelFormatter(t,i){return Al(t,i)}onGridLengthChange(t,i){i^t&&this.onGridVisibilityChange(),this.crossLines.forEach(n=>this.initCrossLine(n))}onGridVisibilityChange(){this.gridLineGroupSelection.clear()}createLabel(){return new Nn}update(){this.updatePosition(),this.updateSelections(),this.tickLineGroup.visible=this.tick.enabled,this.gridLineGroup.visible=this.gridLine.enabled,this.tickLabelGroup.visible=this.label.enabled,this.updateLabels(),this.updateGridLines(),this.updateTickLines(),this.updateCrossLines()}getAxisLineCoordinates(){const[t,i]=pn(this.range);return{x:0,y1:t,y2:i}}getLabelStyles(t,i){const{label:n}=this,s={color:n.color,spacing:n.spacing,fontFamily:n.fontFamily,fontSize:n.fontSize,fontStyle:n.fontStyle,fontWeight:n.fontWeight};let r;n.itemStyler&&(r=this.moduleCtx.callbackCache.call(this,n.itemStyler,{...t,...s}));const{color:o,fontFamily:a,fontSize:c,fontStyle:h,fontWeight:f,spacing:p}=Pt(r,i,s);return{fill:o,fontFamily:a,fontSize:c,fontStyle:h,fontWeight:f,spacing:p}}getTickSize(){return this.tick.enabled?this.tick.size:0}processData(){const{includeInvisibleDomains:t,boundSeries:i,direction:n}=this,r=(t?i:i.filter(o=>o.isEnabled())).map(o=>o.getDomain(n));this.setDomains(...r)}setDomains(...t){let i,n;t.length>0?{domain:i,animatable:n}=this.scale.normalizeDomains(...t):(i=[],n=!0),this.dataDomain=this.normaliseDataDomain(i),this.reverse&&this.dataDomain.domain.reverse(),this.animatable=n}calculateLayout(t){const{scale:i,label:n,visibleRange:s,nice:r}=this;this.updateScale();const o=Cf(this.range),a=this.dataDomain.domain;let c;s[0]===0&&s[1]===1?c=void 0:r?this._scaleNiceDomainInputDomain===a&&this._scaleNiceDomainRangeExtent===o?c=this.scale.domain:c=this.calculateTickLayout(a,0,[0,1]).niceDomain:c=a;let h;r?c==null?h=0:h=1:h=2;const{niceDomain:f,primaryTickCount:p,ticks:m,tickDomain:b,fractionDigits:C,bbox:w}=this.calculateTickLayout(c??a,h,s,t);this.scale.domain=f,this._scaleNiceDomainInputDomain=r?a:void 0,this._scaleNiceDomainRangeExtent=r?o:NaN;const D=n.format;this.labelFormatter=i.tickFormatter({domain:b,specifier:D,ticks:m,fractionDigits:C})??(N=>this.defaultLabelFormatter(N,C)),this.datumFormatter=i.datumFormatter({domain:b,specifier:D,ticks:m,fractionDigits:C})??(N=>this.defaultDatumFormatter(N,C)),this.scaleFormatterParams={domain:b,ticks:m,fractionDigits:C},this.layout.label={fractionDigits:C,spacing:this.label.spacing,format:this.label.format};const M=n.getSideFlag(),A=this.isAnySeriesActive(),{rotation:k,parallelFlipRotation:_,regularFlipRotation:F}=this.calculateRotations();return this.crossLines.forEach(N=>{var V;var z;N.sideFlag=-M,N.direction=k===-Math.PI/2?"x":"y",N instanceof Vs&&((z=N.label).parallel??(z.parallel=n.parallel)),N.parallelFlipRotation=_,N.regularFlipRotation=F,(V=N.calculateLayout)==null||V.call(N,A,this.reverse)}),{primaryTickCount:p,bbox:w}}getTransformBox(t){const i=new zo,{rotation:n,translationX:s,translationY:r}=this.getAxisTransform();return zo.updateTransformMatrix(i,1,1,n,s,r),i.transformBBox(t)}calculateRotations(){const t=Oi(this.rotation),i=Mi(t),n=Mi(t-Math.PI/2);return{rotation:t,parallelFlipRotation:i,regularFlipRotation:n}}updateCrossLines(){const t=this.isAnySeriesActive();this.crossLines.forEach(i=>{i.update(t)})}updateTickLines(){const{tick:t,label:i}=this,n=i.getSideFlag();this.tickLineGroupSelection.each((s,r)=>{s.strokeWidth=r.tickWidth??t.width,s.stroke=r.tickStroke??t.stroke,s.x1=n*(r.tickSize??this.getTickSize()),s.x2=0})}getAxisTransform(){return{rotation:Oi(this.rotation),translationX:Math.floor(this.translation.x),translationY:Math.floor(this.translation.y)}}updatePosition(){const{crossLineRangeGroup:t,crossLineLineGroup:i,crossLineLabelGroup:n,gridGroup:s,translation:r}=this,{rotation:o}=this.calculateRotations(),a=Math.floor(r.x),c=Math.floor(r.y);t.setProperties({rotation:o,translationX:a,translationY:c}),i.setProperties({rotation:o,translationX:a,translationY:c}),n.setProperties({rotation:o,translationX:a,translationY:c}),s.setProperties({rotation:o,translationX:a,translationY:c})}updateGridLines(){const t=this.label.getSideFlag(),{gridLine:{style:i,width:n},gridPadding:s,gridLength:r}=this;r===0||i.length===0||this.gridLineGroupSelection.each((o,a,c)=>{const{stroke:h,lineDash:f}=i[c%i.length];o.setProperties({x1:s,x2:-t*r+s,stroke:h,strokeWidth:n,lineDash:f})})}formatTick(t,i,n,s,r){const{labelFormatter:o,label:{formatter:a},moduleCtx:{callbackCache:c}}=this;let h;if(a){const f=this.getFormatterBoundSeries();h=c.call(this,a,{value:t,index:i,domain:n,fractionDigits:s,boundSeries:f})}else r?h=r(t):o&&(h=o(t));return String(h??t)}formatDatum(t){const{label:{formatter:i},moduleCtx:{callbackCache:n},datumFormatter:s=this.labelFormatter}=this;let r;if(i){const{domain:o}=this.scale,a=this.getFormatterBoundSeries();r=n.call(this,i,{value:t,index:NaN,domain:o,boundSeries:a})}else s?r=n.call(this,s,t):bt(t)&&(r=t.filter(Boolean).join(" - "));return String(r??t)}getScaleValueFormatter(t){const{scaleFormatterParams:i}=this;let n;try{t!=null&&i!=null&&(n=this.scale.tickFormatter({...i,specifier:t}))}catch{Ee.warnOnce(`the format string ${t} is invalid, ignoring.`)}return n??(n=s=>this.formatDatum(s)),n}getBBox(){return this.axisGroup.getBBox()}initCrossLine(t){t.scale=this.scale,t.gridLength=this.gridLength}isAnySeriesActive(){return this.boundSeries.some(t=>this.includeInvisibleDomains||t.isEnabled())}clipTickLines(t,i,n,s){this.tickLineGroup.setClipRect(new Ge(t,i,n,s))}clipGrid(t,i,n,s){this.gridGroup.setClipRect(new Ge(t,i,n,s))}getFormatterBoundSeries(){const{direction:t}=this,i=[];for(const n of this.boundSeries){const s=n.getKeys(t),r=n.getNames(t);for(let o=0;o<s.length;o++)i.push({key:s[o],name:r[o]})}return i}getTitleFormatterParams(t){var s;const{direction:i}=this,n=this.getFormatterBoundSeries();return{domain:t,direction:i,boundSeries:n,defaultValue:(s=this.title)==null?void 0:s.text}}normaliseDataDomain(t){return{domain:[...t],clipped:!1}}getLayoutState(){return{id:this.id,rect:this.getBBox(),gridPadding:this.gridPadding,seriesAreaPadding:this.seriesAreaPadding,tickSize:this.getTickSize(),direction:this.direction,domain:this.dataDomain.domain,scale:this.scale,...this.layout}}getModuleMap(){return this.moduleMap}createModuleContext(){return this.axisContext??(this.axisContext=this.createAxisContext()),{...this.moduleCtx,parent:this.axisContext}}createAxisContext(){const{scale:t}=this;return{axisId:this.id,scale:this.scale,direction:this.direction,continuous:ai.is(t)||Sl.is(t),getCanvasBounds:()=>en.toCanvas(this.axisGroup),seriesKeyProperties:()=>this.boundSeries.reduce((i,n)=>(n.getKeyProperties(this.direction).forEach(r=>i.add(r)),i),new Set),seriesIds:()=>this.boundSeries.map(i=>i.id),scaleValueFormatter:i=>this.getScaleValueFormatter(i),scaleInvert:i=>t.invert(i,!0),scaleInvertNearest:i=>t.invert(i,!0),attachLabel:i=>this.attachLabel(i),inRange:(i,n)=>this.inRange(i,n),getRangeOverflow:i=>this.getRangeOverflow(i)}}isReversed(){return this.reverse}};Ol.defaultTickMinSpacing=50;Ol.CrossLineConstructor=Vs;R([P()],Ol.prototype,"nice",2);R([P()],Ol.prototype,"reverse",2);R([P()],Ol.prototype,"keys",2);R([P()],Ol.prototype,"interval",2);R([P()],Ol.prototype,"title",2);R([mu((e,t,i)=>e.onGridLengthChange(t,i))],Ol.prototype,"gridLength",2);var uT=Ol;function ree(e,t,i){let[n,s]=pn(e);n=oee(Math.floor(n),s,t);const r=lee(n,s,t),o=t-1;s=n+o*r;const a=i?[s,n]:[n,s],c=aee(n,r,t);return{domain:a,ticks:c}}function oee(e,t,i){const n=Math.abs(t-e)/(i-1),s=Math.floor(Math.log10(n)),r=Math.pow(10,s);return Math.floor(e/r)*r}function aee(e,t,i){const n=Math.floor(Math.log10(t)),s=t>0&&t<1?Math.abs(n):0,r=Math.pow(10,s),o=[];for(let a=0;a<i;a++){const c=e+t*a;o[a]=Math.round(c*r)/r}return o}function lee(e,t,i){const n=i-1,s=(t-e)/n;return cee(s)}function cee(e){const t=Math.floor(Math.log10(e)),i=Math.pow(10,t),n=e/i*10;return n>0&&n<=1?i/10:n>1&&n<=2?2*i/10:n>1&&n<=5?5*i/10:n>5&&n<=10?10*i/10:n>10&&n<=20?20*i/10:n>20&&n<=40?40*i/10:n>40&&n<=50?50*i/10:n>50&&n<=100?100*i/10:n}function hT(){const e=new Map;return t=>{const i=e.get(t);return i?(e.set(t,i+1),`${t}_${i}`):(e.set(t,1),t)}}var hB=class{constructor(e){this.axis=e}estimateTickCount(e,t,i){return B2(Cf(this.axis.range),Cf(e),t,i,ai.defaultTickCount,this.axis.defaultTickMinSpacing)}filterTicks(e,t){const{minSpacing:i,maxSpacing:n}=this.axis.interval,r=i!=null||n!=null?Math.ceil(e.length/t):2,o=e.length%r?-1:0;return e.filter((a,c)=>(c+o)%r===0)}generateTicks({domain:e,primaryTickCount:t,visibleRange:i,niceMode:n,parallelFlipRotation:s,regularFlipRotation:r,labelX:o,sideFlag:a}){const{scale:c,label:h,interval:{minSpacing:f,maxSpacing:p}}=this.axis,{parallel:m,rotation:b,fontFamily:C,fontSize:w,fontStyle:D,fontWeight:M}=h,A=t!==void 0,{defaultRotation:k,configuredRotation:_,parallelFlipFlag:F,regularFlipFlag:N}=cC({rotation:b,parallel:m,regularFlipRotation:r,parallelFlipRotation:s}),z=_+k,V=new zo,{maxTickCount:j}=this.estimateTickCount(i,f,p),$=!(ai.is(c)||Sl.is(c))||isNaN(j)?10:j;let Q=Fk(m,_,0,a,N);const J=KJ(m,_,a,F),be=_i.toFontString({fontFamily:C,fontSize:w,fontStyle:D,fontWeight:M}),me=kl.getMeasurer({font:be}),Y={fontFamily:C,fontSize:w,fontStyle:D,fontWeight:M,textBaseline:J,textAlign:Q},re=h.enabled&&h.avoidCollisions,Z=({ticks:ye},he)=>{if(!re)return!1;const Ie=_!==0||he!==0,xe=z+he,Re=YJ(h.minSpacing,Ie);zo.updateTransformMatrix(V,1,1,xe,0,0);const Ne=$J(ye,o,V,me);return dJ(Ne,Re)};let Ce={tickDomain:[],ticks:[],rawTicks:[],fractionDigits:0,niceDomain:void 0},H=0,K=0,ie=!0,te=!1;for(;!te&&ie&&H<=$;){K=0;for(const ye of this.getTickStrategies({domain:e,niceMode:n,secondaryAxis:A,index:H}))({tickData:Ce,index:H,autoRotation:K,terminate:te}=ye({index:H,tickData:Ce,textProps:Y,terminate:te,primaryTickCount:t,visibleRange:i,get labelOverlap(){return Z(Ce,K)}}));ie=Z(Ce,K)}Q=Fk(m,_,K,a,N);const se=k+_+K;return!A&&Ce.rawTicks.length>0&&(t=Ce.rawTicks.length),{tickData:Ce,primaryTickCount:t,combinedRotation:se,textBaseline:J,textAlign:Q}}getTickStrategies({domain:e,niceMode:t,index:i,secondaryAxis:n}){const{scale:s,label:r,interval:o}=this.axis,{minSpacing:a}=o,c=ai.is(s)||Sl.is(s),h=r.enabled&&r.avoidCollisions,f=!c&&i!==0&&h,p=r.autoRotate===!0&&r.rotation===void 0,m=[];let b;o.values?b=3:n?b=1:f?b=2:b=0;const C=({index:w,tickData:D,primaryTickCount:M,visibleRange:A,terminate:k})=>this.createTickData(e,t,A,M,b,w,D,k);if(m.push(C),!c&&a!=null){const w=({index:D,tickData:M,primaryTickCount:A,visibleRange:k,terminate:_})=>this.createTickData(e,t,k,A,2,D,M,_);m.push(w)}if(h&&p){const w=({index:D,tickData:M,labelOverlap:A,terminate:k})=>({index:D,tickData:M,autoRotation:A?Mi(Oi(r.autoRotateAngle??0)):0,terminate:k});m.push(w)}return m}createTickData(e,t,i,n,s,r,o,a){const{scale:c,interval:h}=this.axis,{step:f,values:p,minSpacing:m,maxSpacing:b}=h,{maxTickCount:C,minTickCount:w,tickCount:D}=this.estimateTickCount(i,m,b),M=ai.is(c)||Sl.is(c),A=!M||isNaN(C)?10:C,k=F=>M?Math.max(D-F,w):C,_=f==null&&p==null&&k(r)>w&&(M||s===2);for(;r<=A;){const F=o.rawTicks;if(o=this.getTicks({domain:e,niceMode:t,visibleRange:i,tickGenerationType:s,previousTicks:F,minTickCount:w,maxTickCount:C,primaryTickCount:n,tickCount:k(r)}),r++,!_||!va(o.rawTicks,F))break}return a||(a=f!=null||p!=null),{tickData:o,index:r,autoRotation:0,terminate:a}}getTicks({domain:e,niceMode:t,visibleRange:i,tickGenerationType:n,previousTicks:s,tickCount:r,minTickCount:o,maxTickCount:a,primaryTickCount:c}){const{axis:h}=this,{label:f,range:p,scale:m,interval:b}=h,C=hT(),w={nice:t===0,interval:b.step,tickCount:r,minTickCount:o,maxTickCount:a},D={...w,nice:t===0||t===1};let M=t===0?m.niceDomain(w,e):e,A=M,k;switch(n){case 3:if(A=b.values,k=b.values,ai.is(m)){const[U,$]=pn(M.map(Number));k=k.filter(Q=>Number(Q)>=U&&Number(Q)<=$).sort((Q,J)=>Number(Q)-Number(J))}break;case 1:if(ai.is(m)){const U=ree(e.map(Number),c??0,h.reverse);k=U.ticks,M=U.domain.map($=>m.toDomain($))}else k=m.ticks(D,M,i)??[];break;case 2:k=this.filterTicks(s,r);break;default:k=m.ticks(D,M,i)??[]}const _=k.reduce((U,$)=>Math.max(U,typeof $=="number"?vL($):0),0),F={domain:A,ticks:k,fractionDigits:_,specifier:f.format},N=m.tickFormatter(F),z=m.domain;m.domain=M;const V=(m.bandwidth??0)/2,j=[];for(let U=0;U<k.length;U++){const $=k[U],Q=m.convert($)+V;if(p.length>0&&!h.inRange(Q,.001))continue;const J=f.enabled?h.formatTick($,U,M,_,N):"";j.push({tick:$,tickId:C(J),tickLabel:J,translationY:Math.floor(Q)})}return m.domain=z,{tickDomain:A,rawTicks:k,fractionDigits:_,ticks:j,niceDomain:M}}},dT=class extends Nn{constructor(){super(...arguments),this.autoRotateAngle=335}};R([P()],dT.prototype,"autoRotate",2);R([P()],dT.prototype,"autoRotateAngle",2);var fT=class dB extends uT{constructor(t,i){super(t,i),this.lineNode=this.axisGroup.appendChild(new dC({name:`${this.id}-Axis-line`,zIndex:1})),this.tempText=new yf({debugDirty:!1}),this.tempCaption=new Pi,this.tickGenerator=new hB(this),this.generatedTicks=void 0,this.animationManager=t.animationManager,this.animationState=new Om("empty",{empty:{update:{target:"ready",action:()=>this.resetSelectionNodes()},reset:"empty"},ready:{update:s=>this.animateReadyUpdate(s),resize:()=>this.resetSelectionNodes(),reset:"empty"}}),this.axisGroup.appendChild(this.title.caption.node);let n;this.destroyFns.push(t.layoutManager.addListener("layout:complete",s=>{const r=[s.chart.width,s.chart.height];n!=null&&!va(r,n)&&this.animationState.transition("resize"),n=r}),this.title.caption.registerInteraction(this.moduleCtx,"afterend"))}static is(t){return t instanceof dB}resetAnimation(t){t==="initial"&&this.animationState.transition("reset")}get direction(){return this.position==="top"||this.position==="bottom"?"x":"y"}createAxisContext(){return{...super.createAxisContext(),position:this.position}}createLabel(){return new dT}updateDirection(){switch(this.position){case"top":this.rotation=-90,this.label.mirrored=!0,this.label.parallel=!0;break;case"right":this.rotation=0,this.label.mirrored=!0,this.label.parallel=!1;break;case"bottom":this.rotation=-90,this.label.mirrored=!1,this.label.parallel=!0;break;case"left":this.rotation=0,this.label.mirrored=!1,this.label.parallel=!1;break}this.axisContext&&(this.axisContext.position=this.position,this.axisContext.direction=this.direction)}calculateLayout(t){return this.updateDirection(),super.calculateLayout(t)}calculateTickLayout(t,i,n,s){const r=this.label.getSideFlag(),{parallelFlipRotation:o,regularFlipRotation:a}=this.calculateRotations(),c=r*(this.getTickSize()+this.label.spacing+this.seriesAreaPadding);if(i===2&&this.label.enabled===!1&&this.tick.enabled===!1&&this.gridLine.enabled===!1)return this.generatedTicks={ticks:[],labels:[]},{ticks:[],tickDomain:t,niceDomain:t,primaryTickCount:s,fractionDigits:0,bbox:this.tickBBox(t,[],[])};const h=this.tickGenerator.generateTicks({domain:t,niceMode:i,visibleRange:n,primaryTickCount:s,parallelFlipRotation:o,regularFlipRotation:a,labelX:c,sideFlag:r}),{tickData:f,primaryTickCount:p=s}=h,{ticks:m,tickDomain:b,rawTicks:C,fractionDigits:w,niceDomain:D=t}=f,M=m.map(k=>this.getTickLabelProps(k,h)),A=this.tickBBox(b,m,M);return this.generatedTicks={ticks:m,labels:M},{ticks:C,tickDomain:b,niceDomain:D,primaryTickCount:p,fractionDigits:w,bbox:A}}update(){var r;this.updateDirection();const t=Array.from(this.tickLabelGroupSelection.nodes(),o=>o.datum.tickId);if(super.update(),this.animatable||this.moduleCtx.animationManager.skipCurrentBatch(),this.generatedTicks){const{ticks:o}=this.generatedTicks;if(this.animationManager.isSkipped())this.resetSelectionNodes();else{const a=o.map(h=>h.tickId),c=z8(t,a);this.animationState.transition("update",c)}}const{enabled:i,stroke:n,width:s}=this.line;this.lineNode.setProperties({stroke:n,strokeWidth:i?s:0}),this.updateTitle(this.scale.domain,!((r=this.generatedTicks)!=null&&r.ticks.length))}updatePosition(){super.updatePosition(),this.axisGroup.datum=this.getAxisTransform()}tickBBox(t,i,n){var m;const s=this.label.getSideFlag(),r=[],{x:o,y1:a,y2:c}=this.getAxisLineCoordinates(),h=new Ge(o+Math.min(s*this.seriesAreaPadding,0),a,this.seriesAreaPadding,c-a);if(r.push(h),this.tick.enabled)for(const b of i){const{x1:C,x2:w,y:D}=this.getTickLineCoordinates(b),M=new Ge(C,D,w-C,0);r.push(M)}const{tempText:f}=this;if(this.label.enabled)for(const b of n){if(!b.visible)continue;f.setProperties({...b,translationY:Math.round(b.translationY)});const C=f.getBBox();C&&r.push(C)}if((m=this.title)!=null&&m.enabled){const b=Ge.merge(r).width;this.setTitleProps(this.tempCaption,{domain:t,spacing:b});const C=this.tempCaption.node.getBBox();C&&r.push(C)}const p=Ge.merge(r);return this.getTransformBox(p)}setTitleProps(t,i){const{title:n}=this;if(!n.enabled){t.enabled=!1,t.node.visible=!1;return}t.enabled=!0,t.color=n.color,t.fontFamily=n.fontFamily,t.fontSize=n.fontSize,t.fontStyle=n.fontStyle,t.fontWeight=n.fontWeight,t.wrapping=n.wrapping;const s=t.node,r=(n.spacing??0)+i.spacing,o=this.label.getSideFlag(),a=Mi(this.rotation),c=o===-1&&a>Math.PI&&a<Math.PI*2?-1:1,h=c*o*Math.PI/2,f=c===1?"bottom":"top",{range:p}=this,m=Math.floor(c*o*(p[0]+p[1])/2),b=Math.floor(o===-1?c*-r:-r),{callbackCache:C}=this.moduleCtx,{formatter:w=M=>M.defaultValue}=n,D=C.call(this,w,this.getTitleFormatterParams(i.domain));t.text=D,s.setProperties({visible:!0,text:D,textBaseline:f,x:m,y:b,rotation:h})}getTickLabelProps(t,i){const{combinedRotation:n,textBaseline:s,textAlign:r}=i,{range:o}=this.scale,a=t.tickLabel,h=this.label.getSideFlag()*(this.getTickSize()+this.label.spacing+this.seriesAreaPadding),f=a!==""&&a!=null;return{...this.getLabelStyles({value:t.tickLabel}),tickId:t.tickId,rotation:n,rotationCenterX:h,translationY:t.translationY,text:a,textAlign:r,textBaseline:s,visible:f,x:h,y:0,range:o}}getTickLineCoordinates(t){const n=this.label.getSideFlag()*this.getTickSize(),s=Math.min(0,n),r=s+Math.abs(n),o=t.translationY;return{x1:s,x2:r,y:o}}updateSelections(){if(!this.generatedTicks)return;const t=this.getAxisLineCoordinates(),{ticks:i,labels:n}=this.generatedTicks,s=r=>r.tickId;this.lineNode.datum=t,this.gridLineGroupSelection.update(this.gridLength?i:[],void 0,s),this.tickLineGroupSelection.update(i,void 0,s),this.tickLabelGroupSelection.update(n,void 0,s)}updateTitle(t,i,n){const{title:s,tickLineGroup:r,tickLabelGroup:o,lineNode:a}=this;s.enabled&&!i&&n==null&&(n=at.computeChildrenBBox([r,o,a]).width+(o.visible?0:this.seriesAreaPadding)),n??(n=0),this.setTitleProps(s.caption,{domain:t,spacing:n})}updateLabels(){this.label.enabled&&this.tickLabelGroupSelection.each((t,i)=>{t.fill=i.fill,t.fontFamily=i.fontFamily,t.fontSize=i.fontSize,t.fontStyle=i.fontStyle,t.fontWeight=i.fontWeight,t.text=i.text,t.textBaseline=i.textBaseline,t.textAlign=i.textAlign??"center"})}animateReadyUpdate(t){const{animationManager:i}=this.moduleCtx,n=hC(this),s=oB(n);Qi(this.id,"axis-group",i,[this.axisGroup],s.group),Qi(this.id,"line",i,[this.lineNode],s.line),Qi(this.id,"line-paths",i,[this.gridLineGroupSelection,this.tickLineGroupSelection],s.tick,(r,o)=>o.tickId,t),Qi(this.id,"tick-labels",i,[this.tickLabelGroupSelection],s.label,(r,o)=>o.tickId,t)}resetSelectionNodes(){const t=hC(this);Hn([this.axisGroup],aB()),Hn([this.gridLineGroupSelection,this.tickLineGroupSelection],lT(t)),Hn([this.tickLabelGroupSelection],cT()),Hn([this.lineNode],lB())}};R([P()],fT.prototype,"thickness",2);R([P()],fT.prototype,"position",2);var Pm=fT,fB=["top","right","bottom","left"];function uee(e){return typeof e=="string"&&fB.includes(e)}function hee(e){const t=[],i=[],n=[...fB];for(const s of e)s instanceof Pm&&(uee(s.position)?i.push(s.position):t.push(s));for(const s of t){let r;do r=n.pop();while(r&&i.includes(r));if(r==null)break;s.position=r}}var dee=["direction","xKey","yKey","sizeKey","angleKey","radiusKey","normalizedTo"];function fee(e,t,i){var h,f;const n=(p,m,b)=>{const C=[p];for(const w of dee)w in m&&m[w]!=null&&C.push(`${w}=${m[w]}`);return b!=null&&b.seriesGrouping&&C.push(`seriesGrouping.groupId=${b==null?void 0:b.seriesGrouping.groupId}`),C.join(";")},s=new Map;let r=0;for(const p of e){const m=n(p.type,p.properties,i==null?void 0:i[r]);s.has(m)||s.set(m,[]),(h=s.get(m))==null||h.push([p,r++])}const o=new Map;r=0;for(const p of t){const m=n(p.type,p,p);o.has(m)||o.set(m,[]),(f=o.get(m))==null||f.push([p,r++])}if(![...s.keys()].some(p=>o.has(p)))return{status:"no-overlap",oldKeys:s.keys(),newKeys:o.keys()};const c=[];for(const[p,m]of o.entries())for(const[b,C]of m){const w=s.get(p);if(w==null||w.length<1){c.push({opts:b,targetIdx:C,idx:C,status:"add"}),s.delete(p);continue}const[D,M]=w.shift(),A=(i==null?void 0:i[M])??{},k=Ta(A,b??{}),{groupIndex:_,stackIndex:F}=(k==null?void 0:k.seriesGrouping)??{};_!=null||F!=null?c.push({opts:b,series:D,diff:k,targetIdx:C,idx:M,status:"series-grouping"}):k?c.push({opts:b,series:D,diff:k,targetIdx:C,idx:M,status:"update"}):c.push({opts:b,series:D,targetIdx:C,idx:M,status:"no-op"}),w.length===0&&s.delete(p)}for(const p of s.values())for(const[m,b]of p)c.push({series:m,idx:b,targetIdx:-1,status:"remove"});return{status:"overlap",changes:c}}function Pl(e){var i;const{series:t}=e;return((i=t==null?void 0:t[0])==null?void 0:i.type)??"line"}function gT(e){const t=Pl(e);return Gi.isCartesian(t)||AJ(t)}function gB(e){const t=Pl(e);return Gi.isPolar(t)||EJ(t)}function pB(e){const t=Pl(e);return Gi.isHierarchy(t)||RJ(t)}function mB(e){const t=Pl(e);return Gi.isTopology(t)||IJ(t)}function yB(e){const t=Pl(e);return Gi.isFlowProportion(t)||kJ(t)}function pT(e){const t=Pl(e);return Gi.isStandalone(t)||_J(t)}function mT(e){const t=Pl(e);return Gi.isGauge(t)||NJ(t)}function gee(e){const t=Pl(e);return gB(e)&&t!=="pie"&&t!=="donut"}var pee=class extends oT{applyOptions(e){for(const t of this.moduleMap.values())t.module.optionsKey in e&&La(t.moduleInstance)&&t.moduleInstance.set(e[t.module.optionsKey])}*legends(){for(const{module:e,moduleInstance:t}of this.moduleMap.values())e.type==="legend"&&(yield{legendType:e.identifier,legend:t})}},nD="ag-charts-overlay",Uk="ag-charts-dark-overlay",wh=class extends ht{constructor(e,t){super(),this.className=e,this.defaultMessageId=t,this.enabled=!0}getText(e){return e.t(this.text??this.defaultMessageId)}getElement(e,t,i){var n;if((n=this.content)==null||n.remove(),this.focusBox=i,this.renderer){const s=this.renderer();if(s instanceof HTMLElement)this.content=s;else{const r=Lt("div");r.innerHTML=s,this.content=r.firstElementChild}}else{const s=Lt("div",{display:"flex",alignItems:"center",justifyContent:"center",boxSizing:"border-box",height:"100%",margin:"8px",fontFamily:"var(--ag-charts-font-family)",fontSize:"var(--ag-charts-font-size)",fontWeight:"var(--ag-charts-font-weight)"});s.innerText=this.getText(t),this.content=s,e==null||e.animate({from:0,to:1,id:"overlay",phase:"add",groupId:"opacity",onUpdate(r){s.style.opacity=String(r)},onStop(){s.style.opacity="1"}})}return this.content}removeElement(e=()=>{var i;return(i=this.content)==null?void 0:i.remove()},t){if(this.content){if(t){const{content:i}=this;t.animate({from:1,to:0,phase:"remove",id:"overlay",groupId:"opacity",onUpdate(n){i.style.opacity=String(n)},onStop(){e==null||e()}})}else e==null||e();this.content=void 0,this.focusBox=void 0}}};R([P()],wh.prototype,"enabled",2);R([P()],wh.prototype,"text",2);R([P()],wh.prototype,"renderer",2);var Ff=class extends ht{constructor(){super(...arguments),this.darkTheme=!1,this.loading=new wh("ag-charts-loading-overlay","overlayLoadingData"),this.noData=new wh("ag-charts-no-data-overlay","overlayNoData"),this.noVisibleSeries=new wh("ag-charts-no-visible-series","overlayNoVisibleSeries"),this.unsupportedBrowser=new wh("ag-charts-unsupported-browser","overlayUnsupportedBrowser")}getFocusInfo(e){for(const t of[this.loading,this.noData,this.noVisibleSeries,this.unsupportedBrowser])if(t.focusBox!==void 0)return{text:t.getText(e),rect:t.focusBox}}destroy(){this.loading.removeElement(),this.noData.removeElement(),this.noVisibleSeries.removeElement(),this.unsupportedBrowser.removeElement()}};R([P()],Ff.prototype,"darkTheme",2);R([P()],Ff.prototype,"loading",2);R([P()],Ff.prototype,"noData",2);R([P()],Ff.prototype,"noVisibleSeries",2);R([P()],Ff.prototype,"unsupportedBrowser",2);function mee(e,t){const{animationDuration:i}=Jp.add,n=i*t,s=Lt("div",`${nD}--loading`,{display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",height:"100%",boxSizing:"border-box",font:"13px Verdana, sans-serif",userSelect:"none",animation:`ag-charts-loading ${n}ms linear 50ms both`}),r=Lt("span",{width:"45px",height:"40px",backgroundImage:["linear-gradient(#0000 calc(1 * 100% / 6), #ccc 0 calc(3 * 100% / 6), #0000 0), ","linear-gradient(#0000 calc(2 * 100% / 6), #ccc 0 calc(4 * 100% / 6), #0000 0), ","linear-gradient(#0000 calc(3 * 100% / 6), #ccc 0 calc(5 * 100% / 6), #0000 0)"].join(""),backgroundSize:"10px 400%",backgroundRepeat:"no-repeat",animation:"ag-charts-loading-matrix 1s infinite linear"}),o=Lt("p",{marginTop:"1em"});o.innerText=e;const a=Lt("div",`${nD}__loading-background`,{position:"absolute",inset:"0",opacity:"0.5",zIndex:"-1"}),c=Lt("style");return c.innerText=["@keyframes ag-charts-loading { from { opacity: 0 } to { opacity: 1 } }","@keyframes ag-charts-loading-matrix {","0% { background-position: 0% 0%, 50% 0%, 100% 0%; }","100% { background-position: 0% 100%, 50% 100%, 100% 100%; }","}"].join(" "),s.replaceChildren(c,r,o,a),s}var vB=(e=>(e[e.BACKGROUND=0]="BACKGROUND",e[e.ANY_CONTENT=1]="ANY_CONTENT",e))(vB||{}),bB=(e=>(e[e.FOREGROUND=0]="FOREGROUND",e[e.HIGHLIGHT=1]="HIGHLIGHT",e[e.LABEL=2]="LABEL",e))(bB||{});function Ih(e,t,i){if(Bo(e))return{type:"gradient",gradient:e.gradient??t.gradient,colorStops:e.colorStops??t.colorStops,bounds:e.bounds??t.bounds,rotation:e.rotation??t.rotation,reverse:e.reverse??t.reverse};if(Fh(e)&&i){const n=e.pattern??i.pattern;let s=e.strokeWidth;n==="backward-slanted-lines"||n==="forward-slanted-lines"||n==="horizontal-lines"||n==="vertical-lines"?s??(s=i.strokeWidth):s??(s=0);const r=e.width??e.height??i.width,o=e.height??e.width??i.height;return{type:"pattern",pattern:n,width:r,height:o,padding:e.padding??i.padding,fill:e.fill??i.fill,fillOpacity:e.fillOpacity??i.fillOpacity,backgroundFill:e.backgroundFill??i.backgroundFill,backgroundFillOpacity:e.backgroundFillOpacity??i.backgroundFillOpacity,stroke:e.stroke??i.stroke,strokeOpacity:e.strokeOpacity??i.strokeOpacity,strokeWidth:s,rotation:e.rotation??i.rotation}}return e}function Ca(e,t,i){return!Bo(e==null?void 0:e.fill)&&!Fh(e==null?void 0:e.fill)?e:{...e,fill:Ih(e.fill,t,i)}}function gx(e,t,i,n){i==null||!Bo(t)||t.bounds==null||t.bounds==="item"?e.fillBBox=void 0:e.fillBBox=i[t.bounds],e.fillParams=n}function Gh(e,t,i,n,s){const r=(i==null?void 0:i.fill)??t.fill;e.fill=r,gx(e,(i==null?void 0:i.fill)??t.fill,n,s),e.fillOpacity=(i==null?void 0:i.fillOpacity)??t.fillOpacity??1,e.stroke=(i==null?void 0:i.stroke)??t.stroke,e.strokeOpacity=(i==null?void 0:i.strokeOpacity)??t.strokeOpacity??1,e.strokeWidth=(i==null?void 0:i.strokeWidth)??t.strokeWidth??0,e.lineDash=(i==null?void 0:i.lineDash)??t.lineDash,e.lineDashOffset=(i==null?void 0:i.lineDashOffset)??t.lineDashOffset??0}var CB=(e=>(e[e.EXACT_SHAPE_MATCH=0]="EXACT_SHAPE_MATCH",e[e.NEAREST_NODE=1]="NEAREST_NODE",e[e.AXIS_ALIGNED=2]="AXIS_ALIGNED",e))(CB||{}),yee=.25,vee=.125,Fm=class{constructor(e,t,i,n){this.type=e,this.event=t,this.defaultPrevented=!1,this.datum=i.datum,this.seriesId=n.id}preventDefault(){this.defaultPrevented=!0}},yT=class{constructor(e,t,i){this.series=e,this.seriesGrouping=t,this.oldGrouping=i,this.type="groupingChanged"}},px=class extends VF{constructor(e){super(),this.destroyFns=[],this.usesPlacedLabels=!1,this.seriesGrouping=void 0,this.NodeEvent=Fm,this.internalId=Er(this),this.contentGroup=new zs({name:`${this.internalId}-content`,zIndex:1}),this.highlightGroup=new zs({name:`${this.internalId}-highlight`,zIndex:1}),this.annotationGroup=new zs({name:`${this.internalId}-annotation`}),this.labelGroup=new zs({name:`${this.internalId}-series-labels`}),this.axes={x:void 0,y:void 0},this.directions=["x","y"],this.nodeDataRefresh=!0,this.moduleMap=new oT,this.datumCallbackCache=new Map,this.connectsToYAxis=!1,this._declarationOrder=-1,this.seriesListeners=new _l,this._pickNodeCache=new PL;const{moduleCtx:t,pickModes:i,directionKeys:n={},directionNames:s={},canHaveAxes:r=!1,usesPlacedLabels:o=!1}=e;this.ctx=t,this.directionKeys=n,this.directionNames=s,this.canHaveAxes=r,this.usesPlacedLabels=o,this.highlightGroup=new zs({name:`${this.internalId}-highlight`}),this.highlightNode=this.highlightGroup.appendChild(new at({name:"highlightNode",zIndex:0})),this.highlightLabel=this.highlightGroup.appendChild(new at({name:"highlightLabel",zIndex:10})),this.pickModes=i}get pickModeAxis(){return"main"}get id(){var e;return((e=this.properties)==null?void 0:e.id)??this.internalId}get type(){return this.constructor.type??""}get focusable(){return!0}get data(){return this._data??this._chartData}set visible(e){this.properties.visible=e,this.ctx.legendManager.toggleItem(e,this.id),this.ctx.legendManager.update(),this.visibleMaybeChanged()}get visible(){return this.ctx.legendManager.getSeriesEnabled(this.id)??this.properties.visible}get hasData(){return this.data!=null&&this.data.length>0}get tooltipEnabled(){var e;return(e=this.properties.tooltip)==null?void 0:e.enabled}onDataChange(){this.nodeDataRefresh=!0,this._pickNodeCache.clear()}setOptionsData(e){this._data=e,this.onDataChange()}setChartData(e){this._chartData=e,this.data===e&&this.onDataChange()}onSeriesGroupingChange(e,t){const{internalId:i,type:n,visible:s}=this;e&&this.ctx.seriesStateManager.deregisterSeries(this),t&&this.ctx.seriesStateManager.registerSeries({internalId:i,type:n,visible:s,seriesGrouping:t}),this.fireEvent(new yT(this,t,e))}getBandScalePadding(){return{inner:1,outer:0}}attachSeries(e,t,i){e.appendChild(this.contentGroup),t.appendChild(this.highlightGroup),t.appendChild(this.labelGroup),i==null||i.appendChild(this.annotationGroup)}detachSeries(e,t,i){e==null||e.removeChild(this.contentGroup),t.removeChild(this.highlightGroup),t.removeChild(this.labelGroup),i==null||i.removeChild(this.annotationGroup)}setSeriesIndex(e){return e===this._declarationOrder?!1:(this._declarationOrder=e,this.contentGroup.zIndex=[1,e,0],this.highlightGroup.zIndex=[1,e,1],this.labelGroup.zIndex=[1,e,2],this.annotationGroup.zIndex=e,!0)}renderToOffscreenCanvas(){return!1}addEventListener(e,t){return super.addEventListener(e,t)}removeEventListener(e,t){return super.removeEventListener(e,t)}hasEventListener(e){return super.hasEventListener(e)}addListener(e,t){return this.seriesListeners.addListener(e,t)}dispatch(e,t){this.seriesListeners.dispatch(e,t)}addChartEventListeners(){}destroy(){this.destroyFns.forEach(e=>e()),this.destroyFns=[],this.resetDatumCallbackCache(),this.ctx.seriesStateManager.deregisterSeries(this)}getDirectionValues(e,t){const i=this.resolveKeyDirection(e),n=t==null?void 0:t[i],s=[];if(!n)return s;const r=(...o)=>{for(const a of o)Array.isArray(a)?r(...a):typeof a=="object"?r(...Object.values(a)):s.push(a)};return r(...n.map(o=>this.properties[o])),s}getKeys(e){return this.getDirectionValues(e,this.directionKeys)}getKeyProperties(e){return this.directionKeys[this.resolveKeyDirection(e)]??[]}getNames(e){return this.getDirectionValues(e,this.directionNames)}resolveKeyDirection(e){return e}getDomain(e){const t=this.getSeriesDomain(e),i=this.moduleMap.mapModules(n=>n.getDomain(e)).flat();return i.length!==0?t.concat(i):t}getRange(e,t){return this.getSeriesRange(e,t)}getVisibleItems(e,t,i){return 1/0}markNodeDataDirty(){this.nodeDataRefresh=!0,this._pickNodeCache.clear(),this.visibleMaybeChanged()}visibleMaybeChanged(){this.ctx.seriesStateManager.updateSeries(this)}getOpacity(){const{dimOpacity:t=1,enabled:i=!0}=this.properties.highlightStyle.series;if(!i||t===1)return 1;switch(this.isItemIdHighlighted()){case 0:case 1:return 1;case 2:default:return t}}getStrokeWidth(e){const{strokeWidth:t,enabled:i=!0}=this.properties.highlightStyle.series;if(!i||t===void 0)return e;switch(this.isItemIdHighlighted()){case 1:return t;case 0:case 2:return e}}isItemIdHighlighted(){var t,i;const e=(i=(t=this.ctx.highlightManager)==null?void 0:t.getActiveHighlight())==null?void 0:i.series;return e==null?0:e!==this?2:1}getModuleTooltipParams(){return this.moduleMap.mapModules(e=>e.getTooltipParams()).reduce((e,t)=>Object.assign(e,t),{})}pickNodes(e,t,i=!1){const{pickModes:n,pickModeAxis:s,visible:r,contentGroup:o}=this;if(!r||!o.visible||t==="highlight"&&!this.properties.highlight.enabled||t==="highlight-tooltip"&&!this.properties.highlight.enabled)return;let a=1/0;if(t==="tooltip"||t==="highlight-tooltip"){const{tooltip:m}=this.properties;a=typeof m.range=="number"?m.range:1/0,i||(i=m.range==="exact")}else if(t==="event"||t==="context-menu"){const{nodeClickRange:m}=this.properties;a=typeof m=="number"?m:1/0,i||(i=m==="exact")}const c=n.filter(m=>!i||m===0),{x:h,y:f}=e,p=JSON.stringify({x:h,y:f,maxDistance:a,selectedPickModes:c});if(this._pickNodeCache.has(p))return this._pickNodeCache.get(p);for(const m of c){let b;switch(m){case 0:{const C=this.pickNodesExactShape(e);b=C.length===0?void 0:{datums:C,distance:0};break}case 1:{const C=this.pickNodeClosestDatum(e),w=(C==null?void 0:C.distance)===0?this.pickNodesExactShape(e):void 0;w!=null&&w.length!==0?b={datums:w,distance:0}:C?b={datums:[C.datum],distance:C.distance}:b=void 0;break}case 2:{const C=s!=null?this.pickNodeMainAxisFirst(e,s==="main-category"):void 0;b=C!=null?{datums:[C.datum],distance:C.distance}:void 0;break}}if(b&&b.distance<=a)return this._pickNodeCache.set(p,{pickMode:m,datums:b.datums,distance:b.distance})}return this._pickNodeCache.set(p,void 0)}pickNodesExactShape(e){const t=[];for(const i of this.contentGroup.pickNodes(e.x,e.y)){const n=i.closestDatum();n!=null&&n.missing!==!0&&t.push(n)}return t}pickNodeClosestDatum(e){throw new Error("AG Charts - Series.pickNodeClosestDatum() not implemented")}pickNodeNearestDistantObject(e,t){var s;const i=YC(e.x,e.y,t),n=(s=i.nearest)==null?void 0:s.closestDatum();if(n!=null&&n.missing!==!0)return{datum:n,distance:Math.sqrt(i.distanceSquared)}}pickNodeMainAxisFirst(e,t){throw new Error("AG Charts - Series.pickNodeMainAxisFirst() not implemented")}getLabelData(){return[]}updatePlacedLabelData(e){}fireNodeClickEvent(e,t){const i=new this.NodeEvent("seriesNodeClick",e,t,this);return this.fireEvent(i),!i.defaultPrevented}fireNodeDoubleClickEvent(e,t){const i=new this.NodeEvent("seriesNodeDoubleClick",e,t,this);return this.fireEvent(i),!i.defaultPrevented}createNodeContextMenuActionEvent(e,t){return new this.NodeEvent("nodeContextMenuAction",e,t,this)}onLegendInitialState(e,t){const{visible:i=!0,itemId:n,legendItemName:s}=t??{};this.toggleSeriesItem(i,e,n,s)}onLegendItemClick(e){const{enabled:t,itemId:i,series:n,legendType:s}=e,r="legendItemName"in this.properties?this.properties.legendItemName:void 0,o="legendItemKey"in this.properties?this.properties.legendItemKey:void 0,a=r!=null&&r===e.legendItemName;(n.id===this.id||a||o!=null)&&this.toggleSeriesItem(t,s,i,r,e)}onLegendItemDoubleClick(e){const{enabled:t,itemId:i,series:n,numVisibleItems:s,legendType:r}=e,o="legendItemName"in this.properties?this.properties.legendItemName:void 0,a="legendItemKey"in this.properties?this.properties.legendItemKey:void 0,c=o!=null&&o===e.legendItemName;n.id===this.id||c||a!=null?this.toggleSeriesItem(!0,r,i,o,e):t&&s===1?this.toggleSeriesItem(!0,r,void 0,o):this.toggleSeriesItem(!1,r,void 0,o)}toggleSeriesItem(e,t,i,n,s){const r=this.id;(e||t!=="category")&&(this.visible=e),this.nodeDataRefresh=!0,this._pickNodeCache.clear();const o={type:"seriesVisibilityChange",seriesId:r,itemId:i,legendItemName:(s==null?void 0:s.legendItemName)??n,visible:e};this.fireEvent(o),this.ctx.legendManager.toggleItem(e,r,i,n)}isEnabled(){return this.visible}getModuleMap(){return this.moduleMap}createModuleContext(){return{...this.ctx,series:this}}getLabelText(e,t,i=Al){return e.formatter?this.ctx.callbackCache.call(this.properties,e.formatter,{seriesId:this.id,...t})??this.callWithContext(i,t.value):this.callWithContext(i,t.value)}getMarkerStyle(e,t,i,n=!1,s=e.size??0,r){const{itemStyler:o,fillGradientDefaults:a,fillPatternDefaults:c}=e;let f=Ca(Pt({size:s},r,e.getStyle()),a,c);if(o&&i){const p=this.ctx.callbackCache.call(this.properties,o,{seriesId:this.id,...f,...i,highlighted:n,datum:t});f=Ca(Pt(p,f),a,c)}return f}updateMarkerStyle(e,t,i,n,s,r,o,a,{applyTranslation:c=!0,selected:h=!0}={}){const f=this.getMarkerStyle(e,i,s,r,n==null?void 0:n.size,o),{shape:p,size:m}=f,b=this.visible&&m>0&&n&&!isNaN(n.x)&&!isNaN(n.y);if(Gh(t,f,void 0,a),c?t.setProperties({visible:b,shape:p,size:m,x:n==null?void 0:n.x,y:n==null?void 0:n.y,scalingCenterX:n==null?void 0:n.x,scalingCenterY:n==null?void 0:n.y}):t.setProperties({visible:b,shape:p,size:m}),h||(t.fillOpacity*=yee,t.strokeOpacity*=vee),typeof e.shape=="function"&&!t.dirtyPath){t.path.clear(!0),t.updatePath(),t.checkPathDirty();const C=t.getBBox();if(n!==void 0&&C.isFinite()){const w=C.computeCenter(),[D,M]=["x","y"].map(A=>(f.strokeWidth??0)+Math.abs(w[A]-n[A]));n.focusSize=Math.max(C.width+D,C.height+M)}}}get nodeDataDependencies(){return this._nodeDataDependencies??{seriesRectWidth:NaN,seriesRectHeight:NaN}}checkResize(e){const{width:t,height:i}=e??{width:NaN,height:NaN},n=e?{seriesRectWidth:t,seriesRectHeight:i}:void 0,s=Ta(this.nodeDataDependencies,n)!=null;return s&&(this._nodeDataDependencies=n,this.markNodeDataDirty()),s}pickFocus(e){}resetDatumCallbackCache(){this.datumCallbackCache.clear()}cachedDatumCallback(e,t){const{datumCallbackCache:i}=this,n=i.get(e);if(n!=null)return n;try{const s=t();return i.set(e,s),s}catch(s){Ee.error(String(s))}}callWithContext(e,...t){return $L(this.properties,e,t)}};R([sr({changeValue:function(e,t){this.onSeriesGroupingChange(t,e)}})],px.prototype,"seriesGrouping",2);function dt(e){const{changeCb:t,convertor:i}=e??{};return He({type:"path",convertor:i,changeCb:t})}var Ws=class extends co{constructor(){super(...arguments),this.path=new mf,this._clipX=NaN,this._clipY=NaN,this.clip=!1,this._dirtyPath=!0,this.lastPixelRatio=NaN}set clipX(e){this._clipX=e,this.dirtyPath=!0}set clipY(e){this._clipY=e,this.dirtyPath=!0}set dirtyPath(e){this._dirtyPath!==e&&(this._dirtyPath=e,e&&this.markDirty("path"))}get dirtyPath(){return this._dirtyPath}checkPathDirty(){var e,t;this._dirtyPath||(this.dirtyPath=this.path.isDirty()||(((e=this.fillShadow)==null?void 0:e.isDirty())??!1)||(((t=this._clipPath)==null?void 0:t.isDirty())??!1))}computeBBox(){return this.updatePathIfDirty(),this.path.computeBBox()}isPointInPath(e,t){return this.updatePathIfDirty(),this.path.closedPath&&this.path.isPointInPath(e,t)}distanceSquared(e,t){return this.distanceSquaredTransformedPoint(e,t)}svgPathData(e){return this.updatePathIfDirty(),this.path.toSVG(e)}distanceSquaredTransformedPoint(e,t){return this.updatePathIfDirty(),this.path.closedPath&&this.path.isPointInPath(e,t)?0:this.path.distanceSquared(e,t)}isDirtyPath(){return!1}updatePath(){}updatePathIfDirty(){(this.dirtyPath||this.isDirtyPath())&&(this.updatePath(),this.dirtyPath=!1)}preRender(e){return e.devicePixelRatio!==this.lastPixelRatio&&(this.dirtyPath=!0),this.lastPixelRatio=e.devicePixelRatio,this.updatePathIfDirty(),super.preRender(e,this.path.commands.length)}render(e){var i,n;const{ctx:t}=e;if(this.clip&&!isNaN(this._clipX)&&!isNaN(this._clipY)){t.save();const s=this.strokeWidth/2;this._clipPath??(this._clipPath=new mf),this._clipPath.clear(),this._clipPath.rect(-s,-s,this._clipX+s,this._clipY+s+s),t.clip((i=this._clipPath)==null?void 0:i.getPath2D()),this._clipX>0&&this._clipY>0&&this.drawPath(t),t.restore()}else this._clipPath=void 0,this.drawPath(t);(n=this.fillShadow)==null||n.markClean(),super.render(e)}drawPath(e){this.fillStroke(e,this.path.getPath2D())}toSVG(){if(!this.visible)return;const e=Wn("path");e.setAttribute("d",this.svgPathData());const t=this.applySvgFillAttributes(e,[]);return this.applySvgStrokeAttributes(e),{elements:[e],defs:t}}};Ws.className="Path";R([dt()],Ws.prototype,"clip",2);R([dt()],Ws.prototype,"clipX",1);R([dt()],Ws.prototype,"clipY",1);var bee=class{constructor(e){this.swapChain=e,this.hasBeenActivated=!1,this.div=Lt("div"),this.svg=Wn("svg"),this.outerPath=Wn("path"),this.innerPath=Wn("path"),this.svg.append(this.outerPath),this.svg.append(this.innerPath),this.outerPath.classList.add("ag-charts-focus-svg-outer-path"),this.innerPath.classList.add("ag-charts-focus-svg-inner-path"),this.element=Lt("div","ag-charts-focus-indicator"),this.element.ariaHidden="true",this.element.append(this.svg),this.swapChain.addListener("swap",t=>this.onSwap(t))}clear(){}update(e,t,i){if(t!=null)if(e instanceof Ws){const n=(r,o)=>{let{x:a,y:c}=en.toCanvasPoint(e,r,o);return a-=t.x??0,c-=t.y??0,{x:a,y:c}},s=e.svgPathData(n);this.outerPath.setAttribute("d",s),this.innerPath.setAttribute("d",s),this.show(this.svg)}else{let n;if(i){const s=Math.max(e.x-t.x,0),r=Math.max(e.y-t.y,0),o=Math.min(e.x+e.width-t.x,t.width),a=Math.min(e.y+e.height-t.y,t.height);n=new Ge(s,r,o-s,a-r)}else n=new Ge(e.x-t.x,e.y-t.y,e.width,e.height);eC(this.div,n),this.show(this.div)}}onSwap(e){e!==this.element.parentElement&&(this.element.remove(),e.appendChild(this.element),this.overrideFocusVisible(this.focusVisible))}show(e){this.hasBeenActivated=!0,this.element.innerHTML="",this.element.append(e)}overrideFocusVisible(e){this.focusVisible=e;const t={true:"1",false:"0",undefined:""},i=this.element.parentElement;i==null||i.style.setProperty("opacity",t[`${e}`])}isFocusVisible(e=!1){if(!e&&!this.hasBeenActivated)return!1;const t=this.element.parentElement;return t!=null&&vi().getComputedStyle(t).opacity==="1"}},Cee=class{constructor(e,t,i,n){this.label1=e,this.label2=t,this.hasFocus=!1,this.skipDispatch=!1,this.listeners={blur:[],focus:[],swap:[]},this.onBlur=s=>(Io(s.target,"pointer-events",void 0),!this.skipDispatch&&this.dispatch("blur",s)),this.onFocus=s=>(Io(s.target,"pointer-events","auto"),!this.skipDispatch&&this.dispatch("focus",s)),yi(this.label1,"id",`${i}-label1`),yi(this.label2,"id",`${i}-label2`),Io(this.label1,"display","none"),Io(this.label2,"display","none"),this.activeAnnouncer=this.createAnnouncer(n),this.inactiveAnnouncer=this.createAnnouncer(n),yi(this.activeAnnouncer,"tabindex",0),this.label2.insertAdjacentElement("afterend",this.activeAnnouncer),this.label2.insertAdjacentElement("afterend",this.inactiveAnnouncer),this.swap("")}createAnnouncer(e){const t=Lt("div");return t.role=e,t.className="ag-charts-swapchain",t.addEventListener("blur",this.onBlur),t.addEventListener("focus",this.onFocus),t}destroy(){for(const e of[this.activeAnnouncer,this.inactiveAnnouncer])e.removeEventListener("blur",this.onBlur),e.removeEventListener("focus",this.onFocus),e.remove()}focus(e){this.focusOptions=e,this.activeAnnouncer.focus(e),this.focusOptions=void 0}update(e){this.skipDispatch=!0,this.swap(e),this.hasFocus&&this.activeAnnouncer.focus(this.focusOptions),this.skipDispatch=!1}addListener(e,t){this.listeners[e].push(t),e==="swap"&&t(this.activeAnnouncer)}dispatch(e,t){e==="focus"?this.hasFocus=!0:e==="blur"&&(this.hasFocus=!1),this.listeners[e].forEach(i=>i(t))}swap(e){const t=this.activeAnnouncer.tabIndex;this.label2.textContent=e,[this.inactiveAnnouncer,this.activeAnnouncer]=[this.activeAnnouncer,this.inactiveAnnouncer],[this.label1,this.label2]=[this.label2,this.label1],Bh(this.inactiveAnnouncer,{"aria-labelledby":this.label1.id,"aria-hidden":!0,tabindex:void 0}),Bh(this.activeAnnouncer,{"aria-labelledby":this.label1.id,"aria-hidden":!1,tabindex:t}),this.dispatch("swap",this.activeAnnouncer)}},xee={arrowdown:{bindings:[{code:"ArrowDown"}]},arrowleft:{bindings:[{code:"ArrowLeft"}]},arrowright:{bindings:[{code:"ArrowRight"}]},arrowup:{bindings:[{code:"ArrowUp"}]},delete:{bindings:[{key:"Backspace"},{key:"Delete"}],activatesFocusIndicator:!1},redo:{bindings:[{key:"y",ctrlOrMeta:!0},{key:"z",ctrlOrMeta:!0,shift:!0}],activatesFocusIndicator:!1},undo:{bindings:[{key:"z",ctrlOrMeta:!0}],activatesFocusIndicator:!1},submit:{bindings:[{key:"Enter"},{code:"Enter"},{code:"Space"}]},zoomin:{bindings:[{key:"+"},{code:"ZoomIn"},{code:"Add"}],activatesFocusIndicator:!1},zoomout:{bindings:[{key:"-"},{code:"ZoomOut"},{code:"Substract"}],activatesFocusIndicator:!1}};function See(e,t){for(const i of t)if("code"in i){if(i.code===e.code)return!0}else if(i.key===e.key&&(i.shift===void 0||i.shift===e.shiftKey)&&(i.ctrlOrMeta===void 0||i.ctrlOrMeta===e.ctrlKey||i.ctrlOrMeta===e.metaKey))return!0;return!1}function wee(e){for(const[t,{activatesFocusIndicator:i=!0,bindings:n}]of _o(xee))if(See(e,n))return{name:t,activatesFocusIndicator:i}}function Mee(e,t,i){const n=ZL(e,i.datum,i.movedBounds);if(n!=null)return{x:n.canvasX,y:n.canvasY};const s=i.bounds;if(s!=null){if(s instanceof Ge){const{x:r,y:o}=s.computeCenter();return{x:t.x+r,y:t.y+o}}return en.toCanvas(s).computeCenter()}}function Dee({bounds:e}){return e instanceof Ge?e:e!=null?en.toCanvas(e):Ge.NaN}function Lee(e,t,i){const{x:n,y:s}=Mee(e,t,i)??{};if(n!==void 0&&s!==void 0)return{type:"keyboard",canvasX:n,canvasY:s}}function vT(){return(e,t)=>{const i=[`Property [${e}] is deprecated.`,t].filter(Boolean).join(" ");Ee.warnOnce(i)}}function xB(e,t){const i=vT(),n=t==null?void 0:t.default;return au((s,r,o)=>(o!==n&&i(r.toString(),e),o))}function Tee(e,t){const i=vT();return au((n,s,r)=>(r!==n[e]&&(i(s.toString(),`Use [${e}] instead.`),wL(n,e,t?t(r):r)),$b),(n,s)=>(i(s.toString(),`Use [${e}] instead.`),pf(n,e)))}function SB(e,t,i,n){let{top:s,right:r,bottom:o,left:a,width:c,height:h}=n;return a!=null?c!=null?r=i.width-a+c:r!=null&&(c=i.width-a-r):r!=null&&c!=null&&(a=i.width-r-c),s!=null?h!=null?o=i.height-s-h:o!=null&&(h=i.height-o-s):o!=null&&h!=null&&(s=i.height-o-h),c==null?h==null?(c=e,h=t):c=Math.ceil(e*h/t):h==null&&(h=Math.ceil(t*c/e)),a==null&&(r==null?a=Math.floor((i.width-c)/2):a=i.width-r-c),s==null&&(o==null?s=Math.floor((i.height-h)/2):s=i.height-h-o),{x:a,y:s,width:c,height:h}}var Yk=.1,Kk=200,$k=12,Aee=.5,Eee=class extends _l{constructor(){super(...arguments),this.x1=NaN,this.y1=NaN,this.x=NaN,this.y=NaN,this.vx=0,this.vy=0,this.t0=NaN,this.animationFrameHandle=void 0}reset(){this.x=NaN,this.y=NaN,this.animationFrameHandle!=null&&(cancelAnimationFrame(this.animationFrameHandle),this.animationFrameHandle=void 0)}update(e,t){if(Number.isNaN(this.x)||Number.isNaN(this.y)){this.x=e,this.y=t,this.vx=0,this.vy=0,this.emitUpdate(),this.animationFrameHandle!=null&&(cancelAnimationFrame(this.animationFrameHandle),this.animationFrameHandle=void 0);return}this.x1=e,this.y1=t,this.t0=Date.now(),this.animationFrameHandle==null&&(this.animationFrameHandle=requestAnimationFrame(this.onFrame.bind(this)))}onFrame(){this.animationFrameHandle=void 0;const{x1:e,y1:t,t0:i}=this,n=Date.now(),s=n-i;this.t0=n;const r=.001,o=Math.ceil(s/(r*1e3))|0;let{x:a,y:c,vx:h,vy:f}=this;for(let p=0;p<o;p+=1){const m=a-e,b=c-t,C=-(Kk*m+$k*h)/Yk,w=-(Kk*b+$k*f)/Yk;h+=C*r,f+=w*r,a+=h*r,c+=f*r}Math.hypot(a-e,c-t)<Aee?(this.x=this.x1,this.y=this.y1,this.vx=0,this.vy=0):(this.x=a,this.y=c,this.vx=h,this.vy=f,this.animationFrameHandle=requestAnimationFrame(this.onFrame.bind(this))),this.emitUpdate()}emitUpdate(){this.dispatch("update",{type:"update",x:this.x,y:this.y})}},Gv=null;function Op(e){return e===""?"":(Gv??(Gv=Lt("div")),Gv.textContent=String(e),Gv.innerHTML.replace(/\n/g,"<br>"))}function Mp(e,t){const{path:i,size:n}=e,{x:s,y:r}=e;i.clear();let o=!1;for(const[a,c]of t){const h=s+(a-.5)*n,f=r+(c-.5)*n;o?i.lineTo(h,f):i.moveTo(h,f),o=!0}i.closePath()}var Ree={circle({path:e,x:t,y:i,size:n}){const s=n/2;e.clear(),e.arc(t,i,s,0,Math.PI*2),e.closePath()},cross(e){Mp(e,[[.25,0],[.5,.25],[.75,0],[1,.25],[.75,.5],[1,.75],[.75,1],[.5,.75],[.25,1],[0,.75],[.25,.5],[0,.25]])},diamond(e){Mp(e,[[.5,0],[1,.5],[.5,1],[0,.5]])},heart({path:e,x:t,y:i,size:n}){const s=n/4;i=i+s/2,e.clear(),e.arc(t-s,i-s,s,Oi(130),Oi(330)),e.arc(t+s,i-s,s,Oi(220),Oi(50)),e.lineTo(t,i+s),e.closePath()},pin({path:e,x:t,y:i,size:n}){e.moveTo(t+(.15625-.5)*n,i+(.34375-.5)*n),e.cubicCurveTo(t+(.15625-.5)*n,i+(.151491-.5)*n,t+(.307741-.5)*n,i+(0-.5)*n,t+(.5-.5)*n,i+(0-.5)*n),e.cubicCurveTo(t+(.692259-.5)*n,i+(0-.5)*n,t+(.84375-.5)*n,i+(.151491-.5)*n,t+(.84375-.5)*n,i+(.34375-.5)*n),e.cubicCurveTo(t+(.84375-.5)*n,i+(.493824-.5)*n,t+(.784625-.5)*n,i+(.600181-.5)*n,t+(.716461-.5)*n,i+(.695393-.5)*n),e.cubicCurveTo(t+(.699009-.5)*n,i+(.719769-.5)*n,t+(.681271-.5)*n,i+(.743104-.5)*n,t+(.663785-.5)*n,i+(.766105-.5)*n),e.cubicCurveTo(t+(.611893-.5)*n,i+(.834367-.5)*n,t+(.562228-.5)*n,i+(.899699-.5)*n,t+(.528896-.5)*n,i+(.980648-.5)*n),e.cubicCurveTo(t+(.524075-.5)*n,i+(.992358-.5)*n,t+(.512663-.5)*n,i+(1-.5)*n,t+(.5-.5)*n,i+(1-.5)*n),e.cubicCurveTo(t+(.487337-.5)*n,i+(1-.5)*n,t+(.475925-.5)*n,i+(.992358-.5)*n,t+(.471104-.5)*n,i+(.980648-.5)*n),e.cubicCurveTo(t+(.487337-.5)*n,i+(1-.5)*n,t+(.475925-.5)*n,i+(.992358-.5)*n,t+(.471104-.5)*n,i+(.980648-.5)*n),e.cubicCurveTo(t+(.437772-.5)*n,i+(.899699-.5)*n,t+(.388107-.5)*n,i+(.834367-.5)*n,t+(.336215-.5)*n,i+(.766105-.5)*n),e.cubicCurveTo(t+(.318729-.5)*n,i+(.743104-.5)*n,t+(.300991-.5)*n,i+(.719769-.5)*n,t+(.283539-.5)*n,i+(.695393-.5)*n),e.cubicCurveTo(t+(.215375-.5)*n,i+(.600181-.5)*n,t+(.15625-.5)*n,i+(.493824-.5)*n,t+(.15625-.5)*n,i+(.34375-.5)*n),e.closePath()},plus(e){Mp(e,[[1/3,0],[2/3,0],[2/3,1/3],[1,1/3],[1,2/3],[2/3,2/3],[2/3,1],[1/3,1],[1/3,2/3],[0,2/3],[0,1/3],[1/3,1/3]])},square({path:e,x:t,y:i,size:n,pixelRatio:s}){const r=n/2;e.clear(),e.moveTo(En(s,t-r),En(s,i-r)),e.lineTo(En(s,t+r),En(s,i-r)),e.lineTo(En(s,t+r),En(s,i+r)),e.lineTo(En(s,t-r),En(s,i+r)),e.closePath()},star({path:e,x:t,y:i,size:n}){const r=n/2,o=r/2,a=Math.PI/2;for(let c=0;c<5*2;c++){const h=c%2===0?r:o,f=c*Math.PI/5-a,p=t+Math.cos(f)*h,m=i+Math.sin(f)*h;e.lineTo(p,m)}e.closePath()},triangle(e){Mp(e,[[.5,0],[1,.87],[0,.87]])}},Bm=class extends Ws{constructor(){super(...arguments),this.shape="square",this.x=0,this.y=0,this.size=12}updatePath(){var c,h;const{path:e,shape:t,x:i,y:n,size:s}=this,r=((h=(c=this.layerManager)==null?void 0:c.canvas)==null?void 0:h.pixelRatio)??1,o=In.anchor(t),a={path:e,x:i-(o.x-.5)*s,y:n-(o.y-.5)*s,size:s,pixelRatio:r};e.clear(),typeof t=="string"?Ree[t](a):typeof t=="function"&&t(a)}computeBBox(){const{x:e,y:t,size:i}=this,n=In.anchor(this.shape);return new Ge(e-i*n.x,t-i*n.y,i,i)}executeFill(e,t){if(t)return super.executeFill(e,t)}executeStroke(e,t){if(t)return super.executeStroke(e,t)}};R([dt()],Bm.prototype,"shape",2);R([dt()],Bm.prototype,"x",2);R([dt()],Bm.prototype,"y",2);R([dt({convertor:Math.abs})],Bm.prototype,"size",2);var In=class extends Of(kL(Vh(Bm))){static anchor(e){return e==="pin"?{x:.5,y:1}:typeof e=="function"&&"anchor"in e?e.anchor:{x:.5,y:.5}}constructor(e){super(e),(e==null?void 0:e.shape)!=null&&(this.shape=e.shape)}};function wB(e,t,i=t*(5/3)){var c;const n=new at,s=Math.min(e.marker.strokeWidth??1,2),r=Math.min(((c=e.line)==null?void 0:c.strokeWidth)??0,2),o=Math.max(e.marker.enabled===!1?0:t,e.line==null?0:i),a=Math.max(e.marker.enabled===!1?0:t,r);if(e.line!=null){const{stroke:h,strokeOpacity:f,lineDash:p}=e.line,m=new Nr;m.x1=0,m.y1=a/2,m.x2=o,m.y2=a/2,m.stroke=h,m.strokeOpacity=f,m.strokeWidth=r,m.lineDash=p,n.append(m)}if(e.marker.enabled!==!1){const{shape:h,fill:f,fillOpacity:p,stroke:m,strokeOpacity:b,lineDash:C,lineDashOffset:w}=e.marker,D=new In;D.shape=h??"square",D.size=t,D.fill=f,D.fillOpacity=p??1,D.stroke=m,D.strokeOpacity=b??1,D.strokeWidth=s,D.lineDash=C,D.lineDashOffset=w??0;const M=In.anchor(h),A=o/2+(M.x-.5)*t,k=a/2+(M.y-.5)*t,_=t/(t+s);D.x=A,D.y=k,D.scalingCenterX=A,D.scalingCenterY=k,D.scalingX=_,D.scalingY=_,n.append(D)}return at.toSVG(n,o,a)}var jn="ag-charts-tooltip",MB="ag-charts-tooltip--dark";function DB(e){const t=[],i=new Map;for(const n of e)if(n.type==="structured"){const{heading:s}=n,r=s!=null?i.get(s):void 0,o={type:"structured",heading:s,items:[n]};r==null?(i.set(s,o),t.push(o)):r.items.push(n)}else t.push(n);return t}function LB(e){const t=DB(e),i=[];return t.forEach(n=>{if(n.type==="raw")return"";n.heading!=null&&i.push(n.heading),n.items.forEach(s=>{var r;s.title!=null&&i.push(s.title),(r=s.data)==null||r.forEach(o=>{i.push(o.label??o.fallbackLabel,o.value)})})}),i.join("; ")}function sD(e,t,i){let n="";e==null?n+=`<span class="${jn}-label">${Op(t)}</span>`:(n+=`<span class="${jn}-label">${Op(e)}</span>`,n+=" ",n+=`<span class="${jn}-value">${Op(t)}</span>`);const s=[`${jn}-row`];return i&&s.push(`${jn}-row--inline`),n=`<div class="${s.join(" ")}">${n}</div>`,n}function Iee(e){var s,r,o;let t="";const i=e.title==null&&((s=e.data)==null?void 0:s.length)===1,n=e.symbol==null?void 0:wB(e.symbol,12);return n!=null&&(e.title!=null||(r=e.data)!=null&&r.length)&&(t+=`<span class="${jn}-symbol">${n}</span>`),e.title!=null&&(t+=`<span class="${jn}-title">${Op(e.title)}</span>`,t+=" "),(o=e.data)==null||o.forEach(a=>{t+=sD(a.label??a.fallbackLabel,a.value,i),t+=" "}),t}function TB(e,t){if(e==null||t.length===1)return;const i=e==null?void 0:e.t("tooltipPaginationStatus",{index:t.index+1,count:t.length});return`<div class="${jn}-footer">${i}</div>`}function Zk(e,t,i,n){var f,p;const s=t.items.length===1?t.items[0]:void 0;let r,o,a;switch(i){case"compact":r=!0,o=s==null?void 0:s.title;break;case"single":r=s!=null&&(t.heading==null||s.title==null)&&((f=s.data)==null?void 0:f.length)===1&&s.data[0].label==null&&s.data[0].value!=null,a=t.heading??(s==null?void 0:s.title);break;case"shared":r=!1}let c="";if(r&&s!=null?(o!=null&&(c+=sD(void 0,o,!1)),(p=s.data)==null||p.forEach(m=>{c+=sD(m.label??a,m.value,!1),c+=" "})):(t.heading!=null&&(c+=`<span class="${jn}-heading">${Op(t.heading)}</span>`,c+=" "),t.items.forEach(m=>{c+=Iee(m)})),c.length===0)return;const h=i!=="compact"&&n!=null?TB(e,n):void 0;return h+null&&(c+=h),c=`<div class="${jn}-content">${c.trimEnd()}</div>`,c}function kee(e,t){const i=t==null?void 0:TB(e,t);return i==null?"":`<div class="${jn}-content">${i}</div>`}function AB(e,t,i,n){const s=DB(t);if(s.length!==0){if(s.length===1&&s[0].type==="structured")return Zk(e,s[0],i,n);{const r=s.map(o=>o.type==="structured"?Zk(e,o,i):o.rawHtmlString);return n!=null&&r.push(kee(e,n)??""),r.join("")}}}var _ee={left:-1,"top-left":-1,"bottom-left":-1,top:0,center:0,bottom:0,right:1,"top-right":1,"bottom-right":1},Nee={"top-left":-1,top:-1,"top-right":-1,left:0,center:0,right:0,"bottom-left":1,bottom:1,"bottom-right":1},Oee={left:3,"top-left":void 0,"bottom-left":void 0,top:2,center:void 0,bottom:1,right:0,"top-right":void 0,"bottom-right":void 0},Xk={top:2,bottom:2,left:1,right:1,"top-right":3,"top-left":3,"bottom-right":3,"bottom-left":3,center:0};ci(["single","shared","compact"]);ci(["pointer","node","top","right","bottom","left","top-left","top-right","bottom-right","bottom-left"],"a position type");ci(["pointer","node","chart"],"an anchorTo");var qk=ci(["top","right","bottom","left","top-right","bottom-right","bottom-left","top-left","center"],"a placement");ds(qk,kn(qk));var Fl=class extends ht{constructor(){super(...arguments),this.xOffset=0,this.yOffset=0}get defaultAnchorTo(){const{type:e,_seriesOverrideType:t}=this,i=e??t??"pointer";return i==="node"||i==="pointer"?i:"chart"}get defaultPlacement(){const{type:e,_seriesOverrideType:t}=this,i=e??t??"pointer";return i==="node"||i==="pointer"?"top":i}};R([P(),xB("Use `anchorTo` and/or `placement` options instead.")],Fl.prototype,"type",2);R([P()],Fl.prototype,"_seriesOverrideType",2);R([P()],Fl.prototype,"xOffset",2);R([P()],Fl.prototype,"yOffset",2);R([P()],Fl.prototype,"anchorTo",2);R([P()],Fl.prototype,"placement",2);var ho=class extends ht{constructor(){super(),this.enabled=!0,this.mode="single",this.delay=0,this.range=void 0,this.wrapping="hyphenate",this.position=new Fl,this.pagination=!1,this.darkTheme=!1,this.bounds="extended",this.destroyFns=[],this.springAnimation=new Eee,this.enableInteraction=!1,this.wrapTypes=["always","hyphenate","on-space","never"],this.sizeMonitor=new t2,this._elementSize=void 0,this._showTimeout=void 0,this.arrowPosition=void 0,this._visible=!1,this.positionParams=void 0,this.localeManager=void 0,this.destroyFns.push(this.springAnimation.addListener("update",this.updateTooltipPosition.bind(this)))}get interactive(){return this.enableInteraction}setup(e,t){return"togglePopover"in vi().HTMLElement.prototype&&(this.element=t.addChild("tooltip-container",jn),this.element.setAttribute("popover","manual"),this.element.className=jn,this.element.style.positionAnchor=t.anchorName,this.sizeMonitor.observe(this.element,i=>{this._elementSize=i,this.updateTooltipPosition()})),this.localeManager=e,()=>{t.removeChild("tooltip-container",jn),this.destroyFns.forEach(i=>i()),this.element&&this.sizeMonitor.unobserve(this.element)}}isVisible(){return this._visible}contains(e){var t;return((t=this.element)==null?void 0:t.contains(e))??!1}updateTooltipPosition(){var V,j,U,$,Q,J;const{element:e,_elementSize:t,positionParams:i}=this;if(e==null||t==null||i==null)return;const{canvasRect:n,relativeRect:s,meta:r}=i,{x:o,y:a}=this.springAnimation;let c=((V=r.position)==null?void 0:V.placement)??this.position.placement??((j=r.position)==null?void 0:j.defaultPlacement)??this.position.defaultPlacement;Array.isArray(c)||(c=[c]);const h=((U=r.position)==null?void 0:U.anchorTo)??this.position.anchorTo??(($=r.position)==null?void 0:$.defaultAnchorTo)??this.position.defaultAnchorTo,f=((Q=r.position)==null?void 0:Q.xOffset)??0,p=((J=r.position)==null?void 0:J.yOffset)??0,m=s.x,b=s.y,C=s.width-t.width-1+m,w=s.height-t.height+b;let D=0,M,A,k=!1;do{M=c[D],D+=1;const be=this.getTooltipBounds({elementSize:t,placement:M,anchorTo:h,canvasX:o,canvasY:a,yOffset:p,xOffset:f,canvasRect:n});A=SB(t.width,t.height,s,be),k=!1,Xk[M]&1&&(k||(k=A.x<m||A.x>C)),Xk[M]&2&&(k||(k=A.y<b||A.y>w))}while(D<c.length&&k);const _=ut(m,A.x,C),F=ut(b,A.y,w);k||(k=_!==A.x||F!==A.y);const N=h!=="chart"&&!k&&!f&&!p,z=r.showArrow??this.showArrow??N;this.arrowPosition=z?Oee[M]:void 0,this.updateClassModifiers(),e.style.translate=`${_}px ${F}px`}show(e,t,i,n,s,r=!1){var h,f;const{element:o}=this;if(o!=null&&n!=null&&n.length!==0){const p=AB(this.localeManager,n,this.mode,this.pagination?s:void 0);if(p==null){this.toggle(!1);return}o.innerHTML=p}else if(o==null||o.innerHTML===""){this.toggle(!1);return}const a={x:e.x-t.x,y:e.y-t.y,width:e.width,height:e.height};switch(this.positionParams={canvasRect:t,relativeRect:a,meta:i},((h=i.position)==null?void 0:h.anchorTo)??this.position.anchorTo??((f=i.position)==null?void 0:f.defaultAnchorTo)??this.position.defaultAnchorTo){case"node":this.springAnimation.update(i.nodeCanvasX??i.canvasX,i.nodeCanvasY??i.canvasY);break;case"pointer":this.springAnimation.update(i.canvasX,i.canvasY);break;case"chart":this.springAnimation.reset()}i.enableInteraction?(this.enableInteraction=!0,o.style.pointerEvents="auto",o.removeAttribute("aria-hidden"),o.tabIndex=-1):(this.enableInteraction=!1,o.style.pointerEvents="none",o.setAttribute("aria-hidden","true"),o.removeAttribute("tabindex")),o.style.setProperty("--top",`${t.top}px`),o.style.setProperty("--left",`${t.left}px`),this.updateClassModifiers(),this.toggle(!0,r)}hide(){this.toggle(!1)}toggle(e,t=!1){const{delay:i}=this;e&&i>0&&!t?this._showTimeout??(this._showTimeout=setTimeout(()=>{this._showTimeout=void 0,this.toggleCallback(!0)},i)):(clearTimeout(this._showTimeout),this._showTimeout=void 0,this.toggleCallback(e))}toggleCallback(e){var t;(t=this.element)!=null&&t.isConnected&&this._visible!==e&&(this._visible=e,this.element.togglePopover(e),e?this.updateTooltipPosition():this.springAnimation.reset())}updateClassModifiers(){var i;if(!((i=this.element)!=null&&i.isConnected))return;const{classList:e}=this.element,t=(n,s)=>e.toggle(`${jn}--${n}`,s);t("no-interaction",!this.enableInteraction),t("arrow-top",this.arrowPosition===1),t("arrow-right",this.arrowPosition===3),t("arrow-bottom",this.arrowPosition===2),t("arrow-left",this.arrowPosition===0),t("compact",this.mode==="compact"),e.toggle(MB,this.darkTheme);for(const n of this.wrapTypes)e.toggle(`${jn}--wrap-${n}`,n===this.wrapping)}getTooltipBounds(e){const{elementSize:t,anchorTo:i,placement:n,canvasX:s,canvasY:r,yOffset:o,xOffset:a,canvasRect:c}=e,{width:h,height:f}=t,p={width:h,height:f};if(i==="node"||i==="pointer"){const m=_ee[n],b=Nee[n];return p.top=r+o+f*(b-1)/2+8*b,p.left=s+a+h*(m-1)/2+8*m,p}switch(n){case"top":return p.top=o,p.left=c.width/2-h/2+a,p;case"right":return p.top=c.height/2-f/2+o,p.left=c.width-h/2+a,p;case"left":return p.top=c.height/2-f/2+o,p.left=a,p;case"bottom":return p.top=c.height-f+o,p.left=c.width/2-h/2+a,p;case"top-left":return p.top=o,p.left=a,p;case"top-right":return p.top=o,p.left=c.width-h+a,p;case"bottom-right":return p.top=c.height-f+o,p.left=c.width-h+a,p;case"bottom-left":return p.top=c.height-f+o,p.left=a,p}return p}};R([P()],ho.prototype,"enabled",2);R([P()],ho.prototype,"mode",2);R([P()],ho.prototype,"showArrow",2);R([P()],ho.prototype,"delay",2);R([P()],ho.prototype,"range",2);R([P()],ho.prototype,"wrapping",2);R([P()],ho.prototype,"position",2);R([P()],ho.prototype,"pagination",2);R([P()],ho.prototype,"darkTheme",2);R([P(ci(["extended","canvas"]))],ho.prototype,"bounds",2);function rD(e,t){return e.series===t.series&&Da(e.datumIndex,t.datumIndex)}var Pee=class{constructor(){this.candidates=[]}get current(){return this.active}reset(){this.candidates.length=0,this.active=void 0}update(e,t){this.candidates=e;let i=t!=null?e.findIndex(n=>rD(n,t)):-1;return i===-1&&(i=0),this.active=e[i],{current:this.active,index:i,length:e.length}}next(){const{candidates:e,active:t}=this,i=t==null?-1:e.findIndex(s=>rD(s,t));if(i===-1)return;let n=i+1;return n>=e.length&&(n=0),this.active=e[n],{current:this.active,index:n,length:this.candidates.length}}},Fee=class extends yu{constructor(e){super(),this.chart=e,this.id=Er(this),this.series=[],this.highlight={pendingHoverEvent:void 0,appliedHoverEvent:void 0,stashedHoverEvent:void 0},this.tooltip={lastHover:void 0},this.hoverDevice="pointer",this.previousInputDevice="keyboard",this.focus={sortedSeries:[],series:void 0,seriesIndex:0,datumIndex:0,datum:void 0},this.hoverScheduler=zX(()=>{if(!(!this.tooltip.lastHover&&!this.highlight.pendingHoverEvent)){if(this.chart.getUpdateType()<=4){this.hoverScheduler.schedule();return}this.highlight.pendingHoverEvent&&this.handleHoverHighlight(!1),this.tooltip.lastHover&&this.handleHoverTooltip(this.tooltip.lastHover,!1)}}),this.tooltipCandidates=new Pee;const t=e.ctx.domManager.addChild("series-area","series-area-aria-label1"),i=e.ctx.domManager.addChild("series-area","series-area-aria-label2");this.swapChain=new Cee(t,i,this.id,"img"),this.swapChain.addListener("blur",o=>this.onBlur(o)),this.swapChain.addListener("focus",()=>this.onFocus()),e.ctx.domManager.mode==="normal"&&(this.focusIndicator=new bee(this.swapChain),this.focusIndicator.overrideFocusVisible(e.mode==="integrated"?!1:void 0));const{seriesDragInterpreter:n,seriesWidget:s,containerWidget:r}=e.ctx.widgets;s.setTabIndex(-1),this.destroyFns.push(()=>e.ctx.domManager.removeChild("series-area","series-area-aria-label1"),()=>e.ctx.domManager.removeChild("series-area","series-area-aria-label2"),s.addListener("focus",()=>this.swapChain.focus()),s.addListener("mousemove",o=>this.onHover(o)),s.addListener("wheel",o=>this.onWheel(o)),s.addListener("mouseleave",o=>this.onLeave(o)),s.addListener("keydown",o=>this.onKeyDown(o)),s.addListener("contextmenu",(o,a)=>this.onContextMenu(o,a)),n.addListener("drag-move",o=>this.onDragMove(o)),n.addListener("click",o=>this.onClick(o,s)),n.addListener("dblclick",o=>this.onClick(o,s)),r.addListener("contextmenu",(o,a)=>this.onContextMenu(o,a)),r.addListener("click",(o,a)=>this.onClick(o,a)),r.addListener("dblclick",(o,a)=>this.onClick(o,a)),e.ctx.animationManager.addListener("animation-start",()=>this.clearAll()),e.ctx.domManager.addListener("resize",()=>this.clearAll()),e.ctx.highlightManager.addListener("highlight-change",o=>this.changeHighlightDatum(o)),e.ctx.layoutManager.addListener("layout:complete",o=>this.layoutComplete(o)),e.ctx.updateService.addListener("pre-scene-render",()=>this.preSceneRender()),e.ctx.updateService.addListener("update-complete",()=>this.updateComplete()),e.ctx.zoomManager.addListener("zoom-change",()=>this.clearAll()),e.ctx.zoomManager.addListener("zoom-pan-start",()=>this.clearAll()))}isState(e){return this.chart.ctx.interactionManager.isState(e)}isIgnoredTouch(e){return!(e.device!=="touch"||e.type==="click"||this.chart.ctx.chartService.touch.dragAction==="hover"||this.chart.ctx.chartService.touch.dragAction==="drag"&&this.isState(9))}dataChanged(){var t;var e;(e=this.highlight).stashedHoverEvent??(e.stashedHoverEvent=this.highlight.appliedHoverEvent),this.chart.ctx.tooltipManager.removeTooltip(this.id),(t=this.focusIndicator)==null||t.clear(),this.clearHighlight()}preSceneRender(){this.highlight.stashedHoverEvent!=null&&(this.highlight.pendingHoverEvent=this.highlight.stashedHoverEvent,this.highlight.stashedHoverEvent=void 0,this.handleHoverHighlight(!0)),this.tooltip.lastHover!=null&&this.handleHoverTooltip(this.tooltip.lastHover,!0)}updateComplete(){var e;this.isState(34)&&((e=this.focusIndicator)!=null&&e.isFocusVisible())&&this.handleSeriesFocus(0,0,!0)}update(e,t){this.chart.ctx.updateService.update(e,t)}seriesChanged(e){this.focus.sortedSeries=[...e].sort((t,i)=>{let n=t.properties.focusPriority??1/0,s=i.properties.focusPriority??1/0;return n===s&&([n,s]=[t._declarationOrder,i._declarationOrder]),n<s?-1:n>s?1:0}),this.series=e}layoutComplete(e){this.seriesRect=e.series.rect,this.hoverRect=e.series.paddedRect,this.chart.ctx.widgets.seriesWidget.setBounds(e.series.paddedRect),this.chart.ctx.domManager.mode==="normal"&&this.chart.ctx.widgets.chartWidget.setBounds(e.chart)}onContextMenu(e,t){var c;const{sourceEvent:i}=e;if(i.currentTarget!=t.getElement())return;if(i.target==this.chart.ctx.widgets.containerWidget.getElement()){if(this.isState(36)){const{currentX:h,currentY:f}=e;this.chart.ctx.contextMenuRegistry.dispatchContext("all",{sourceEvent:i,canvasX:h,canvasY:f},{})}return}let n,s;if((c=this.focusIndicator)!=null&&c.isFocusVisible())n=this.chart.ctx.highlightManager.getActiveHighlight(),n&&this.seriesRect&&n.midPoint&&(s=en.toCanvasPoint(n.series.contentGroup,n.midPoint.x,n.midPoint.y));else if(this.isState(36)){const h=this.pickNodes({x:e.currentX,y:e.currentY},"context-menu");h&&(this.chart.ctx.highlightManager.updateHighlight(this.id),n=h.matches[0].datum)}const r=n==null?void 0:n.series;this.clearAll();const o=e.currentX+t.cssLeft(),a=e.currentY+t.cssTop();this.chart.ctx.contextMenuRegistry.dispatchContext("series-area",{sourceEvent:i,canvasX:o,canvasY:a},{pickedSeries:r,pickedNode:n},s)}onLeave(e){if(!this.isState(41))return;const t=e.sourceEvent.relatedTarget;(t==null?void 0:t.className)!=="ag-charts-text-input__textarea"&&(this.chart.ctx.tooltipManager.isEnteringInteractiveTooltip(e.sourceEvent)||(this.chart.ctx.domManager.updateCursor(this.id),this.hoverDevice!=="keyboard"&&this.clearAll()))}onWheel(e){var t;this.isState(41)&&((t=this.focusIndicator)==null||t.overrideFocusVisible(!1),this.previousInputDevice="pointer")}onDragMove(e){var t;this.isState(41)&&((t=this.focusIndicator)==null||t.overrideFocusVisible(!1),this.onHoverLikeEvent(e))}onHover(e){this.isState(41)&&this.onHoverLikeEvent(e)}onHoverLikeEvent(e){var t;if(!this.isIgnoredTouch(e)&&((e.device==="touch"||Bee(e,"drag-move"))&&(this.tooltip.lastHover=e),e.device==="touch"&&this.chart.ctx.chartService.touch.dragAction==="hover"&&e.sourceEvent.preventDefault(),this.hoverDevice="pointer",this.previousInputDevice="pointer",this.highlight.pendingHoverEvent=e,this.hoverScheduler.schedule(),this.isState(32))){const{currentX:i,currentY:n}=e,s=(t=this.pickNodes({x:i,y:n},"event"))==null?void 0:t.matches,r=s==null?void 0:s[0];r!=null&&r.series.hasEventListener("seriesNodeClick")||r!=null&&r.series.hasEventListener("seriesNodeDoubleClick")||s!=null&&s.length>1&&this.chart.tooltip.pagination?this.chart.ctx.domManager.updateCursor(this.id,"pointer"):this.chart.ctx.domManager.updateCursor(this.id)}}onClick(e,t){var n;if(e.device==="touch"&&t===this.chart.ctx.widgets.seriesWidget&&this.swapChain.focus({preventScroll:!0}),!this.isState(41))return;if(t===this.chart.ctx.widgets.seriesWidget){if(!t.getElement().contains(e.sourceEvent.target))return}else if(e.sourceEvent.target!=t.getElement())return;if((n=this.focusIndicator)==null||n.overrideFocusVisible(!1),this.onHoverLikeEvent(e),!this.isState(32))return;if(t==this.chart.ctx.widgets.seriesWidget&&this.checkSeriesNodeClick(e)){this.update(4),e.sourceEvent.preventDefault();return}const i={type:e.type==="click"?"click":"doubleClick",event:e.sourceEvent};this.chart.fireEvent(i)}onFocus(){var e;this.isState(34)&&(this.hoverDevice=(e=this.focusIndicator)!=null&&e.isFocusVisible(!0)?"keyboard":"pointer",this.handleFocus(0,0))}onBlur(e){var t;this.isState(34)&&(this.hoverDevice="pointer",this.chart.ctx.tooltipManager.isEnteringInteractiveTooltip(e)||this.clearAll(),(t=this.focusIndicator)==null||t.overrideFocusVisible(void 0))}onKeyDown(e){var i;if(!this.isState(43))return;const t=wee(e.sourceEvent);switch((t==null?void 0:t.activatesFocusIndicator)===!1&&((i=this.focusIndicator)==null||i.overrideFocusVisible(this.previousInputDevice==="keyboard")),t==null?void 0:t.name){case"redo":return this.chart.ctx.chartEventManager.seriesEvent("series-redo");case"undo":return this.chart.ctx.chartEventManager.seriesEvent("series-undo");case"zoomin":return this.chart.ctx.chartEventManager.seriesKeyNavZoom(1,e);case"zoomout":return this.chart.ctx.chartEventManager.seriesKeyNavZoom(-1,e);case"arrowup":return this.onArrow(-1,0,e);case"arrowdown":return this.onArrow(1,0,e);case"arrowleft":return this.onArrow(0,-1,e);case"arrowright":return this.onArrow(0,1,e);case"submit":return this.onSubmit(e)}}onArrow(e,t,i){var n;this.isState(34)&&(this.hoverDevice="keyboard",this.previousInputDevice="keyboard",(n=this.focusIndicator)==null||n.overrideFocusVisible(!0),this.focus.seriesIndex+=e,this.focus.datumIndex+=t,this.handleFocus(e,t),i.sourceEvent.preventDefault(),this.chart.ctx.chartEventManager.seriesEvent("series-focus-change"))}onSubmit(e){if(!this.isState(34))return;const{series:t,datum:i}=this.focus,n=e.sourceEvent;t!==void 0&&i!==void 0?t.fireNodeClickEvent(n,i):this.chart.fireEvent({type:"click",event:n}),n.preventDefault()}checkSeriesNodeClick(e){var a,c,h;var t;const i=this.pickNodes({x:e.currentX,y:e.currentY},"event");if(i==null||i.matches.length===0)return;const n=this.chart.tooltip.pagination?(a=this.tooltipCandidates.update(i.matches,this.tooltipCandidates.current))==null?void 0:a.current:void 0,{series:s,datum:r}=n??i.matches[0],o=n==null?i.distance:0;if(e.type==="click"){const p=s.fireNodeClickEvent(e.sourceEvent,r)&&this.chart.tooltip.pagination?this.tooltipCandidates.next():void 0;if(p!=null){e.sourceEvent.preventDefault();const{currentX:m,currentY:b}=e,C=m+(((c=this.hoverRect)==null?void 0:c.x)??0),w=b+(((h=this.hoverRect)==null?void 0:h.y)??0);(t=this.highlight).pendingHoverEvent??(t.pendingHoverEvent=this.highlight.appliedHoverEvent),this.handleHoverHighlight(!1),this.showTooltip(p.current,C,w,{index:p.index,length:p.length})}return!0}return e.type==="dblclick"?(e.preventZoomDblClick=o===0,s.fireNodeDoubleClickEvent(e.sourceEvent,r),!0):!1}handleFocus(e,t){var n;const i=this.chart.overlays.getFocusInfo(this.chart.ctx.localeManager);i==null?this.handleSeriesFocus(e,t):(n=this.focusIndicator)==null||n.update(i.rect,this.seriesRect,!1)}handleSeriesFocus(e,t,i=!1){if(this.chart.chartType==="hierarchy"||this.chart.chartType==="gauge"){this.handleSoloSeriesFocus(e,t,i);return}const{focus:n}=this,s=n.sortedSeries.filter(h=>h.visible&&h.focusable);if(s.length===0)return;const r=n.datumIndex-t,o=n.seriesIndex-e;n.seriesIndex=ut(0,n.seriesIndex,s.length-1),n.series=s[n.seriesIndex];const a=this.focus.datumIndex,c=this.focus.seriesIndex;this.updatePickedFocus(a,t,r,c,e,o,i)}handleSoloSeriesFocus(e,t,i){this.focus.series=this.focus.sortedSeries[0];const n=this.focus.datumIndex,s=this.focus.seriesIndex,r=this.focus.datumIndex-t,o=this.focus.seriesIndex-e;this.updatePickedFocus(n,t,r,s,e,o,i)}updatePickedFocus(e,t,i,n,s,r,o){var b,C,w,D;const{focus:a,hoverRect:c,seriesRect:h}=this;if(a.series===void 0||c===void 0)return;const f=(b=a==null?void 0:a.series)==null?void 0:b.pickFocus({datumIndex:e,datumIndexDelta:t,otherIndex:n,otherIndexDelta:s,seriesRect:h});if(!f)return;const{datum:p}=f;if(f.otherIndex!==void 0&&(a.seriesIndex=f.otherIndex),a.datumIndex=f.datumIndex,a.datum=p,(C=this.focusIndicator)!=null&&C.isFocusVisible()&&this.chart.ctx.animationManager.reset(),(w=this.focusIndicator)!=null&&w.isFocusVisible()){const M=Dee(f),{x:A,y:k}=M.computeCenter();if(!c.containsPoint(A,k)&&this.chart.ctx.zoomManager.panToBBox(this.id,c,M))return;const{x1:_,x2:F,y1:N,y2:z}=im.from(M),V=c.containsPoint(_,N),j=c.containsPoint(F,N),U=c.containsPoint(_,z),$=c.containsPoint(F,z);if(!(V||j||U||$)){const Q=im.from(c);f.movedBounds=M.clone(),_<Q.x1&&F<Q.x1?(f.movedBounds.x=Q.x1-2,f.movedBounds.width=4):_>Q.x2&&F>Q.x2&&(f.movedBounds.x=Q.x2-2,f.movedBounds.width=4),N<Q.y1&&z<Q.y1?(f.movedBounds.y=Q.y1-2,f.movedBounds.height=4):N>Q.y2&&z>Q.y2&&(f.movedBounds.y=Q.y2-2,f.movedBounds.height=4)}}(D=this.focusIndicator)==null||D.update(f.movedBounds??f.bounds,this.seriesRect,f.clipFocusBox);const m=Lee(a.series,c,f);if(m!==void 0&&this.hoverDevice==="keyboard"){this.tooltip.lastHover=void 0,this.highlight.appliedHoverEvent=void 0,this.highlight.pendingHoverEvent=void 0,this.highlight.stashedHoverEvent=void 0;const M=this.chart.getTooltipContent(a.series,p.datumIndex,p),A=oC.makeTooltipMeta(m,a.series,p,f.movedBounds);this.chart.ctx.highlightManager.updateHighlight(this.id,p),a.series.tooltipEnabled??this.chart.tooltip.enabled?this.chart.ctx.tooltipManager.updateTooltip(this.id,A,M):this.chart.ctx.tooltipManager.removeTooltip(this.id),o||(t===0&&s===0||i!==f.datumIndex||r!==(f.otherIndex??a.seriesIndex))&&this.swapChain.update(this.getDatumAriaText(p,M))}}getDatumAriaText(e,t){var n,s;const i=t==null?"":LB(t);return this.chart.ctx.localeManager.t("ariaAnnounceHoverDatum",{datum:((s=(n=e.series).getDatumAriaText)==null?void 0:s.call(n,e,i))??i})}clearHighlight(){this.highlight.pendingHoverEvent=void 0,this.highlight.appliedHoverEvent=void 0,this.chart.ctx.highlightManager.updateHighlight(this.id)}clearTooltip(){this.chart.ctx.tooltipManager.removeTooltip(this.id),this.tooltip.lastHover=void 0}clearAll(){var e;this.clearHighlight(),this.clearTooltip(),(e=this.focusIndicator)==null||e.clear()}handleHoverHighlight(e){var m,b,C;this.highlight.appliedHoverEvent=this.highlight.pendingHoverEvent,this.highlight.pendingHoverEvent=void 0;const t=this.highlight.appliedHoverEvent;if(!t||!this.isState(41))return;const{currentX:i,currentY:n}=t,s=t.currentX+(((m=this.hoverRect)==null?void 0:m.x)??0),r=t.currentY+(((b=this.hoverRect)==null?void 0:b.y)??0);if(e?this.chart.ctx.animationManager.isActive():!((C=this.hoverRect)!=null&&C.containsPoint(s,r))){this.clearHighlight();return}const{range:o}=this.chart.highlight,a=o==="tooltip"?"highlight-tooltip":"highlight",c=this.pickNodes({x:i,y:n},a);if(!c||c.matches.length===0){this.chart.ctx.highlightManager.updateHighlight(this.id);return}const{current:h}=this.tooltipCandidates,f=h==null?void 0:c.matches.find(w=>rD(w,h)),p=(f==null?void 0:f.datum)??c.matches[0].datum;this.chart.ctx.highlightManager.updateHighlight(this.id,p),this.hoverDevice="pointer"}handleHoverTooltip(e,t){var h,f,p;const{current:i}=this.tooltipCandidates;if(this.tooltipCandidates.reset(),!this.isState(41))return;const{currentX:n,currentY:s}=e,r=n+(((h=this.hoverRect)==null?void 0:h.x)??0),o=s+(((f=this.hoverRect)==null?void 0:f.y)??0),a=e.sourceEvent.target;if(t?this.chart.ctx.animationManager.isActive():!((p=this.hoverRect)!=null&&p.containsPoint(r,o))){this.hoverDevice=="pointer"&&this.clearTooltip();return}if(a&&this.chart.tooltip.interactive&&this.chart.ctx.domManager.isManagedChildDOMElement(a,"canvas-overlay",jn))return;const c=this.pickNodes({x:e.currentX,y:e.currentY},"tooltip");if(!c||c.matches.length===0){this.hoverDevice=="pointer"&&this.clearTooltip();return}if(this.hoverDevice="pointer",c.distance===0){const{current:m,index:b,length:C}=this.tooltipCandidates.update(c.matches,this.chart.tooltip.pagination?i:void 0);this.showTooltip(m,r,o,{index:b,length:C})}else this.showTooltip(c.matches[0],r,o)}showTooltip({series:e,datum:t,datumIndex:i},n,s,r){const o=this.chart.getTooltipContent(e,i,t);if((e.tooltipEnabled??this.chart.tooltip.enabled)&&o!=null){const h=oC.makeTooltipMeta({type:"pointermove",canvasX:n,canvasY:s},e,t,void 0);this.chart.ctx.tooltipManager.updateTooltip(this.id,h,o,r)}else this.chart.ctx.tooltipManager.removeTooltip(this.id)}changeHighlightDatum(e){const t=new Set,{series:i=void 0,datum:n}=e.currentHighlight??{},{series:s=void 0,datum:r}=e.previousHighlight??{};s&&t.add(s),i&&t.add(i),s!=null&&s.properties.cursor&&r&&this.chart.ctx.domManager.updateCursor(s.id),i!=null&&i.properties.cursor&&(i==null?void 0:i.properties.cursor)!=="default"&&n&&this.chart.ctx.domManager.updateCursor(i.id,i.properties.cursor),i==null||s==null?this.update(4):this.update(4,{seriesToUpdate:t})}pickNodes(e,t,i){const n=[...this.series].reverse();let s;for(const r of n){if(!r.visible||!r.contentGroup.visible)continue;const o=r.pickNodes(e,t,i);if(o==null||o.datums.length===0)continue;const{datums:a,distance:c}=o;if(o.datums.length!==0){if(c===0){(s==null?void 0:s.distance)!==0&&(s={matches:[],distance:0});for(const h of a){const{datumIndex:f}=h;s.matches.push({series:r,datum:h,datumIndex:f})}}else if(s==null||s.distance>c){const[h]=a,{datumIndex:f}=h;s={matches:[{series:r,datum:h,datumIndex:f}],distance:c}}}}return s}};function Bee(e,t){return e.type!==t}var Qk=30,zee=class{constructor(e){this.seriesRoot=e,this.groups=new Map,this.series=new Map,this.expectedSeriesCount=1,this.mode="normal"}setSeriesCount(e){this.expectedSeriesCount=e}requestGroup(e){const{internalId:t,type:i,contentGroup:n,seriesGrouping:s}=e,{groupIndex:r=t}=s??{},o=this.series.get(t);if(o!=null)throw new Error(`AG Charts - series already has an allocated layer: ${JSON.stringify(o)}`);this.series.size===0&&(this.mode=this.expectedSeriesCount>=Qk?"aggressive-grouping":"normal");let a=this.groups.get(i);a==null&&(a=new Map,this.groups.set(i,a));const c=this.lookupIdx(r);let h=a.get(c);return h==null&&(h={type:i,id:c,seriesIds:[],group:this.seriesRoot.appendChild(new at({name:`${e.contentGroup.name??i}-managed-layer`,zIndex:e.contentGroup.zIndex,renderToOffscreenCanvas:!1}))},a.set(c,h)),this.series.set(t,{layerState:h,seriesConfig:e}),h.seriesIds.push(t),h.group.appendChild(n),h.group}changeGroup(e){var a,c;const{internalId:t,seriesGrouping:i,type:n,contentGroup:s,oldGrouping:r}=e,{groupIndex:o=t}=i??{};(c=(a=this.groups.get(n))==null?void 0:a.get(o))!=null&&c.seriesIds.includes(t)||(this.series.has(t)&&this.releaseGroup({internalId:t,seriesGrouping:r,type:n,contentGroup:s}),this.requestGroup(e))}releaseGroup(e){var r,o,a;const{internalId:t,contentGroup:i,type:n}=e;if(!this.series.has(t))throw new Error(`AG Charts - series doesn't have an allocated layer: ${t}`);const s=(r=this.series.get(t))==null?void 0:r.layerState;s&&(s.seriesIds=s.seriesIds.filter(c=>c!==t),s.group.removeChild(i)),(s==null?void 0:s.seriesIds.length)===0?(this.seriesRoot.removeChild(s.group),(o=this.groups.get(s.type))==null||o.delete(s.id),(a=this.groups.get(n))==null||a.delete(t)):s!=null&&s.seriesIds.length>0&&(s.group.zIndex=this.getLowestSeriesZIndex(s.seriesIds)),this.series.delete(t)}updateLayerCompositing(){this.groups.forEach(e=>{e.forEach(t=>{const{group:i,seriesIds:n}=t;let s;if(n.length===0)s=!1;else if(n.length>1)s=!0;else{const r=this.series.get(n[0]);s=(r==null?void 0:r.seriesConfig.renderToOffscreenCanvas())===!0}i.renderToOffscreenCanvas=s,i.zIndex=this.getLowestSeriesZIndex(n)})})}lookupIdx(e){return this.mode==="normal"?e:typeof e=="string"&&(e=Number(e.split("-").at(-1)),!e)?0:Math.floor(ut(0,e/this.expectedSeriesCount,1)*Qk)}destroy(){this.groups.forEach(e=>{e.forEach(t=>{this.seriesRoot.removeChild(t.group)})}),this.groups.clear(),this.series.clear()}getLowestSeriesZIndex(e){return e.reduce((i,n)=>{const s=this.series.get(n),r=s==null?void 0:s.seriesConfig.contentGroup.zIndex;return i==null||r==null?r:PF(i,r)<=0?i:r},void 0)??1}},EB=class extends ht{constructor(){super(...arguments),this.dragAction="drag"}};R([P(ci(["none","drag","hover"]))],EB.prototype,"dragAction",2);var Gee=class{constructor(e,t,i,n,s){this.chart=e,this.dataService=t,this.updateService=i,this.zoomManager=n,this.animationManager=s,this.dirtyZoom=!1,this.dirtyDataSource=!1,this.lastAxisZooms=new Map,this.destroyFns=[],this.destroyFns.push(this.dataService.addListener("data-source-change",()=>this.onDataSourceChange()),this.dataService.addListener("data-load",()=>this.onDataLoad()),this.dataService.addListener("data-error",()=>this.onDataError()),this.updateService.addListener("update-complete",()=>this.onUpdateComplete()),this.zoomManager.addListener("zoom-change",()=>this.onZoomChange()))}destroy(){this.destroyFns.forEach(e=>e())}onDataLoad(){this.animationManager.skip(),this.updateService.update(1)}onDataError(){this.updateService.update(3)}onDataSourceChange(){this.dirtyDataSource=!0}onUpdateComplete(){!this.dirtyZoom&&!this.dirtyDataSource||this.updateWindow()}onZoomChange(){this.dirtyZoom=!0}updateWindow(){if(!this.dataService.isLazy())return;const e=this.getValidAxis();let t,i=!0;if(e){const n=this.zoomManager.getAxisZoom(e.id);t=this.getAxisWindow(e,n),i=this.shouldRefresh(e,n)}this.dirtyZoom=!1,this.dirtyDataSource=!1,i&&this.dataService.load({windowStart:t==null?void 0:t.min,windowEnd:t==null?void 0:t.max})}getValidAxis(){return this.chart.axes.find(e=>e.type==="time")}shouldRefresh(e,t){if(this.dirtyDataSource)return!0;if(!this.dirtyZoom)return!1;const i=this.lastAxisZooms.get(e.id);return i&&t.min===i.min&&t.max===i.max?!1:(this.lastAxisZooms.set(e.id,t),!0)}getAxisWindow(e,t){const{domain:i}=e.scale;if(!t||i.length===0||isNaN(Number(i[0])))return;const n=Number(i[1])-Number(i[0]),s=new Date(Number(i[0])+n*t.min),r=new Date(Number(i[0])+n*t.max);return{min:s,max:r}}},Hee=/^((?!chrome|android).)*safari/i,jee=/Version\/(\d+(\.\d+)?)/,Vee=/Chrome/,Wee=/Chrome\/(\d+)/,Uee=/Edg/,Yee=/OPR/;function Kee(){const{userAgent:e}=vi("navigator");if(Hee.test(e)){const t=jee.exec(e);if(t==null)return!1;const i=parseFloat(t[1]),n=Math.floor(i)>16;return n||Ee.warnOnce(`Unsupported Safari version: ${i}; ${e}`),!n}else if(Vee.test(e)&&!Uee.test(e)&&!Yee.test(e)){const t=Wee.exec(e);if(t==null)return!1;const i=parseInt(t[1],10),n=i>126;return n||Ee.warnOnce(`Unsupported Chrome version: ${i}; ${e}`),!n}return!1}var $ee=new Set(["map-shape-background","map-line-background"]),Zee=class{constructor(e,t,i,n,s,r,o){this.chartLike=e,this.overlays=t,this.dataService=i,this.layoutManager=n,this.localeManager=s,this.animationManager=r,this.domManager=o,this.destroyFns=[],this.overlayElem=this.domManager.addChild("canvas-overlay","overlay"),this.overlayElem.role="status",this.overlayElem.ariaAtomic="false",this.overlayElem.ariaLive="polite",this.overlayElem.classList.toggle(nD),this.destroyFns.push(this.layoutManager.addListener("layout:complete",a=>this.onLayoutComplete(a)))}destroy(){this.destroyFns.forEach(e=>e()),this.domManager.removeChild("canvas-overlay","overlay")}onLayoutComplete({series:{rect:e}}){const t=this.dataService.isLoading(),i=this.chartLike.series.some(h=>h.hasData),n=this.chartLike.series.some(h=>h.visible&&!$ee.has(h.type));this.overlays.darkTheme?this.overlayElem.classList.add(Uk):this.overlayElem.classList.remove(Uk),this.overlayElem.style.left=`${e.x}px`,this.overlayElem.style.top=`${e.y}px`,this.overlayElem.style.width=`${e.width}px`,this.overlayElem.style.height=`${e.height}px`;const s=t,r=!t&&!i,o=i&&!n,a=this.overlays.unsupportedBrowser.enabled&&Kee();s?this.showOverlay(this.overlays.loading,e):this.hideOverlay(this.overlays.loading),r?this.showOverlay(this.overlays.noData,e):this.hideOverlay(this.overlays.noData),o?this.showOverlay(this.overlays.noVisibleSeries,e):this.hideOverlay(this.overlays.noVisibleSeries),a?this.showOverlay(this.overlays.unsupportedBrowser,e):this.hideOverlay(this.overlays.unsupportedBrowser);const c=s||r||o||a;yi(this.overlayElem,"aria-hidden",!c)}showOverlay(e,t){if(!e.enabled)return;const i=e.getElement(this.animationManager,this.localeManager,t);this.overlayElem.appendChild(i)}hideOverlay(e){e.removeElement(()=>{this.overlayElem.innerText=" "},this.animationManager)}},Lo=$t.create(!0,"opts"),bT=class extends ht{constructor(){super(...arguments),this.padding=new pu(0)}};R([P()],bT.prototype,"clip",2);R([P()],bT.prototype,"padding",2);var yn=class RB extends VF{constructor(t,i){var n;super(),this.id=Er(this),this.seriesRoot=new zs({name:`${this.id}-series-root`,zIndex:5}),this.annotationRoot=new zs({name:`${this.id}-annotation-root`,zIndex:9}),this.titleGroup=new at({name:"titles",zIndex:13}),this.debug=$t.create(),this.extraDebugStats={},this.data=[],this._firstAutoSize=!0,this._autoSizeNotify=new rk,this.padding=new pu(20),this.seriesArea=new bT,this.keyboard=new sT,this.touch=new EB,this.mode="standalone",this.chartCaptions=new nx,this.suppressFieldDotNotation=!1,this.destroyed=!1,this._destroyFns=[],this.skipSync=!1,this.chartAnimationPhase="initial",this.modulesManager=new pee,this.processors=[],this.queuedUserOptions=[],this.queuedChartOptions=[],this.firstApply=!0,this._pendingFactoryUpdatesCount=0,this._performUpdateSkipAnimations=!1,this._performUpdateNotify=new rk,this.performUpdateType=7,this.runningUpdateType=7,this.updateShortcutCount=0,this.seriesToUpdate=new Set,this.updateMutex=new FX,this.updateRequestors={},this.performUpdateTrigger=GX(({count:f})=>{this.destroyed||this.updateMutex.acquire(async()=>{try{await this.performUpdate(f)}catch(p){Ee.error("update error",p)}}).catch(p=>Ee.errorOnce(p))}),this._performUpdateSplits={},this.axes=[],this.series=[],this._cachedData=void 0,this.onSeriesNodeClick=f=>{this.fireEvent(f)},this.onSeriesNodeDoubleClick=f=>{this.fireEvent(f)},this.onSeriesVisibilityChange=f=>{this.fireEvent(f)},this.seriesGroupingChanged=f=>{if(!(f instanceof yT))return;const{series:p,seriesGrouping:m,oldGrouping:b}=f;p.contentGroup.isRoot()||this.seriesLayerManager.changeGroup({internalId:p.internalId,type:p.type,contentGroup:p.contentGroup,renderToOffscreenCanvas:()=>p.renderToOffscreenCanvas(),seriesGrouping:m,oldGrouping:b})},this.chartOptions=t;const s=i==null?void 0:i.scene,r=(i==null?void 0:i.container)??t.processedOptions.container??void 0,o=(i==null?void 0:i.styleContainer)??t.specialOverrides.styleContainer;s&&(this._firstAutoSize=!1,this._lastAutoSize=[s.width,s.height,s.pixelRatio]);const a=new at({name:"root"});a.visible=!1,a.append(this.seriesRoot),a.append(this.annotationRoot),a.append(this.titleGroup),this.titleGroup.append(this.title.node),this.titleGroup.append(this.subtitle.node),this.titleGroup.append(this.footnote.node),this.tooltip=new ho,this.seriesLayerManager=new zee(this.seriesRoot),this.mode=t.userOptions.mode??this.mode;const c=this.ctx=new mJ(this,{chartType:this.getChartType(),scene:s,root:a,container:r,styleContainer:o,domMode:t.optionMetadata.domMode,syncManager:new jJ(this),fireEvent:f=>this.fireEvent(f),updateCallback:(f,p)=>this.update(f,p),updateMutex:this.updateMutex});this._destroyFns.push(c.domManager.addListener("resize",()=>this.parentResize(c.domManager.containerSize))),this.overlays=new Ff,(n=this.overlays.loading).renderer??(n.renderer=()=>mee(this.overlays.loading.getText(c.localeManager),c.animationManager.defaultDuration)),this.processors=[new Gee(this,c.dataService,c.updateService,c.zoomManager,c.animationManager),new Zee(this,this.overlays,c.dataService,c.layoutManager,c.localeManager,c.animationManager,c.domManager)],this.highlight=new W2,this.container=r;const h=this.getModuleContext();c.domManager.setDataBoolean("animating",!1),this.seriesAreaManager=new Fee(this.initSeriesAreaDependencies()),this._destroyFns.push(c.layoutManager.registerElement(0,f=>{f.layoutBox.shrink(this.padding.toJson()),this.chartCaptions.positionCaptions(f)}),c.layoutManager.addListener("layout:complete",f=>this.chartCaptions.positionAbsoluteCaptions(f)),c.dataService.addListener("data-load",f=>{this.data=f.data}),this.title.registerInteraction(h,"beforebegin"),this.subtitle.registerInteraction(h,"beforebegin"),this.footnote.registerInteraction(h,"afterend"),Na.addWindowEvent("page-left",()=>this.destroy()),c.animationManager.addListener("animation-frame",()=>{this.update(6)}),c.animationManager.addListener("animation-start",()=>c.domManager.setDataBoolean("animating",!0)),c.animationManager.addListener("animation-stop",()=>c.domManager.setDataBoolean("animating",!1)),c.zoomManager.addListener("zoom-change",()=>{this.series.forEach(p=>{var m;return(m=p.animationState)==null?void 0:m.transition("updateData")});const f=this.chartAnimationPhase!=="initial";this.update(3,{forceNodeDataRefresh:!0,skipAnimations:f})})),this.parentResize(c.domManager.containerSize)}static getInstance(t){return RB.chartsInstances.get(t)}get canvasElement(){return this.ctx.scene.canvas.element}download(t,i){this.ctx.scene.download(t,i)}getCanvasDataURL(t){return this.ctx.scene.getDataURL(t)}toSVG(){return this.ctx.scene.toSVG()}getOptions(){return this.queuedUserOptions.at(-1)??this.chartOptions.userOptions}getChartOptions(){return this.queuedChartOptions.at(-1)??this.chartOptions}overrideFocusVisible(t){var i;(i=this.seriesAreaManager.focusIndicator)==null||i.overrideFocusVisible(t)}initSeriesAreaDependencies(){const{ctx:t,tooltip:i,highlight:n,overlays:s,seriesRoot:r,mode:o}=this,a=this.getChartType();return{fireEvent:this.fireEvent.bind(this),getUpdateType:()=>this.performUpdateType,getTooltipContent:(p,m,b)=>this.getTooltipContent(p,m,b),chartType:a,ctx:t,tooltip:i,highlight:n,overlays:s,seriesRoot:r,mode:o}}getModuleContext(){return this.ctx}getTooltipContent(t,i,n){const s=t.properties.tooltip.enabled!==!1?t.getTooltipContent(i,n):void 0,r=s==null?[]:[s];if(this.tooltip.mode!=="shared"||this.series.length===1)return r;const o=t.getCategoryValue(i);return o==null?r:this.series.flatMap(a=>{if(a===t)return r;if(!a.isEnabled()||a.properties.tooltip.enabled===!1)return[];const c=a.datumIndexForCategoryValue(o),h=c==null?void 0:a.getTooltipContent(c,void 0);return h==null?[]:[h]})}getCaptionText(){return[this.title,this.subtitle,this.footnote].filter(t=>t.enabled&&t.text).map(t=>t.text).join(". ")}getAriaLabel(){return this.ctx.localeManager.t("ariaAnnounceChart",{seriesCount:this.series.length})}resetAnimations(){this.chartAnimationPhase="initial";for(const t of this.series)t.resetAnimation(this.chartAnimationPhase);for(const t of this.axes)t.resetAnimation(this.chartAnimationPhase);this.animationRect=void 0,this.ctx.animationManager.reset()}skipAnimations(){this.ctx.animationManager.skipCurrentBatch(),this._performUpdateSkipAnimations=!0}detachAndClear(){this.container=void 0,this.ctx.scene.clear()}destroy(t){if(this.destroyed)return;const i=t==null?void 0:t.keepTransferableResources;let n;return this.performUpdateType=7,this._destroyFns.forEach(s=>s()),this.processors.forEach(s=>s.destroy()),this.overlays.destroy(),this.modulesManager.destroy(),i?(this.ctx.scene.strip(),n={container:this.container,scene:this.ctx.scene}):(this.ctx.scene.destroy(),this.container=void 0),this.destroySeries(this.series),this.seriesLayerManager.destroy(),this.axes.forEach(s=>s.destroy()),this.axes=[],this.animationRect=void 0,this.ctx.destroy(),this.destroyed=!0,Object.freeze(this),n}requestFactoryUpdate(t){this.destroyed||(this._pendingFactoryUpdatesCount++,this.updateMutex.acquire(async()=>{if(!this.destroyed)try{await t(this)}finally{this.destroyed||this._pendingFactoryUpdatesCount--}}).catch(i=>Ee.errorOnce(i)))}clearCallbackCache(){this.ctx.callbackCache.invalidateCache();for(const t of this.series)t.resetDatumCallbackCache()}update(t=0,i){if(this.destroyed)return;const{forceNodeDataRefresh:n=!1,skipAnimations:s,seriesToUpdate:r=this.series,newAnimationBatch:o}=i??{};this.ctx.widgets.seriesWidget.setDragTouchEnabled(this.touch.dragAction!=="none"),n&&this.series.forEach(a=>a.markNodeDataDirty());for(const a of r)this.seriesToUpdate.add(a);if(s&&(this.ctx.animationManager.skipCurrentBatch(),this._performUpdateSkipAnimations=!0),o&&this.ctx.animationManager.isActive()&&(this._performUpdateSkipAnimations=!0),this.skipSync=(i==null?void 0:i.skipSync)??!1,this.debug.check()){let a=new Error().stack??"<unknown>";a=a.replace(/\([^)]*/g,""),this.updateRequestors[a]=t}t<this.performUpdateType&&(this.performUpdateType=t,this.ctx.domManager.setDataBoolean("updatePending",!0),this.performUpdateTrigger.schedule(i==null?void 0:i.backOffMs))}async performUpdate(t){const{performUpdateType:i,extraDebugStats:n,_performUpdateSplits:s,ctx:r}=this,o=[...this.seriesToUpdate];this.clearCallbackCache(),this.performUpdateType=7,this.seriesToUpdate.clear(),this.runningUpdateType=i,this.updateShortcutCount===0&&i<6&&(r.animationManager.startBatch(this._performUpdateSkipAnimations),r.animationManager.onBatchStop(()=>this.chartAnimationPhase="ready")),this.ctx.scene.updateDebugFlags(),this.debug("Chart.performUpdate() - start",Np[i]);let a=performance.now();s.start??(s.start=a);const c=f=>{s[f]??(s[f]=0),s[f]+=performance.now()-a,a=performance.now()};switch(i){case 0:if(this.checkUpdateShortcut(0))break;this.ctx.updateService.dispatchPreDomUpdate(),this.updateDOM();case 1:if(this.checkUpdateShortcut(1))break;await this.updateData(),c("⬇️");case 2:if(this.checkUpdateShortcut(2))break;await this.processData(),this.seriesAreaManager.dataChanged(),c("🏭");case 3:if(await this.checkFirstAutoSize(),this.checkUpdateShortcut(3))break;await this.processLayout(),c("⌖");case 4:{if(this.checkUpdateShortcut(4))break;await this.updateSeries(o),c("🤔"),this.updateAriaLabels(),this.seriesLayerManager.updateLayerCompositing()}case 5:if(this.checkUpdateShortcut(5))break;r.updateService.dispatchPreSceneRender(),c("↖");case 6:if(this.checkUpdateShortcut(6))break;r.animationManager.endBatch(),n.updateShortcutCount=this.updateShortcutCount,r.scene.render({debugSplitTimes:s,extraDebugStats:n,seriesRect:this.seriesRect}),this.extraDebugStats={};for(const f of Object.keys(s))delete s[f];this.ctx.domManager.incrementDataCounter("sceneRenders"),this.ctx.domManager.postRenderUpdate();case 7:this.updateShortcutCount=0,this.updateRequestors={},this._performUpdateSkipAnimations=!1,r.animationManager.endBatch()}this.destroyed||(r.updateService.dispatchUpdateComplete(),this.ctx.domManager.setDataBoolean("updatePending",!1),this.runningUpdateType=7),this._performUpdateNotify.notify();const h=performance.now();this.debug("Chart.performUpdate() - end",{chart:this,durationMs:Math.round((h-s.start)*100)/100,count:t,performUpdateType:Np[i]})}updateThemeClassName(){const t="ag-charts-theme-",i=[`${t}default`,`${t}default-dark`];let n=i[0],s=!1,{theme:r}=this.chartOptions.processedOptions;for(;typeof r!="string"&&r!=null;)r=r.baseTheme;typeof r=="string"&&(n=r.replace("ag-",t),s=r.includes("-dark")),i.includes(n)||(n=s?i[1]:i[0]),this.ctx.domManager.setThemeClass(n)}updateDOM(){this.updateThemeClassName();const{enabled:t,tabIndex:i}=this.keyboard;this.ctx.domManager.setTabGuardIndex(t?i??0:-1),this.ctx.domManager.setThemeParameters(this.chartOptions.themeParameters)}updateAriaLabels(){this.ctx.domManager.updateCanvasLabel(this.getAriaLabel())}checkUpdateShortcut(t){return this.destroyed?!0:this.updateShortcutCount>3?(Ee.warn("exceeded the maximum number of simultaneous updates (4), discarding changes and rendering",this.updateRequestors),!1):this.performUpdateType<=t?(this.updateShortcutCount++,!0):!1}async checkFirstAutoSize(){this.width!=null&&this.height!=null||this._lastAutoSize||await this._autoSizeNotify.await(500)||this.debug("Chart.checkFirstAutoSize() - timeout for first size update.")}onAxisChange(t,i){i==null&&t.length===0||this.ctx.axisManager.updateAxes(i??[],t)}onSeriesChange(t,i){var s,r;const n=(i==null?void 0:i.filter(o=>!t.includes(o)))??[];this.destroySeries(n),(s=this.seriesLayerManager)==null||s.setSeriesCount(t.length);for(const o of t){if(i!=null&&i.includes(o))continue;const a=this.seriesLayerManager.requestGroup(o);o.attachSeries(a,this.seriesRoot,this.annotationRoot);const c=this;o.chart={get mode(){return c.mode},get isMiniChart(){return!1},get seriesRect(){return c.seriesRect}},o.resetAnimation(this.chartAnimationPhase),this.addSeriesListeners(o),o.addChartEventListeners()}(r=this.seriesAreaManager)==null||r.seriesChanged(t)}destroySeries(t){t==null||t.forEach(i=>{i.removeEventListener("seriesNodeClick",this.onSeriesNodeClick),i.removeEventListener("seriesNodeDoubleClick",this.onSeriesNodeDoubleClick),i.removeEventListener("groupingChanged",this.seriesGroupingChanged),i.destroy(),this.seriesLayerManager.releaseGroup(i),i.detachSeries(void 0,this.seriesRoot,this.annotationRoot),i.chart=void 0})}addSeriesListeners(t){this.hasEventListener("seriesNodeClick")&&t.addEventListener("seriesNodeClick",this.onSeriesNodeClick),this.hasEventListener("seriesNodeDoubleClick")&&t.addEventListener("seriesNodeDoubleClick",this.onSeriesNodeDoubleClick),this.hasEventListener("seriesVisibilityChange")&&t.addEventListener("seriesVisibilityChange",this.onSeriesVisibilityChange),t.addEventListener("groupingChanged",this.seriesGroupingChanged)}assignSeriesToAxes(){for(const t of this.axes)t.boundSeries=this.series.filter(i=>i.axes[t.direction]===t)}assignAxesToSeries(){const t=mL(this.axes,i=>i.direction);for(const i of this.series)for(const n of i.directions){const s=t[n];if(!s){Ee.warnOnce(`no available axis for direction [${n}]; check series and axes configuration.`);return}const r=i.getKeys(n),o=s.find(a=>!a.keys.length||r.some(c=>a.keys.includes(c)));if(!o){Ee.warnOnce(`no matching axis for direction [${n}] and keys [${r}]; check series and axes configuration.`);return}i.axes[n]=o}}parentResize(t){if(t==null||this.width!=null&&this.height!=null)return;let{width:i,height:n}=t;const{pixelRatio:s}=t;if(i=Math.floor(i),n=Math.floor(n),i===0&&n===0)return;const[r=0,o=0,a=1]=this._lastAutoSize??[];r===i&&o===n&&a===s||(this._lastAutoSize=[i,n,s],this.resize("SizeMonitor",{}))}resize(t,i){var b,C,w;const{scene:n,animationManager:s}=this.ctx,{inWidth:r,inHeight:o,inMinWidth:a,inMinHeight:c,inOverrideDevicePixelRatio:h}=i;this.ctx.domManager.setSizeOptions(a??this.minWidth,c??this.minHeight,r??this.width,o??this.height);const f=r??this.width??((b=this._lastAutoSize)==null?void 0:b[0]),p=o??this.height??((C=this._lastAutoSize)==null?void 0:C[1]),m=h??this.overrideDevicePixelRatio??((w=this._lastAutoSize)==null?void 0:w[2]);if(this.debug(`Chart.resize() from ${t}`,{width:f,height:p,pixelRatio:m,stack:new Error().stack}),!(f==null||p==null||!Vt(f)||!Vt(p))&&n.resize(f,p,m)){s.reset();let D=!0;(this.width==null||this.height==null)&&this._firstAutoSize&&(D=!1,this._firstAutoSize=!1),this.update(3,{forceNodeDataRefresh:!0,skipAnimations:D}),this._autoSizeNotify.notify()}}async updateData(){this.series.forEach(i=>i.setChartData(this.data));const t=this.modulesManager.mapModules(i=>{var n;return(n=i.updateData)==null?void 0:n.call(i,this.data)});await Promise.all(t)}async processData(){this.series.some(s=>s.canHaveAxes)&&(this.assignAxesToSeries(),this.assignSeriesToAxes());const t=new X2(this.mode,this.suppressFieldDotNotation),i=this.series.map(s=>s.processData(t)),n=this.modulesManager.mapModules(s=>{var r;return(r=s.processData)==null?void 0:r.call(s,t)});this._cachedData=t.execute(this._cachedData),await Promise.all([...i,...n]);for(const s of this.axes)s.processData();this.updateLegends()}updateLegends(t){for(const{legend:i,legendType:n}of this.modulesManager.legends())n==="category"?this.setCategoryLegendData(t):this.setLegendData(n,i)}setCategoryLegendData(t){var i;const{ctx:{legendManager:n,stateManager:s}}=this;t&&this.series.forEach(o=>{const a=t.find(c=>c.seriesId===o.id);o.onLegendInitialState("category",a)});const r=this.series.flatMap(o=>{const a=o.getLegendData("category");return n.updateData(o.id,a),a});if(t){s.setStateAndRestore(n,t);return}if(this.mode!=="integrated"){const o={},a=new Map(this.series.map(c=>[c.id,c.type]));for(const{seriesId:c,symbol:{marker:h},label:f}of r.filter(p=>!p.hideInLegend)){if(h.fill==null)continue;const p=a.get(c),m=o[p]??(o[p]={});m[i=f.text]??(m[i]=h.fill),m[f.text]!==h.fill&&Ee.warnOnce(`legend item '${f.text}' has multiple fill colors, this may cause unexpected behaviour.`)}}n.update()}setLegendData(t,i){i.data=this.series.filter(n=>n.properties.showInLegend).flatMap(n=>n.getLegendData(t))}async processLayout(){var r;const t=this.animationRect,{width:i,height:n}=this.ctx.scene,s=this.ctx.layoutManager.createContext(i,n);await this.performLayout(s),t&&!((r=this.animationRect)!=null&&r.equals(t))&&this.ctx.animationManager.skipCurrentBatch(),this.debug("Chart.performUpdate() - seriesRect",this.seriesRect)}async updateSeries(t){const{seriesRect:i}=this;await Promise.all(t.map(n=>n.update({seriesRect:i}))),this.ctx.seriesLabelLayoutManager.updateLabels(this.series.filter(n=>n.visible&&n.usesPlacedLabels),this.padding,this.seriesRect)}async waitForUpdate(t=1e4,i=!1){const n=performance.now();for(;(this._pendingFactoryUpdatesCount>0||this.performUpdateType!==7||this.runningUpdateType!==7)&&!this.destroyed;){if(this._pendingFactoryUpdatesCount>0&&await this.updateMutex.waitForClearAcquireQueue(),(this.performUpdateType!==7||this.runningUpdateType!==7)&&await this._performUpdateNotify.await(),performance.now()-n>t){const s=`Chart.waitForUpdate() timeout of ${t} reached - first chart update taking too long.`;if(i)throw new Error(s);Ee.warnOnce(s)}BF()&&await cX()}}filterMiniChartSeries(t){return t==null?void 0:t.filter(i=>i.showInMiniChart!==!1)}applyOptions(t){var w,D,M,A,k;const i=this.firstApply?t.processedOptions:t.diffOptions(this.chartOptions);if(i==null||Object.keys(i).length===0)return;const n=this.firstApply?{}:this.chartOptions.processedOptions,s=t.processedOptions;Lo("Chart.applyOptions() - applying delta",i);const r=this.applyModules(s),o=["type","data","series","listeners","preset","theme","legend.listeners","navigator.miniChart.series","navigator.miniChart.label","locale.localeText","axes","topology","nodes","initialState","styleContainer"];i.listeners&&this.registerListeners(this,i.listeners),kp(this,i,{skip:o});let a=!1,c="no-op";i.series!=null&&(c=this.applySeries(this,i.series,n==null?void 0:n.series),a=!0),c==="replaced"&&this.resetAnimations(),this.applyAxes(this,s,n,c,[])&&(a=!0),i.data&&(this.data=i.data),(w=i.legend)!=null&&w.listeners&&this.modulesManager.isEnabled("legend")&&Object.assign(this.legend.listeners,i.legend.listeners),(D=i.locale)!=null&&D.localeText&&(this.modulesManager.getModule("locale").localeText=(M=i.locale)==null?void 0:M.localeText),this.chartOptions=t;const h=this.modulesManager.getModule("navigator"),f=this.modulesManager.getModule("zoom");!(h!=null&&h.enabled)&&!(f!=null&&f.enabled)&&this.ctx.zoomManager.updateZoom("chart");const p=h==null?void 0:h.miniChart,m=((k=(A=s.navigator)==null?void 0:A.miniChart)==null?void 0:k.series)??s.series;(p==null?void 0:p.enabled)===!0&&m!=null?this.applyMiniChartOptions(p,m,s,n):(p==null?void 0:p.enabled)===!1&&(p.series=[],p.axes=[]),this.ctx.annotationManager.setAnnotationStyles(t.annotationThemes),a||(a=this.shouldForceNodeDataRefresh(i,c));const C=a||r?0:3;this.maybeResetAnimations(c),this.shouldClearLegendData(s,n,c)&&this.ctx.legendManager.clearData(),this.applyInitialState(s),Lo("Chart.applyOptions() - update type",Np[C],{seriesStatus:c,forceNodeDataRefresh:a}),this.update(C,{forceNodeDataRefresh:a,newAnimationBatch:!0}),this.firstApply=!1}applyInitialState(t){var c,h,f;const{annotationManager:i,chartTypeOriginator:n,historyManager:s,stateManager:r,zoomManager:o}=this.ctx,{initialState:a}=t;if("annotations"in t&&((c=t.annotations)!=null&&c.enabled)&&(a==null?void 0:a.annotations)!=null){const p=a.annotations.map(m=>{const b=i.getAnnotationTypeStyles(m.type);return Pt(m,b)});r.setState(i,p)}(a==null?void 0:a.chartType)!=null&&r.setState(n,a.chartType),((h=t.navigator)!=null&&h.enabled||(f=t.zoom)!=null&&f.enabled)&&(a==null?void 0:a.zoom)!=null&&r.setState(o,a.zoom),(a==null?void 0:a.legend)!=null&&this.updateLegends(a.legend),a!=null&&s.clear()}maybeResetAnimations(t){if(this.mode==="standalone")switch(t){case"series-grouping-change":case"replaced":this.resetAnimations();break}}shouldForceNodeDataRefresh(t,i){const n=!!t.data||i==="data-change"||i==="replaced",s=iT.getKeys(),r=Object.values(s).some(a=>t[a]!=null),o=t.title!=null&&t.subtitle!=null;return n||r||o}shouldClearLegendData(t,i,n){const s=n==="replaced"||n==="series-grouping-change"||n==="updated",r=i.legend!=null&&t.legend==null;return s||r}applyMiniChartOptions(t,i,n,s){var f,p,m,b;const r=((p=(f=s==null?void 0:s.navigator)==null?void 0:f.miniChart)==null?void 0:p.series)??(s==null?void 0:s.series),o=this.applySeries(t,this.filterMiniChartSeries(i),this.filterMiniChartSeries(r));this.applyAxes(t,n,s,o,["axes[].tick","axes[].thickness","axes[].title","axes[].crosshair","axes[].gridLine","axes[].label"]);const a=t.series;for(const C of a)C.properties.id=void 0;const c=t.axes,h=c.find(C=>C.direction==="x");for(const C of c)C.nice=!1,C.gridLine.enabled=!1,C.label.enabled=C===h,C.tick.enabled=!1,C.interactionEnabled=!1;if(h!=null){const C=(m=n.navigator)==null?void 0:m.miniChart,w=C==null?void 0:C.label,D=(b=C==null?void 0:C.label)==null?void 0:b.interval;if(h.line.enabled=!1,h.label.set(lu(w,["interval","rotation","minSpacing","autoRotate","autoRotateAngle"])),h.tick.set(lu(D,["enabled","width","size","color","interval","step"])),h.type==="grouped-category"){h.label.enabled=!1,h.label.rotation=0;const{depthOptions:A}=h;if(A.length===0)A.set([{label:{enabled:!0}}]);else for(let k=1;k<A.length;k++)A[k].label.enabled=!1}const M=D==null?void 0:D.step;M!=null&&(h.interval.step=M)}}applyModules(t){var s;const{type:i}=this.constructor;let n=!1;for(const r of ba.byType("root","legend")){const a=t[r.optionsKey]!=null&&r.chartTypes.includes(i);a!==this.modulesManager.isEnabled(r)&&(a?(this.modulesManager.addModule(r,c=>c.moduleFactory(this.getModuleContext())),r.type==="legend"&&((s=this.modulesManager.getModule(r))==null||s.attachLegend(this.ctx.scene)),this[r.optionsKey]=this.modulesManager.getModule(r)):(this.modulesManager.removeModule(r),delete this[r.optionsKey]),n=!0)}return n}initSeriesDeclarationOrder(t){for(let i=0;i<t.length;i++)t[i].setSeriesIndex(i)}applySeries(t,i,n){var f;if(!i)return"no-change";const s=fee(t.series,i,n);if(s.status==="no-overlap"){Lo(`Chart.applySeries() - creating new series instances, status: ${s.status}`,s);const p=i.map(m=>this.createSeries(m));return this.initSeriesDeclarationOrder(p),t.series=p,"replaced"}Lo("Chart.applySeries() - matchResult",s);const r=[];let o=!1,a=!1,c=!1;const h=s.changes.toSorted((p,m)=>p.targetIdx-m.targetIdx);for(const p of h)switch(a||(a=p.status==="series-grouping"),o||(o=((f=p.diff)==null?void 0:f.data)!=null),c||(c=p.status!=="no-op"),p.status){case"add":{const m=this.createSeries(p.opts);r.push(m),Lo("Chart.applySeries() - created new series",m);break}case"remove":Lo(`Chart.applySeries() - removing series at previous idx ${p.idx}`,p.series);break;case"no-op":r.push(p.series),Lo(`Chart.applySeries() - no change to series at previous idx ${p.idx}`,p.series);break;case"series-grouping":case"update":default:{const{series:m,diff:b,idx:C}=p;Lo(`Chart.applySeries() - applying series diff previous idx ${C}`,b,m),this.applySeriesValues(m,b),m.markNodeDataDirty(),r.push(m)}}return this.initSeriesDeclarationOrder(r),Lo("Chart.applySeries() - final series instances",r),t.series=r,a?"series-grouping-change":o?"data-change":c?"updated":"no-op"}applyAxes(t,i,n,s,r=[]){if(!("axes"in i)||!i.axes)return!1;r=["axes[].type",...r];const{axes:o}=i;return!(s==="replaced")&&t.axes.length===o.length&&t.axes.every((h,f)=>h.type===o[f].type)&&gT(n)?(t.axes.forEach((h,f)=>{var C;const p=((C=n.axes)==null?void 0:C[f])??{},m=Ta(p,o[f]);Lo(`Chart.applyAxes() - applying axis diff idx ${f}`,m);const b=`axes[${f}]`;kp(h,m,{path:b,skip:r})}),!0):(Lo(`Chart.applyAxes() - creating new axes instances; seriesStatus: ${s}`),t.axes=this.createAxis(o,r),!0)}createSeries(t){const i=Qr.create(t.type,this.getModuleContext());return this.applySeriesOptionModules(i,t),this.applySeriesValues(i,t),i}applySeriesOptionModules(t,i){const n=t.createModuleContext(),s=t.getModuleMap();for(const r of ba.byType("series-option"))r.optionsKey in i&&r.seriesTypes.includes(t.type)&&s.addModule(r,o=>o.moduleFactory(n))}applySeriesValues(t,i){const n=t.getModuleMap(),{type:s,data:r,listeners:o,seriesGrouping:a,showInMiniChart:c,...h}=i;for(const f of Nm)if(f.type==="series-option"&&f.optionsKey in h){const p=n.getModule(f.optionsKey);if(p){const m=h[f.optionsKey];delete h[f.optionsKey],p.properties.set(m)}}t.properties.set(h),"data"in i&&t.setOptionsData(r),o&&this.registerListeners(t,o,{nodeClick:"seriesNodeClick",nodeDoubleClick:"seriesNodeDoubleClick"}),"seriesGrouping"in i&&(a==null?t.seriesGrouping=void 0:t.seriesGrouping={...t.seriesGrouping,...a})}createAxis(t,i){const n=[],s=this.getModuleContext();for(let r=0;r<t.length;r++){const o=t[r],a=Rh.create(o.type,s);this.applyAxisModules(a,o),kp(a,o,{path:`axes[${r}]`,skip:i}),n.push(a)}return hee(n),n}applyAxisModules(t,i){const n=t.createModuleContext(),s=t.getModuleMap();for(const r of ba.byType("axis-option")){const o=i[r.optionsKey]!=null;o!==s.isEnabled(r)&&(o?(s.addModule(r,a=>a.moduleFactory(n)),t[r.optionsKey]=s.getModule(r)):(s.removeModule(r),delete t[r.optionsKey]))}}registerListeners(t,i,n){t.clearEventListeners();for(const[s,r]of _o(i))if(fu(r)){const o=n==null?void 0:n[s];o==null?t.addEventListener(s,r):t.addEventListener(o,a=>{if((a==null?void 0:a.type)===o){const c=new Proxy(a,{get(h,f,p){return f==="type"?s:Reflect.get(h,f,p)}});r(c)}else r(a)})}}};yn.chartsInstances=new WeakMap;R([sr({newValue(e){this.destroyed||(this.ctx.domManager.setContainer(e),yn.chartsInstances.set(e,this))},oldValue(e){yn.chartsInstances.delete(e)}})],yn.prototype,"container",2);R([sr({newValue(e){this.resize("width option",{inWidth:e})}})],yn.prototype,"width",2);R([sr({newValue(e){this.resize("height option",{inHeight:e})}})],yn.prototype,"height",2);R([sr({newValue(e){this.resize("minWidth option",{inMinWidth:e})}})],yn.prototype,"minWidth",2);R([sr({newValue(e){this.resize("minHeight option",{inMinHeight:e})}})],yn.prototype,"minHeight",2);R([sr({newValue(e){this.resize("overrideDevicePixelRatio option",{inOverrideDevicePixelRatio:e})}})],yn.prototype,"overrideDevicePixelRatio",2);R([P()],yn.prototype,"padding",2);R([P()],yn.prototype,"seriesArea",2);R([P()],yn.prototype,"keyboard",2);R([P()],yn.prototype,"touch",2);R([P(ci(["standalone","integrated"],"a chart mode"))],yn.prototype,"mode",2);R([hi("chartCaptions.title")],yn.prototype,"title",2);R([hi("chartCaptions.subtitle")],yn.prototype,"subtitle",2);R([hi("chartCaptions.footnote")],yn.prototype,"footnote",2);R([P()],yn.prototype,"suppressFieldDotNotation",2);R([sr({changeValue(e,t){this.onAxisChange(e,t)}})],yn.prototype,"axes",2);R([sr({changeValue(e,t){this.onSeriesChange(e,t)}})],yn.prototype,"series",2);var mx=yn,Jk=$t.create(!0,"opts"),ih="AG Charts - Chart was destroyed, cannot perform request.",Pp=class{constructor(t,i,n){this.factoryApi=i,this.licenseManager=n,this.chart=t}async update(t){if(!this.chart)throw new Error(ih);return Jk.group("AgChartInstance.update()",async()=>{var i;this.factoryApi.update(t,this),await((i=this.chart)==null?void 0:i.waitForUpdate())})}async updateDelta(t){if(!this.chart)throw new Error(ih);return Jk.group("AgChartInstance.updateDelta()",async()=>{var i;this.factoryApi.updateUserDelta(this,t),await((i=this.chart)==null?void 0:i.waitForUpdate())})}getOptions(){if(!this.chart)throw new Error(ih);const t=Ii(this.chart.getOptions());for(const i of Object.keys(t))i.startsWith("_")&&delete t[i];return t}waitForUpdate(){if(!this.chart)throw new Error(ih);return this.chart.waitForUpdate()}async download(t){var n;if(!this.chart)throw new Error(ih);const i=await this.prepareResizedChart(this,this.chart,t);try{(n=i.chart)==null||n.download(t==null?void 0:t.fileName,t==null?void 0:t.fileFormat)}finally{i.destroy()}}async __toSVG(t){var n;if(!this.chart)throw new Error(ih);const i=await this.prepareResizedChart(this,this.chart,{width:600,height:300,...t});try{return(n=i==null?void 0:i.chart)==null?void 0:n.toSVG()}finally{i==null||i.destroy()}}async getImageDataURL(t){if(!this.chart)throw new Error(ih);const i=await this.prepareResizedChart(this,this.chart,t);try{return i.chart.getCanvasDataURL(t==null?void 0:t.fileFormat)}finally{i.destroy()}}getState(){return this.factoryApi.caretaker.save(...this.getEnabledOriginators())}async setState(t){const{chart:i}=this;if(!i)return;const n=this.getEnabledOriginators();if(!n.includes(i.ctx.legendManager)){await this.setStateOriginators(t,n);return}await this.setStateOriginators(t,n.filter(s=>s!==i.ctx.zoomManager)),await this.setStateOriginators(t,[i.ctx.zoomManager])}resetAnimations(){var t;(t=this.chart)==null||t.resetAnimations()}skipAnimations(){var t;(t=this.chart)==null||t.skipAnimations()}destroy(){this.releaseChart?(this.releaseChart(),this.releaseChart=void 0):this.chart&&(this.chart.publicApi=void 0,this.chart.destroy()),this.chart=void 0}async prepareResizedChart(t,i,n={}){var C,w,D,M,A,k;const s=n.width??i.width??i.ctx.scene.canvas.width,r=n.height??i.height??i.ctx.scene.canvas.height,o=t.getState(),a=ba.hasEnterpriseModules(),c={...i.chartOptions.processedOverrides,container:document.createElement("div"),width:s,height:r};n.width!=null&&n.height!=null&&(c.overrideDevicePixelRatio=1);const h=i.getOptions();a&&(c.animation={enabled:!1},(C=this.licenseManager)!=null&&C.isDisplayWatermark()&&(c.foreground={text:this.licenseManager.getWatermarkMessage(),image:{url:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjU4IiBoZWlnaHQ9IjQwIiB2aWV3Qm94PSIwIDAgMjU4IDQwIiBmaWxsPSJub25lIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPgo8cGF0aCBkPSJNMjUuNzc5IDI4LjY1N0gxMy4zNTlMMTEuMTczIDM0LjAxMkg1LjY3Mjk3TDE3LjE4MiA3LjA1OTk5SDIxLjk1M0wzMy40NjIgMzQuMDEySDI3Ljk2MkwyNS43NzYgMjguNjU3SDI1Ljc3OVpNMjQuMDY4IDI0LjM5N0wxOS41ODggMTMuNDM0TDE1LjEwNyAyNC4zOTdIMjQuMDY4Wk02Mi4wOTIgMTguODIzSDQ5LjgxN1YyMy4wODZINTYuNzc1QzU2LjU1NSAyNS4yMjIgNTUuNzU1IDI2LjkyNyA1NC4zNzIgMjguMjAyQzUyLjk4OSAyOS40NzYgNTEuMTY2IDMwLjExNSA0OC45MDkgMzAuMTE1QzQ3LjYyMiAzMC4xMTUgNDYuNDUgMjkuODg1IDQ1LjM5MyAyOS40MjNDNDQuMzU4MyAyOC45NzgxIDQzLjQzMjYgMjguMzEzOCA0Mi42OCAyNy40NzZDNDEuOTI3IDI2LjYzOSA0MS4zNDQgMjUuNjMxIDQwLjkzMSAyNC40NTNDNDAuNTE5IDIzLjI3NSA0MC4zMTEgMjEuOTcgNDAuMzExIDIwLjUzN0M0MC4zMTEgMTkuMTA1IDQwLjUxNiAxNy44IDQwLjkzMSAxNi42MjFDNDEuMzQ0IDE1LjQ0MyA0MS45MjcgMTQuNDM2IDQyLjY4IDEzLjU5OEM0My40Mzc2IDEyLjc1NzcgNDQuMzY5NiAxMi4wOTMyIDQ1LjQxMSAxMS42NTFDNDYuNDc4IDExLjE4OSA0Ny42NTYgMTAuOTYgNDguOTQ2IDEwLjk2QzUxLjYxMiAxMC45NiA1My42MzcgMTEuNjAyIDU1LjAyIDEyLjg4NUw1OC4zIDkuNjA0OTlDNTUuODE3IDcuNjY5OTkgNTIuNjc2IDYuNjk5OTkgNDguODcyIDYuNjk5OTlDNDYuNzYgNi42OTk5OSA0NC44NTMgNy4wMzQ5OSA0My4xNTQgNy43MDA5OUM0MS40NTUgOC4zNjc5OSAzOS45OTggOS4zMDM5OSAzOC43ODMgMTAuNTA0QzM3LjU2NyAxMS43MDcgMzYuNjM0IDEzLjE1OCAzNS45NzcgMTQuODU3QzM1LjMxOSAxNi41NTYgMzQuOTk0IDE4LjQ1MSAzNC45OTQgMjAuNTRDMzQuOTk0IDIyLjYzIDM1LjMyOSAyNC40OTQgMzUuOTk1IDI2LjIwNUMzNi42NjIgMjcuOTE2IDM3LjYwNSAyOS4zNzQgMzguODE3IDMwLjU3N0M0MC4wMzIgMzEuNzggNDEuNDg2IDMyLjcxMyA0My4xODggMzMuMzgzQzQ0Ljg4OCAzNC4wNDkgNDYuNzgyIDM0LjM4NCA0OC44NzIgMzQuMzg0QzUwLjk2MSAzNC4zODQgNTIuNzUgMzQuMDQ5IDU0LjM5IDMzLjM4M0M1Ni4wMzEgMzIuNzE2IDU3LjQyNiAzMS43OCA1OC41NzkgMzAuNTc3QzU5LjczMyAyOS4zNzQgNjAuNjE5IDI3LjkxNiA2MS4yMzkgMjYuMjA1QzYxLjg2IDI0LjQ5NCA2Mi4xNyAyMi42MDUgNjIuMTcgMjAuNTRDNjIuMTY5NiAxOS45Njg4IDYyLjE0NDUgMTkuMzk4IDYyLjA5NSAxOC44MjlMNjIuMDkyIDE4LjgyM1pNMTUxLjgxIDE2Ljk4MUMxNTMuNDEgMTQuNjA5IDE1Ny40MTkgMTQuMzU4IDE1OS4wMjIgMTQuMzU4VjE4LjkxQzE1Ni45NTcgMTguOTEgMTU0Ljk4NSAxOC45OTYgMTUzLjc1NyAxOS44OTJDMTUyLjUyOSAyMC43OTIgMTUxLjkxOSAyMS45ODIgMTUxLjkxOSAyMy40NjRWMzMuOTlIMTQ2Ljk2NFYxNC4zNThIMTUxLjczNkwxNTEuODEgMTYuOTgxWk0xNDMuMDExIDE0LjM2MVYzNC4wMzFIMTM4LjI0TDEzOC4xMzEgMzEuMDQ1QzEzNy40NjYgMzIuMDc2IDEzNi41NTEgMzIuOTIxOSAxMzUuNDcxIDMzLjUwNEMxMzQuMzc2IDM0LjA5OSAxMzMuMDY4IDM0LjM5NiAxMzEuNTM2IDM0LjM5NkMxMzAuMiAzNC4zOTYgMTI4Ljk2MyAzNC4xNTIgMTI3LjgyMiAzMy42NjhDMTI2LjcgMzMuMTk2NCAxMjUuNjg5IDMyLjQ5NSAxMjQuODU1IDMxLjYwOUMxMjQuMDE4IDMwLjcyMiAxMjMuMzU0IDI5LjY2MiAxMjIuODcxIDI4LjQyMkMxMjIuMzg0IDI3LjE4NSAxMjIuMTQyIDI1LjgxMSAxMjIuMTQyIDI0LjMwNEMxMjIuMTQyIDIyLjc5OCAxMjIuMzg0IDIxLjM3OCAxMjIuODcxIDIwLjExNkMxMjMuMzU3IDE4Ljg1NCAxMjQuMDE4IDE3Ljc3MiAxMjQuODU1IDE2Ljg3M0MxMjUuNjg4IDE1Ljk3NjQgMTI2LjY5OCAxNS4yNjM2IDEyNy44MjIgMTQuNzhDMTI4Ljk2MyAxNC4yODEgMTMwLjIwMyAxNC4wMzMgMTMxLjUzNiAxNC4wMzNDMTMzLjA0MyAxNC4wMzMgMTM0LjMzIDE0LjMxOCAxMzUuMzk3IDE0Ljg4OEMxMzYuNDYyIDE1LjQ1ODkgMTM3LjM3NSAxNi4yNzggMTM4LjA1NyAxNy4yNzZWMTQuMzYxSDE0My4wMTFaTTEzMi42MzEgMzAuMTMzQzEzNC4yNTYgMzAuMTMzIDEzNS41NjcgMjkuNTk0IDEzNi41NjUgMjguNTEyQzEzNy41NjEgMjcuNDMgMTM4LjA2IDI1Ljk5MSAxMzguMDYgMjQuMTk2QzEzOC4wNiAyMi40MDEgMTM3LjU2MSAyMC45OSAxMzYuNTY1IDE5Ljg5OUMxMzUuNTcgMTguODA3IDEzNC4yNTkgMTguMjU4IDEzMi42MzEgMTguMjU4QzEzMS4wMDMgMTguMjU4IDEyOS43MjkgMTguODA0IDEyOC43MzQgMTkuODk5QzEyNy43MzggMjAuOTkzIDEyNy4yMzkgMjIuNDM4IDEyNy4yMzkgMjQuMjMzQzEyNy4yMzkgMjYuMDI4IDEyNy43MzUgMjcuNDMzIDEyOC43MzQgMjguNTE1QzEyOS43MjkgMjkuNTk0IDEzMS4wMjggMzAuMTM2IDEzMi42MzEgMzAuMTM2VjMwLjEzM1pNOTMuNjk4IDI3Ljg3NkM5My41Nzk1IDI4LjAwMjUgOTMuNDU2NCAyOC4xMjQ2IDkzLjMyOSAyOC4yNDJDOTEuOTQ3IDI5LjUxNiA5MC4xMjMgMzAuMTU1IDg3Ljg2NiAzMC4xNTVDODYuNTggMzAuMTU1IDg1LjQwOCAyOS45MjYgODQuMzUgMjkuNDY0QzgzLjMxNTUgMjkuMDE4OSA4Mi4zODk4IDI4LjM1NDYgODEuNjM3IDI3LjUxN0M4MC44ODQgMjYuNjc5IDgwLjMwMSAyNS42NzIgNzkuODg5IDI0LjQ5NEM3OS40NzYgMjMuMzE1IDc5LjI2OSAyMi4wMSA3OS4yNjkgMjAuNTc4Qzc5LjI2OSAxOS4xNDUgNzkuNDczIDE3Ljg0IDc5Ljg4OSAxNi42NjJDODAuMzAxIDE1LjQ4NCA4MC44ODQgMTQuNDc2IDgxLjYzNyAxMy42MzlDODIuMzk0OSAxMi43OTg3IDgzLjMyNzMgMTIuMTM0MiA4NC4zNjkgMTEuNjkyQzg1LjQzNiAxMS4yMyA4Ni42MTQgMTEgODcuOTAzIDExQzkwLjU3IDExIDkyLjU5NSAxMS42NDIgOTMuOTc3IDEyLjkyNkw5Ny4yNTggOS42NDQ5OUM5NC43NzQgNy43MTA5OSA5MS42MzMgNi43Mzk5OSA4Ny44MjkgNi43Mzk5OUM4NS43MTggNi43Mzk5OSA4My44MTEgNy4wNzQ5OSA4Mi4xMTIgNy43NDE5OUM4MC40MTMgOC40MDc5OSA3OC45NTYgOS4zNDQ5OSA3Ny43NCAxMC41NDVDNzYuNTI1IDExLjc0NyA3NS41OTIgMTMuMTk5IDc0LjkzNCAxNC44OThDNzQuMjc3IDE2LjU5NyA3My45NTEgMTguNDkxIDczLjk1MSAyMC41ODFDNzMuOTUxIDIyLjY3IDc0LjI4NiAyNC41MzQgNzQuOTUzIDI2LjI0NUM3NS42MTkgMjcuOTU3IDc2LjU2MiAyOS40MTQgNzcuNzc0IDMwLjYxN0M3OC45OSAzMS44MiA4MC40NDQgMzIuNzUzIDgyLjE0NiAzMy40MjNDODMuODQ1IDM0LjA5IDg1LjczOSAzNC40MjQgODcuODI5IDM0LjQyNEM4OS45MTkgMzQuNDI0IDkxLjcwOCAzNC4wOSA5My4zNDggMzMuNDIzQzk0LjcxOCAzMi44NjUgOTUuOTE4IDMyLjEyMSA5Ni45NDggMzEuMTkxQzk3LjE0OSAzMS4wMDggOTcuMzQ4IDMwLjgxNSA5Ny41MzcgMzAuNjJMOTMuNzAxIDI3Ljg4NUw5My42OTggMjcuODc2Wk0xMTAuODAyIDE0LjAxNUMxMDkuMTk5IDE0LjAxNSAxMDYuODM2IDE0LjQ3MSAxMDUuNjExIDE2LjE1OEwxMDUuNTM3IDYuMDE1OTlIMTAwLjc2NVYzMy45MzlIMTA1LjcyVjIyLjY0MUMxMDUuNzcxIDIxLjQ2MDcgMTA2LjI4OCAyMC4zNDg4IDEwNy4xNTcgMTkuNTQ4OUMxMDguMDI3IDE4Ljc0OTEgMTA5LjE3OCAxOC4zMjY2IDExMC4zNTggMTguMzc0QzExMy4zOTcgMTguMzc0IDExNC4yNjggMjEuMTU5IDExNC4yNjggMjIuNjQxVjMzLjkzOUgxMTkuMjIzVjIxLjA1OUMxMTkuMjIzIDIxLjA1OSAxMTkuMTQyIDE0LjAxNSAxMTAuODAyIDE0LjAxNVpNMTczLjc2MyAxNC4zNThIMTY5Ljk5OVY4LjcxNDk5SDE2NS4wNDhWMTQuMzU4SDE2MS4yODRWMTguOTE2SDE2NS4wNDhWMzQuMDAzSDE2OS45OTlWMTguOTE2SDE3My43NjNWMTQuMzU4Wk0xOTAuNzg3IDI1LjI2MkMxOTAuMTI5IDI0LjUwMTQgMTg5LjMwNyAyMy44OTk0IDE4OC4zODQgMjMuNTAxQzE4Ny40ODggMjMuMTE3IDE4Ni4zMzEgMjIuNzMyIDE4NC45NDggMjIuMzY0QzE4NC4xNjUgMjIuMTQzOSAxODMuMzkgMjEuODk3OCAxODIuNjIzIDIxLjYyNkMxODIuMTYzIDIxLjQ2MjEgMTgxLjc0MSAyMS4yMDY2IDE4MS4zODMgMjAuODc1QzE4MS4yMzUgMjAuNzQyMSAxODEuMTE4IDIwLjU3ODkgMTgxLjAzOSAyMC4zOTY0QzE4MC45NjEgMjAuMjE0IDE4MC45MjIgMjAuMDE2NiAxODAuOTI3IDE5LjgxOEMxODAuOTI3IDE5LjI3MiAxODEuMTU2IDE4Ljg0NCAxODEuNjI1IDE4LjUxQzE4Mi4xMjEgMTguMTU2IDE4Mi44NjIgMTcuOTc2IDE4My44MjYgMTcuOTc2QzE4NC43OSAxNy45NzYgMTg1LjU4NyAxOC4yMDkgMTg2LjE0OCAxOC42NjhDMTg2LjcwNiAxOS4xMjQgMTg3LjAwNyAxOS43MjUgMTg3LjA3MiAyMC41TDE4Ny4wOTQgMjAuNzgySDE5MS42MzNMMTkxLjYxNyAyMC40NkMxOTEuNTIxIDE4LjQ4NSAxOTAuNzcxIDE2LjkgMTg5LjM4NSAxNS43NUMxODguMDEyIDE0LjYxMiAxODYuMTg1IDE0LjAzMyAxODMuOTYyIDE0LjAzM0MxODIuNDc3IDE0LjAzMyAxODEuMTQxIDE0LjI4NyAxNzkuOTk0IDE0Ljc4NkMxNzguODMxIDE1LjI5MSAxNzcuOTI2IDE1Ljk5NSAxNzcuMjk2IDE2Ljg4MkMxNzYuNjczIDE3Ljc0NTUgMTc2LjMzOCAxOC43ODQgMTc2LjM0MSAxOS44NDlDMTc2LjM0MSAyMS4xNjcgMTc2LjY5OCAyMi4yNDkgMTc3LjM5OSAyMy4wNjRDMTc4LjA2IDIzLjg0MzIgMTc4Ljg5OCAyNC40NTM0IDE3OS44NDIgMjQuODQ0QzE4MC43NDQgMjUuMjE2IDE4MS45MjggMjUuNjA3IDE4My4zNjEgMjZDMTg0LjgwNiAyNi40MSAxODUuODcyIDI2Ljc4NSAxODYuNTMgMjcuMTIzQzE4Ny4xIDI3LjQxNCAxODcuMzc5IDI3Ljg0NSAxODcuMzc5IDI4LjQ0NEMxODcuMzc5IDI5LjA0MiAxODcuMTIyIDI5LjQ2NyAxODYuNTk1IDI5LjgzOUMxODYuMDQzIDMwLjIyNiAxODUuMjM3IDMwLjQyNSAxODQuMjAxIDMwLjQyNUMxODMuMTY2IDMwLjQyNSAxODIuMzk0IDMwLjE3NCAxODEuNzQ5IDI5LjY3NEMxODEuMTEzIDI5LjE4MSAxODAuNzcyIDI4LjU4OSAxODAuNzEgMjcuODY0TDE4MC42ODUgMjcuNTgySDE3Ni4wMTNMMTc2LjAyNSAyNy45MDFDMTc2LjA2NyAyOS4wOTU1IDE3Ni40NzIgMzAuMjQ4NyAxNzcuMTg4IDMxLjIwNkMxNzcuOTA3IDMyLjE4IDE3OC44OTMgMzIuOTU4IDE4MC4xMTggMzMuNTE5QzE4MS4zMzYgMzQuMDc3IDE4Mi43MzIgMzQuMzYyIDE4NC4yNjYgMzQuMzYyQzE4NS44MDEgMzQuMzYyIDE4Ny4xMDkgMzQuMTA4IDE4OC4yMzggMzMuNjA5QzE4OS4zNzYgMzMuMTA0IDE5MC4yNzIgMzIuMzk0IDE5MC45MDEgMzEuNDk0QzE5MS41MzQgMzAuNTkyIDE5MS44NTMgMjkuNTU0IDE5MS44NTMgMjguNDAzQzE5MS44MjggMjcuMTEgMTkxLjQ2NiAyNi4wNTMgMTkwLjc3NyAyNS4yNjJIMTkwLjc4N1oiIGZpbGw9IiM5QjlCOUIiLz4KPHBhdGggZD0iTTI0MS45ODIgMjUuNjU4MlYxNy43MTE3SDIyOC40NDFMMjIwLjQ5NCAyNS42NTgySDI0MS45ODJaIiBmaWxsPSIjOUI5QjlCIi8+CjxwYXRoIGQ9Ik0yNTcuMjM5IDUuOTUwODFIMjQwLjI2NUwyMzIuMjU1IDEzLjg5NzNIMjU3LjIzOVY1Ljk1MDgxWiIgZmlsbD0iIzlCOUI5QiIvPgo8cGF0aCBkPSJNMjEyLjYxMSAzMy42MDQ4TDIxNi42OCAyOS41MzYxSDIzMC40MTJWMzcuNDgyN0gyMTIuNjExVjMzLjYwNDhaIiBmaWxsPSIjOUI5QjlCIi8+CjxwYXRoIGQ9Ik0yMTUuNTk5IDIxLjc4MDNIMjI0LjM3MkwyMzIuMzgyIDEzLjgzMzdIMjE1LjU5OVYyMS43ODAzWiIgZmlsbD0iIzlCOUI5QiIvPgo8cGF0aCBkPSJNMjA2IDMzLjYwNDdIMjEyLjYxMUwyMjAuNDk0IDI1LjY1ODJIMjA2VjMzLjYwNDdaIiBmaWxsPSIjOUI5QjlCIi8+CjxwYXRoIGQ9Ik0yNDAuMjY1IDUuOTUwODFMMjM2LjE5NyAxMC4wMTk0SDIxMC4yNTlWMi4wNzI4OEgyNDAuMjY1VjUuOTUwODFaIiBmaWxsPSIjOUI5QjlCIi8+Cjwvc3ZnPgo=",width:170,height:25,right:25,bottom:50,opacity:.7}}));const f={...i.chartOptions.specialOverrides},p={...i.chartOptions.optionMetadata},m=this.factoryApi.create(h,c,f,p);await m.setState(o),(w=m.chart)==null||w.ctx.zoomManager.updateZoom("chartProxy",i.ctx.zoomManager.getZoom()),(D=m.chart)==null||D.ctx.legendManager.clearData(),(M=m.chart)==null||M.ctx.legendManager.update(i.ctx.legendManager.getData()),i.series.forEach((_,F)=>{_.visible||(m.chart.series[F].visible=!1)});const b=[];for(const _ of i.modulesManager.legends())b.push(((A=_.legend.pagination)==null?void 0:A.currentPage)??0);for(const _ of m.chart.modulesManager.legends()){const F=b.shift()??0;_.legend.pagination&&_.legend.pagination.setPage(F)}return(k=m.chart)==null||k.update(0,{forceNodeDataRefresh:!0}),await m.waitForUpdate(),m}getEnabledOriginators(){var h,f,p;if(!this.chart)return[];const{chartOptions:{processedOptions:t,optionMetadata:i},ctx:{annotationManager:n,chartTypeOriginator:s,zoomManager:r,legendManager:o}}=this.chart,a=[];return"annotations"in t&&((h=t.annotations)!=null&&h.enabled)&&a.push(n),i.presetType==="price-volume"&&a.push(s),((f=t.navigator)!=null&&f.enabled||(p=t.zoom)!=null&&p.enabled)&&a.push(r),"legend"in this.chart&&a.push(o),a}async setStateOriginators(t,i){var n,s;this.factoryApi.caretaker.restore(t,...i),(n=this.chart)==null||n.ctx.updateService.update(2,{forceNodeDataRefresh:!0}),await((s=this.chart)==null?void 0:s.waitForUpdate())}};Pp.chartInstances=new WeakMap;R([sr({oldValue(e){e.destroyed||(e.publicApi=void 0),Pp.chartInstances.delete(e)},newValue(e){e&&(e.publicApi=this,Pp.chartInstances.set(e,this))}})],Pp.prototype,"chart",2);var e_=Pp,CT=class extends VC{constructor(e){super(),this.ctx=e,this.localeText=void 0}};R([mu(e=>{e.ctx.localeManager.setLocaleText(e.localeText)}),P()],CT.prototype,"localeText",2);R([mu(e=>{e.ctx.localeManager.setLocaleTextFormatter(e.getLocaleText)}),P()],CT.prototype,"getLocaleText",2);var Xee={type:"root",optionsKey:"locale",packageType:"community",chartTypes:["cartesian","polar","hierarchy","topology","flow-proportion","standalone","gauge"],moduleFactory:e=>new CT(e)},zm=class extends _m{constructor(){super(...arguments),this.type="band",this.index=void 0,this._domain=[]}set domain(e){this._domain!==e&&(this.invalid=!0,this._domain=e,this.index=void 0)}get domain(){return this._domain}normalizeDomains(...e){let t;const i=new Set;let n=!0;for(const s of e)i.has(s)||(i.add(s),t==null?t=t_(s):(n&&(n=qee(s,t)),t=t_([...t,...s])));return t??(t=[]),{domain:t,animatable:n}}toDomain(e){}invert(e,t=!1){this.refresh();const i=t?this.bandwidth/2:0,n=this.invertNearestIndex(Math.max(0,e-i));return t||e===this.ordinalRange(n)?this.domain[n]:void 0}getIndex(e){let{index:t}=this;if(t==null){const{domain:i}=this;t=new Map;for(let n=0;n<i.length;n++)t.set(xs(i[n]),n);this.index=t}return t.get(xs(e))}};function t_(e){let t;const i=new Set;for(const n of e){const s=xs(n),r=i.size;i.add(s),i.size!==r?t==null||t.push(n):t??(t=e.slice(0,i.size))}return t??e}function qee(e,t){let i=-1;for(const n of e){const s=t.indexOf(n);if(s===-1)i=1/0;else{if(s<=i)return!1;i=s}}return!0}var Bf=class IB extends Pm{constructor(t,i=new zm){super(t,i),this.groupPaddingInner=.1,this.includeInvisibleDomains=!0,this.nice=!1}static is(t){return t instanceof IB}normaliseDataDomain(t){return{domain:t,clipped:!1}}updateScale(){super.updateScale();let{paddingInner:t,paddingOuter:i}=this;if(!Vt(t)||!Vt(i)){const n=this.reduceBandScalePadding();t??(t=n.inner),i??(i=n.outer)}this.scale.paddingInner=t??0,this.scale.paddingOuter=i??0}reduceBandScalePadding(){return this.boundSeries.reduce((t,i)=>{var s;const n=(s=i.getBandScalePadding)==null?void 0:s.call(i);return n&&(t.inner>n.inner&&(t.inner=n.inner),t.outer<n.outer&&(t.outer=n.outer)),t},{inner:1/0,outer:-1/0})}};Bf.className="CategoryAxis";Bf.type="category";R([P()],Bf.prototype,"groupPaddingInner",2);R([P()],Bf.prototype,"paddingInner",2);R([P()],Bf.prototype,"paddingOuter",2);var Kh=Bf,i_=class extends zm{normalizeDomains(...e){const{domain:t}=super.normalizeDomains(...e);return{domain:t,animatable:!1}}getIndex(e){return super.getIndex(e)??this.getMatchIndex(e)}getMatchIndex(e){const t=JSON.stringify(e),i=this._domain.find(n=>JSON.stringify(n)===t);if(i!=null)return super.getIndex(i)}};function Bl(e){if(e.length===0)return null;let t=1/0,i=-1/0;for(const s of e){const r=s instanceof Date?s.getTime():s;typeof r=="number"&&(r<t&&(t=r),r>i&&(i=r))}const n=[t,i];return n.every(isFinite)?n:null}function xT(e,t,i){let n=!1;return e.length>2&&(e=Bl(e)??[NaN,NaN]),t!=null&&(n||(n=t>e[0]),e=[t,e[1]]),i!=null&&(n||(n=i<e[1]),e=[e[0],i]),e[0]>e[1]&&(e=[]),{extent:e,clipped:n}}var fp=new WeakMap;function fC(e,t){var n,s,r;const i=JSON.stringify(e,null,0);return fp.has(t)||fp.set(t,new Map),(n=fp.get(t))!=null&&n.has(i)||(s=fp.get(t))==null||s.set(i,t(e)),(r=fp.get(t))==null?void 0:r.get(i)}function Ps(e,t){const i=new Map,n=(...o)=>o.map(a=>typeof a=="object"||typeof a=="symbol"?a:(i.has(a)||i.set(a,{v:a}),i.get(a))),s={},r=new WeakMap;return(...o)=>{const a=o.length===0?[s]:n(...o);let c=r;for(const p of a.slice(0,-1))c.has(p)||c.set(p,new WeakMap),c=c.get(p);const h=a.at(-1);let f=c.get(h);return f?t==null||t("hit",e,o):(f=e(...o),c.set(h,f),t==null||t("miss",e,o)),f}}function yx(e,t=[0,0]){for(const i of e)typeof i=="number"&&(i<0&&(t[0]+=i),i>0&&(t[1]+=i));return t}function Qee(e,t){return{id:e,matchGroupIds:[t],type:"aggregate",aggregateFunction:n=>yx(n)}}function kB(e,t){return{id:e,type:"aggregate",matchGroupIds:t?[t]:void 0,aggregateFunction:i=>yx(i),groupAggregateFunction:(i,n=[0,0])=>(n[0]+=(i==null?void 0:i[0])??0,n[1]+=(i==null?void 0:i[1])??0,n)}}function Jee(e,t){return{id:e,matchGroupIds:[t],type:"aggregate",aggregateFunction:n=>Bc.extendDomain(n)}}function oD(e){return{id:e,type:"aggregate",aggregateFunction:()=>[0,1],groupAggregateFunction:(t,i=[0,0])=>(i[0]+=(t==null?void 0:t[0])??0,i[1]+=(t==null?void 0:t[1])??0,i)}}function _B(e,t){return{id:e,matchGroupIds:t?[t]:void 0,type:"aggregate",aggregateFunction:n=>yx(n),groupAggregateFunction:(n,s=[0,0,-1])=>(s[0]+=(n==null?void 0:n[0])??0,s[1]+=(n==null?void 0:n[1])??0,s[2]++,s),finalFunction:(n=[0,0,0])=>{const s=n[0]+n[1];return s>=0?[0,s/n[2]]:[s/n[2],0]}}}function aD(e,t,i){const n={id:e,matchGroupIds:i?[i]:void 0,type:"aggregate",aggregateFunction:(s,r=[])=>{const o=r[1]-r[0];return t.aggregateFunction(s).map(a=>a/o)}};return t.groupAggregateFunction&&(n.groupAggregateFunction=t.groupAggregateFunction),n}function NB(e){return()=>{let t=0;return i=>Vt(i)?(t+=e?Math.max(0,i):i,t):i}}function OB(){return()=>{let e=0;return t=>{if(!Vt(t))return t;const i=e;return e+=t,i}}}function PB(e){return e!=null&&hx(e)}function ete(e){return e!=null}function FB(e){switch(e){case"number":case"log":case"ordinal-time":case"time":case"color":return PB;default:return ete}}function BB(e){switch(e){case"number":case"log":case"time":case"color":return"range";default:return"category"}}function Po(e,t,i={}){return{property:e,type:"key",valueType:BB(t),validation:FB(t),...i}}function Ft(e,t,i={}){return{property:e,type:"value",valueType:BB(t),validation:FB(t),...i}}function zB(e,t={}){return{property:e,type:"value",valueType:"range",missingValue:1,processor:()=>()=>1,...t}}var tte=function(e){return e};function GB(...e){const t=e.filter(i=>i!=null);return t.length===0?()=>tte:t.length===1?t[0]:()=>{const i=t.map(n=>n());return(n,s)=>i.reduce((r,o)=>o(r,s),n)}}function ST(e,t={}){const{min:i=-1/0,max:n=1/0,processor:s,...r}=t;return{type:"value",property:e,valueType:"range",validation:PB,processor:GB(s,()=>o=>Vt(o)?ut(i,o,n):o),...r}}function nm(e,t,i={}){const{onlyPositive:n,processor:s,...r}=i;return{...Ft(e,t,r),processor:GB(s,NB(n))}}function ite(e,t,i={}){return{...Ft(e,t,i),processor:OB()}}function iu(e,t,i,n,s){return[Ft(e,s,n),UB(n.groupId,t,i,n.separateNegative),...n.rangeId!=null?[Jee(n.rangeId,n.groupId)]:[]]}function HB(e,t,i){return[Ft(e,t,i),YB(i.groupId)]}var jB={type:"reducer",property:"smallestKeyInterval",initialValue:1/0,reducer:()=>{let e=NaN;return(t=1/0,i)=>{const n=typeof i[0]=="number"?i[0]:Number(i[0]),s=Math.abs(n-e);return e=n,!isNaN(s)&&s>0&&s<t?s:t}}},VB={type:"reducer",property:"largestKeyInterval",initialValue:-1/0,reducer:()=>{let e=NaN;return(t=-1/0,i)=>{const n=typeof i[0]=="number"?i[0]:Number(i[0]),s=Math.abs(n-e);return e=n,!isNaN(s)&&s>0&&s>t?s:t}}},WB={type:"processor",property:"sortedGroupDomain",calculate:({domain:{groups:e}})=>e==null?void 0:e.slice().sort((t,i)=>{for(let n=0;n<t.length;n++){const s=t[n]-i[n];if(s!==0)return s}return 0})};function nte({normaliseTo:e}){const t=(i,n)=>{if(n===0)return null;const s=(i??0)*e/n;return s>=0?Math.min(e,s):Math.max(-e,s)};return()=>()=>(i,n,s)=>{const r=ste(i,n,s);for(const o of n)for(const a of s.datumIndices[o]??[]){const c=i[o],h=c[a];if(h==null){c[a]=void 0;continue}c[a]=typeof h=="number"?t(h,r):h.map(f=>t(f,r))}}}function ste(e,t,i){const n=[0,0];for(const s of t){const r=e[s];for(const o of i.datumIndices[s]??[]){const a=r[o];if(a==null)continue;const c=typeof a=="number"?a:Math.max(...a.map(f=>f??0)),h=c<0?0:1;h===0?n[h]=Math.min(n[h],c):n[h]=Math.max(n[h],c)}}return Math.max(Math.abs(n[0]),n[1])}function vx(e,t){return{type:"group-value-processor",matchGroupIds:e,adjust:fC({normaliseTo:t},nte)}}function rte({normaliseTo:e,zeroDomain:t,rangeMin:i,rangeMax:n}){const s=e[1]-e[0],r=(o,a,c)=>{const h=e[0]+(o-a)/c*s;return c===0?t:h>=e[1]?e[1]:h<e[0]?e[0]:h};return()=>(o,a)=>{let[c,h]=o.domain.values[a];i!=null&&(c=i),n!=null&&(h=n);const f=h-c;o.domain.values[a]=[e[0],e[1]];const p=o.columns[a];for(let m=0;m<p.length;m+=1)p[m]=r(p[m],c,f)}}function kh(e,t,i,n,s){return{type:"property-value-processor",property:e,adjust:fC({normaliseTo:t,rangeMin:n,rangeMax:s,zeroDomain:i},rte)}}var lD=1,cD=2,n_=(e,t,i,n)=>{var o,a;let s=lD|cD;if(t.valueType==="category")return i.length!==e&&(s&=-2),s;let r=(o=n[0])==null?void 0:o.valueOf();for(let c=1;s!==0&&c<n.length;c++){const h=(a=n[c])==null?void 0:a.valueOf();(!Number.isFinite(h)||r>h)&&(s&=-3),Number.isFinite(h)&&r===h&&(s&=-2),r=h}return s};function zf(e){return{type:"processor",property:"animationValidation",calculate(t){const{keys:i,values:n}=t.defs,{input:{count:s},domain:{keys:r,values:o},keys:a,columns:c}=t;let h=lD|cD;if(s!==0){for(let f=0;h!==0&&f<i.length;f++)for(const p of i[f].scopes)h&=n_(s,i[f],r[f],a[f].get(p));for(let f=0;h!==0&&f<n.length;f++){const p=n[f];e!=null&&e.includes(p.id)&&(h&=n_(s,p,o[f],c[f]))}}return{uniqueKeys:(h&lD)!==0,orderedKeys:(h&cD)!==0}}}}function ote({mode:e,separateNegative:t}){return()=>()=>(i,n,s)=>{const r=[0,0];for(const o of n)for(const a of s.datumIndices[o]??[]){const c=i[o],h=c[a],f=yL(h)&&t?0:1;Vt(h)&&(e==="normal"&&(r[f]+=h),c[a]=r[f],e==="trailing"&&(r[f]+=h))}}}function ate({mode:e,sum:t}){return()=>{const i=[];let n=!0;return()=>(s,r,o)=>{let a=0;for(const c of r){const h=s[c];for(const f of o.datumIndices[c]??[]){const p=h[f],m=n&&t==="current"?0:i[c];i[c]=p;const b=t==="current"?p:m;if(!Vt(p)||!Vt(m)){h[f]=a;continue}e==="normal"&&(a+=b),h[f]=a,e==="trailing"&&(a+=b)}}n=!1}}}function UB(e,t,i,n=!1){let s;if(t.startsWith("window")){const r=t.endsWith("-trailing")?"trailing":"normal";s=fC({mode:r,sum:i},ate)}else s=fC({mode:t,separateNegative:n},ote);return{type:"group-value-processor",matchGroupIds:[e],adjust:s}}function lte(){return()=>(e,t,i)=>{const n=new Float64Array(t.length);let s=0;for(const r of t){const o=e[r];for(const a of i.datumIndices[r]??[]){const c=o[a];n[s]=Number.isFinite(c)?c:NaN,s+=1,o[a]=n.subarray(0,s)}}}}function YB(e){return{type:"group-value-processor",matchGroupIds:[e],adjust:lte}}function s_(e){return e.id??e.property}function cte(e,t,i){var a,c;const n=new Map,s=t.defs.values;for(let h=0;h<s.length;h+=1){const f=s[h];if(((a=f.scopes)==null?void 0:a.includes(e))===!1)continue;const p=s_(f);if(n.has(p))return;n.set(p,h)}const r=[],o=i.defs.values;for(let h=0;h<o.length;h+=1){const f=o[h];if(((c=f.scopes)==null?void 0:c.includes(e))===!1)continue;const p=s_(f),m=n.get(p);if(m==null)return;n.delete(p),r.push({previousIndex:m,nextIndex:h})}if(n.size===0)return r}function Uw(e,t,i,n,s){for(const{previousIndex:r,nextIndex:o}of i){const a=e[r],c=t[o],h=a[n],f=c[s];if(h!==f)return!1}return!0}function Gf(e,t,i=!0){return{type:"processor",property:"diff",calculate(n,s){const r=new Map,o=new Map,a=new Map,c=new Map,h=t.keys,f=n.keys,p=t.columns,m=n.columns,b=cte(e,t,n);if(b==null)return s;const C=Math.max(t.input.count,n.input.count);for(let M=0;M<C;M++){const A=M<t.input.count,k=M<n.input.count,_=A?lC(h,e,M):void 0,F=_!=null?Yn(_):"",N=k?lC(f,e,M):void 0,z=N!=null?Yn(N):"";if(k&&A&&F===z){Uw(p,m,b,M,M)||a.set(z,M);continue}const V=c.get(z);V!=null?((i||!Uw(p,m,b,V,M))&&(a.set(z,M),r.set(z,M)),c.delete(z)):k&&o.set(z,M);const j=o.get(F);j!=null?((i||!Uw(p,m,b,j,M))&&(a.set(F,M),r.set(F,M)),o.delete(F)):A&&(a.delete(F),c.set(F,M))}const D={changed:o.size>0||a.size>0||c.size>0,added:new Set(o.keys()),updated:new Set(a.keys()),removed:new Set(c.keys()),moved:new Set(r.keys())};return{...s,[e]:D}}}}function Yn(e,...t){let i;return bt(e)?i=e.map(s=>eD(s)).join("___"):i=eD(e),(typeof i=="string"||typeof i=="number"||typeof i=="boolean"||i instanceof Date)&&t.length>0&&(i+=`___${t.join("___")}`),i}var ute=class{constructor(){this.top=1/0,this.right=-1/0,this.bottom=-1/0,this.left=1/0}update(e,t){e>this.right&&(this.right=e),e<this.left&&(this.left=e),t>this.bottom&&(this.bottom=t),t<this.top&&(this.top=t)}},hte=class KB{constructor(t="",i,n){this.label=t,this.parent=i,this.refId=n,this.x=0,this.y=0,this.subtreeLeft=NaN,this.subtreeRight=NaN,this.children=[],this.leafCount=0,this.prelim=0,this.mod=0,this.ancestor=this,this.change=0,this.shift=0,this.index=0,this.screenX=0,this.depth=i?i.depth+1:0}insertTick(t,i){let n=this;for(let s=0;s<t.length;s++){const r=t[s],o=s!==t.length-1,{children:a}=n,c=a.find(h=>h.label===r);if(c&&o)n=c;else{const h=new KB(r,n,i);h.index=a.length,a.push(h),o&&(n=h)}}}getLeftSibling(){var t;return this.index>0?(t=this.parent)==null?void 0:t.children[this.index-1]:void 0}getLeftmostSibling(){var t;return this.index>0?(t=this.parent)==null?void 0:t.children[0]:void 0}nextLeft(){return this.children[0]}nextRight(){return this.children.at(-1)}getSiblings(){var t;return((t=this.parent)==null?void 0:t.children.filter((i,n)=>n!==this.index))??[]}};function dte(e){const t=e.reduce((n,s)=>n<s.length?s.length:n,0),i=new hte;for(let n=0;n<e.length;n++){const s=e[n];for(;s.length<t;)s.push("");i.insertTick(s,n)}return i}function fte(e,t,i){const n=t.index-e.index,s=i/n;t.change-=s,t.shift+=i,e.change+=s,t.prelim+=i,t.mod+=i}function gte(e,t,i){return t.getSiblings().indexOf(e.ancestor)>=0?e.ancestor:i}function pte({children:e}){let t=0,i=0;for(let n=e.length-1;n>=0;n--){const s=e[n];s.prelim+=t,s.mod+=t,i+=s.change,t+=s.shift+i}}function mte(e,t){const i=e.getLeftSibling();if(i){let n=e,s=e,r=i,o=s.getLeftmostSibling(),a=s.mod,c=n.mod,h=r.mod,f=o.mod;for(;r.nextRight()&&s.nextLeft();){r=r.nextRight(),s=s.nextLeft(),o=o.nextLeft(),n=n.nextRight(),n.ancestor=e;const p=r.prelim+h-(s.prelim+a)+1;p>0&&(fte(gte(r,e,t),e,p),a+=p,c+=p),h+=r.mod,a+=s.mod,f+=o.mod,c+=n.mod}r.nextRight()&&!n.nextRight()?n.mod+=h-c:(s.nextLeft()&&!o.nextLeft()&&(o.mod+=a-f),t=e)}return t}function $B(e){const{children:t}=e;if(t.length){let[i]=t;for(const r of t)$B(r),i=mte(r,i);pte(e);const n=(t[0].prelim+t.at(-1).prelim)/2,s=e.getLeftSibling();s?(e.prelim=s.prelim+1,e.mod=e.prelim-n):e.prelim=n}else{const i=e.getLeftSibling();e.prelim=i?i.prelim+1:0}}function ZB(e,t,i){e.x=e.prelim+t,e.y=e.depth,i.insertNode(e);for(const n of e.children)ZB(n,t+e.mod,i)}function XB(e){const{children:t}=e;let i=0;for(const n of t)XB(n),n.children.length?i+=n.leafCount:i++;e.leafCount=i,t.length?(e.subtreeLeft=t[0].subtreeLeft,e.subtreeRight=t[t.length-1].subtreeRight,e.x=(e.subtreeLeft+e.subtreeRight)/2):(e.subtreeLeft=e.x,e.subtreeRight=e.x)}function yte(e){const t=new vte,i=dte(e);return $B(i),ZB(i,-i.prelim,t),XB(i),t}var vte=class{constructor(){this.dimensions=new ute,this.nodes=[],this.depth=0}insertNode(e){this.depth<e.depth&&(this.depth=e.depth),this.dimensions.update(e.x,e.y),this.nodes.push(e)}scalingX(e,t){let i=1;if(e>0){const{left:n,right:s}=this.dimensions;i=e/(s-n)}return t&&(i*=-1),i}},zl=class extends ht{constructor(){super(...arguments),this.enabled=!0}};R([P()],zl.prototype,"enabled",2);R([P()],zl.prototype,"avoidCollisions",2);R([P()],zl.prototype,"color",2);R([P()],zl.prototype,"spacing",2);R([P()],zl.prototype,"fontStyle",2);R([P()],zl.prototype,"fontWeight",2);R([P(Rr.restrict({min:1}))],zl.prototype,"fontSize",2);R([P()],zl.prototype,"fontFamily",2);var bx=class extends ht{constructor(){super(...arguments),this.enabled=!0}};R([P()],bx.prototype,"enabled",2);R([P()],bx.prototype,"width",2);R([P()],bx.prototype,"stroke",2);var wT=class extends ht{constructor(){super(...arguments),this.label=new zl,this.tick=new bx}};R([P()],wT.prototype,"label",2);R([P()],wT.prototype,"tick",2);var $h=class extends Kh{constructor(e){super(e,new i_),this.tickScale=new i_,this.depthOptions=new Em(wT),this.includeInvisibleDomains=!0,this.tickScale.paddingInner=1,this.tickScale.paddingOuter=0}resizeTickTree(){if(!this.tickTreeLayout)return;const{nodes:e}=this.tickTreeLayout,{range:t,step:i,inset:n,bandwidth:s}=this.scale,r=Math.abs(t[1]-t[0])-i,o=this.tickTreeLayout.scalingX(r,t[0]>t[1]),a=n+s/2;let c=0;for(const h of e){const f=h.x*o;c>f&&(c=f),h.screenX=f+a}for(const h of e)h.screenX-=c}getDepthOptionsMap(e){var s,r,o,a;const t=[],{depthOptions:i,label:n}=this;for(let c=0;c<e;c++)t.push(((s=i[c])==null?void 0:s.label.enabled)??n.enabled?{enabled:!0,spacing:((r=i[c])==null?void 0:r.label.spacing)??n.spacing,lineHeight:_i.getLineHeight(((o=i[c])==null?void 0:o.label.fontSize)??n.fontSize??10),avoidCollisions:((a=i[c])==null?void 0:a.label.avoidCollisions)??n.avoidCollisions}:{enabled:!1,spacing:0,lineHeight:0,avoidCollisions:!1});return t}updateCategoryLabels(){this.computedLayout&&this.tickLabelGroupSelection.update(this.computedLayout.tickLabelLayout).each((e,t)=>e.setProperties(t))}updateAxisLine(){this.computedLayout&&(this.lineNode.visible=this.line.enabled,this.lineNode.stroke=this.line.stroke,this.lineNode.strokeWidth=this.line.width)}computeLayout(){var me;if(this.updateDirection(),this.updateScale(),this.resizeTickTree(),!((me=this.tickTreeLayout)!=null&&me.depth))return{bbox:Ge.zero,separatorLayout:[],tickLabelLayout:[]};const{step:e}=this.scale,{title:t,label:i,range:n,depthOptions:s}=this,{depth:r,nodes:o}=this.tickTreeLayout,a=Math.ceil(i.fontSize/e),c=Oi(this.rotation),h=this.position==="top"||this.position==="bottom",f=i.getSideFlag(),p=[],m=new Map,b=new yf,{defaultRotation:C,configuredRotation:w}=cC({rotation:i.rotation,parallel:i.parallel,regularFlipRotation:Mi(c-Math.PI/2),parallelFlipRotation:Mi(c)}),D=C+w,M=this.getDepthOptionsMap(r),A=(Y,re)=>{var K,ie;const Z=r-Y.depth;if(!((K=M[Z])!=null&&K.enabled)||re%a!==0||!H8(Y.screenX,n))return!1;const Ce=this.formatTick(Y.label,re-1,this.scale.domain),H=this.getLabelStyles({value:Ce,depth:Z},(ie=s[Z])==null?void 0:ie.label);return b.setProperties({...H,text:Ce,textAlign:"center",textBaseline:i.parallel?"hanging":"bottom",rotation:0,translationX:0,translationY:Y.screenX}),!0};let k=0;const _={};o.forEach((Y,re)=>{const Z=r-Y.depth,Ce=g8(Y.label);if(_[Z]??(_[Z]=1),_[Z]<Ce&&(_[Z]=Ce),!(!A(Y,re)||!b.getBBox())&&(m.set(re,b.getBBox()),!Y.leafCount)){b.rotation=D;const{width:K}=b.getBBox();k<K&&(k=K)}});const F=hT(),N=f*M[0].spacing,z=new Map,V=Y=>{let re=k;for(let Z=1;Z<=Y;Z++)re+=M[Z].spacing,(i.mirrored||Z!==Y)&&(re+=_[Z]*M[Z].lineHeight);return re};o.forEach((Y,re)=>{var ie;if(re===0)return;const Z=A(Y,re),Ce=!Y.children.length,H=r-Y.depth;if(Y.parent){const te=Ce?Y.x:Y.x-(Y.leafCount-1)/2;if(!z.has(te)){const se=(ie=this.depthOptions[H])==null?void 0:ie.tick;let ye=k;for(let he=0;he<=H;he++)ye+=M[he].spacing,he!==0&&(ye+=_[he]*M[he].lineHeight);z.set(te,{tickSize:ye,tickStroke:se==null?void 0:se.stroke,tickWidth:(se==null?void 0:se.enabled)!==!1?se==null?void 0:se.width:0})}}if(!Z)return;if(b.x=N,b.y=0,Ce){const{width:te}=m.get(re),se=bF(D);b.rotation=D,b.textAlign="end",b.textBaseline="middle",b.rotationCenterX=N-te/2,b.translationX=(M[H].spacing-te)/2*se*f,i.mirrored&&(b.translationX+=te)}else b.rotation=h?C:-Math.PI/2,b.rotationCenterX=N,b.translationX=f*V(H);if(M[H].avoidCollisions){const te=Ce?e:Y.leafCount*e;if(b.getBBox().height>te){m.delete(re);return}}const{text:K=""}=b;p.push({text:K,visible:!0,range:this.scale.range,tickId:F(K),fill:b.fill,fontFamily:b.fontFamily,fontSize:b.fontSize,fontStyle:b.fontStyle,fontWeight:b.fontWeight,rotation:b.rotation,rotationCenterX:b.rotationCenterX,textAlign:b.textAlign,textBaseline:b.textBaseline,translationX:b.translationX,translationY:b.translationY,x:b.x,y:b.y}),m.set(re,en.toCanvas(b))});const{enabled:j,stroke:U,width:$}=this.line;this.lineNode.datum={x:0,y1:n[0],y2:n[1]},this.lineNode.setProperties({stroke:U,strokeWidth:j?$:0});const Q=[...z.values()];Q.push(Q[0]);const J=[this.lineNode.getBBox(),new Ge(0,0,Q[0].tickSize*f,0)];t.enabled&&(this.updateTitle(this.scale.domain,!1,Q[0].tickSize),J.push(t.caption.node.getBBox()));const be=Ge.merge(Sh(m.values(),J));return{bbox:this.getTransformBox(be),separatorLayout:Q,tickLabelLayout:p}}update(){if(!this.computedLayout)return;this.moduleCtx.animationManager.skipCurrentBatch();const{tickScale:e,gridLine:t,gridLength:i}=this,{separatorLayout:n}=this.computedLayout,s=e.ticks({nice:!1,interval:void 0,tickCount:void 0,minTickCount:0,maxTickCount:1/0}).map((r,o)=>({...n[o],tick:r,tickId:Yn(r,o),tickLabel:r.filter(Boolean).join(" - "),translationY:Math.round(e.convert(r))}));this.gridLineGroupSelection.update(t.enabled&&i?s:[]),this.tickLineGroupSelection.update(this.tick.enabled?s:[]),this.updatePosition(),this.updateCategoryLabels(),this.updateAxisLine(),this.updateGridLines(),this.updateTickLines(),this.updateTitle(this.scale.domain),this.resetSelectionNodes()}calculateLayout(){const{separatorLayout:e,tickLabelLayout:t,bbox:i}=this.computeLayout();return this.computedLayout={separatorLayout:e,tickLabelLayout:t},{bbox:i,niceDomain:this.scale.domain}}onGridVisibilityChange(){this.gridLineGroupSelection.clear(),this.tickLabelGroupSelection.clear()}updateScale(){super.updateScale(),this.tickScale.range=this.scale.range,this.scale.paddingOuter=this.scale.paddingInner/2}processData(){const{direction:e}=this,t=this.boundSeries.filter(s=>s.visible).flatMap(s=>s.getDomain(e));this.dataDomain={domain:Bl(t)??this.filterDuplicateArrays(t),clipped:!1},this.isReversed()&&this.dataDomain.domain.reverse();const i=this.dataDomain.domain.map(s=>Yb(an(s)&&"value"in s?s.value:s));this.tickTreeLayout=yte(i);const n=[];for(const s of this.tickTreeLayout.nodes)s.leafCount||s.refId==null||n.push(this.dataDomain.domain[s.refId]);this.scale.domain=F8(this.dataDomain.domain,n),this.tickScale.domain=i.concat([[""]])}updateGridLines(){if(!this.gridLength)return;const{width:e,style:t}=this.gridLine,i=this.gridLength*-this.label.getSideFlag();this.gridLineGroupSelection.each((n,s,r)=>{const{stroke:o,lineDash:a}=t[r%t.length],c=s.translationY;n.visible=this.inRange(c),n.x1=0,n.x2=i,n.y=c,n.stroke=o,n.strokeWidth=e,n.lineDash=a})}filterDuplicateArrays(e){const t=new Set;return e.filter(i=>{const n=bt(i)?JSON.stringify(i):i;return t.has(n)?!1:(t.add(n),!0)})}};$h.className="GroupedCategoryAxis";$h.type="grouped-category";R([P()],$h.prototype,"depthOptions",2);var bte={2:(e,t)=>Math.log2(t),[Math.E]:(e,t)=>Math.log(t),10:(e,t)=>Math.log10(t)},Cte=(e,t)=>Math.log(t)/Math.log(e);function Yw(e,t,i){const n=Math.min(...t),s=bte[e]??Cte;return n>=0?s(e,i):-s(e,-i)}var xte={[Math.E]:(e,t)=>Math.exp(t),10:(e,t)=>t>=0?10**t:1/10**-t},Ste=(e,t)=>e**t;function Kw(e,t,i){const n=Math.min(...t),s=xte[e]??Ste;return n>=0?s(e,i):-s(e,-i)}var MT=class extends ai{constructor(e=[1,10],t=[0,1]){super(e,t),this.type="log",this.defaultClamp=!0,this.base=10,this.log=i=>Yw(this.base,this.domain,i),this.pow=i=>Kw(this.base,this.domain,i)}toDomain(e){return e}transform(e){const[t,i]=pn(this.domain);return t>=0!=i>=0?NaN:t>=0?Math.log(e):-Math.log(-e)}transformInvert(e){const[t,i]=pn(this.domain);return t>=0!=i>=0?NaN:t>=0?Math.exp(e):-Math.exp(-e)}niceDomain(e,t=this.domain){if(t.length<2)return[];const{base:i}=this,[n,s]=t,r=n>s?Math.ceil:Math.floor,o=n>s?Math.floor:Math.ceil,a=Kw(i,t,r(Yw(i,t,n))),c=Kw(i,t,o(Yw(i,t,s)));return[a,c]}ticks({interval:e,tickCount:t=ai.defaultTickCount},i=this.domain,n){if(!i||i.length<2||t<1)return[];const s=this.base,[r,o]=i,a=Math.min(r,o),c=Math.max(r,o);let h=this.log(a),f=this.log(c);if(e){const w=A=>A>=a&&A<=c,D=Math.min(Math.abs(e),Math.abs(f-h)),M=tm(h,f,D).map(this.pow).filter(w);if(!Sf(M.length,this.getPixelRange()))return M}if(!j8(s)||f-h>=t)return JL(h,f,Math.min(f-h,t)).map(this.pow);let p=[];const m=a>0;h=Math.floor(h)-1,f=Math.round(f)+1;const b=Cf(this.range)/t;let C=1/0;for(let w=h;w<=f;w++){const D=this.convert(this.pow(w+1));for(let M=1;M<s;M++){const A=m?M:s-M+1,k=this.pow(w)*A,_=this.convert(k),F=Math.abs(C-_),N=Math.abs(_-D),z=F>=b&&N>=b;k>=a&&k<=c&&(M===1||z||p.length===0)&&(p.push(k),C=_)}}return p=N2(p,m,n),p}tickFormatter({specifier:e}){return e!=null?lF(e):String}datumFormatter(e){return this.tickFormatter(e)}},Fo=class qB extends ai{constructor(){super([0,1],[0,1]),this.type="number"}static getTickStep(t,i,n){const{interval:s,tickCount:r=ai.defaultTickCount,minTickCount:o,maxTickCount:a}=n;return s??em(t,i,r,o,a)}toDomain(t){return t}ticks({interval:t,tickCount:i=ai.defaultTickCount,minTickCount:n,maxTickCount:s},r=this.domain,o){if(!r||r.length<2||i<1||!r.every(isFinite))return[];const[a,c]=r;if(t){const h=Math.abs(t);if(!Sf((c-a)/h,this.getPixelRange()))return tm(a,c,h)}return JL(a,c,i,n,s,o)}niceDomain(t,i=this.domain){if(i.length<2)return[];const{tickCount:n=ai.defaultTickCount}=t;let[s,r]=i;if(n===1)[s,r]=jQ(s,r);else if(n>1){const o=s>r?Math.ceil:Math.floor,a=s>r?Math.floor:Math.ceil,c=4;for(let h=0;h<c;h++){const f=s,p=r,m=qB.getTickStep(s,r,t),[b,C]=i;if(s=o(b/m)*m,r=a(C/m)*m,s===f&&r===p)break}}return[s,r]}tickFormatter({ticks:t,fractionDigits:i,specifier:n}){return n!=null?Ak(t,n):s=>Al(s,i)}datumFormatter({ticks:t,fractionDigits:i,specifier:n}){return n!=null?Ak(t,n):s=>Al(s,i+1)}},Gl=class extends Pm{constructor(e,t=new Fo){super(e,t)}normaliseDataDomain(e){const{min:t,max:i}=this,{extent:n,clipped:s}=xT(e,t,i);return{domain:n,clipped:s}}};Gl.className="NumberAxis";Gl.type="number";R([P(gu(DL,QC("max")))],Gl.prototype,"min",2);R([P(gu(DL,JC("min")))],Gl.prototype,"max",2);var Hf=class extends Gl{normaliseDataDomain(e){const{min:t,max:i}=this,{extent:n,clipped:s}=xT(e,t,i);return n[0]<0&&n[1]>0||e[0]<0&&e[1]>0?(Ee.warn("The log axis domain crosses zero, the chart data cannot be rendered. See log axis documentation for more information."),{domain:[],clipped:s}):n[0]===0||n[1]===0||e[0]===0||e[1]===0?(Ee.warn("The log axis domain contains a value of 0, the chart data cannot be rendered. See log axis documentation for more information."),{domain:[],clipped:s}):{domain:n,clipped:s}}set base(e){this.scale.base=e}get base(){return this.scale.base}constructor(e){super(e,new MT)}defaultDatumFormatter(e,t){return String(e)}defaultLabelFormatter(e,t){return String(e)}};Hf.className="LogAxis";Hf.type="log";var vu=class extends Pm{constructor(e){super(e,new z2),this.min=void 0,this.max=void 0}normaliseDataDomain(e){var s;let{min:t,max:i}=this,n=!1;return typeof t=="number"&&(t=new Date(t)),typeof i=="number"&&(i=new Date(i)),e.length>2&&(e=((s=Bl(e))==null?void 0:s.map(r=>new Date(r)))??[]),t instanceof Date&&(n||(n=t>e[0]),e=[t,e[1]]),i instanceof Date&&(n||(n=i<e[1]),e=[e[0],i]),e[0]>e[1]&&(e=[]),{domain:e,clipped:n}}};vu.className="TimeAxis";vu.type="time";R([P(gu(AL,QC("max")))],vu.prototype,"min",2);R([P(gu(AL,JC("min")))],vu.prototype,"max",2);var Dp=(e,{x0:t,y0:i,x1:n,y1:s,cx:r,cy:o},a,c)=>{if(c&&e.moveTo(t,i),t!==n||i!==s){const h=Math.atan2(i-o,t-r),f=Math.atan2(s-o,n-r);e.arc(r,o,a,h,f)}else e.lineTo(t,i)},r_=1e-6,Hv=(e,t,i,n,s)=>{let r=!1,o=!1,a=n-Math.sqrt(Math.max(s**2-i**2,0)),c=0,h=0,f=i-Math.sqrt(Math.max(s**2-n**2,0));return a>e?(r=!0,a=e,c=i-Math.sqrt(Math.max(s**2-(n-e)**2))):a<r_&&(a=0),f>t?(o=!0,h=n-Math.sqrt(Math.max(s**2-(i-t)**2)),f=t):f<r_&&(f=0),{leading0:a,leading1:c,trailing0:h,trailing1:f,leadingClipped:r,trailingClipped:o}},fb=(e,t,i,n,s,r,o)=>{let{topLeft:a,topRight:c,bottomRight:h,bottomLeft:f}=r;const p=Math.max(a+f,c+h),m=Math.max(a+c,f+h);if(p<=0&&m<=0){o==null?e.rect(t,i,n,s):e.rect(o.x,o.y,o.width,o.height);return}else if(o==null&&a===c&&a===h&&a===f){e.roundRect(t,i,n,s,a);return}if(n<0&&(t+=n,n=Math.abs(n)),s<0&&(i+=s,s=Math.abs(s)),n<=0||s<=0)return;if(o==null)o=new Ge(t,i,n,s);else{const z=Math.max(t,o.x),V=Math.min(t+n,o.x+o.width),j=Math.max(i,o.y),U=Math.min(i+s,o.y+o.height);o=new Ge(z,j,V-z,U-j)}const b=Math.max(p/s,m/n,1);b>1&&(a/=b,c/=b,h/=b,f/=b);let C=!0,w=!0,D=!0,M=!0,A,k,_,F;if(C){const z=Hv(o.height,o.width,Math.max(t+a-o.x,0),Math.max(i+a-o.y,0),a);z.leadingClipped&&(M=!1),z.trailingClipped&&(w=!1);const V=Math.max(o.x+z.leading1,o.x),j=Math.max(o.y+z.leading0,o.y),U=Math.max(o.x+z.trailing1,o.x),$=Math.max(o.y+z.trailing0,o.y),Q=t+a,J=i+a;A={x0:V,y0:j,x1:U,y1:$,cx:Q,cy:J}}if(w){const z=Hv(o.width,o.height,Math.max(i+c-o.y,0),Math.max(o.x+o.width-(t+n-c),0),c);z.leadingClipped&&(C=!1),z.trailingClipped&&(D=!1);const V=Math.min(o.x+o.width-z.leading0,o.x+o.width),j=Math.max(o.y+z.leading1,o.y),U=Math.min(o.x+o.width-z.trailing0,o.x+o.width),$=Math.max(o.y+z.trailing1,o.y),Q=t+n-c,J=i+c;k={x0:V,y0:j,x1:U,y1:$,cx:Q,cy:J}}if(D){const z=Hv(o.height,o.width,Math.max(o.x+o.width-(t+n-h),0),Math.max(o.y+o.height-(i+s-h),0),h);z.leadingClipped&&(w=!1),z.trailingClipped&&(M=!1);const V=Math.min(o.x+o.width-z.leading1,o.x+o.width),j=Math.min(o.y+o.height-z.leading0,o.y+o.height),U=Math.min(o.x+o.width-z.trailing1,o.x+o.width),$=Math.min(o.y+o.height-z.trailing0,o.y+o.height),Q=t+n-h,J=i+s-h;_={x0:V,y0:j,x1:U,y1:$,cx:Q,cy:J}}if(M){const z=Hv(o.width,o.height,Math.max(o.y+o.height-(i+s-f),0),Math.max(t+f-o.x,0),f);z.leadingClipped&&(D=!1),z.trailingClipped&&(C=!1);const V=Math.max(o.x+z.leading0,o.x),j=Math.min(o.y+o.height-z.leading1,o.y+o.height),U=Math.max(o.x+z.trailing0,o.x),$=Math.min(o.y+o.height-z.trailing1,o.y+o.height),Q=t+f,J=i+s-f;F={x0:V,y0:j,x1:U,y1:$,cx:Q,cy:J}}let N=!1;C&&A!=null&&(Dp(e,A,a,!N),N||(N=!0)),w&&k!=null&&(Dp(e,k,c,!N),N||(N=!0)),D&&_!=null&&(Dp(e,_,h,!N),N||(N=!0)),M&&F!=null&&Dp(e,F,f,!N),e.closePath()},Ls=class extends Ws{constructor(){super(...arguments),this.borderPath=new mf,this.x=0,this.y=0,this.width=10,this.height=10,this.topLeftCornerRadius=0,this.topRightCornerRadius=0,this.bottomRightCornerRadius=0,this.bottomLeftCornerRadius=0,this.clipBBox=void 0,this.crisp=!1,this.lastUpdatePathStrokeWidth=co.defaultStyles.strokeWidth,this.effectiveStrokeWidth=co.defaultStyles.strokeWidth,this.hittester=super.isPointInPath.bind(this),this.distanceCalculator=super.distanceSquaredTransformedPoint.bind(this),this.microPixelEffectOpacity=1}set cornerRadius(e){this.topLeftCornerRadius=e,this.topRightCornerRadius=e,this.bottomRightCornerRadius=e,this.bottomLeftCornerRadius=e}isDirtyPath(){return this.lastUpdatePathStrokeWidth!==this.strokeWidth||!!(this.path.isDirty()||this.borderPath.isDirty())}updatePath(){var D;const{path:e,borderPath:t,crisp:i,topLeftCornerRadius:n,topRightCornerRadius:s,bottomRightCornerRadius:r,bottomLeftCornerRadius:o}=this;let{x:a,y:c,width:h,height:f,strokeWidth:p,clipBBox:m}=this;const C=1/(((D=this.layerManager)==null?void 0:D.canvas.pixelRatio)??1);let w=1;if(e.clear(!0),t.clear(!0),i&&(h<=C&&(w*=h/C),f<=C&&(w*=f/C),h=this.align(a,h),f=this.align(c,f),a=this.align(a),c=this.align(c),m=m!=null?new Ge(this.align(m.x),this.align(m.y),this.align(m.x,m.width),this.align(m.y,m.height)):void 0),p)if(h<C){const M=a+C/2;t.moveTo(M,c),t.lineTo(M,c+f),p=C,this.borderClipPath=void 0}else if(f<C){const M=c+C/2;t.moveTo(a,M),t.lineTo(a+h,M),p=C,this.borderClipPath=void 0}else if(p<h&&p<f){const M=p/2;a+=M,c+=M,h-=p,f-=p;const A=m==null?void 0:m.clone().shrink(M),k={topLeft:n>0?n-p:0,topRight:s>0?s-p:0,bottomRight:r>0?r-p:0,bottomLeft:o>0?o-p:0};this.borderClipPath=void 0,h>0&&f>0&&(A==null||(A==null?void 0:A.width)>0&&(A==null?void 0:A.height)>0)&&(fb(e,a,c,h,f,k,A),fb(t,a,c,h,f,k,A))}else this.borderClipPath=this.borderClipPath??new mf,this.borderClipPath.clear(!0),this.borderClipPath.rect(a,c,h,f),t.rect(a,c,h,f);else{const M={topLeft:n,topRight:s,bottomRight:r,bottomLeft:o};this.borderClipPath=void 0,fb(e,a,c,h,f,M,m)}if([n,s,r,o].every(M=>M===0)){const M=this.getBBox();this.hittester=M.containsPoint.bind(M),this.distanceSquared=(A,k)=>this.getBBox().distanceSquared(A,k)}else this.hittester=super.isPointInPath,this.distanceCalculator=super.distanceSquaredTransformedPoint;this.effectiveStrokeWidth=p,this.lastUpdatePathStrokeWidth=p,this.microPixelEffectOpacity=w}computeBBox(){const{x:e,y:t,width:i,height:n,clipBBox:s}=this;return(s==null?void 0:s.clone())??new Ge(e,t,i,n)}isPointInPath(e,t){return this.hittester(e,t)}get midPoint(){return{x:this.x+this.width/2,y:this.y+this.height/2}}distanceSquared(e,t){return this.distanceCalculator(e,t)}applyFillAlpha(e){const{fillOpacity:t,microPixelEffectOpacity:i,opacity:n}=this;e.globalAlpha*=n*t*i}renderStroke(e){const{stroke:t,effectiveStrokeWidth:i}=this;if(t&&i){const{globalAlpha:n}=e,{strokeOpacity:s,lineDash:r,lineDashOffset:o,lineCap:a,lineJoin:c,borderPath:h,borderClipPath:f,opacity:p,microPixelEffectOpacity:m}=this;f&&e.clip(f.getPath2D()),this.applyStroke(e),e.globalAlpha*=p*s*m,e.lineWidth=i,r&&e.setLineDash(r),o&&(e.lineDashOffset=o),a&&(e.lineCap=a),c&&(e.lineJoin=c),e.stroke(h.getPath2D()),e.globalAlpha=n}}};Ls.className="Rect";R([dt()],Ls.prototype,"x",2);R([dt()],Ls.prototype,"y",2);R([dt()],Ls.prototype,"width",2);R([dt()],Ls.prototype,"height",2);R([dt()],Ls.prototype,"topLeftCornerRadius",2);R([dt()],Ls.prototype,"topRightCornerRadius",2);R([dt()],Ls.prototype,"bottomRightCornerRadius",2);R([dt()],Ls.prototype,"bottomLeftCornerRadius",2);R([dt()],Ls.prototype,"clipBBox",2);R([dt()],Ls.prototype,"crisp",2);var jf=class extends VC{constructor(e){super(),this.ctx=e,this.rectNode=new Ls,this.textNode=new Rn,this.fill="white",this.node=this.createNode(),this.node.append([this.rectNode,this.textNode]),this.visible=!0,this.destroyFns.push(e.scene.attachNode(this.node),e.layoutManager.addListener("layout:complete",t=>this.onLayoutComplete(t)))}createNode(){return new at({name:"background",zIndex:0})}onLayoutComplete(e){const{width:t,height:i}=e.chart;this.rectNode.width=t,this.rectNode.height=i}};R([P(),Kn("node","visible")],jf.prototype,"visible",2);R([P(),Kn("rectNode","fill")],jf.prototype,"fill",2);R([P()],jf.prototype,"image",2);R([P(),Kn("textNode")],jf.prototype,"text",2);var QB={type:"root",optionsKey:"background",packageType:"community",chartTypes:["cartesian","polar","hierarchy","topology","flow-proportion","standalone","gauge"],moduleFactory:e=>new jf(e)};function wte({orientation:e,bboxes:t,maxHeight:i,maxWidth:n,itemPaddingY:s=0,itemPaddingX:r=0,forceResult:o=!1}){const a=e==="horizontal",c={max:a?n:i,fn:a?m=>m.width:m=>m.height,padding:a?r:s},h={max:a?i:n,fn:a?m=>m.height:m=>m.width,padding:a?s:r};let f=0;const p=[];for(;f<t.length;){const m=t.slice(f),b=Mte(m,f,c,h,o);if(!b)return;f+=b.processedBBoxCount,p.push(b.pageIndices)}return Lte(p,e,t,s,r)}function Mte(e,t,i,n,s){let o=Ate(e,i);if(o<1){if(!s)return;o=1}let a=o;for(;a>=1;){const c=Dte(e,t,a,i,n,s);if(c==null&&a<=1)return;if(c==null){a--;continue}if(typeof c=="number"){if(c<=1)return;a=c<a&&c>1?c:a,a--;continue}return{processedBBoxCount:c.length*c[0].length,pageIndices:c}}}function Dte(e,t,i,n,s,r){const o=[];let a=0,c=0,h=[];const f=[];for(let p=0;p<e.length;p++){const m=(p+i)%i;m===0&&(a+=c,c=0,h.length>0&&o.push(h),h=[]);const b=n.fn(e[p])+n.padding;f[m]=Math.max(f[m]??0,b),c=Math.max(c,s.fn(e[p])+s.padding);const C=a+c,w=!r||o.length>0;if(C>s.max&&w){h=[];break}if(f.reduce((M,A)=>M+A,0)>n.max&&!r)return f.length<i?f.length:void 0;h.push(p+t)}return h.length>0&&o.push(h),o.length>0?o:void 0}function Lte(e,t,i,n,s){let r=0,o=0;return{pages:e.map(c=>{t==="horizontal"&&(c=Tte(c));let h=0;const f=c.map(b=>{const C=b.map(M=>(h=Math.max(M,h),i[M]));let w=0,D=0;return C.forEach(M=>{w+=M.height+n,D=Math.max(D,M.width+s)}),{indices:b,bboxes:C,columnHeight:Math.ceil(w),columnWidth:Math.ceil(D)}});let p=0,m=0;return f.forEach(b=>{p+=b.columnWidth,m=Math.max(m,b.columnHeight)}),r=Math.max(p,r),o=Math.max(m,o),{columns:f,startIndex:c[0][0],endIndex:h,pageWidth:p,pageHeight:m}}),maxPageWidth:r,maxPageHeight:o}}function Tte(e){const t=[];for(const i of e[0])t.push([]);return e.forEach((i,n)=>{i.forEach((s,r)=>{t[r][n]=s})}),t}function Ate(e,t){const i=e.length;let n=0;for(let s=0;s<i;s++)if(n+=t.fn(e[s])+t.padding,n>t.max)return i/s<2?Math.ceil(i/2):s;return i}var Vf=class extends ht{constructor(){super(...arguments),this.color="black",this.fontStyle=void 0,this.fontWeight=void 0,this.fontSize=12,this.fontFamily="Verdana, sans-serif"}};R([P()],Vf.prototype,"color",2);R([P()],Vf.prototype,"fontStyle",2);R([P()],Vf.prototype,"fontWeight",2);R([P()],Vf.prototype,"fontSize",2);R([P()],Vf.prototype,"fontFamily",2);var wl=class extends ht{constructor(){super(...arguments),this.size=15,this.fill=void 0,this.fillOpacity=void 0,this.stroke=void 0,this.strokeWidth=1,this.strokeOpacity=1}};R([P()],wl.prototype,"size",2);R([P()],wl.prototype,"fill",2);R([P()],wl.prototype,"fillOpacity",2);R([P()],wl.prototype,"stroke",2);R([P()],wl.prototype,"strokeWidth",2);R([P()],wl.prototype,"strokeOpacity",2);var Cx=class extends ht{constructor(e){super(),this.parent=e,this.shape="triangle",this.size=15,this.padding=8}};R([sr({changeValue(){this.parent.marker===this&&this.parent.onMarkerShapeChange()}})],Cx.prototype,"shape",2);R([P()],Cx.prototype,"size",2);R([P()],Cx.prototype,"padding",2);var Zh=class extends ht{constructor(e,t){super(),this.chartUpdateCallback=e,this.pageUpdateCallback=t,this.id=Er(this),this.marker=new Cx(this),this.activeStyle=new wl,this.inactiveStyle=new wl,this.highlightStyle=new wl,this.label=new Vf,this.group=new zs({name:"pagination"}),this.labelNode=new Rn,this.totalPages=0,this.currentPage=0,this.translationX=0,this.translationY=0,this.nextButtonDisabled=!1,this.previousButtonDisabled=!1,this._visible=!0,this._enabled=!0,this._orientation="vertical",this.nextButton=new In,this.previousButton=new In,this.labelNode.setProperties({textBaseline:"middle",fontSize:12,fontFamily:"Verdana, sans-serif",fill:"black",y:1}),this.group.append([this.nextButton,this.previousButton,this.labelNode]),this.update(),this.updateMarkers()}set visible(e){this._visible=e,this.updateGroupVisibility()}get visible(){return this._visible}set enabled(e){this._enabled=e,this.updateGroupVisibility()}get enabled(){return this._enabled}updateGroupVisibility(){this.group.visible=this.enabled&&this.visible}set orientation(e){switch(this._orientation=e,e){case"horizontal":{this.previousButton.rotation=-Math.PI/2,this.nextButton.rotation=Math.PI/2;break}case"vertical":default:this.previousButton.rotation=0,this.nextButton.rotation=Math.PI}}get orientation(){return this._orientation}update(){this.updateLabel(),this.updatePositions(),this.enableOrDisableButtons()}updatePositions(){this.group.translationX=this.translationX,this.group.translationY=this.translationY,this.updateLabelPosition(),this.updateNextButtonPosition()}updateLabelPosition(){const{size:e,padding:t}=this.marker;this.nextButton.size=e,this.previousButton.size=e,this.labelNode.x=e/2+t}updateNextButtonPosition(){const e=this.labelNode.getBBox();this.nextButton.translationX=e.width+(this.marker.size/2+this.marker.padding)*2}updateLabel(){const{currentPage:e,totalPages:t,labelNode:i,label:{color:n,fontStyle:s,fontWeight:r,fontSize:o,fontFamily:a}}=this;i.text=`${e+1} / ${t}`,i.fill=n,i.fontStyle=s,i.fontWeight=r,i.fontSize=o,i.fontFamily=a}updateMarkers(){const{nextButton:e,previousButton:t,nextButtonDisabled:i,previousButtonDisabled:n,activeStyle:s,inactiveStyle:r,highlightStyle:o,highlightActive:a}=this,c=(h,f)=>f?r:h===a?o:s;this.updateMarker(e,c("next",i)),this.updateMarker(t,c("previous",n))}updateMarker(e,t){const{shape:i,size:n}=this.marker;e.shape=i,e.size=n,e.fill=t.fill,e.fillOpacity=t.fillOpacity??1,e.stroke=t.stroke,e.strokeWidth=t.strokeWidth,e.strokeOpacity=t.strokeOpacity}enableOrDisableButtons(){const{currentPage:e,totalPages:t}=this,i=t===0,n=e===t-1,s=e===0;this.nextButtonDisabled=n||i,this.previousButtonDisabled=s||i}setPage(e){e=ut(0,e,Math.max(0,this.totalPages-1)),this.currentPage!==e&&(this.currentPage=e,this.onPaginationChanged())}getCursor(e){return{previous:this.previousButtonDisabled,next:this.nextButtonDisabled}[e]?void 0:"pointer"}onClick(e,t){e.preventDefault(),t==="next"&&!this.nextButtonDisabled?(this.incrementPage(),this.onPaginationChanged()):t==="previous"&&!this.previousButtonDisabled&&(this.decrementPage(),this.onPaginationChanged())}onMouseHover(e){this.highlightActive=e,this.updateMarkers(),this.chartUpdateCallback(6)}onPaginationChanged(){this.pageUpdateCallback(this.currentPage)}incrementPage(){this.currentPage=Math.min(this.currentPage+1,this.totalPages-1)}decrementPage(){this.currentPage=Math.max(this.currentPage-1,0)}onMarkerShapeChange(){this.updatePositions(),this.updateMarkers(),this.chartUpdateCallback(6)}attachPagination(e){e.append(this.group)}getBBox(){return this.group.getBBox()}computeCSSBounds(){const e=en.toCanvas(this.previousButton),t=en.toCanvas(this.nextButton);return{prev:e,next:t}}};Zh.className="Pagination";R([P()],Zh.prototype,"marker",2);R([P()],Zh.prototype,"activeStyle",2);R([P()],Zh.prototype,"inactiveStyle",2);R([P()],Zh.prototype,"highlightStyle",2);R([P()],Zh.prototype,"label",2);var DT=class extends ht{constructor(){super(...arguments),this._dirty=!0}markDirty(){this._dirty=!0}markClean(e){this._dirty=!1}isDirty(){return this._dirty}},Ete=new Set(["circle","cross","diamond","heart","pin","plus","square","star","triangle"]);function Rte(e){return typeof e=="string"&&Ete.has(e)}var Hl=class extends ht{constructor(){super(...arguments),this.fill="rgba(255,255,255, 0.33)",this.stroke="rgba(0, 0, 0, 0.4)",this.strokeWidth=2}};R([P()],Hl.prototype,"fill",2);R([P()],Hl.prototype,"fillOpacity",2);R([P()],Hl.prototype,"stroke",2);R([P()],Hl.prototype,"strokeWidth",2);R([P()],Hl.prototype,"strokeOpacity",2);R([P()],Hl.prototype,"lineDash",2);R([P()],Hl.prototype,"lineDashOffset",2);var xx=class extends ht{};R([P()],xx.prototype,"strokeWidth",2);R([P()],xx.prototype,"dimOpacity",2);R([P()],xx.prototype,"enabled",2);var JB=class extends ht{constructor(){super(...arguments),this.color="black"}};R([P()],JB.prototype,"color",2);var LT=class extends ht{constructor(){super(...arguments),this.enabled=!0}};R([P()],LT.prototype,"enabled",2);var fo=class extends ht{constructor(){super(...arguments),this.type="gradient",this.colorStops=[],this.bounds="item",this.gradient="linear",this.rotation=0,this.reverse=!1}};R([P()],fo.prototype,"type",2);R([P()],fo.prototype,"colorStops",2);R([P()],fo.prototype,"bounds",2);R([P()],fo.prototype,"gradient",2);R([P()],fo.prototype,"rotation",2);R([P()],fo.prototype,"reverse",2);var tn=class extends ht{constructor(){super(...arguments),this.type="pattern",this.colorStops=[],this.bounds="item",this.gradient="linear",this.rotation=0,this.reverse=!1,this.pattern="forward-slanted-lines",this.width=26,this.height=26,this.padding=6,this.fill="black",this.fillOpacity=1,this.backgroundFill="white",this.backgroundFillOpacity=1,this.stroke="black",this.strokeOpacity=1,this.strokeWidth=0}};R([P()],tn.prototype,"type",2);R([P()],tn.prototype,"colorStops",2);R([P()],tn.prototype,"bounds",2);R([P()],tn.prototype,"gradient",2);R([P()],tn.prototype,"rotation",2);R([P()],tn.prototype,"reverse",2);R([P()],tn.prototype,"pattern",2);R([P()],tn.prototype,"width",2);R([P()],tn.prototype,"height",2);R([P()],tn.prototype,"padding",2);R([P()],tn.prototype,"fill",2);R([P()],tn.prototype,"fillOpacity",2);R([P()],tn.prototype,"backgroundFill",2);R([P()],tn.prototype,"backgroundFillOpacity",2);R([P()],tn.prototype,"stroke",2);R([P()],tn.prototype,"strokeOpacity",2);R([P()],tn.prototype,"strokeWidth",2);var Gm=class extends ht{constructor(){super(...arguments),this.item=new Hl,this.series=new xx,this.text=new JB}};R([P()],Gm.prototype,"item",2);R([P()],Gm.prototype,"series",2);R([P()],Gm.prototype,"text",2);var Or=class extends ht{constructor(){super(...arguments),this.visible=!0,this.focusPriority=1/0,this.showInLegend=!0,this.cursor="default",this.nodeClickRange="exact",this.highlight=new LT,this.highlightStyle=new Gm}handleUnknownProperties(e,t){"context"in t&&(this.context=t.context,e.delete("context"))}};R([P()],Or.prototype,"id",2);R([P()],Or.prototype,"visible",2);R([P()],Or.prototype,"focusPriority",2);R([P()],Or.prototype,"showInLegend",2);R([P()],Or.prototype,"cursor",2);R([P()],Or.prototype,"nodeClickRange",2);R([P()],Or.prototype,"highlight",2);R([P()],Or.prototype,"highlightStyle",2);var Ite=li(e=>Rte(e)||typeof e=="function","a marker shape keyword such as 'circle', 'diamond' or 'square' or an object extending the Marker class"),$n=class extends DT{constructor(){super(...arguments),this.enabled=!0,this.shape="circle",this.size=6,this.fillGradientDefaults=new fo,this.fillPatternDefaults=new tn,this.fillOpacity=1,this.strokeWidth=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0}getStyle(){const{size:e,shape:t,fill:i,fillOpacity:n,stroke:s,strokeWidth:r,strokeOpacity:o,lineDash:a,lineDashOffset:c}=this;return{size:e,shape:t,fill:i,fillOpacity:n,stroke:s,strokeWidth:r,strokeOpacity:o,lineDash:a,lineDashOffset:c}}getDiameter(){return this.size+this.strokeWidth}};R([P(),He()],$n.prototype,"enabled",2);R([P(),He()],$n.prototype,"shape",2);R([P(),He()],$n.prototype,"size",2);R([P(ds(Ir,_a,ka)),He()],$n.prototype,"fill",2);R([P()],$n.prototype,"fillGradientDefaults",2);R([P()],$n.prototype,"fillPatternDefaults",2);R([P(),He()],$n.prototype,"fillOpacity",2);R([P(),He()],$n.prototype,"stroke",2);R([P(),He()],$n.prototype,"strokeWidth",2);R([P(),He()],$n.prototype,"strokeOpacity",2);R([P()],$n.prototype,"lineDash",2);R([P()],$n.prototype,"lineDashOffset",2);R([P(),He()],$n.prototype,"itemStyler",2);var kte=class{constructor(e,t){this.idPrefix=t,this.dirty=!0,this.destroyFns=new $F,this.itemList=e.proxyInteractionService.createProxyContainer({type:"list",domManagerId:`${t}-toolbar`,classList:["ag-charts-proxy-legend-toolbar"],ariaLabel:{id:"ariaLabelLegend"}}),this.paginationGroup=e.proxyInteractionService.createProxyContainer({type:"group",domManagerId:`${t}-pagination`,classList:["ag-charts-proxy-legend-pagination"],ariaLabel:{id:"ariaLabelLegendPagination"},ariaOrientation:"horizontal"}),this.itemDescription=Lt("p"),this.itemDescription.style.display="none",this.itemDescription.id=`${t}-ariaDescription`,this.itemDescription.textContent=this.getItemAriaDescription(e.localeManager),this.itemList.getElement().append(this.itemDescription)}destroy(){this.destroyFns.destroy()}initLegendList(e){if(!this.dirty)return;const{ctx:t,itemSelection:i,datumReader:n,itemListener:s}=e,r=t.localeManager,o=i.length;i.each((a,c,h)=>{var p;(p=a.proxyButton)==null||p.destroy(),a.proxyButton=t.proxyInteractionService.createProxyElement({type:"listswitch",textContent:this.getItemAriaText(r,n.getItemLabel(c),h,o),ariaChecked:!!a.datum.enabled,ariaDescribedBy:this.itemDescription.id,parent:this.itemList});const f=a.proxyButton;f.addListener("click",m=>s.onClick(m.sourceEvent,a.datum,f)),f.addListener("dblclick",m=>s.onDoubleClick(m.sourceEvent,a.datum)),f.addListener("mouseenter",m=>s.onHover(m.sourceEvent,a)),f.addListener("mouseleave",()=>s.onLeave()),f.addListener("contextmenu",m=>s.onContextClick(m.sourceEvent,a)),f.addListener("blur",()=>s.onLeave()),f.addListener("focus",m=>s.onHover(m.sourceEvent,a)),f.addListener("drag-start",()=>{})}),this.dirty=!1}update(e){e.visible&&(this.initLegendList(e),this.updateItemProxyButtons(e),this.updatePaginationProxyButtons(e,!0)),this.updateVisibility(e.visible)}updateVisibility(e){this.itemList.setHidden(!e),this.paginationGroup.setHidden(!e)}updateItemProxyButtons({itemSelection:e,group:t,pagination:i,interactive:n}){const s=en.toCanvas(t);this.itemList.setBounds(s);const r=Math.max(...e.nodes().map(o=>o.getBBox().height));e.each((o,a)=>{if(o.proxyButton){const c=o.pageIndex===i.currentPage,{x:h,y:f,height:p,width:m}=en.toCanvas(o),b=(r-p)/2,C={x:h-s.x,y:f-b-s.y,height:r,width:m};o.proxyButton.setCursor("pointer"),o.proxyButton.setEnabled(n&&c),o.proxyButton.setBounds(C)}})}updatePaginationProxyButtons(e,t){var r,o,a,c,h,f,p,m;const{pagination:i}=e;if(this.paginationGroup.setHidden(!i.visible),t&&"ctx"in e){const{ctx:b,oldPages:C,newPages:w}=e,D=((C==null?void 0:C.length)??w.length)>1,M=w.length>1;D!==M&&(M?(this.prevButton=b.proxyInteractionService.createProxyElement({type:"button",id:`${this.idPrefix}-prev-page`,textContent:{id:"ariaLabelLegendPagePrevious"},tabIndex:0,parent:this.paginationGroup}),this.prevButton.addListener("click",A=>this.onPageButton(e,A,"previous")),this.prevButton.addListener("mouseenter",()=>i.onMouseHover("previous")),this.prevButton.addListener("mouseleave",()=>i.onMouseHover(void 0)),this.nextButton??(this.nextButton=b.proxyInteractionService.createProxyElement({type:"button",id:`${this.idPrefix}-next-page`,textContent:{id:"ariaLabelLegendPageNext"},tabIndex:0,parent:this.paginationGroup})),this.nextButton.addListener("click",A=>this.onPageButton(e,A,"next")),this.nextButton.addListener("mouseenter",()=>i.onMouseHover("next")),this.nextButton.addListener("mouseleave",()=>i.onMouseHover(void 0))):((r=this.nextButton)==null||r.destroy(),(o=this.prevButton)==null||o.destroy(),this.nextButton=void 0,this.prevButton=void 0))}const{prev:n,next:s}=i.computeCSSBounds();(a=this.prevButton)==null||a.setBounds(n),(c=this.nextButton)==null||c.setBounds(s),(h=this.prevButton)==null||h.setEnabled(i.currentPage!==0),(f=this.nextButton)==null||f.setEnabled(i.currentPage!==i.totalPages-1),(p=this.nextButton)==null||p.setCursor(i.getCursor("next")),(m=this.prevButton)==null||m.setCursor(i.getCursor("previous"))}onPageButton(e,t,i){e.pagination.onClick(t.sourceEvent,i),this.updatePaginationProxyButtons(e,!1)}onDataUpdate(e,t){this.dirty=e.length!==t.length||e.some((i,n,s)=>{const[r,o]=[t[n],e[n]];return r.id!==o.id})}onLocaleChanged(e,t,i){const n=t.length;t.each(({proxyButton:s},r,o)=>{const a=s==null?void 0:s.getElement();if(a!=null){const c=i.getItemLabel(r);a.textContent=this.getItemAriaText(e,c,o,n)}}),this.itemDescription.textContent=this.getItemAriaDescription(e)}onPageChange(e){this.updateItemProxyButtons(e),this.updatePaginationProxyButtons(e,!1)}getItemAriaText(e,t,i,n){return i>=0&&t?(i++,e.t("ariaLabelLegendItem",{label:t,index:i,count:n})):e.t("ariaLabelLegendItemUnknown")}getItemAriaDescription(e){return e.t("ariaDescriptionLegendItem")}};function o_(e,t,i,n){const s={defaultPrevented:!1,apiEvent:{type:e,itemId:t,seriesId:i,event:n,preventDefault:()=>s.defaultPrevented=!0}};return s}var go=class extends Vh(at){constructor(){super({name:"markerLabelGroup"}),this.symbolsGroup=this.appendChild(new at({name:"legend-markerLabel-symbols"})),this.label=this.appendChild(new Rn),this.enabled=!0,this.pageIndex=NaN,this.spacing=0,this.length=0,this.isCustomMarker=!1,this.marker=this.symbolsGroup.appendChild(new In({zIndex:1})),this.line=this.symbolsGroup.appendChild(new Nr({zIndex:0}));const{label:e,line:t,symbolsGroup:i}=this;t.visible=!1,i.renderToOffscreenCanvas=!0,i.optimizeForInfrequentRedraws=!0,e.textBaseline="middle",e.fontSize=12,e.fontFamily="Verdana, sans-serif",e.fill="black",e.y=1}destroy(){var e;super.destroy(),(e=this.proxyButton)==null||e.destroy()}setEnabled(e){this.enabled=e,this.refreshVisibilities()}refreshVisibilities(){const e=this.enabled?1:.5;this.label.opacity=e,this.opacity=e}layout(){const{marker:e,line:t,length:i,isCustomMarker:n}=this;let s=0,r=0;if(e.visible){const{size:o}=e,a=In.anchor(e.shape);s=(a.x-.5)*o+i/2,r=(a.y-.5)*o,n?(e.x=0,e.y=0,e.translationX=s,e.translationY=r):(e.x=s,e.y=r,e.translationX=0,e.translationY=0)}t.visible&&(t.x1=0,t.x2=i,t.y1=0,t.y2=0)}preRender(e){const t=super.preRender(e);return this.layout(),t}layoutLabel(){const{length:e,spacing:t}=this;this.label.x=e+t}computeBBox(){return this.layout(),super.computeBBox()}};go.className="MarkerLabel";R([Kn("label")],go.prototype,"text",2);R([Kn("label")],go.prototype,"fontStyle",2);R([Kn("label")],go.prototype,"fontWeight",2);R([Kn("label")],go.prototype,"fontSize",2);R([Kn("label")],go.prototype,"fontFamily",2);R([Kn("label","fill")],go.prototype,"color",2);R([mu(e=>e.layoutLabel())],go.prototype,"spacing",2);R([mu(e=>e.layoutLabel())],go.prototype,"length",2);R([He()],go.prototype,"isCustomMarker",2);var bu=class extends ht{constructor(){super(...arguments),this.maxLength=void 0,this.color="black",this.fontStyle=void 0,this.fontWeight=void 0,this.fontSize=12,this.fontFamily="Verdana, sans-serif"}};R([P()],bu.prototype,"maxLength",2);R([P()],bu.prototype,"color",2);R([P()],bu.prototype,"fontStyle",2);R([P()],bu.prototype,"fontWeight",2);R([P()],bu.prototype,"fontSize",2);R([P()],bu.prototype,"fontFamily",2);R([P()],bu.prototype,"formatter",2);var Wf=class extends ht{constructor(){super(...arguments),this.shape=void 0,this.size=15,this.padding=8}};R([P()],Wf.prototype,"shape",2);R([P()],Wf.prototype,"size",2);R([P()],Wf.prototype,"padding",2);R([P()],Wf.prototype,"strokeWidth",2);R([P()],Wf.prototype,"enabled",2);var TT=class extends ht{};R([P()],TT.prototype,"strokeWidth",2);R([P()],TT.prototype,"length",2);var Cu=class extends ht{constructor(){super(...arguments),this.paddingX=16,this.paddingY=8,this.showSeriesStroke=!1,this.marker=new Wf,this.label=new bu,this.line=new TT}};R([P()],Cu.prototype,"maxWidth",2);R([P()],Cu.prototype,"paddingX",2);R([P()],Cu.prototype,"paddingY",2);R([P()],Cu.prototype,"showSeriesStroke",2);R([P()],Cu.prototype,"marker",2);R([P()],Cu.prototype,"label",2);R([P()],Cu.prototype,"line",2);var AT=class extends ht{};R([P()],AT.prototype,"legendItemClick",2);R([P()],AT.prototype,"legendItemDoubleClick",2);var gp="legend-visibility",$w="legend-other-series",_te={bounds:"item",gradient:"linear",colorStops:[{color:"black"}],rotation:0,reverse:!1},Nte={pattern:"forward-slanted-lines",width:8,height:8,padding:1,fill:"black",fillOpacity:1,backgroundFill:"white",backgroundFillOpacity:1,stroke:"black",strokeOpacity:1,strokeWidth:0,rotation:0},rr=class extends ht{constructor(e){super(),this.ctx=e,this.id=Er(this),this.group=new zs({name:"legend",zIndex:14}),this.itemSelection=gn.select(this.group,go),this.oldSize=[0,0],this.pages=[],this.maxPageSize=[0,0],this.paginationTrackingIndex=0,this.truncatedItems=new Set,this._data=[],this.toggleSeries=!0,this.item=new Cu,this.listeners=new AT,this.enabled=!0,this.position="bottom",this.spacing=20,this.destroyFns=[],this.size=[0,0],this._visible=!0,this.pagination=new Zh(t=>e.updateService.update(t),t=>this.updatePageNumber(t)),this.pagination.attachPagination(this.group),this.destroyFns.push(e.contextMenuRegistry.registerDefaultAction({id:gp,type:"legend",label:"contextMenuToggleSeriesVisibility",action:t=>this.contextToggleVisibility(t)}),e.contextMenuRegistry.registerDefaultAction({id:$w,type:"legend",label:"contextMenuToggleOtherSeries",action:t=>this.contextToggleOtherSeries(t)}),e.legendManager.addListener("legend-change",this.onLegendDataChange.bind(this))),this.destroyFns.push(e.layoutManager.registerElement(1,t=>this.positionLegend(t)),e.localeManager.addListener("locale-changed",()=>this.onLocaleChanged()),()=>this.group.remove()),this.domProxy=new kte(this.ctx,this.id),this.ctx.historyManager.addMementoOriginator(e.legendManager)}set data(e){Da(e,this._data)||(this.domProxy.onDataUpdate(this._data,e),this._data=e,this.updateGroupVisibility())}get data(){return this._data}onLegendDataChange({legendData:e=[]}){this.enabled&&(this.data=e.filter(t=>!t.hideInLegend))}destroy(){this.ctx.domManager.removeChild("canvas-overlay",`${this.id}-toolbar`),this.ctx.domManager.removeChild("canvas-overlay",`${this.id}-pagination`),this.destroyFns.forEach(e=>e()),this.itemSelection.clear(),this.domProxy.destroy()}getOrientation(){return this.orientation??"horizontal"}set visible(e){this._visible=e,this.updateGroupVisibility()}get visible(){return this._visible}updateGroupVisibility(){this.group.visible=this.enabled&&this.visible&&this.data.length>0}attachLegend(e){e.appendChild(this.group)}getItemLabel(e){const{ctx:{callbackCache:t}}=this,{formatter:i}=this.item.label;if(i){const n=e.datum;return t.call(this,i,{itemId:e.itemId,value:e.label.text,seriesId:e.seriesId,...n&&{datum:n}})}return e.label.text}calcLayout(e,t){const{paddingX:i,paddingY:n,label:s,maxWidth:r,label:{maxLength:o=1/0,fontStyle:a,fontWeight:c,fontSize:h,fontFamily:f}}=this.item,p=[...this.data];this.reverseOrder&&p.reverse(),this.itemSelection.update(p);const m=[],b=_i.toFontString(s),w=r??e*.8,{markerWidth:D,anyLineEnabled:M}=this.calculateMarkerWidth();if(this.itemSelection.each((U,$)=>{U.fontStyle=a,U.fontWeight=c,U.fontSize=h,U.fontFamily=f;const Q=this.updateMarkerLabel(U,$,D,M),J=$.itemId??$.id,me=(this.getItemLabel($)??"<unknown>").replace(/\r?\n/g," ");U.text=this.truncate(me,o,w,Q,b,J),m.push(U.getBBox())}),e=Math.max(1,e),t=Math.max(1,t),!isFinite(e))return{};const A=this.size,k=this.oldSize;A[0]=e,A[1]=t,(A[0]!==k[0]||A[1]!==k[1])&&(k[0]=A[0],k[1]=A[1]);const{pages:_,maxPageHeight:F,maxPageWidth:N}=this.updatePagination(m,e,t),z=this.pages;this.pages=_,this.maxPageSize=[N-i,F-n];const V=this.pagination.currentPage,j=this.pages[V];return this.pages.length<1||!j?(this.visible=!1,{oldPages:z}):(this.visible=!0,this.updatePositions(V),this.update(),{oldPages:z})}isCustomMarker(e,t){return e&&t!==void 0&&typeof t!="string"}calcSymbolsEnabled(e){const{showSeriesStroke:t,marker:i}=this.item,n=!!i.enabled||!t||(e.marker.enabled??!0),s=!!(e.line&&t),r=this.isCustomMarker(n,e.marker.shape);return{markerEnabled:n,lineEnabled:s,isCustomMarker:r}}calcSymbolsLengths(e,t,i){const{marker:n,line:s}=this.item;let r;const{shape:o}=e.marker;if(this.isCustomMarker(t,o)){const h=new In;h.shape=o,h.updatePath();const f=h.getBBox();r=Math.max(f.width,f.height)}const a=t?n.size:0,c=i?s.length??25:0;return{markerLength:a,lineLength:c,customMarkerSize:r}}calculateMarkerWidth(){let e=0,t=!1;return this.itemSelection.each((i,n)=>{const{symbol:s}=n,{lineEnabled:r,markerEnabled:o}=this.calcSymbolsEnabled(s),{markerLength:a,lineLength:c,customMarkerSize:h=-1/0}=this.calcSymbolsLengths(s,o,r);e=Math.max(e,c,h,a),t||(t=r)}),{markerWidth:e,anyLineEnabled:t}}updateMarkerLabel(e,t,i,n){const{marker:s,paddingX:r}=this.item,{symbol:o}=t;let a=r;const{markerEnabled:c,isCustomMarker:h}=this.calcSymbolsEnabled(o),f=s.padding;(c||n)&&(a+=f+i);const{marker:p,line:m}=e;return p.visible=c,p.visible&&(p.shape=s.shape??o.marker.shape??"square",p.size=s.size,Gh(p,this.getMarkerStyles(o))),m.visible=n,m.visible&&Gh(m,this.getLineStyles(o)),e.length=i,e.spacing=f,e.isCustomMarker=h,a}truncate(e,t,i,n,s,r){let o=!1;e.length>t&&(e=e.substring(0,t),o=!0);const a=kl.getMeasurer({font:s}),c=BL.truncateLine(e,a,i-n,o);return c.endsWith(_i.EllipsisChar)?this.truncatedItems.add(r):this.truncatedItems.delete(r),c}updatePagination(e,t,i){const n=this.getOrientation(),s=Math.min(this.paginationTrackingIndex,e.length);this.pagination.orientation=n,this.pagination.translationX=0,this.pagination.translationY=0;const{pages:r,maxPageHeight:o,maxPageWidth:a,paginationBBox:c,paginationVertical:h}=this.calculatePagination(e,t,i),f=r.findIndex(k=>k.endIndex>=s);this.pagination.currentPage=ut(0,f,r.length-1);const{paddingX:p,paddingY:m}=this.item,b=8,C=a-p,w=o-m;let D=0,M=-c.y-this.item.marker.size/2;h?M+=w+b:(D+=-c.x+C+b,M+=(w-c.height)/2),this.pagination.translationX=D,this.pagination.translationY=M,this.pagination.update(),this.pagination.updateMarkers();let A=0;return this.itemSelection.each((k,_,F)=>{var N;F>(((N=r[A])==null?void 0:N.endIndex)??1/0)&&A++,k.pageIndex=A}),{maxPageHeight:o,maxPageWidth:a,pages:r}}calculatePagination(e,t,i){const{paddingX:n,paddingY:s}=this.item,r=this.getOrientation(),o=["left","right"].includes(this.position);let a=this.pagination.getBBox(),c=new Ge(0,0,0,0),h=[],f=0,p=0,m=0;const b=w=>w.width===a.width&&w.height===a.height,C=this.maxWidth!==void 0&&this.maxHeight!==void 0;do{if(m++>10){Ee.warn("unable to find stable legend layout.");break}a=c;const w=t-(o?0:a.width),D=i-(o?a.height:0),M=wte({orientation:r,bboxes:e,maxHeight:D,maxWidth:w,itemPaddingY:s,itemPaddingX:n,forceResult:C});h=(M==null?void 0:M.pages)??[],f=(M==null?void 0:M.maxPageWidth)??0,p=(M==null?void 0:M.maxPageHeight)??0;const A=h.length;if(this.pagination.visible=A>1,this.pagination.totalPages=A,this.pagination.update(),this.pagination.updateMarkers(),c=this.pagination.getBBox(),!this.pagination.visible)break}while(!b(c));return{maxPageWidth:f,maxPageHeight:p,pages:h,paginationBBox:c,paginationVertical:o}}updatePositions(e=0){const{item:{paddingY:t},itemSelection:i,pages:n}=this;if(n.length<1||!n[e])return;const{columns:s,startIndex:r,endIndex:o}=n[e];let a=0,c=0;const h=s.length,f=s[0].indices.length,p=this.getOrientation()==="horizontal",m=s[0].bboxes[0].height+t,b=[];i.each((C,w,D)=>{if(D<r||D>o){C.visible=!1;return}const M=D-r;let A,k;p?(A=M%h,k=Math.floor(M/h)):(A=Math.floor(M/f),k=M%f),C.visible=!0;const _=s[A];_&&(c=Math.floor(m*k),a=Math.floor(b[k]??0),b[k]=(b[k]??0)+_.columnWidth,C.translationX=a,C.translationY=c)})}updatePageNumber(e){const{itemSelection:t,group:i,pagination:n,pages:s,toggleSeries:r}=this,{startIndex:o,endIndex:a}=s[e];o===0?this.paginationTrackingIndex=0:e===s.length-1?this.paginationTrackingIndex=a:this.paginationTrackingIndex=Math.floor((o+a)/2),this.pagination.update(),this.pagination.updateMarkers(),this.updatePositions(e),this.domProxy.onPageChange({itemSelection:t,group:i,pagination:n,interactive:r}),this.ctx.updateService.update(6)}update(){const{label:{color:e}}=this.item;this.itemSelection.each((t,i)=>{t.setEnabled(i.enabled),t.color=e}),this.updateContextMenu()}updateContextMenu(){const{toggleSeries:e,ctx:{contextMenuRegistry:t}}=this;e?(t.hideAction(gp),t.hideAction($w)):(t.showAction(gp),t.showAction($w))}getLineStyles(e){const{stroke:t,strokeOpacity:i=1,strokeWidth:n,lineDash:s}=e.line??{},r=Math.min(2,n??1);return{stroke:t,strokeOpacity:i,strokeWidth:this.item.line.strokeWidth??r,lineDash:s}}getMarkerStyles({marker:e}){const{fill:t,stroke:i,strokeOpacity:n=1,fillOpacity:s=1,strokeWidth:r,lineDash:o,lineDashOffset:a}=e,c=Math.min(2,r??1);return Fh(t)&&(t.width=8,t.height=8,t.padding=1,t.strokeWidth=Math.min(2,t.strokeWidth??2)),Ca({fill:t,stroke:i,strokeOpacity:n,fillOpacity:s,strokeWidth:this.item.marker.strokeWidth??c,lineDash:o,lineDashOffset:a},_te,Nte)}computePagedBBox(){const e=at.computeChildrenBBox(this.group.children());if(this.pages.length>1){const[t,i]=this.maxPageSize;e.height=Math.max(i,e.height),e.width=Math.max(t,e.width)}return e}findNode(e){const{datum:t,proxyButton:i}=this.itemSelection.select(n=>{var s;return((s=n.datum)==null?void 0:s.itemId)===e.itemId})[0]??{};if(t===void 0||i===void 0)throw new Error(`AG Charts - Missing required properties { datum: ${t}, proxyButton: ${JSON.stringify(i)} }`);return{datum:t,proxyButton:i}}contextToggleVisibility(e){const{datum:t,proxyButton:i}=this.findNode(e);this.doClick(e.event,t,i)}contextToggleOtherSeries(e){this.doDoubleClick(e.event,this.findNode(e).datum)}onContextClick(e,t){var a;const i=t.datum;this.preventHidingAll&&((a=this.contextMenuDatum)!=null&&a.enabled)&&this.getVisibleItemCount()<=1?this.ctx.contextMenuRegistry.disableAction(gp):this.ctx.contextMenuRegistry.enableAction(gp);const{offsetX:n,offsetY:s}=e,{x:r,y:o}=en.toCanvasPoint(t,n,s);this.ctx.contextMenuRegistry.dispatchContext("legend",{sourceEvent:e,canvasX:r,canvasY:o},{legendItem:i})}onClick(e,t,i){this.doClick(e,t,i)&&e.preventDefault()}getVisibleItemCount(){return this.ctx.chartService.series.flatMap(e=>e.getLegendData("category")).filter(e=>e.enabled).length}doClick(e,t,i){const{listeners:{legendItemClick:n},ctx:{chartService:s,highlightManager:r},preventHidingAll:o,toggleSeries:a}=this;if(!t)return!1;const{legendType:c,seriesId:h,itemId:f,enabled:p}=t,m=s.series.find(w=>w.id===h);if(!m)return!1;let b=p;const C=o_("click",f,m.id,e);return n==null||n(C.apiEvent),C.defaultPrevented||(a&&(b=!p,o&&!b&&this.getVisibleItemCount()<2&&(b=!0),i.setChecked(b),this.ctx.chartEventManager.legendItemClick(c,m,f,b,t.legendItemName)),b?r.updateHighlight(this.id,{series:m,itemId:f,datum:void 0,datumIndex:void 0}):r.updateHighlight(this.id),this.ctx.legendManager.update(),this.ctx.updateService.update(2,{forceNodeDataRefresh:!0,skipAnimations:t.skipAnimations??!1})),!0}onDoubleClick(e,t){this.doDoubleClick(e,t)&&e.preventDefault()}doDoubleClick(e,t){const{listeners:{legendItemDoubleClick:i},ctx:{chartService:n},toggleSeries:s}=this;if(n.mode==="integrated"||!t)return!1;const{legendType:r,id:o,itemId:a,seriesId:c}=t,h=n.series.find(p=>p.id===o);if(!h)return!1;const f=o_("dblclick",a,h.id,e);if(i==null||i(f.apiEvent),f.defaultPrevented)return!0;if(s){const p=n.series.flatMap(w=>w.getLegendData("category"));let m=0;const b=new Set;for(const w of p)w.enabled&&(m+=1,w.legendItemName!=null&&b.add(w.legendItemName));b.size>0&&(m=b.size);const C=p.find(w=>w.itemId===a&&w.seriesId===c);this.ctx.chartEventManager.legendItemDoubleClick(r,h,a,(C==null?void 0:C.enabled)??!1,m,C==null?void 0:C.legendItemName)}return this.ctx.legendManager.update(),this.ctx.updateService.update(2,{forceNodeDataRefresh:!0}),!0}toTooltipMeta(e,t){let i;return e instanceof FocusEvent?i=en.toCanvas(t).computeCenter():(e.preventDefault(),i=en.toCanvasPoint(t,e.offsetX,e.offsetY)),{canvasX:i.x,canvasY:i.y,showArrow:!1}}onHover(e,t){if(!this.enabled)throw new Error("AG Charts - onHover handler called on disabled legend");this.pagination.setPage(t.pageIndex);const i=t.datum,n=i?this.ctx.chartService.series.find(s=>s.id===(i==null?void 0:i.id)):void 0;if(i&&this.truncatedItems.has(i.itemId??i.id)){const s=this.toTooltipMeta(e,t);this.ctx.tooltipManager.updateTooltip(this.id,s,[{type:"structured",title:this.getItemLabel(i)}])}else this.ctx.tooltipManager.removeTooltip(this.id);i!=null&&i.enabled&&n?this.updateHighlight({series:n,itemId:i==null?void 0:i.itemId,datum:void 0,datumIndex:void 0}):this.updateHighlight()}onLeave(){this.ctx.tooltipManager.removeTooltip(this.id),this.updateHighlight()}updateHighlight(e){this.ctx.interactionManager.isState(32)?this.ctx.highlightManager.updateHighlight(this.id,e):this.ctx.interactionManager.isState(2)&&(this.pendingHighlightDatum=e,this.ctx.animationManager.onBatchStop(()=>{this.ctx.highlightManager.updateHighlight(this.id,this.pendingHighlightDatum)}))}onLocaleChanged(){this.domProxy.onLocaleChanged(this.ctx.localeManager,this.itemSelection,this)}positionLegend(e){const t=this.positionLegendScene(e);this.positionLegendDOM(t)}positionLegendScene(e){if(!this.enabled||!this.data.length)return;const{layoutBox:t}=e,{x:i,y:n,width:s,height:r}=t,[o,a]=this.calculateLegendDimensions(t),{oldPages:c}=this.calcLayout(o,a),h=this.computePagedBBox(),f=()=>{switch(this.position){case"top":case"left":return 0;case"bottom":return r-h.height;case"right":default:return s-h.width}};if(this.visible){const p=this.spacing;let m,b;switch(this.position){case"top":case"bottom":m=(s-h.width)/2,b=f(),t.shrink(h.height+p,this.position);break;case"left":case"right":default:m=f(),b=(r-h.height)/2,t.shrink(h.width+p,this.position)}this.group.translationX=Math.floor(i+m-h.x),this.group.translationY=Math.floor(n+b-h.y)}return c}positionLegendDOM(e){const{ctx:t,itemSelection:i,pagination:n,pages:s,toggleSeries:r,group:o,listeners:{legendItemClick:a,legendItemDoubleClick:c}}=this,h=this.visible&&this.enabled,f=r||c!=null||a!=null;this.domProxy.update({visible:h,interactive:f,ctx:t,itemSelection:i,group:o,pagination:n,oldPages:e,newPages:s,datumReader:this,itemListener:this})}calculateLegendDimensions(e){const{width:t,height:i}=e,n=t/i,s=.5,r=.2,o=.25;let a,c;switch(this.position){case"top":case"bottom":{const h=n<1?Math.min(s,r*(1/n)):r;a=this.maxWidth?Math.min(this.maxWidth,t):t,c=this.maxHeight?Math.min(this.maxHeight,i):Math.round(i*h);break}case"left":case"right":default:{const h=n>1?Math.min(s,o*n):o;a=this.maxWidth?Math.min(this.maxWidth,t):Math.round(t*h),c=this.maxHeight?Math.min(this.maxHeight,i):i}}return[a,c]}};rr.className="Legend";R([P()],rr.prototype,"toggleSeries",2);R([P()],rr.prototype,"pagination",2);R([P()],rr.prototype,"item",2);R([P()],rr.prototype,"listeners",2);R([mu((e,t,i)=>{if(e.updateGroupVisibility(),t===i)return;const{ctx:{legendManager:n,stateManager:s}}=e;i===!1&&t===!0&&s.restoreState(n)}),P()],rr.prototype,"enabled",2);R([P()],rr.prototype,"position",2);R([P()],rr.prototype,"maxWidth",2);R([P()],rr.prototype,"maxHeight",2);R([P()],rr.prototype,"reverseOrder",2);R([P(ci(["horizontal","vertical"],"an orientation"))],rr.prototype,"orientation",2);R([P()],rr.prototype,"preventHidingAll",2);R([P()],rr.prototype,"spacing",2);var Ote={type:"legend",optionsKey:"legend",identifier:"category",chartTypes:["cartesian","polar","hierarchy","topology","flow-proportion","standalone","gauge"],moduleFactory:e=>new rr(e),packageType:"community",removable:"standalone-only"},ez={};jo(ez,{CARTESIAN_AXIS_TYPE:()=>nz,CARTESIAN_POSITION:()=>iz,FONT_SIZE:()=>tz,FONT_SIZE_RATIO:()=>ET,POLAR_AXIS_SHAPE:()=>rz,POLAR_AXIS_TYPE:()=>sz});var tz=(e=>(e[e.SMALLEST=8]="SMALLEST",e[e.SMALLER=10]="SMALLER",e[e.SMALL=12]="SMALL",e[e.MEDIUM=13]="MEDIUM",e[e.LARGE=14]="LARGE",e[e.LARGEST=17]="LARGEST",e))(tz||{}),ET=(e=>(e[e.SMALLEST=.6666666666666666]="SMALLEST",e[e.SMALLER=.8333333333333334]="SMALLER",e[e.SMALL=1]="SMALL",e[e.MEDIUM=1.0833333333333333]="MEDIUM",e[e.LARGE=1.1666666666666667]="LARGE",e[e.LARGEST=1.4166666666666667]="LARGEST",e))(ET||{}),iz=(e=>(e.TOP="top",e.RIGHT="right",e.BOTTOM="bottom",e.LEFT="left",e))(iz||{}),nz=(e=>(e.CATEGORY="category",e.GROUPED_CATEGORY="grouped-category",e.ORDINAL_TIME="ordinal-time",e.NUMBER="number",e.TIME="time",e.LOG="log",e))(nz||{}),sz=(e=>(e.ANGLE_CATEGORY="angle-category",e.ANGLE_NUMBER="angle-number",e.RADIUS_CATEGORY="radius-category",e.RADIUS_NUMBER="radius-number",e))(sz||{}),rz=(e=>(e.CIRCLE="circle",e.POLYGON="polygon",e))(rz||{}),RT={};jo(RT,{DEFAULT_ANNOTATION_HANDLE_FILL:()=>Um,DEFAULT_ANNOTATION_STATISTICS_COLOR:()=>$m,DEFAULT_ANNOTATION_STATISTICS_DIVIDER_STROKE:()=>Zm,DEFAULT_ANNOTATION_STATISTICS_DOWN_FILL:()=>rm,DEFAULT_ANNOTATION_STATISTICS_DOWN_STROKE:()=>om,DEFAULT_ANNOTATION_STATISTICS_FILL:()=>Ym,DEFAULT_ANNOTATION_STATISTICS_STROKE:()=>Km,DEFAULT_CAPTION_ALIGNMENT:()=>$c,DEFAULT_CAPTION_LAYOUT_STYLE:()=>Kc,DEFAULT_FIBONACCI_STROKES:()=>sm,DEFAULT_FINANCIAL_CHARTS_ANNOTATION_BACKGROUND_FILL:()=>wn,DEFAULT_FINANCIAL_CHARTS_ANNOTATION_COLOR:()=>Ji,DEFAULT_GRIDLINE_ENABLED:()=>ga,DEFAULT_POLAR_SERIES_STROKE:()=>Lx,DEFAULT_SEPARATION_LINES_COLOUR:()=>Hm,DEFAULT_SHADOW_COLOUR:()=>xu,DEFAULT_SPARKLINE_CROSSHAIR_STROKE:()=>Tx,DEFAULT_TEXTBOX_COLOR:()=>Qm,DEFAULT_TEXTBOX_FILL:()=>Xm,DEFAULT_TEXTBOX_STROKE:()=>qm,DEFAULT_TEXT_ANNOTATION_COLOR:()=>Wm,DEFAULT_TOOLBAR_POSITION:()=>Jm,IS_COMMUNITY:()=>IT,IS_DARK_THEME:()=>uf,IS_ENTERPRISE:()=>kT,PALETTE_ALT_DOWN_FILL:()=>PT,PALETTE_ALT_DOWN_STROKE:()=>NT,PALETTE_ALT_NEUTRAL_FILL:()=>FT,PALETTE_ALT_NEUTRAL_STROKE:()=>Dx,PALETTE_ALT_UP_FILL:()=>OT,PALETTE_ALT_UP_STROKE:()=>_T,PALETTE_DOWN_FILL:()=>Vm,PALETTE_DOWN_STROKE:()=>wx,PALETTE_NEUTRAL_FILL:()=>Mx,PALETTE_NEUTRAL_STROKE:()=>wf,PALETTE_UP_FILL:()=>jm,PALETTE_UP_STROKE:()=>Sx});var uf=Symbol("is-dark-theme"),IT=Symbol("is-community"),kT=Symbol("is-enterprise"),Hm=Symbol("default-separation-lines-colour"),xu=Symbol("default-shadow-colour"),Kc=Symbol("default-caption-layout-style"),$c=Symbol("default-caption-alignment"),Sx=Symbol("palette-up-stroke"),wx=Symbol("palette-down-stroke"),jm=Symbol("palette-up-fill"),Vm=Symbol("palette-down-fill"),wf=Symbol("palette-neutral-stroke"),Mx=Symbol("palette-neutral-fill"),_T=Symbol("palette-alt-up-stroke"),NT=Symbol("palette-alt-down-stroke"),OT=Symbol("palette-alt-up-fill"),PT=Symbol("palette-alt-down-fill"),FT=Symbol("palette-gray-fill"),Dx=Symbol("palette-gray-stroke"),Lx=Symbol("default-polar-series-stroke"),Tx=Symbol("default-sparkline-crosshair-stroke"),Ji=Symbol("default-financial-charts-annotation-stroke"),sm=Symbol("default-hierarchy-strokes"),Wm=Symbol("default-text-annotation-color"),wn=Symbol("default-financial-charts-annotation-background-fill"),Um=Symbol("default-annotation-handle-fill"),Ym=Symbol("default-annotation-statistics-fill"),Km=Symbol("default-annotation-statistics-stroke"),$m=Symbol("default-annotation-statistics-color"),Zm=Symbol("default-annotation-statistics-divider-stroke"),rm=Symbol("default-annotation-statistics-fill"),om=Symbol("default-annotation-statistics-stroke"),Xm=Symbol("default-textbox-fill"),qm=Symbol("default-textbox-stroke"),Qm=Symbol("default-textbox-color"),Jm=Symbol("default-toolbar-position"),ga=Symbol("default-gridline-enabled"),oz=[{type:"number",position:{$if:[{$eq:[{$path:["/direction",void 0]},"horizontal"]},"bottom","left"]}},{type:"category",position:{$if:[{$eq:[{$path:["/direction",void 0]},"horizontal"]},"left","bottom"]}}],Pte={$if:[{$or:[{$isGradient:[{$palette:"fill"}]},{$isPattern:[{$palette:"fill"}]}]},{$palette:"fillFallback"},{$palette:"fill"}]},BT={$if:[{$or:[{$isGradient:[{$palette:"fill"}]},{$isPattern:[{$palette:"fill"}]}]},{$palette:"fillsFallback"},{$palette:"fills"}]},Ax={$if:[{$isGradient:[{$palette:"fill"}]},{$palette:"fillFallback"},{$if:[{$isPattern:[{$palette:"fill"}]},{$path:["./stroke",{$palette:"fillFallback"},{$palette:"fill"}]},{$palette:"fill"}]}]},Fte={$if:[{$or:[{$isGradient:[{$palette:"fill"}]},{$isPattern:[{$palette:"fill"}]}]},[{$palette:"fillFallback"},{$palette:"fillFallback"}],{$palette:"range2"}]},uu={type:"pattern",pattern:"forward-slanted-lines",width:10,height:10,padding:2,fill:{$if:[{$isGradient:[{$palette:"fill"}]},{$palette:"fillFallback"},{$if:[{$isPattern:[{$palette:"fill"}]},{$path:["./fill",{$palette:"fillFallback"},{$palette:"fill"}]},{$palette:"fill"}]}]},fillOpacity:1,stroke:Ax,strokeOpacity:1,strokeWidth:4,backgroundFill:"transparent",backgroundFillOpacity:1,rotation:0};function Pr(e){return vF(e,t=>{const i=ni.fromString(t);return[ni.darken(i,.15).toString(),t,ni.lighten(i,.15).toString()]})}function gC(e,t,i,n,s){const{addPhaseFn:r,updatePhaseFn:o,removePhaseFn:a}=s,c=(h,f,p)=>{i.animate({id:`${e}_${t}_${f.id}_${h}`,groupId:e,from:0,to:1,ease:Qp,collapsable:!1,onUpdate(m,b){b&&h!=="removed"||(f.path.clear(!0),p(m,f),f.checkPathDirty())},onStop(){h==="added"&&(f.path.clear(!0),p(1,f),f.checkPathDirty())},phase:ko[h]})};for(const h of n)i.isSkipped()||(c("removed",h,a),c("updated",h,o)),c("added",h,r)}function qt({id:e},t,i,...n){Nl(e,t,i,n,{opacity:0},{opacity:1},{phase:"trailing"})}function Zc({id:e},t,i,...n){Nl(e,t,i,n,{opacity:1},{opacity:0},{phase:"remove"})}function jl(e){return{opacity:1}}var Uo=class extends DT{constructor(){super(...arguments),this.enabled=!0,this.color="rgba(0, 0, 0, 0.5)",this.xOffset=0,this.yOffset=0,this.blur=5}};R([P(),He()],Uo.prototype,"enabled",2);R([P(),He()],Uo.prototype,"color",2);R([P(),He()],Uo.prototype,"xOffset",2);R([P(),He()],Uo.prototype,"yOffset",2);R([P(),He()],Uo.prototype,"blur",2);var az=class extends ht{constructor(){super(...arguments),this.enabled=!1}};R([P()],az.prototype,"enabled",2);var Ts=class extends ht{constructor(){super(...arguments),this.interaction=new az,this.position=new Fl,this.range=void 0,this.class=void 0}formatTooltip(e,t,i){const n=this.renderer==null?void 0:$L(e,this.renderer,[i]);return typeof n=="string"?{type:"raw",rawHtmlString:n}:n!=null?{type:"structured",...t,...n}:{type:"structured",...t}}};R([P()],Ts.prototype,"enabled",2);R([P()],Ts.prototype,"showArrow",2);R([P()],Ts.prototype,"renderer",2);R([P()],Ts.prototype,"interaction",2);R([P()],Ts.prototype,"position",2);R([P()],Ts.prototype,"range",2);R([P()],Ts.prototype,"class",2);var Bte=class{constructor(e,t,i){this.root=new Hte(e,t,i)}clear(e){this.root.clear(e)}addValue(e,t){const i={hitTester:e,value:t,distanceSquared:(n,s)=>e.distanceSquared(n,s)};this.root.addElem(i)}find(e,t){const i={best:{nearest:void 0,distanceSquared:1/0}};return this.root.find(e,t,i),i.best}},zte=class{constructor(e,t,i,n){this.nw=e,this.ne=t,this.sw=i,this.se=n}addElem(e){this.nw.addElem(e),this.ne.addElem(e),this.sw.addElem(e),this.se.addElem(e)}find(e,t,i){this.nw.find(e,t,i),this.ne.find(e,t,i),this.sw.find(e,t,i),this.se.find(e,t,i)}},Gte=class{constructor(e,t,i){this.capacity=e,this.maxdepth=t,this.boundary=i??Ge.NaN,this.elems=[],this.subdivisions=void 0}clear(e){this.elems.length=0,this.boundary=e,this.subdivisions=void 0}addElem(e){this.addCondition(e)&&(this.subdivisions===void 0?this.maxdepth===0||this.elems.length<this.capacity?this.elems.push(e):this.subdivide(e):this.subdivisions.addElem(e))}find(e,t,i){this.findCondition(e,t,i)&&(this.subdivisions===void 0?this.findAction(e,t,i):this.subdivisions.find(e,t,i))}subdivide(e){this.subdivisions=this.makeSubdivisions();for(const t of this.elems)this.subdivisions.addElem(t);this.subdivisions.addElem(e),this.elems.length=0}makeSubdivisions(){const{x:e,y:t,width:i,height:n}=this.boundary,{capacity:s}=this,r=this.maxdepth-1,o=i/2,a=n/2,c=new Ge(e,t,o,a),h=new Ge(e+o,t,o,a),f=new Ge(e,t+a,o,a),p=new Ge(e+o,t+a,o,a);return new zte(this.child(s,r,c),this.child(s,r,h),this.child(s,r,f),this.child(s,r,p))}},Hte=class lz extends Gte{addCondition(t){const{x:i,y:n}=t.hitTester.midPoint;return this.boundary.containsPoint(i,n)}findCondition(t,i,n){const{best:s}=n;return s.distanceSquared!==0&&this.boundary.distanceSquared(t,i)<s.distanceSquared}findAction(t,i,n){const s=YC(t,i,this.elems,n.best.distanceSquared);s.nearest!==void 0&&s.distanceSquared<n.best.distanceSquared&&(n.best=s)}child(t,i,n){return new lz(t,i,n)}},zT=class extends px{constructor({clipFocusBox:e,categoryKey:t,...i}){super(i),this.categoryKey=t,this.clipFocusBox=e??!0}getScaleInformation({xScale:e,yScale:t}){const i=ai.is(e),n=ai.is(t);return{isContinuousX:i,isContinuousY:n,xScaleType:e==null?void 0:e.type,yScaleType:t==null?void 0:t.type}}getModulePropertyDefinitions(){var i,n;const e=(i=this.axes.x)==null?void 0:i.scale,t=(n=this.axes.y)==null?void 0:n.scale;return this.moduleMap.mapModules(s=>s.getPropertyDefinitions(this.getScaleInformation({xScale:e,yScale:t}))).flat()}async requestDataModel(e,t,i){i.props.push(...this.getModulePropertyDefinitions());const{dataModel:n,processedData:s}=await e.request(this.id,t??[],i);return this.dataModel=n,this.processedData=s,this.dispatch("data-processed",{dataModel:n,processedData:s}),{dataModel:n,processedData:s}}isProcessedDataAnimatable(){var n,s;const e=(s=(n=this.processedData)==null?void 0:n.reduced)==null?void 0:s.animationValidation;if(!e)return!0;const{orderedKeys:t,uniqueKeys:i}=e;return t&&i}checkProcessedDataAnimatable(){this.isProcessedDataAnimatable()||this.ctx.animationManager.skipCurrentBatch()}pickFocus(e){const t=this.getNodeData();if(t===void 0||t.length===0)return;const i=this.computeFocusDatumIndex(e,t);if(i===void 0)return;const{clipFocusBox:n}=this,s=t[i],r={...e,datumIndex:i},o=this.computeFocusBounds(r);if(o!==void 0)return{bounds:o,clipFocusBox:n,datum:s,datumIndex:i}}isDatumEnabled(e,t){const{missing:i=!1,enabled:n=!0,focusable:s=!0}=e[t];return!i&&n&&s}computeFocusDatumIndex(e,t){const i=(o,a)=>{for(;o>=0&&!this.isDatumEnabled(t,o);)o+=a;return o===-1?void 0:o},n=(o,a)=>{for(;o<t.length&&!this.isDatumEnabled(t,o);)o+=a;return o===t.length?void 0:o};let s;const r=ut(0,e.datumIndex,t.length-1);return e.datumIndexDelta<0?s=i(r,e.datumIndexDelta):e.datumIndexDelta>0?s=n(r,e.datumIndexDelta):s=n(r,1)??i(r,-1),s===void 0?e.datumIndexDelta===0?void 0:e.datumIndex-e.datumIndexDelta:s}keysOrValues(e){var i,n,s;const t=this.dataModel.resolveProcessedDataIndexById(this,e);return((n=(i=this.processedData)==null?void 0:i.keys[t])==null?void 0:n.get(this.id))??((s=this.processedData)==null?void 0:s.columns[t])??[]}getCategoryKey(){return this.categoryKey}getCategoryValue(e){var r,o;const{processedData:t,dataModel:i}=this,n=this.getCategoryKey();return!t||!i||!n||(((o=(r=t.invalidData)==null?void 0:r.get(this.id))==null?void 0:o[e])??!1)?void 0:this.keysOrValues(n)[e]}datumIndexForCategoryValue(e){var o,a;const{processedData:t,dataModel:i}=this,n=this.getCategoryKey();if(!t||!i||!n)return;e=e.valueOf();const s=(o=t.invalidData)==null?void 0:o.get(this.id),r=this.keysOrValues(n);for(let c=0;c<r.length;c+=1){if((s==null?void 0:s[c])===!0)continue;const h=(a=r[c])==null?void 0:a.valueOf();if(Da(e,h))return c}}},Xh={x:["xKey"],y:["yKey"]},qh={x:["xName"],y:["yName"]},GT=class extends Fm{constructor(e,t,i,n){super(e,t,i,n),this.xKey=n.properties.xKey,this.yKey=n.properties.yKey}},Vl=class extends Or{constructor(){super(...arguments),this.pickOutsideVisibleMinorAxis=!1}};R([P()],Vl.prototype,"legendItemName",2);R([P()],Vl.prototype,"pickOutsideVisibleMinorAxis",2);var pC=100,Su=class extends zT{constructor({pathsPerSeries:e=["path"],hasMarkers:t=!1,hasHighlightedLabels:i=!1,pathsZIndexSubOrderOffset:n=[],datumSelectionGarbageCollection:s=!0,markerSelectionGarbageCollection:r=!0,animationAlwaysUpdateSelections:o=!1,animationResetFns:a,directionKeys:c,directionNames:h,...f}){if(super({directionKeys:c,directionNames:h,canHaveAxes:!0,...f}),this.NodeEvent=GT,this.dataNodeGroup=this.contentGroup.appendChild(new at({name:`${this.id}-series-dataNodes`,zIndex:0})),this.markerGroup=this.contentGroup.appendChild(new at({name:`${this.id}-series-markers`,zIndex:1})),this.labelGroup=this.contentGroup.appendChild(new zs({name:`${this.id}-series-labels`})),this.labelSelection=gn.select(this.labelGroup,Rn),this.highlightSelection=gn.select(this.highlightNode,()=>this.opts.hasMarkers?new In:this.nodeFactory()),this.highlightLabelSelection=gn.select(this.highlightLabel,Rn),this.annotationSelections=new Set,this.debug=$t.create(),!c||!h)throw new Error(`Unable to initialise series type ${this.type}`);this.opts={pathsPerSeries:e,hasMarkers:t,hasHighlightedLabels:i,pathsZIndexSubOrderOffset:n,directionKeys:c,directionNames:h,animationResetFns:a,animationAlwaysUpdateSelections:o,datumSelectionGarbageCollection:s,markerSelectionGarbageCollection:r},this.paths=e.map(p=>new Ws({name:`${this.id}-${p}`})),this.datumSelection=gn.select(this.dataNodeGroup,()=>this.nodeFactory(),s),this.markerSelection=gn.select(this.markerGroup,In,r),this.animationState=new Om("empty",{empty:{update:{target:"ready",action:p=>this.animateEmptyUpdateReady(p)},reset:"empty",skip:"ready",disable:"disabled"},ready:{updateData:"waiting",clear:"clearing",highlight:p=>this.animateReadyHighlight(p),highlightMarkers:p=>this.animateReadyHighlightMarkers(p),resize:p=>this.animateReadyResize(p),reset:"empty",skip:"ready",disable:"disabled"},waiting:{update:{target:"ready",action:p=>{this.ctx.animationManager.isSkipped()?this.resetAllAnimation(p):this.animateWaitingUpdateReady(p)}},reset:"empty",skip:"ready",disable:"disabled"},disabled:{update:p=>this.resetAllAnimation(p),reset:"empty"},clearing:{update:{target:"empty",action:p=>this.animateClearingUpdateEmpty(p)},reset:"empty",skip:"ready"}},()=>this.checkProcessedDataAnimatable())}get contextNodeData(){return this._contextNodeData}getNodeData(){var e;return(e=this.contextNodeData)==null?void 0:e.nodeData}attachSeries(e,t,i){super.attachSeries(e,t,i),this.attachPaths(this.paths,t,i)}detachSeries(e,t,i){super.detachSeries(e,t,i),this.detachPaths(this.paths,t,i)}attachPaths(e,t,i){for(const n of e)this.contentGroup.appendChild(n)}detachPaths(e,t,i){for(const n of e)this.contentGroup.removeChild(n)}renderToOffscreenCanvas(){const e=this.getNodeData();return e!=null&&e.length>pC}resetAnimation(e){e==="initial"?this.animationState.transition("reset"):e==="ready"?this.animationState.transition("skip"):e==="disabled"&&this.animationState.transition("disable")}addChartEventListeners(){this.destroyFns.push(this.ctx.chartEventManager.addListener("legend-item-click",e=>this.onLegendItemClick(e)),this.ctx.chartEventManager.addListener("legend-item-double-click",e=>this.onLegendItemDoubleClick(e)))}destroy(){super.destroy(),this._contextNodeData=void 0}update({seriesRect:e}){var c,h;const{visible:t,_contextNodeData:i}=this,s=((h=(c=this.ctx.highlightManager)==null?void 0:c.getActiveHighlight())==null?void 0:h.series)===this,r=this.checkResize(e),o=this.updateHighlightSelection(s);this.updateSelections(t),this.updateNodes(o,s,t);const a=this.getAnimationData(e,i);a&&(r&&this.animationState.transition("resize",a),this.animationState.transition("update",a))}updateSelections(e){var t;const i=!this.opts.animationAlwaysUpdateSelections&&this.ctx.animationManager.isSkipped();if(!(!e&&i)&&!(!this.nodeDataRefresh&&!this.isPathOrSelectionDirty())){if(this.nodeDataRefresh){this.nodeDataRefresh=!1,this.debug("CartesianSeries.updateSelections() - calling createNodeData() for",this.id),this.markQuadtreeDirty(),this._contextNodeData=this.createNodeData();const n=this.isProcessedDataAnimatable();this._contextNodeData&&((t=this._contextNodeData).animationValid??(t.animationValid=n));const{dataModel:s,processedData:r}=this;s!==void 0&&r!==void 0&&this.dispatch("data-update",{dataModel:s,processedData:r})}this.updateSeriesSelections()}}updateSeriesSelections(e){const{datumSelection:t,labelSelection:i,markerSelection:n,paths:s}=this,r=this._contextNodeData;if(!r)return;const{nodeData:o,labelData:a,itemId:c}=r;this.updatePaths({seriesHighlighted:e,itemId:c,contextData:r,paths:s}),this.datumSelection=this.updateDatumSelection({nodeData:o,datumSelection:t}),this.labelSelection=this.updateLabelSelection({labelData:a,labelSelection:i})??i,this.opts.hasMarkers&&(this.markerSelection=this.updateMarkerSelection({nodeData:o,markerSelection:n}))}getShapeFillBBox(){const{axes:e}=this,t=e.x,i=e.y,[n,s]=pn((t==null?void 0:t.range)??[0,1]),[r,o]=pn((i==null?void 0:i.range)??[0,1]),a=this.getSeriesDomain("x"),c=[t==null?void 0:t.scale.convert(a.at(0)),t==null?void 0:t.scale.convert(a.at(-1))],h=this.getSeriesDomain("y"),f=[i==null?void 0:i.scale.convert(h.at(0)),i==null?void 0:i.scale.convert(h.at(-1))],[p,m]=pn(c),[b,C]=pn(f);return{axis:new Ge(n,r,s-n,o-r),series:new Ge(p,b,m-p,C-b)}}updateNodes(e,t,i){const{highlightSelection:n,highlightLabelSelection:s,opts:{hasMarkers:r,hasHighlightedLabels:o}}=this,a=!this.ctx.animationManager.isSkipped(),c=this.visible&&this._contextNodeData!=null&&i;this.contentGroup.visible=a||c,this.highlightGroup.visible=(a||c)&&t;const h=this.getOpacity();r?(this.updateMarkerNodes({markerSelection:n,isHighlight:!0}),this.animationState.transition("highlightMarkers",n)):(this.updateDatumNodes({datumSelection:n,isHighlight:!0}),this.animationState.transition("highlight",n)),o&&this.updateLabelNodes({labelSelection:s});const{dataNodeGroup:f,markerGroup:p,datumSelection:m,labelSelection:b,markerSelection:C,paths:w,labelGroup:D}=this,{itemId:M}=this.contextNodeData??{};f.opacity=h,f.visible=a||c,D.visible=c,r&&(p.opacity=h,p.visible=c),D&&(D.opacity=h),this.updatePathNodes({seriesHighlighted:t,itemId:M,paths:w,opacity:h,visible:c,animationEnabled:a}),f.visible&&(this.updateDatumNodes({datumSelection:m,highlightedItems:e,isHighlight:!1}),this.usesPlacedLabels||this.updateLabelNodes({labelSelection:b}),r&&this.updateMarkerNodes({markerSelection:C,isHighlight:!1}))}getHighlightLabelData(e,t){const i=e.filter(n=>n.datum===t.datum&&n.itemId===t.itemId);return i.length===0?void 0:i}getHighlightData(e,t){return t?[t]:void 0}updateHighlightSelection(e){var c;const{highlightSelection:t,highlightLabelSelection:i,_contextNodeData:n}=this;if(!n)return;const s=(c=this.ctx.highlightManager)==null?void 0:c.getActiveHighlight(),r=e&&(s!=null&&s.datum)?s:void 0;let o,a;if(r!=null){const h=this.isLabelEnabled(),{labelData:f,nodeData:p}=n;a=this.getHighlightData(p,r),o=h?this.getHighlightLabelData(f,r):void 0}return this.highlightSelection=this.updateHighlightSelectionItem({items:a,highlightSelection:t}),this.highlightLabelSelection=this.updateHighlightSelectionLabel({items:o,highlightLabelSelection:i}),a}markQuadtreeDirty(){this.quadtree=void 0}*datumNodesIter(){for(const{node:e}of this.datumSelection)e.datum.missing!==!0&&(yield e)}getQuadTree(){if(this.quadtree===void 0){const{width:e,height:t}=this.ctx.scene.canvas,i=new Ge(0,0,e,t);this.quadtree=new Bte(100,10,i),this.initQuadTree(this.quadtree)}return this.quadtree}initQuadTree(e){}pickNodesExactShape(e){const t=super.pickNodesExactShape(e);if(t.length!==0)return t;const{x:i,y:n}=e,{opts:{hasMarkers:s}}=this,{dataNodeGroup:r,markerGroup:o}=this;let a=r.pickNodes(i,n).filter(c=>c.datum.missing!==!0);if(a.length===0&&s&&(a=o==null?void 0:o.pickNodes(i,n).filter(c=>c.datum.missing!==!0)),a.length!==0)return a.map(h=>h.datum);for(const c of this.moduleMap.modules()){const{datum:h}=c.pickNodeExact(e)??{};if(h!=null&&(h==null?void 0:h.missing)!==!0)return[h]}return[]}pickNodeClosestDatum(e){var f;const{x:t,y:i}=e,{axes:n,_contextNodeData:s}=this;if(!s)return;const r=n.x,o=n.y,a={x:t,y:i};let c=1/0,h;for(const p of s.nodeData){const{point:{x:m=NaN,y:b=NaN}={}}=p;if(isNaN(m)||isNaN(b)||!((r==null?void 0:r.inRange(m))&&(o==null?void 0:o.inRange(b))))continue;const w=Math.max((a.x-m)**2+(a.y-b)**2,0);w<c&&(c=w,h=p)}for(const p of this.moduleMap.modules()){const m=p.pickNodeNearest(e);if(m!==void 0&&m.distanceSquared<c){c=m.distanceSquared,h=m.datum;break}}if(h){const p=Math.max(Math.sqrt(c)-(((f=h.point)==null?void 0:f.size)??0)/2,0);return{datum:h,distance:p}}}pickNodeMainAxisFirst(e,t){var C;const{x:i,y:n}=e,{axes:s,_contextNodeData:r}=this,{pickOutsideVisibleMinorAxis:o}=this.properties;if(!r)return;const a=s.x,c=s.y,h=[a,c].filter(Kh.is).map(w=>w.direction);if(t&&h.length===0)return;const[f="x"]=h,p=[i,n];f!=="x"&&p.reverse();const m=[1/0,1/0];let b;for(const w of r.nodeData){const{x:D=NaN,y:M=NaN}=w.point??w.midPoint??{};if(isNaN(D)||isNaN(M)||w.missing===!0)continue;const A=[a==null?void 0:a.inRange(D),c==null?void 0:c.inRange(M)];if(f!=="x"&&A.reverse(),!A[0]||!o&&!A[1])continue;const k=[D,M];f!=="x"&&k.reverse();let _=!0;for(let F=0;F<k.length;F++){const N=Math.abs(k[F]-p[F]);if(N>m[F]){_=!1;break}else N<m[F]&&(m[F]=N,m.fill(1/0,F+1,m.length))}_&&(b=w)}if(b){let w=Math.max(m[0]**2+m[1]**2-(((C=b.point)==null?void 0:C.size)??0),0);for(const D of this.moduleMap.modules()){const M=D.pickNodeMainAxisFirst(e);if(M!==void 0&&M.distanceSquared<w){b=M.datum,w=M.distanceSquared;break}}return{datum:b,distance:Math.sqrt(w)}}}isPathOrSelectionDirty(){return!1}shouldFlipXY(){return!1}visibleRange(e,t,i){const n=this.keysOrValues(e),s=0;return x2((i==null?void 0:i.length)??n.length,t,r=>{const o=(i==null?void 0:i[r])??r;return this.xCoordinateRange(n[o],s,o)})}domainForVisibleRange(e,t,i,n,s,r){const{processedData:o,dataModel:a}=this,[c,h]=n,f=this.keysOrValues(i);if(s){const C=this.visibleRange(i,n,r);return a.getDomainBetweenRange(this,t,C,o)}const p=t.map(C=>this.keysOrValues(C));let m=1/0,b=-1/0;return f.forEach((C,w)=>{const[D,M]=this.xCoordinateRange(C,0,w);if(!(M<c||D>h))for(let A=0;A<t.length;A++){const k=p[A][w];m=Math.min(m,k),b=Math.max(b,k)}}),m>b?[NaN,NaN]:[m,b]}domainForClippedRange(e,t,i,n){const{processedData:s,dataModel:r,axes:o}=this,c=jte(o[e==="x"?"y":"x"]);if(!c)return t.flatMap(C=>r.getDomain(this,C,"value",s));const h=this.keysOrValues(i);if(n){const C=Vte(h.length,c,w=>h[w]);return r.getDomainBetweenRange(this,t,C,s)}const f=t.map(C=>this.keysOrValues(C)),p=c[0].valueOf(),m=c[1].valueOf(),b=[];return h.forEach((C,w)=>{const D=C.valueOf();if(D<p||D>m)return;const M=f.map(A=>A[w]);D>=p&&b.push(...M),D<=m&&b.push(...M)}),b}countVisibleItems(e,t,i,n,s){const{dataModel:r,processedData:o}=this;if(!r||!o)return 1/0;const a=this.keysOrValues(e),c=t.map(F=>r.resolveColumnById(this,F,o)),h=this.axes.x,f=this.axes.y,p=this.shouldFlipXY(),m=h.range,b=f.range,C=(F,N,z)=>F[0]+(z-N[0])/(N[1]-N[0])*(F[1]-F[0]),w=C(m,h.visibleRange,i[0]),D=C(m,h.visibleRange,i[1]),M=C(b,f.visibleRange,p?n[0]:n[1]),A=C(b,f.visibleRange,p?n[1]:n[0]),k=Math.round((i[0]+(i[1]-i[0])/2)*a.length),_=0;return S2(0,a.length-1,k,s,F=>{let[N,z]=this.xCoordinateRange(a[F],_,F),[V,j]=this.yCoordinateRange(c.map(U=>U[F]),_,F);return!Vt(N)||!Vt(z)||!Vt(V)||!Vt(j)?!1:(p&&([N,z,V,j]=[V,j,N,z]),N>=w&&z<=D&&V>=M&&j<=A)})}updateHighlightSelectionItem(e){const{opts:{hasMarkers:t}}=this,{items:i,highlightSelection:n}=e,s=i??[];if(t){const r=n;return this.updateMarkerSelection({nodeData:s,markerSelection:r})}else return this.updateDatumSelection({nodeData:s,datumSelection:n})}updateHighlightSelectionLabel(e){return this.updateLabelSelection({labelData:e.items??[],labelSelection:e.highlightLabelSelection})}updateDatumSelection(e){return e.datumSelection}updateDatumNodes(e){}updateMarkerSelection(e){return e.markerSelection}updateMarkerNodes(e){}updatePaths(e){e.paths.forEach(t=>t.visible=!1)}updatePathNodes(e){const{paths:t,opacity:i,visible:n}=e;for(const s of t)s.opacity=i,s.visible=n}resetPathAnimation(e){var i;const{path:t}=((i=this.opts)==null?void 0:i.animationResetFns)??{};t&&e.paths.forEach(n=>{Hn([n],t)})}resetDatumAnimation(e){var i;const{datum:t}=((i=this.opts)==null?void 0:i.animationResetFns)??{};t&&Hn([e.datumSelection],t)}resetLabelAnimation(e){var i;const{label:t}=((i=this.opts)==null?void 0:i.animationResetFns)??{};t&&Hn([e.labelSelection],t)}resetMarkerAnimation(e){var i;const{marker:t}=((i=this.opts)==null?void 0:i.animationResetFns)??{};t&&this.opts.hasMarkers&&Hn([e.markerSelection],t)}resetAllAnimation(e){var t;this.ctx.animationManager.stopByAnimationGroupId(this.id),this.resetPathAnimation(e),this.resetDatumAnimation(e),this.resetLabelAnimation(e),this.resetMarkerAnimation(e),((t=e.contextData)==null?void 0:t.animationValid)===!1&&this.ctx.animationManager.skipCurrentBatch()}animateEmptyUpdateReady(e){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation(e)}animateWaitingUpdateReady(e){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation(e)}animateReadyHighlight(e){var i;const{datum:t}=((i=this.opts)==null?void 0:i.animationResetFns)??{};t&&Hn([e],t)}animateReadyHighlightMarkers(e){var i;const{marker:t}=((i=this.opts)==null?void 0:i.animationResetFns)??{};t&&Hn([e],t)}animateReadyResize(e){this.resetAllAnimation(e)}animateClearingUpdateEmpty(e){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation(e)}getAnimationData(e,t){const{_contextNodeData:i}=this;return i?{datumSelection:this.datumSelection,markerSelection:this.markerSelection,labelSelection:this.labelSelection,annotationSelections:[...this.annotationSelections],contextData:i,previousContextData:t,paths:this.paths,seriesRect:e}:void 0}updateLabelSelection(e){return e.labelSelection}getScaling(e){if(e instanceof MT){const{range:t,domain:i}=e;return{type:"log",convert:n=>e.convert(n),domain:[i[0],i[1]],range:[t[0],t[1]]}}else if(e instanceof ai){const{range:t,domain:i}=e;return{type:"continuous",domain:[i[0],i[1]],range:[t[0],t[1]]}}else if(e instanceof _m){const{domain:t}=e;return{type:"category",domain:t,inset:e.inset,step:e.step}}}calculateScaling(){const e={};for(const t of Object.values(zL)){const i=this.axes[t];if(!i)continue;const n=this.getScaling(i.scale);n!=null&&(e[t]=n)}return e}};function jte(e){let t,i;if((e instanceof Gl||e instanceof vu)&&({min:t,max:i}=e),!(t==null&&i==null))return t??(t=-1/0),i??(i=1/0),[t,i]}function Vte(e,t,i){const n=t[0].valueOf(),s=t[1].valueOf(),r=nF(0,e-1,a=>{var h;const c=(h=i(a))==null?void 0:h.valueOf();return!Number.isFinite(c)||c>=n});let o=iF(0,e-1,a=>{var h;const c=(h=i(a))==null?void 0:h.valueOf();return!Number.isFinite(c)||c<=s});return r==null||o==null?[0,0]:(o=Math.min(o+1,e),[r,o])}var Wte=ci(["linear","smooth","step"],"a line style"),Ute=ci(["start","middle","end"]),Uf=class extends ht{constructor(){super(...arguments),this.type="linear",this.tension=1,this.position="end"}};R([P()],Uf.prototype,"type",2);R([P()],Uf.prototype,"tension",2);R([P()],Uf.prototype,"position",2);var cn=class extends Vl{constructor(){super(...arguments),this.xName=void 0,this.fill="#c16068",this.fillGradientDefaults=new fo,this.fillPatternDefaults=new tn,this.fillOpacity=1,this.stroke="#874349",this.strokeWidth=2,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.interpolation=new Uf,this.shadow=new Uo,this.marker=new $n,this.label=new _n,this.tooltip=new Ts,this.connectMissingData=!1}};R([P()],cn.prototype,"xKey",2);R([P()],cn.prototype,"xName",2);R([P()],cn.prototype,"yKey",2);R([P()],cn.prototype,"yName",2);R([P()],cn.prototype,"yFilterKey",2);R([P()],cn.prototype,"normalizedTo",2);R([P(ds(ka,_a,Ir))],cn.prototype,"fill",2);R([P()],cn.prototype,"fillGradientDefaults",2);R([P()],cn.prototype,"fillPatternDefaults",2);R([P()],cn.prototype,"fillOpacity",2);R([P()],cn.prototype,"stroke",2);R([P()],cn.prototype,"strokeWidth",2);R([P()],cn.prototype,"strokeOpacity",2);R([P()],cn.prototype,"lineDash",2);R([P()],cn.prototype,"lineDashOffset",2);R([P()],cn.prototype,"interpolation",2);R([P()],cn.prototype,"shadow",2);R([P()],cn.prototype,"marker",2);R([P()],cn.prototype,"label",2);R([P()],cn.prototype,"tooltip",2);R([P()],cn.prototype,"connectMissingData",2);function Aa(e){switch(e.type){case"linear":case"step":return[{x:e.x0,y:e.y0},{x:e.x1,y:e.y1}];case"cubic":return[{x:e.cp0x,y:e.cp0y},{x:e.cp3x,y:e.cp3y}]}}function Yte(e){const t=Aa(e);return t[0].x>t[1].x&&t.reverse(),t}function Kte(e,t){const{x:i,y:n}=t;switch(e.type){case"linear":return{type:"linear",moveTo:e.moveTo,x0:i,y0:n,x1:i,y1:n};case"step":return{type:"step",moveTo:e.moveTo,x0:i,y0:n,x1:i,y1:n,stepX:i};case"cubic":return{type:"cubic",moveTo:e.moveTo,cp0x:i,cp0y:n,cp1x:i,cp1y:n,cp2x:i,cp2y:n,cp3x:i,cp3y:n}}}function am(e,t,i){const[n,s]=Aa(e),r=s.x!==n.x?(i.x-t.x)/(s.x-n.x):0,o=s.y!==n.y?(i.y-t.y)/(s.y-n.y):0;switch(e.type){case"linear":return{type:"linear",moveTo:e.moveTo,x0:t.x,y0:t.y,x1:i.x,y1:i.y};case"cubic":return{type:"cubic",moveTo:e.moveTo,cp0x:t.x,cp0y:t.y,cp1x:i.x-(e.cp2x-n.x)*r,cp1y:i.y-(e.cp2y-n.y)*o,cp2x:i.x-(e.cp1x-n.x)*r,cp2y:i.y-(e.cp1y-n.y)*o,cp3x:i.x,cp3y:i.y};case"step":return{type:"step",moveTo:e.moveTo,x0:t.x,y0:t.y,x1:i.x,y1:i.y,stepX:i.x-(e.stepX-n.x)*r}}}function cz(e,t,i){const{moveTo:n}=e,[s,r]=Yte(e),{x:o,y:a}=s,{x:c,y:h}=r;if(i<o)return am(e,s,s);if(t>c)return am(e,r,r);switch(e.type){case"linear":{const f=a===h?void 0:(h-a)/(c-o),p=f==null?a:f*(t-o)+a,m=f==null?a:f*(i-o)+a;return{type:"linear",moveTo:n,x0:t,y0:p,x1:i,y1:m}}case"step":if(i<=e.stepX){const f=e.y0;return{type:"step",moveTo:n,x0:t,y0:f,x1:i,y1:f,stepX:i}}else if(t>=e.stepX){const f=e.y1;return{type:"step",moveTo:n,x0:t,y0:f,x1:i,y1:f,stepX:t}}else{const{y0:f,y1:p,stepX:m}=e;return{type:"step",moveTo:n,x0:t,y0:f,x1:i,y1:p,stepX:m}}case"cubic":{const f=Qb(e.cp0x,e.cp1x,e.cp2x,e.cp3x,t);let[p,m]=Jb(e.cp0x,e.cp0y,e.cp1x,e.cp1y,e.cp2x,e.cp2y,e.cp3x,e.cp3y,f);const b=Qb(m[0].x,m[1].x,m[2].x,m[3].x,i);return[m,p]=Jb(m[0].x,m[0].y,m[1].x,m[1].y,m[2].x,m[2].y,m[3].x,m[3].y,b),{type:"cubic",moveTo:n,cp0x:m[0].x,cp0y:m[0].y,cp1x:m[1].x,cp1y:m[1].y,cp2x:m[2].x,cp2y:m[2].y,cp3x:m[3].x,cp3y:m[3].y}}}}function $te(e){const t=[];let i=0,n=NaN,s=NaN;for(const{x:r,y:o}of e){if(i>0){const a=i===1;t.push({type:"linear",moveTo:a,x0:n,y0:s,x1:r,y1:o})}i+=1,n=r,s=o}return t}var Zte={start:0,middle:.5,end:1};function Xte(e,t){const i=[];let n=0,s=NaN,r=NaN;const o=typeof t=="number"?t:Zte[t];for(const{x:a,y:c}of e){if(n>0){const h=n===1,f=s+(a-s)*o;i.push({type:"step",moveTo:h,x0:s,y0:r,x1:a,y1:c,stepX:f})}n+=1,s=a,r=c}return i}var jv=.05;function qte(e,t){const i=Array.isArray(e)?e:Array.from(e);if(i.length<=1)return[];const n=i.map((r,o)=>{const a=o===0?r:i[o-1],c=o===i.length-1?r:i[o+1],h=o===0||o===i.length-1;if(Math.sign(a.y-r.y)===Math.sign(c.y-r.y))return 0;if(!h){const f=Math.abs(a.y-c.y),p=Math.abs(r.y-a.y)/f,m=Math.abs(r.y-c.y)/f;if(p<=jv||1-p<=jv||m<=jv||1-m<=jv)return 0}return(c.y-a.y)/(c.x-a.x)});n[1]===0&&(n[0]*=2),n[n.length-2]===0&&(n[n.length-1]*=2);const s=[];for(let r=1;r<i.length;r+=1){const o=i[r-1],a=n[r-1],c=i[r],h=n[r],f=c.x-o.x,p=c.y-o.y;let m=f*t/3,b=f*a*t/3,C=f*t/3,w=f*h*t/3;h===0&&Math.abs(b)>Math.abs(p)&&(m*=Math.abs(p/b),b=Math.sign(b)*Math.abs(p)),a===0&&Math.abs(w)>Math.abs(p)&&(C*=Math.abs(p/w),w=Math.sign(w)*Math.abs(p)),s.push({type:"cubic",moveTo:r===1,cp0x:o.x,cp0y:o.y,cp1x:o.x+m,cp1y:o.y+b,cp2x:c.x-C,cp2y:c.y-w,cp3x:c.x,cp3y:c.y})}return s}function Sn(e,t,i){return(t-e)*i+e}function Qte(e,t){const{x0:i,y0:n,x1:s,y1:r}=e,a=(r-n)/(s-i)*(t-i)+n;return{leftCp1x:i,leftCp1y:n,leftCp2x:t,leftCp2y:a,stepX:t,stepY0:a,stepY1:a,rightCp1x:t,rightCp1y:a,rightCp2x:s,rightCp2y:r}}function Jte(e,t){const{cp0x:i,cp0y:n,cp1x:s,cp1y:r,cp2x:o,cp2y:a,cp3x:c,cp3y:h}=e,f=Qb(i,s,o,c,t),[p,m]=Jb(i,n,s,r,o,a,c,h,f),b=p[3].y;return{leftCp1x:p[1].x,leftCp1y:p[1].y,leftCp2x:p[2].x,leftCp2y:p[2].y,stepX:t,stepY0:b,stepY1:b,rightCp1x:m[1].x,rightCp1y:m[1].y,rightCp2x:m[2].x,rightCp2y:m[2].y}}function eie(e){const{x0:t,y0:i,x1:n,y1:s,stepX:r}=e;return{leftCp1x:(t+r)/2,leftCp1y:i,leftCp2x:(t+r)/2,leftCp2y:i,stepX:r,stepY0:i,stepY1:s,rightCp1x:(r+n)/2,rightCp1y:s,rightCp2x:(r+n)/2,rightCp2y:s}}function a_(e,t){return e.type==="linear"?Qte(e,t):e.type==="cubic"?Jte(e,t):eie(e)}function uz(e,t,i,n,s,r,o){switch(t){case 0:o?e.moveTo(s,r):e.moveTo(i,n);break;case 1:o?e.lineTo(s,r):e.lineTo(i,n);break}}function hz(e,t,i,n,s,r){r?e.lineTo(t,i):e.lineTo(n,s)}function dz(e,t,i,n,s,r,o,a,c,h){h?e.cubicCurveTo(r,o,n,s,t,i):e.cubicCurveTo(n,s,r,o,a,c)}function fz(e,t,i,n,s,r,o){o?(e.lineTo(r,s),e.lineTo(r,i),e.lineTo(t,i)):(e.lineTo(r,i),e.lineTo(r,s),e.lineTo(n,s))}function uD(e,t,i,n){const[s,r]=Aa(t);switch(uz(e,i,s.x,s.y,r.x,r.y,n),t.type){case"linear":hz(e,t.x0,t.y0,t.x1,t.y1,n);break;case"cubic":dz(e,t.cp0x,t.cp0y,t.cp1x,t.cp1y,t.cp2x,t.cp2y,t.cp3x,t.cp3y,n);break;case"step":fz(e,t.x0,t.y0,t.x1,t.y1,t.stepX,n);break}}function gz(e,t,i){const[n,s]=Aa(e),[r,o]=Aa(t),a=Sn(n.x,r.x,i),c=Sn(n.y,r.y,i),h=Sn(s.x,o.x,i),f=Sn(s.y,o.y,i);return[{x:a,y:c},{x:h,y:f}]}function hD(e,t,i,n,s,r){const[{x:o,y:a},{x:c,y:h}]=gz(t,i,n);if(uz(e,s,o,a,c,h,r),t.type==="cubic"&&i.type==="cubic"){const f=Sn(t.cp1x,i.cp1x,n),p=Sn(t.cp1y,i.cp1y,n),m=Sn(t.cp2x,i.cp2x,n),b=Sn(t.cp2y,i.cp2y,n);dz(e,o,a,f,p,m,b,c,h,r)}else if(t.type==="step"&&i.type==="step"){const f=Sn(t.stepX,i.stepX,n);fz(e,o,a,c,h,f,r)}else if(t.type==="linear"&&i.type==="linear")hz(e,o,a,c,h,r);else{let f;t.type==="step"?f=t.stepX:i.type==="step"?f=i.stepX:f=(o+c)/2;const p=a_(t,f),m=a_(i,f),b=Sn(p.leftCp1x,m.leftCp1x,n),C=Sn(p.leftCp1y,m.leftCp1y,n),w=Sn(p.leftCp2x,m.leftCp2x,n),D=Sn(p.leftCp2y,m.leftCp2y,n),M=Sn(p.stepX,m.stepX,n),A=Sn(p.stepY0,m.stepY0,n),k=Sn(p.stepY1,m.stepY1,n),_=Sn(p.rightCp1x,m.rightCp1x,n),F=Sn(p.rightCp1y,m.rightCp1y,n),N=Sn(p.rightCp2x,m.rightCp2x,n),z=Sn(p.rightCp2y,m.rightCp2y,n);r?(e.cubicCurveTo(N,z,_,F,M,k),e.lineTo(M,A),e.cubicCurveTo(w,D,b,C,o,a)):(e.cubicCurveTo(b,C,w,D,M,A),e.lineTo(M,k),e.cubicCurveTo(_,F,N,z,c,h))}}var pz=(e=>(e[e.Zero=0]="Zero",e[e.Split=1]="Split",e))(pz||{});function tie(e,t){return e==null||t==null||typeof e!="object"||typeof t!="object"?!1:"id"in e&&"id"in t?e.id===t.id:e.toString()===t.toString()}function Cs(e,t){if(!t)return NaN;if(e instanceof Date&&(e=e.getTime()),t.type==="continuous"&&typeof e=="number")return(e-t.domain[0])/(t.domain[1]-t.domain[0])*(t.range[1]-t.range[0])+t.range[0];if(t.type==="log"&&typeof e=="number")return t.convert(e);if(t.type!=="category")return NaN;const i=t.domain.findIndex(s=>s===e);return i>=0||t.domain.findIndex(s=>tie(e,s))>=0?t.inset+t.step*i:NaN}function so(e){return eD(e).valueOf()}function l_({data:e},t){return e.map((i,n)=>({xValue0Index:t.indexOf(so(i.xValue0)),xValue1Index:t.indexOf(so(i.xValue1)),datumIndex:n}))}function iie(e,t){const i=t.scales.x,n=e.scales.x;if((i==null?void 0:i.type)!=="category"||(n==null?void 0:n.type)!=="category")return!0;let s=-1/0;for(const r of i.domain){const o=Cs(r,n);if(Number.isFinite(o)){if(o<s)return!1;s=o}}return!0}function nie(e,t){let i=-1/0;for(const n of e){const s=Cs(n.value,t.scales.x);if(Number.isFinite(s)){if(s<i)return!1;i=s}}return!0}function sie(e,t){const i=new Map;for(const{xValue0:f,xValue1:p}of e.data){const m=so(f),b=so(p);i.set(m,f).set(b,p)}const n=Array.from(i,([f,p])=>({axisValue:f,value:p}));n.sort((f,p)=>Cs(f.value,e.scales.x)-Cs(p.value,e.scales.x));const s=[];for(const{xValue0:f,xValue1:p}of t.data){const m=so(f),b=so(p);i.has(m)||(i.set(m,f),s.push({axisValue:m,value:f})),i.has(b)||(i.set(b,p),s.push({axisValue:b,value:p}))}s.sort((f,p)=>Cs(f.value,t.scales.x)-Cs(p.value,t.scales.x));const r=n;let o=0;for(const f of s){for(let p=r.length-1;p>o;p-=1){const m=Cs(f.value,t.scales.x),b=Cs(r[p].value,t.scales.x);if(m>b){o=p+1;break}}r.splice(o,0,f),o+=1}if(!nie(r,t))return;const a=r.map(f=>f.axisValue),c=l_(t,a),h=l_(e,a);return{axisValues:a,oldDataAxisIndices:c,newDataAxisIndices:h}}function c_(e,t,i){if(i.xValue1Index===i.xValue0Index+1)return e;const n=Aa(e),s=(n[1].x-n[0].x)/(i.xValue1Index-i.xValue0Index),r=n[0].x+(t-i.xValue0Index)*s,o=r+s;return cz(e,r,o)}function mz(e,t){const[i,n]=Aa(e),s=Cs(0,t.scales.y);return am(e,{x:i.x,y:s},{x:n.x,y:s})}function yz(e){const[t,i]=Aa(e);return Kte(e,{x:(t.x+i.x)/2,y:(t.y+i.y)/2})}function vz(e,t,i,n,s,r){var p,m;let o,a;if(s.xValue0Index>=r.xValue1Index){const b=(p=n.findLast(w=>w.xValue1Index<=r.xValue1Index))==null?void 0:p.datumIndex,C=b!=null?i.data[b]:void 0;o=C==null?void 0:C.xValue1,a=C==null?void 0:C.yValue1}else if(s.xValue0Index<=r.xValue0Index){const b=(m=n.find(w=>w.xValue0Index>=r.xValue0Index))==null?void 0:m.datumIndex,C=b!=null?i.data[b]:void 0;o=C==null?void 0:C.xValue0,a=C==null?void 0:C.yValue0}if(o==null||a==null)switch(t){case 0:return mz(e,i);case 1:return yz(e)}const c=Cs(o,i.scales.x),h=Cs(a,i.scales.y),f={x:c,y:h};return am(e,f,f)}function HT(e,t){var s;if(t==null)return;const i=so(e.xValue0),n=so(e.xValue1);return(s=t.find(r=>so(r.xValue0)===i&&so(r.xValue1)===n))==null?void 0:s.span}function u_(e,t,i,n,s,r,o){const a=e.data[n.datumIndex],c=a.span,h=HT(a,s);if(h!=null)o.removed.push({from:h,to:h}),o.moved.push({from:h,to:c}),o.added.push({from:c,to:c});else{const f=vz(c,t,e,i,n,r);o.added.push({from:f,to:c})}}function h_(e,t,i,n,s,r,o){const a=e.data[n.datumIndex],c=a.span,h=HT(a,s);if(h!=null)o.removed.push({from:c,to:c}),o.moved.push({from:c,to:h}),o.added.push({from:h,to:h});else{const f=vz(c,t,e,i,n,r);o.removed.push({from:c,to:f})}}function d_(e,t,i,n,s){const r=t[s.xValue0Index],o=i.data.find(D=>so(D.xValue0)===r),a=t[s.xValue1Index],c=i.data.find(D=>so(D.xValue1)===a);if(o==null||c==null)return;const[{x:h},{x:f}]=Aa(e),p=Cs(o.xValue0,i.scales.x),m=Cs(o.yValue0,i.scales.y),b=Cs(c.xValue1,i.scales.x),C=Cs(c.yValue1,i.scales.y);let w=n.data[s.datumIndex].span;return w=am(w,{x:p,y:m},{x:b,y:C}),w=cz(w,h,f),w}function rie(e,t,i,n,s,r,o,a,c){const h=s+1,f=o.find(k=>k.xValue0Index<=s&&k.xValue1Index>=h),p=r.find(k=>k.xValue0Index<=s&&k.xValue1Index>=h),m=t.zeroData,b=e.zeroData;if(f==null&&p!=null){u_(e,i,r,p,m,a,c);return}else if(f!=null&&p==null){h_(t,i,o,f,b,a,c);return}else if(f==null||p==null)return;let C;f.xValue0Index===p.xValue0Index&&f.xValue1Index===p.xValue1Index?C=0:f.xValue0Index<=p.xValue0Index&&f.xValue1Index>=p.xValue1Index?C=-1:f.xValue0Index>=p.xValue0Index&&f.xValue1Index<=p.xValue1Index?C=1:C=0;const w=t.data[f.datumIndex],D=c_(w.span,s,f),M=e.data[p.datumIndex],A=c_(M.span,s,p);if(C===1){const k=d_(D,n,t,e,p);k!=null?(c.removed.push({from:D,to:k}),c.moved.push({from:k,to:A}),c.added.push({from:A,to:A})):h_(t,i,o,f,b,a,c)}else if(C===-1){const k=d_(A,n,e,t,f);k!=null?(c.removed.push({from:D,to:D}),c.moved.push({from:D,to:k}),c.added.push({from:k,to:A})):u_(e,i,r,p,m,a,c)}else c.removed.push({from:D,to:D}),c.moved.push({from:D,to:A}),c.added.push({from:A,to:A})}function oie(e,t,i,n){var h,f,p,m;const s={removed:[],moved:[],added:[]},{axisValues:r,oldDataAxisIndices:o,newDataAxisIndices:a}=e,c={xValue0Index:Math.max(((h=o.at(0))==null?void 0:h.xValue0Index)??-1/0,((f=a.at(0))==null?void 0:f.xValue0Index)??-1/0),xValue1Index:Math.min(((p=o.at(-1))==null?void 0:p.xValue1Index)??1/0,((m=a.at(-1))==null?void 0:m.xValue1Index)??1/0)};for(let b=0;b<r.length-1;b+=1)rie(t,i,n,r,b,a,o,c,s);return s}function f_(e,t,i){const{span:n}=t;switch(i){case 0:return HT(t,e.zeroData)??mz(n,e);case 1:return yz(n)}}function aie(e,t,i){const n=[],s=[];for(const r of t.data){const o=r.span,a=f_(t,r,i);s.push({from:o,to:a})}for(const r of e.data){const o=r.span,a=f_(e,r,i);n.push({from:a,to:o})}return{removed:s,moved:[],added:n}}function Fp(e,t,i){if(!iie(e,t))return;const n=sie(e,t);return n==null?aie(e,t,i):oie(n,e,t,i)}function g_(e){return e.type==="continuous"||e.type==="log"}function p_(e){return e.type==="category"}function hf(e,t){return e===void 0||t===void 0?e!==void 0||t!==void 0:g_(e)&&g_(t)?e.type===t.type&&va(e.domain,t.domain)&&va(e.range,t.range):p_(e)&&p_(t)?e.inset===t.inset&&e.step===t.step&&va(e.domain,t.domain):!1}function lm(e){return e==null?!1:e.type==="category"?e.domain.every(t=>t!=null):e.domain.every(t=>Number.isFinite(t)||t instanceof Date)&&e.range.every(t=>Number.isFinite(t))}function mC(e,t){let i;const n=e.map(s=>s.point);switch(t.type){case"linear":i=$te(n);break;case"smooth":i=qte(n,t.tension);break;case"step":i=Xte(n,t.position);break}return i.map((s,r)=>({span:s,xValue0:e[r].xDatum,yValue0:e[r].yDatum,xValue1:e[r+1].xDatum,yValue1:e[r+1].yDatum}))}function bz(e,t,i=.001){return Math.abs(e.x-t.x)<i&&Math.abs(e.y-t.y)<i}function jT({path:e},t){let i;for(const{span:n}of t){const[s,r]=Aa(n),o=i!=null&&bz(i,s)?1:0;uD(e,n,o,!1),i=r}}function gb(e,t,i){let n;for(const s of i){const[r,o]=gz(s.from,s.to,e),a=n!=null&&bz(n,r)?1:0;hD(t.path,s.from,s.to,e,a,!1),n=o}}function VT(e,t,i){const n=(a,c)=>gb(a,c,t.removed),s=(a,c)=>gb(a,c,t.moved),r=(a,c)=>gb(a,c,t.added),o=WT(e,i);return{status:e,path:{addPhaseFn:r,updatePhaseFn:s,removePhaseFn:n},pathProperties:o}}function WT(e,t){const i=t==="none"?"updated":e,n={fromFn:s=>{let r;return e==="removed"?r={finish:{visible:!1}}:e==="added"?r={start:{visible:!0}}:r={},{phase:ko[i],...r}},toFn:s=>({phase:ko[i]})};return t==="fade"?{fromFn:s=>({opacity:e==="added"?0:s.opacity,...n.fromFn(s)}),toFn:s=>({opacity:e==="removed"?0:1,...n.toFn(s)})}:n}function Cz(e,t,i){var h,f;const n=((h=e.scales.x)==null?void 0:h.type)==="category",s=((f=t.scales.x)==null?void 0:f.type)==="category";if(n!==s||!lm(e.scales.x)||!lm(t.scales.x)||e.strokeData==null||t.strokeData==null)return;let r="updated";t.visible&&!e.visible?r="removed":!t.visible&&e.visible&&(r="added");const o=Fp({scales:e.scales,data:e.strokeData.spans},{scales:t.scales,data:t.strokeData.spans},1);if(o==null)return;const a=VT(r,o,"fade"),c=((i==null?void 0:i.changed)??!0)||!hf(e.scales.x,t.scales.x)||!hf(e.scales.y,t.scales.y)||r!=="updated";return{status:r,stroke:a,hasMotion:c}}function xz({path:e},{spans:t,phantomSpans:i}){for(let n=0;n<t.length;n+=1){const{span:s}=t[n],r=i[n].span;uD(e,s,0,!1),uD(e,r,1,!0),e.closePath()}}function pb(e,{path:t},i,n){for(let s=0;s<i.length;s+=1){const r=i[s],o=n[s];hD(t,r.from,r.to,e,0,!1),hD(t,o.from,o.to,e,1,!0),t.closePath()}}function Sz(e,t,i,n){const s=(c,h)=>pb(c,h,t.removed,i.removed),r=(c,h)=>pb(c,h,t.moved,i.moved),o=(c,h)=>pb(c,h,t.added,i.added),a=WT(e,n);return{status:e,path:{addPhaseFn:o,updatePhaseFn:r,removePhaseFn:s},pathProperties:a}}function wz(e,t){var p,m;const i=((p=e.scales.x)==null?void 0:p.type)==="category",n=((m=t.scales.x)==null?void 0:m.type)==="category";if(i!==n||!lm(e.scales.x)||!lm(t.scales.x))return;let s="updated";t.visible&&!e.visible?s="removed":!t.visible&&e.visible&&(s="added");const r=Fp({scales:e.scales,data:e.fillData.spans},{scales:t.scales,data:t.fillData.spans},0);if(r==null)return;const o=Fp({scales:e.scales,data:e.fillData.phantomSpans},{scales:t.scales,data:t.fillData.phantomSpans},0);if(o==null)return;const a=Fp({scales:e.scales,data:e.strokeData.spans,zeroData:e.fillData.phantomSpans},{scales:t.scales,data:t.strokeData.spans,zeroData:t.fillData.phantomSpans},0);if(a==null)return;const c="none",h=Sz(s,r,o,c),f=VT(s,a,c);return{status:s,fill:h,stroke:f}}function cm({id:e},t,i,...n){const s={phase:i?ko[i]:"trailing"};Nl(e,"markers",t,n,{opacity:0},{opacity:1},s),n.forEach(r=>r.cleanup())}function UT({id:e},t,...i){Nl(e,"markers",t,i,{scalingX:0,scalingY:0},{scalingX:1,scalingY:1},{phase:"initial"}),i.forEach(n=>n.cleanup())}function YT({id:e,nodeDataDependencies:t},i,...n){const s=t.seriesRectWidth;Qi(e,"markers",i,n,{fromFn:(a,c)=>{var p;const h=((p=c.midPoint)==null?void 0:p.x)??s;let f=ut(0,d2(h/s),1);return isNaN(f)&&(f=0),{scalingX:0,scalingY:0,delay:f,duration:rC,phase:"initial"}},toFn:()=>({scalingX:1,scalingY:1})})}function ey(e){return{opacity:1,scalingX:1,scalingY:1}}function um(e,t){var i,n,s,r;return{x:((i=t.point)==null?void 0:i.x)??NaN,y:((n=t.point)==null?void 0:n.y)??NaN,scalingCenterX:((s=t.point)==null?void 0:s.x)??NaN,scalingCenterY:((r=t.point)==null?void 0:r.y)??NaN}}function ty(e,{datumIndex:t}){const i=e.getNodeData();if(i===void 0)return;const n=i[t],{point:s}=n??{};if(n==null||s==null)return;const r=4+(s.focusSize??e.getFormattedMarkerStyle(n).size),o=r/2,a=n.point.x-o,c=n.point.y-o;return en.toCanvas(e.contentGroup,new Ge(a,c,r,r))}function KT({id:e,visible:t,nodeDataDependencies:i},n,...s){const{seriesRectWidth:r,seriesRectHeight:o}=i;Nl(e,"path_properties",n,s,{clipX:0},{clipX:r},{phase:"initial",start:{clip:!0,clipY:o,visible:t},finish:{clip:!1,visible:t}})}function yC({id:e},t,i,n="add",...s){Nl(e,t,i,s,{opacity:0},{opacity:1},{phase:n})}function $T(e){return t=>({visible:e.getVisible(),opacity:e.getOpacity(),clipScalingX:1,clip:!1})}function vC({nodeDataDependencies:e},t){const i=n=>isFinite(n)?n:0;t.clipX=i(e.seriesRectWidth),t.clipY=i(e.seriesRectHeight)}var lie=.125,cie=.25,Ex=class extends Su{constructor(e){super({moduleCtx:e,directionKeys:Xh,directionNames:qh,categoryKey:"xValue",pathsPerSeries:["fill","stroke"],pathsZIndexSubOrderOffset:[0,1e3],hasMarkers:!0,markerSelectionGarbageCollection:!1,pickModes:[2,0],animationResetFns:{path:$T({getVisible:()=>this.visible,getOpacity:()=>this.getOpacity()}),label:jl,marker:(t,i)=>({...ey(),...um(t,i)})},clipFocusBox:!1}),this.properties=new cn,this.connectsToYAxis=!0,this.backgroundGroup=new at({name:`${this.id}-background`,zIndex:0}),this._isStacked=void 0}get pickModeAxis(){return"main"}renderToOffscreenCanvas(){return super.renderToOffscreenCanvas()||this.contextNodeData!=null&&(this.contextNodeData.fillData.spans.length>pC||this.contextNodeData.strokeData.spans.length>pC)}attachSeries(e,t,i){super.attachSeries(e,t,i),e.appendChild(this.backgroundGroup)}detachSeries(e,t,i){super.detachSeries(e,t,i),e==null||e.removeChild(this.backgroundGroup)}attachPaths([e,t]){this.backgroundGroup.appendChild(e),this.contentGroup.appendChild(t),t.zIndex=-1}detachPaths([e,t]){this.backgroundGroup.removeChild(e),this.contentGroup.removeChild(t)}isStacked(){var t;return(((t=this.seriesGrouping)==null?void 0:t.stackCount)??1)>1}setSeriesIndex(e){const t=this.isStacked();return!super.setSeriesIndex(e)&&this._isStacked===t?!1:(this._isStacked=t,t?(this.backgroundGroup.zIndex=[0,e],this.contentGroup.zIndex=[1,e,0]):(this.backgroundGroup.zIndex=[1,e,0,0],this.contentGroup.zIndex=[1,e,0,1]),!0)}async processData(e){var A,k;if(this.data==null||!this.properties.isValid())return;const{data:t,visible:i,seriesGrouping:{groupIndex:n=this.id,stackCount:s=1}={}}=this,{xKey:r,yKey:o,yFilterKey:a,connectMissingData:c,normalizedTo:h}=this.properties,f=!this.ctx.animationManager.isSkipped(),p=(A=this.axes.x)==null?void 0:A.scale,m=(k=this.axes.y)==null?void 0:k.scale,{xScaleType:b,yScaleType:C}=this.getScaleInformation({xScale:p,yScale:m}),w={value:`area-stack-${n}-yValue`,values:`area-stack-${n}-yValues`,stack:`area-stack-${n}-yValue-stack`,marker:`area-stack-${n}-yValues-marker`},D=[];Ep(h)&&D.push(vx(Object.values(w),h)),f&&D.push(zf());const M={invalidValue:null};(Ep(h)||c)&&s>1&&(M.invalidValue=0),i||(M.forceValue=0),await this.requestDataModel(e,t,{props:[Po(r,b,{id:"xValue"}),Ft(o,C,{id:"yValueRaw",...M}),...a!=null?[Ft(a,C,{id:"yFilterRaw"})]:[],...HB(o,C,{id:"yValueStack",...M,groupId:w.stack}),Ft(o,C,{id:"yValue",...M,groupId:w.value}),...iu(o,"window","current",{id:"yValueEnd",...M,groupId:w.values},C),...iu(o,"normal","current",{id:"yValueCumulative",...M,groupId:w.marker},C),...D],groupByKeys:!0,groupByData:!1}),this.animationState.transition("updateData")}xCoordinateRange(e,t){const{marker:i}=this.properties,n=this.axes.x.scale.convert(e),s=i.enabled?.5*i.size*t:0;return[n-s,n+s]}yCoordinateRange(e,t){const{marker:i}=this.properties,n=this.axes.y.scale.convert(e[0]),s=i.enabled?.5*i.size*t:0;return[n-s,n+s]}getSeriesDomain(e){const{processedData:t,dataModel:i,axes:n}=this;if(!t||!i)return[];const s=n.y;if(e==="x"){const o=i.resolveProcessedDataDefById(this,"xValue"),a=i.getDomain(this,"xValue","key",t);return(o==null?void 0:o.def.type)==="key"&&o.def.valueType==="category"?a:nr(Bl(a))}const r=this.domainForClippedRange("y",["yValueCumulative"],"xValue",!0);if(s instanceof Hf||s instanceof vu)return nr(r);{const o=Number.isFinite(r[1]-r[0])?[r[0]>0?0:r[0],r[1]<0?0:r[1]]:[];return nr(o)}}getSeriesRange(e,t){const[i,n]=this.domainForVisibleRange("y",["yValueCumulative"],"xValue",t,!0);return[Math.min(i,0),Math.max(n,0)]}getVisibleItems(e,t,i){return this.countVisibleItems("xValue",["yValueCumulative"],e,t,i)}createNodeData(){var he;const{axes:e,data:t,processedData:i,dataModel:n}=this,s=e.x,r=e.y;if(!s||!r||!t||!n||(i==null?void 0:i.type)!=="grouped"||!this.properties.isValid())return;const{yKey:o,xKey:a,yFilterKey:c,marker:h,label:f,fill:p,stroke:m,connectMissingData:b,interpolation:C}=this.properties,{scale:w}=s,{scale:D}=r,{isContinuousY:M}=this.getScaleInformation({xScale:w,yScale:D}),A=(w.bandwidth??0)/2,k=n.resolveKeysById(this,"xValue",i),_=n.resolveColumnById(this,"yValueEnd",i),F=n.resolveColumnById(this,"yValueRaw",i),N=n.resolveColumnById(this,"yValueCumulative",i),z=c!=null?n.resolveColumnById(this,"yFilterRaw",i):void 0,V=n.resolveColumnById(this,"yValueStack",i),j=(Ie,xe,Re)=>{let Ne;return(Ep(this.properties.normalizedTo)?M&&hx(Re):!isNaN(Re))&&(Ne=xe),{x:w.convert(Ie)+A,y:D.convert(Ne),size:h.size}},U=[],$=[],{visibleSameStackCount:Q}=this.ctx.seriesStateManager.getVisiblePeerGroupIndex(this);let J=!1;const{dataSources:be}=i,me=be.get(this.id)??[];for(const{datumIndex:Ie}of n.forEachGroupDatum(this,i)){const xe=k[Ie];if(xe==null)return;const Re=me[Ie],Ne=F[Ie],We=N[Ie],lt=_[Ie],qe=Number.isFinite(Ne),Ue=j(xe,+We,Ne),Ve=z!=null?z[Ie]===Ne:void 0;if(Ve===!1&&(J=!0),qe&&h&&$.push({series:this,itemId:o,datum:Re,datumIndex:Ie,midPoint:{x:Ue.x,y:Ue.y},cumulativeValue:lt,yValue:Ne,xValue:xe,yKey:o,xKey:a,point:Ue,fill:h.fill??p,stroke:h.stroke??m,strokeWidth:h.strokeWidth??this.getStrokeWidth(this.properties.strokeWidth),selected:Ve}),qe&&f){const Et=this.getLabelText(f,{value:Ne,datum:Re,xKey:a,yKey:o,xName:this.properties.xName,yName:this.properties.yName});U.push({series:this,itemId:o,datum:Re,datumIndex:Ie,x:Ue.x,y:Ue.y,labelText:Et})}}const Y=Ie=>Ie.flatMap(xe=>Array.isArray(xe)?mC(xe,C):new Array(xe.skip).fill(null)),re=(Ie,xe)=>({point:{x:w.convert(Ie)+A,y:D.convert(xe)},xDatum:Ie,yDatum:xe}),Z=Ie=>{const xe=[];for(const{datumIndexes:[Re,Ne,We]}of n.forEachGroupDatumTuple(this,i)){const lt=k[Ne],qe=V[Ne],Ue=qe[Ie],Ve=Number.isFinite(Ue);if(b&&!Ve)continue;const Et=Re!=null?V[Re]:void 0,je=We!=null?V[We]:void 0;let Ct=0,Qt=0;for(let ft=0;ft<=Ie;ft+=1){const kt=qe[ft];if(Number.isFinite(kt)){const di=Et==null||Number.isFinite(Et[ft]),fs=je==null||Number.isFinite(je[ft]);di&&(Ct+=kt),fs&&(Qt+=kt)}}const St=xe[xe.length-1];if(!b&&(Ct!==Qt||!Ve))if(!Ve&&Array.isArray(St)&&St.length===1)xe[xe.length-1]={skip:1};else{const ft=re(lt,Ct),kt=re(lt,Qt);Array.isArray(St)?St.push(ft):St!=null&&(St.skip+=1),xe.push(Ve?[kt]:{skip:0})}else{const ft=b?Ue:Math.max(Ct,Qt),kt=re(lt,ft);Array.isArray(St)?St.push(kt):St!=null?(St.skip+=1,xe.push([kt])):xe.push([kt])}}return Y(xe)},Ce=((he=this.seriesGrouping)==null?void 0:he.stackIndex)??0,H=()=>{const Ie=Array.from(n.forEachGroupDatum(this,i),({datumIndex:xe})=>{const Re=k[xe],We=V[xe][Ce];if(!(b&&!Number.isFinite(We)))return re(Re,0)}).filter(xe=>xe!=null);return mC(Ie,C)},K=Z(Ce),ie=K.map(()=>null);for(let Ie=Ce-1;Ie>=-1;Ie-=1){let xe;for(let Re=0;Re<ie.length;Re+=1)ie[Re]==null&&(xe??(xe=Ie!==-1?Z(Ie):H()),ie[Re]=xe[Re])}const te=K.map((Ie,xe)=>Ie??ie[xe]),se=K.filter(Ie=>Ie!=null);return{itemId:o,fillData:{itemId:o,spans:te,phantomSpans:ie},strokeData:{itemId:o,spans:se},labelData:U,nodeData:$,scales:this.calculateScaling(),visible:this.visible,stackVisible:Q>0,crossFiltering:J}}isPathOrSelectionDirty(){return this.properties.marker.isDirty()}updatePathNodes(e){var h;const{opacity:t,visible:i,animationEnabled:n}=e,[s,r]=e.paths,o=((h=this.contextNodeData)==null?void 0:h.crossFiltering)===!0,a=this.getStrokeWidth(this.properties.strokeWidth);r.setProperties({fill:void 0,lineCap:"round",lineJoin:"round",pointerEvents:1,stroke:this.properties.stroke,strokeWidth:a,strokeOpacity:this.properties.strokeOpacity*(o?cie:1),lineDash:this.properties.lineDash,lineDashOffset:this.properties.lineDashOffset,opacity:t,visible:i||n});const c=Ih(this.properties.fill,this.properties.fillGradientDefaults,this.properties.fillPatternDefaults);Gh(s,{fill:c,stroke:void 0,fillOpacity:this.properties.fillOpacity*(o?lie:1)},void 0,this.getShapeFillBBox()),s.setProperties({lineJoin:"round",pointerEvents:1,fillShadow:this.properties.shadow,opacity:t,visible:i||n}),vC(this,r),vC(this,s)}updatePaths(e){this.updateAreaPaths(e.paths,e.contextData)}updateAreaPaths(e,t){for(const i of e)i.visible=t.visible;if(t.visible)this.updateFillPath(e,t),this.updateStrokePath(e,t);else for(const i of e)i.path.clear(),i.markDirty("AreaSeries")}updateFillPath(e,t){const[i]=e;i.path.clear(),xz(i,t.fillData),i.markDirty("AreaSeries")}updateStrokePath(e,t){const{spans:i}=t.strokeData,[,n]=e;n.path.clear(),jT(n,i),n.markDirty("AreaSeries")}updateMarkerSelection(e){var s;const{nodeData:t,markerSelection:i}=e,n=this.properties.marker.enabled||((s=this.contextNodeData)==null?void 0:s.crossFiltering)===!0;return this.properties.marker.isDirty()&&(i.clear(),i.cleanup()),i.update(n?t:[])}updateMarkerNodes(e){const{markerSelection:t,isHighlight:i}=e,{xKey:n,yKey:s,marker:r,fill:o,stroke:a,strokeWidth:c,fillOpacity:h,strokeOpacity:f,highlightStyle:p}=this.properties,m=this.getSeriesDomain("x"),b=this.getSeriesDomain("y"),C=Pt(i&&p.item,r.getStyle(),{fill:o,stroke:a,strokeWidth:c,fillOpacity:h,strokeOpacity:f}),w=this.getShapeFillBBox();t.each((D,M)=>{this.updateMarkerStyle(r,D,M.datum,M.point,tu(M,n,s,m,b),i,C,w,{selected:M.selected})}),i||this.properties.marker.markClean()}updateLabelSelection(e){const{labelData:t,labelSelection:i}=e;return i.update(t)}updateLabelNodes(e){const{labelSelection:t}=e,{enabled:i,fontStyle:n,fontWeight:s,fontSize:r,fontFamily:o,color:a}=this.properties.label;t.each((c,h)=>{const{x:f,y:p,labelText:m}=h;m&&i&&this.visible?(c.fontStyle=n,c.fontWeight=s,c.fontSize=r,c.fontFamily=o,c.textAlign="center",c.textBaseline="bottom",c.text=m,c.x=f,c.y=p-10,c.fill=a,c.visible=!0):c.visible=!1})}getTooltipContent(e){var N;const{id:t,dataModel:i,processedData:n,axes:s,properties:r}=this,{xKey:o,xName:a,yKey:c,yName:h,tooltip:f,marker:p}=r,m=s.x,b=s.y;if(!i||!n||!m||!b)return;const C=(N=n.dataSources.get(this.id))==null?void 0:N[e],w=i.resolveKeysById(this,"xValue",n)[e],D=i.resolveColumnById(this,"yValueRaw",n)[e],{xDomain:M,yDomain:A}=this.cachedDatumCallback("domain",()=>({xDomain:this.getSeriesDomain("x"),yDomain:this.getSeriesDomain("y")}));if(w==null)return;const k=p.getStyle(),_={xValue:w,yValue:D},F=this.getMarkerStyle(p,C,tu(_,o,c,M,A),!1,void 0,k);return f.formatTooltip(this.properties,{heading:m.formatDatum(w),symbol:this.legendItemSymbol(),data:[{label:h,fallbackLabel:c,value:b.formatDatum(D)}]},{seriesId:t,datum:C,title:h,xKey:o,xName:a,yKey:c,yName:h,...F,...this.getModuleTooltipParams()})}legendItemSymbol(){const{fill:e,stroke:t,fillOpacity:i,strokeOpacity:n,strokeWidth:s,lineDash:r,marker:o,fillGradientDefaults:a,fillPatternDefaults:c}=this.properties,h=!o.enabled||o.fill===void 0,f=h?Ih(e,a,c):Ih(o.fill,o.fillGradientDefaults,o.fillPatternDefaults);return{marker:{...this.getMarkerStyle(o,void 0,void 0,!1,void 0,{fill:f,fillOpacity:h?i:o.fillOpacity}),enabled:o.enabled||s<=0},line:{stroke:t,strokeOpacity:n,strokeWidth:s,lineDash:r}}}getLegendData(e){if(!this.properties.isValid()||e!=="category")return[];const{id:t,ctx:{legendManager:i},visible:n}=this,{yKey:s,yName:r,legendItemName:o,showInLegend:a}=this.properties;return[{legendType:e,id:t,itemId:s,seriesId:t,enabled:n&&i.getItemEnabled({seriesId:t,itemId:s}),label:{text:o??r??s},symbol:this.legendItemSymbol(),legendItemName:o,hideInLegend:!a}]}animateEmptyUpdateReady(e){const{markerSelection:t,labelSelection:i,contextData:n,paths:s}=e,{animationManager:r}=this.ctx;this.updateAreaPaths(s,n),KT(this,r,...s),Hn([t],um),YT(this,r,t),qt(this,"labels",r,i)}animateReadyResize(e){const{contextData:t,paths:i}=e;this.updateAreaPaths(i,t),super.animateReadyResize(e)}animateWaitingUpdateReady(e){const{animationManager:t}=this.ctx,{markerSelection:i,labelSelection:n,contextData:s,paths:r,previousContextData:o}=e,[a,c]=r;if(a==null&&c==null)return;this.resetMarkerAnimation(e),this.resetLabelAnimation(e);const h=()=>{this.resetPathAnimation(e),this.updateAreaPaths(r,s)},f=()=>{t.skipCurrentBatch(),h()};if(s==null||o==null){h(),cm(this,t,"added",i),yC(this,"fill_path_properties",t,"add",a),yC(this,"stroke_path_properties",t,"add",c),qt(this,"labels",t,n);return}if(s.crossFiltering!==o.crossFiltering){f();return}const p=wz(s,o);if(p===void 0){f();return}else if(p.status==="no-op")return;cm(this,t,void 0,i),Qi(this.id,"fill_path_properties",t,[a],p.fill.pathProperties),gC(this.id,"fill_path_update",t,[a],p.fill.path),Qi(this.id,"stroke_path_properties",t,[c],p.stroke.pathProperties),gC(this.id,"stroke_path_update",t,[c],p.stroke.path),qt(this,"labels",t,n),this.ctx.animationManager.animate({id:this.id,groupId:"reset_after_animation",phase:"trailing",from:{},to:{},onComplete:()=>this.updateAreaPaths(r,s)})}isLabelEnabled(){return this.properties.label.enabled}nodeFactory(){return new at}getFormattedMarkerStyle(e){const{xKey:t,yKey:i}=e,n=this.getSeriesDomain("x"),s=this.getSeriesDomain("y");return this.getMarkerStyle(this.properties.marker,e.datum,tu(e,t,i,n,s),!0)}computeFocusBounds(e){return ty(this,e)}};Ex.className="AreaSeries";Ex.type="area";var Rx=si(V8,"a valid number format string"),ZT={enabled:_e,text:Fe,padding:it,...Tr},Mz=si({enabled:_e,type:nt(vt("line","range")),range:us(si((e,{options:t})=>t.type==="range","crossLine type to be 'range'"),Hi(Dr),jC(2,2)),value:us(si((e,{options:t})=>t.type==="line","crossLine type to be 'line'"),Dr),label:ZT,fill:Fe,fillOpacity:Ni,...js,...Ma},"cross-line options"),Dz={...Mz,label:{...ZT,position:vt("top","left","right","bottom","top-left","top-right","bottom-left","bottom-right","inside","inside-left","inside-right","inside-top","inside-bottom","inside-top-left","inside-bottom-left","inside-top-right","inside-bottom-right"),rotation:it}},XT={enabled:_e,rotation:it,avoidCollisions:_e,minSpacing:ke,spacing:ke,formatter:oi,itemStyler:oi,...Tr},Yf={autoRotate:_e,autoRotateAngle:it,...XT},Ix={reverse:_e,gridLine:{enabled:_e,width:ke,style:Ph({stroke:wt,lineDash:Hi(ke)},"a grid-line style object array")},interval:{values:Hi(Dr),minSpacing:ke},label:XT,line:{enabled:_e,width:ke,stroke:wt},tick:{enabled:_e,width:ke,size:ke,stroke:wt}};Ix.context=Dr;Ix.layoutConstraints={stacked:nt(_e),align:nt(vt("start","end")),unit:nt(vt("percent","px")),width:nt(ke)};var Kf={...Ix,keys:Hi(Fe),crossLines:Ph(Dz,"a cross-line options array"),position:vt("top","right","bottom","left"),thickness:ke,title:{enabled:_e,text:Fe,spacing:ke,formatter:oi,...Tr}};function $f(e){const t={enabled:_e,xOffset:it,yOffset:it,renderer:oi};return e&&(t.format=Fe),{enabled:_e,snap:_e,label:t,...js,...Ma}}function kx(e,t){return{min:us(e,Kp("max")),max:us(e,PM("min")),nice:_e,interval:{step:t?qi(lb,qi(lb,A8(zh))):lb,values:Hi(e),minSpacing:us(ke,Kp("maxSpacing")),maxSpacing:us(ke,PM("minSpacing"))}}}var dD=qi(vt("circle","cross","diamond","heart","plus","pin","square","star","triangle"),oi),Lz=vt("never","always","hyphenate","on-space"),bC=vt("top","right","bottom","left","top-right","bottom-right","bottom-left","top-left","center"),qT=vt("pointer","node","top","right","bottom","left","top-left","top-right","bottom-left","bottom-right"),QT=qi(ke,vt("exact","nearest")),m_=vt("pointer","start","middle","end"),Zw={enabled:_e,text:Fe,textAlign:vt("left","center","right"),wrapping:vt("never","always","hyphenate","on-space"),spacing:ke,maxWidth:ke,maxHeight:ke,...Tr},Vv={enabled:_e,text:Fe,renderer:oi},Wv=Ph({label:Fe,action:oi},"a context menu actions array"),fD={label:Fe,ariaLabel:Fe,tooltip:Fe,icon:vt("align-center","align-left","align-right","arrow-drawing","arrow-down-drawing","arrow-up-drawing","callout-annotation","candlestick-series","close","comment-annotation","date-range-drawing","date-price-range-drawing","delete","disjoint-channel-drawing","drag-handle","fill-color","line-style-solid","line-style-dashed","line-style-dotted","high-low-series","hlc-series","hollow-candlestick-series","horizontal-line-drawing","line-color","line-series","line-with-markers-series","locked","measurer-drawing","note-annotation","ohlc-series","pan-end","pan-left","pan-right","pan-start","parallel-channel-drawing","position-bottom","position-center","position-top","price-label-annotation","price-range-drawing","reset","settings","step-line-series","text-annotation","trend-line-drawing","fibonacci-retracement-drawing","fibonacci-retracement-trend-based-drawing","unlocked","vertical-line-drawing","zoom-in","zoom-out")},Us={width:ke,height:ke,minWidth:ke,minHeight:ke,suppressFieldDotNotation:_e,title:Zw,subtitle:Zw,footnote:Zw,padding:{top:ke,right:ke,bottom:ke,left:ke},seriesArea:{clip:_e,padding:{top:ke,right:ke,bottom:ke,left:ke}},legend:{enabled:_e,position:vt("top","right","bottom","left"),orientation:vt("horizontal","vertical"),maxWidth:ke,maxHeight:ke,spacing:ke,preventHidingAll:_e,reverseOrder:_e,toggleSeries:_e,item:{marker:{size:ke,shape:dD,padding:ke,strokeWidth:ke},line:{length:ke,strokeWidth:ke},label:{maxLength:ke,formatter:oi,...Tr},maxWidth:ke,paddingX:ke,paddingY:ke,showSeriesStroke:_e},pagination:{marker:{size:ke,shape:dD,padding:ke},activeStyle:{...oo,...js},inactiveStyle:{...oo,...js},highlightStyle:{...oo,...js},label:Tr},listeners:{legendItemClick:oi,legendItemDoubleClick:oi}},gradientLegend:{enabled:_e,position:vt("top","right","bottom","left"),spacing:ke,reverseOrder:_e,gradient:{preferredLength:ke,thickness:ke},scale:{label:{...Tr,format:Rx,formatter:oi},padding:ke,interval:{step:it,values:wa,minSpacing:us(ke,Kp("maxSpacing")),maxSpacing:us(ke,PM("minSpacing"))}}},listeners:{seriesNodeClick:oi,seriesNodeDoubleClick:oi,seriesVisibilityChange:oi,click:oi,doubleClick:oi,annotations:oi,zoom:oi},highlight:{range:vt("tooltip","node")},overlays:{loading:Vv,noData:Vv,noVisibleSeries:Vv,unsupportedBrowser:Vv},tooltip:{enabled:_e,showArrow:_e,pagination:_e,delay:ke,range:QT,wrapping:Lz,mode:vt("single","shared","compact"),position:{type:qT,anchorTo:vt("pointer","node","chart"),placement:qi(bC,Hi(bC)),xOffset:it,yOffset:it}},animation:{enabled:_e,duration:ke},contextMenu:{enabled:_e,extraActions:Wv,extraSeriesAreaActions:Wv,extraNodeActions:Wv,extraLegendItemActions:Wv},dataSource:{getData:oi},keyboard:{enabled:_e,tabIndex:it},touch:{dragAction:vt("none","drag","hover")},ranges:{enabled:_e,buttons:Ph({...fD,value:qi(it,us(Hi(qi(it,qd)),jC(2,2)),oi)},"range button options array")},locale:{localeText:Yp,getLocaleText:oi},background:{visible:_e,fill:wt,image:{url:Fe,top:it,right:it,bottom:it,left:it,width:ke,height:ke,opacity:Ni}},sync:{enabled:_e,groupId:Fe,axes:vt("x","y","xy"),nodeInteraction:_e,zoom:_e},zoom:{enabled:_e,enableAxisDragging:_e,enableDoubleClickToReset:_e,enablePanning:_e,enableScrolling:_e,enableSelecting:_e,enableTwoFingerZoom:_e,keepAspectRatio:_e,anchorPointX:m_,anchorPointY:m_,axes:vt("x","y","xy"),deceleration:qi(vt("off","short","long"),Ni),minVisibleItems:ke,minVisibleItemsX:ke,minVisibleItemsY:ke,panKey:vt("alt","ctrl","meta","shift"),scrollingStep:Ni,autoScaling:{enabled:_e,padding:Ni},buttons:{enabled:_e,buttons:Ph({...fD,value:vt("reset","zoom-in","zoom-out","pan-left","pan-right","pan-start","pan-end"),section:Fe},"zoom button options array"),visible:vt("always","zoomed","hover")}}};Us.dataSource.requestThrottle=ke;Us.dataSource.updateThrottle=ke;Us.dataSource.updateDuringInteraction=_e;Us.zoom.enableIndependentAxes=_e;Us.statusBar=Dr;Us.foreground={visible:_e,text:Fe,image:{url:Fe,top:it,right:it,bottom:it,left:it,width:ke,height:ke,opacity:Ni},...oo};Us.overrideDevicePixelRatio=it;var Yo={id:Fe,cursor:Fe,visible:_e,data:Hi(Yp),showInLegend:_e,nodeClickRange:QT,listeners:{nodeClick:oi,nodeDoubleClick:oi},highlightStyle:{item:{...oo,...js},series:{enabled:_e,dimOpacity:Ni,strokeWidth:ke}}};Yo.context=Dr;Yo.seriesGrouping=Dr;Yo.highlight={enabled:_e};var iy={enabled:_e,shape:dD,size:ke,itemStyler:oi,...oo,...js,...Ma},wu={enabled:_e,formatter:oi,...Tr},uie={...wu,lineHeight:ke,minimumFontSize:ke,wrapping:Lz,overflowStrategy:vt("ellipsis","hide")},_x={visible:_e,xLowerKey:Fe,xUpperKey:Fe,yLowerKey:Fe,yUpperKey:Fe,xLowerName:Fe,xUpperName:Fe,yLowerName:Fe,yUpperName:Fe,itemStyler:oi,cap:{visible:_e,length:ke,lengthRatio:Ni,...js,...Ma},...js,...Ma},Wl={enabled:_e,showArrow:_e,range:QT,renderer:oi,position:{type:qT,anchorTo:vt("node","pointer","chart"),placement:qi(bC,Hi(bC)),xOffset:it,yOffset:it},interaction:{enabled:_e}};Wl.position._seriesOverrideType=qT;var ny={enabled:_e,xOffset:it,yOffset:it,blur:ke,color:wt},JT=dL({linear:{},smooth:{tension:Ni},step:{position:vt("start","middle","end")}},"interpolation line options"),hie={type:nt(Ms("area")),xKey:nt(Fe),yKey:nt(Fe),xName:Fe,yName:Fe,stacked:_e,stackGroup:Fe,normalizedTo:it,showInMiniChart:_e,connectMissingData:_e,interpolation:JT,label:wu,marker:iy,tooltip:Wl,shadow:ny,...Yo,...oo,...js,...Ma},die={type:"series",optionsKey:"series[]",packageType:"community",chartTypes:["cartesian"],identifier:"area",moduleFactory:e=>new Ex(e),stackable:!0,tooltipDefaults:{range:"nearest"},defaultAxes:[{type:"number",position:"left"},{type:"category",position:"bottom"}],themeTemplate:{series:{nodeClickRange:"nearest",tooltip:{position:{_seriesOverrideType:"node"}},fill:{$palette:"fill"},fillGradientDefaults:{type:"gradient",gradient:"linear",bounds:"item",colorStops:{$palette:"gradient"},rotation:0,reverse:!1},fillPatternDefaults:uu,stroke:{$palette:"stroke"},fillOpacity:.8,strokeOpacity:1,strokeWidth:0,lineDash:[0],lineDashOffset:0,shadow:{enabled:!1,color:xu,xOffset:3,yOffset:3,blur:5},interpolation:{type:"linear"},marker:{enabled:!1,shape:"circle",size:7,strokeWidth:0,fill:{$palette:"fill"},stroke:{$palette:"stroke"},fillGradientDefaults:{type:"gradient",gradient:"radial",bounds:"item",colorStops:{$palette:"gradient"},rotation:0,reverse:!0},fillPatternDefaults:uu},label:{enabled:!1,fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},fontWeight:{$ref:"fontWeight"},color:{$ref:"textColor"}}}}},Tz={type:"series",name:"area",chartType:"cartesian",options:hie,create:e=>new Ex(e)};function eA(e,t){for(const i of t){const n=i.datum;n===void 0?Ee.error("undefined datum"):e.addValue(i,n)}}function tA(e,t){const{x:i,y:n}=t,{nearest:s,distanceSquared:r}=e.getQuadTree().find(i,n);if(s!==void 0)return{datum:s.value,distance:Math.sqrt(r)}}var iA=class extends Vl{constructor(){super(...arguments),this.direction="vertical"}};R([P()],iA.prototype,"direction",2);var Az=class extends Su{constructor(){super(...arguments),this.groupScale=new zm,this.smallestDataInterval=void 0,this.largestDataInterval=void 0}padBandExtent(e,t){const i=typeof t=="boolean"?1:.5,n=Vt(this.smallestDataInterval)?this.smallestDataInterval*i:0,s=Bl(e)??[NaN,NaN];return typeof t=="boolean"?s[t?0:1]-=(t?1:-1)*n:(s[0]-=n,s[1]+=n),nr(s)}getBandScalePadding(){return{inner:.3,outer:.15}}shouldFlipXY(){return!this.isVertical()}isVertical(){return this.properties.direction==="vertical"}getBarDirection(){return this.shouldFlipXY()?"x":"y"}getCategoryDirection(){return this.shouldFlipXY()?"y":"x"}getValueAxis(){const e=this.getBarDirection();return this.axes[e]}getCategoryAxis(){const e=this.getCategoryDirection();return this.axes[e]}getBandwidth(e){return ai.is(e.scale)?e.scale.calcBandwidth(this.smallestDataInterval):e.scale.bandwidth}xCoordinateRange(e){const t=this.axes[this.getCategoryDirection()],i=t.scale,n=this.getBandwidth(t)??0,s=ai.is(i)?n*-.5:0,r=i.convert(e)+s;return[r,r+n]}yCoordinateRange(e){const i=this.axes[this.getBarDirection()].scale,n=e.map(s=>i.convert(s));if(n.length===1){const s=i.convert(0);return[Math.min(n[0],s),Math.max(n[0],s)]}return[Math.min(...n),Math.max(...n)]}updateGroupScale(e){const t=[],{groupScale:i}=this,n=this.getBandwidth(e),{index:s,visibleGroupCount:r}=this.ctx.seriesStateManager.getVisiblePeerGroupIndex(this);for(let a=0;a<r;a++)t.push(String(a));return i.domain=t,i.range=[0,n??0],e instanceof $h?i.paddingInner=e.groupPaddingInner:e instanceof Kh?(i.paddingInner=e.groupPaddingInner,i.round=i.padding!==0):i.padding=0,{barWidth:i.bandwidth>=1?i.bandwidth:i.rawBandwidth,groupIndex:s}}resolveKeyDirection(e){return this.getBarDirection()==="x"?e==="x"?"y":"x":e}initQuadTree(e){eA(e,this.datumNodesIter())}pickNodeClosestDatum(e){return tA(this,e)}},nA=class extends _n{constructor(){super(...arguments),this.placement="inside-center",this.padding=0}};R([P(ci(["inside-center","inside-start","inside-end","outside-start","outside-end"],"a placement"))],nA.prototype,"placement",2);R([P()],nA.prototype,"padding",2);var Fi=class extends iA{constructor(){super(...arguments),this.fill="#c16068",this.fillGradientDefaults=new fo,this.fillPatternDefaults=new tn,this.fillOpacity=1,this.stroke="#874349",this.strokeWidth=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.cornerRadius=0,this.crisp=void 0,this.shadow=new Uo,this.label=new nA,this.tooltip=new Ts,this.sparklineMode=!1,this.fastDataProcessing=!1}};R([P()],Fi.prototype,"xKey",2);R([P()],Fi.prototype,"xName",2);R([P()],Fi.prototype,"yKey",2);R([P()],Fi.prototype,"yName",2);R([P()],Fi.prototype,"yFilterKey",2);R([P()],Fi.prototype,"stackGroup",2);R([P()],Fi.prototype,"normalizedTo",2);R([P(ds(ka,_a,Ir))],Fi.prototype,"fill",2);R([P()],Fi.prototype,"fillGradientDefaults",2);R([P()],Fi.prototype,"fillPatternDefaults",2);R([P()],Fi.prototype,"fillOpacity",2);R([P()],Fi.prototype,"stroke",2);R([P()],Fi.prototype,"strokeWidth",2);R([P()],Fi.prototype,"strokeOpacity",2);R([P()],Fi.prototype,"lineDash",2);R([P()],Fi.prototype,"lineDashOffset",2);R([P()],Fi.prototype,"cornerRadius",2);R([P()],Fi.prototype,"crisp",2);R([P()],Fi.prototype,"itemStyler",2);R([P()],Fi.prototype,"shadow",2);R([P()],Fi.prototype,"label",2);R([P()],Fi.prototype,"tooltip",2);R([P()],Fi.prototype,"sparklineMode",2);R([P()],Fi.prototype,"fastDataProcessing",2);function Ez(e,t,i,n){if(t!=null){const[s,r]=t;if(s!==0||r!==1)return!1}if(ai.is(e)){const s=e.calcBandwidth(n)-e.calcBandwidth(i);if(s>0&&s<1)return!1}return!0}var Xw=e=>yL(e.yValue??0);function hm(e,t,i){const{startingX:n,startingY:s}=gie(e,t);return{isVertical:e,calculate:(o,a)=>{let c=e?o.x:n,h=e?s:o.y,f=e?o.width:0,p=e?0:o.height;const{opacity:m=1}=o;a&&(isNaN(c)||isNaN(h))&&({x:c,y:h}=a,f=e?a.width:0,p=e?0:a.height,e&&!Xw(a)?h+=a.height:!e&&Xw(a)&&(c+=a.width));let b;return o.clipBBox==null?b=void 0:Xw(o)?b=e?new Ge(c,h-p,f,p):new Ge(c-f,h,f,p):b=new Ge(c,h,f,p),{x:c,y:h,width:f,height:p,clipBBox:b,opacity:m}},mode:i}}function fie(e,t){return{isVertical:e,calculate:i=>({x:e?i.x:i.x+i.width/2,y:e?i.y+i.height/2:i.y,width:e?i.width:0,height:e?0:i.height,clipBBox:i.clipBBox,opacity:i.opacity??1}),mode:t}}function dm(e){const t=r=>r==null||isNaN(r.x)||isNaN(r.y);return{toFn:(r,o,a)=>a==="removed"&&r.datum==null&&e.mode==="fade"?{...fm(r,o),opacity:0}:a==="removed"||t(o)?e.calculate(o,r.previousDatum):{x:o.x,y:o.y,width:o.width,height:o.height,clipBBox:o.clipBBox,opacity:o.opacity??1},fromFn:(r,o,a)=>{a==="updated"&&t(o)?a="removed":a==="updated"&&t(r.previousDatum)&&(a="added");let c;a==="added"&&r.previousDatum==null&&e.mode==="fade"?c={...fm(r,o),opacity:0}:a==="unknown"||a==="added"?c=e.calculate(o,r.previousDatum):c={x:r.x,y:r.y,width:r.width,height:r.height,clipBBox:r.clipBBox,opacity:r.opacity??1};const h=ko[a];return{...c,phase:h}},applyFn:(r,o,a)=>{var c;r.setProperties(o),r.crisp=a==="end"&&(((c=r.datum)==null?void 0:c.crisp)??!1)}}}function gie(e,t){const i=t[e?"y":"x"];let n=1/0,s=0;return i?(e?s=i.scale.convert(ai.is(i.scale)?0:Math.max(...i.range)):n=i.scale.convert(ai.is(i.scale)?0:Math.min(...i.range)),{startingX:n,startingY:s}):{startingX:n,startingY:s}}function fm(e,{x:t,y:i,width:n,height:s,clipBBox:r,opacity:o=1}){var a;return{x:t,y:i,width:n,height:s,clipBBox:r,opacity:o,crisp:((a=e.datum)==null?void 0:a.crisp)??!1}}function sA(e,t){if(t===void 0)return;const{x:i,y:n,width:s,height:r}=t;return en.toCanvas(e.contentGroup,new Ge(i,n,s,r))}function Rz(e,t,i){if(t.enabled&&i){const{x:n,y:s,text:r,textAlign:o,textBaseline:a}=i,{color:c,fontStyle:h,fontWeight:f,fontSize:p,fontFamily:m}=t;e.setProperties({visible:!0,x:n,y:s,text:r,fill:c,fontStyle:h,fontWeight:f,fontSize:p,fontFamily:m,textAlign:o,textBaseline:a})}else e.visible=!1}var pie={"inside-start":{inside:!0,direction:-1,textAlignment:1},"inside-end":{inside:!0,direction:1,textAlignment:-1},"outside-start":{inside:!1,direction:-1,textAlignment:-1},"outside-end":{inside:!1,direction:1,textAlignment:1}};function Iz({isUpward:e,isVertical:t,placement:i,padding:n=0,rect:s}){let r=s.x+s.width/2,o=s.y+s.height/2,a="center",c="middle";if(i!=="inside-center"){const h=(e?1:-1)*(t?-1:1),{direction:f,textAlignment:p}=pie[i],m=(f+1)*.5;if(t){const b=e?s.y+s.height:s.y,C=s.height*h;o=b+C*m+n*p*h,c=p===h?"top":"bottom"}else{const b=e?s.x:s.x+s.width,C=s.width*h;r=b+C*m+n*p*h,a=p===h?"left":"right"}}return{x:r,y:o,textAlign:a,textBaseline:c}}var mie=0,yie=1,vie=2,bie=3,Cie=4,sy=class extends Az{constructor(e){super({moduleCtx:e,directionKeys:Xh,directionNames:qh,categoryKey:"xValue",pickModes:[2,1,0],pathsPerSeries:[],hasHighlightedLabels:!0,datumSelectionGarbageCollection:!1,animationAlwaysUpdateSelections:!0,animationResetFns:{datum:fm,label:jl}}),this.properties=new Fi,this.connectsToYAxis=!0,this.dataAggregationFilters=void 0}get pickModeAxis(){return this.properties.sparklineMode?"main":void 0}crossFilteringEnabled(){return this.properties.yFilterKey!=null&&(this.seriesGrouping==null||this.seriesGrouping.stackIndex===0)}async processData(e){var V,j,U,$,Q,J;if(!this.properties.isValid()||!this.data)return;const{xKey:t,yKey:i,yFilterKey:n,normalizedTo:s,fastDataProcessing:r}=this.properties,{seriesGrouping:{groupIndex:o=this.id}={},data:a}=this,c=((V=this.seriesGrouping)==null?void 0:V.groupCount)??0,f=(((j=this.seriesGrouping)==null?void 0:j.stackCount)??0)>=1||s!=null,p=!r||c>1||f,m=!this.ctx.animationManager.isSkipped(),b=(U=this.getCategoryAxis())==null?void 0:U.scale,C=($=this.getValueAxis())==null?void 0:$.scale,{isContinuousX:w,xScaleType:D,yScaleType:M}=this.getScaleInformation({xScale:b,yScale:C}),A=`bar-stack-${o}-yValues`,k=`${A}-trailing`,_=this.visible?{}:{forceValue:0},F=[Po(t,D,{id:"xValue"}),Ft(i,M,{id:"yValue-raw",invalidValue:null,..._})];this.crossFilteringEnabled()&&F.push(Ft(n,M,{id:"yFilterValue",invalidValue:null,..._})),f&&F.push(...iu(i,"normal","current",{id:"yValue-end",rangeId:"yValue-range",invalidValue:null,missingValue:0,groupId:A,separateNegative:!0,..._},M),...iu(i,"trailing","current",{id:"yValue-start",invalidValue:null,missingValue:0,groupId:k,separateNegative:!0,..._},M)),w&&F.push(jB,VB),Vt(s)&&F.push(vx([A,k],Math.abs(s))),m&&this.processedData&&F.push(Gf(this.id,this.processedData)),(m||!p)&&F.push(zf());const{dataModel:N,processedData:z}=await this.requestDataModel(e,a,{props:F,groupByKeys:p,groupByData:!p});this.dataAggregationFilters=this.aggregateData(N,z),this.smallestDataInterval=(Q=z.reduced)==null?void 0:Q.smallestKeyInterval,this.largestDataInterval=(J=z.reduced)==null?void 0:J.largestKeyInterval,this.animationState.transition("updateData")}getSeriesDomain(e){var o;const{processedData:t,dataModel:i}=this;if(i==null||t==null)return[];if(e===this.getCategoryDirection()){const a=i.resolveProcessedDataDefById(this,"xValue"),c=i.getDomain(this,"xValue","key",t);return(a==null?void 0:a.def.type)==="key"&&a.def.valueType==="category"?c:this.padBandExtent(c)}const n=(o=this.dataModel)!=null&&o.hasColumnById(this,"yValue-end")?"yValue-end":"yValue-raw";let s=this.domainForClippedRange("y",[n],"xValue",!0);const r=this.crossFilteringEnabled()?i.getDomain(this,"yFilterValue","value",t):void 0;if(r!=null&&(s=[Math.min(s[0],r[0]),Math.max(s[1],r[1])]),this.getValueAxis()instanceof Hf)return nr(s);{const a=Number.isFinite(s[1]-s[0])?[Math.min(0,s[0]),Math.max(0,s[1])]:[];return nr(a)}}getSeriesRange(e,t){var r;const i=(r=this.dataModel)!=null&&r.hasColumnById(this,"yValue-end")?"yValue-end":"yValue-raw",[n,s]=this.domainForVisibleRange("y",[i],"xValue",t,!0);return[Math.min(n,0),Math.max(s,0)]}getVisibleItems(e,t,i){var s;const n=(s=this.dataModel)!=null&&s.hasColumnById(this,"yValue-end")?"yValue-end":"yValue-raw";return this.countVisibleItems("xValue",[n],e,t,i)}aggregateData(e,t){}createNodeData(){var H;const{dataModel:e,processedData:t,groupScale:i,dataAggregationFilters:n}=this,s=this.getCategoryAxis(),r=this.getValueAxis();if(!e||!t||!s||!r||!this.properties.isValid())return;const o=(H=t.dataSources)==null?void 0:H.get(this.id);if(o==null)return;const a=s.scale,c=r.scale,{xKey:h,yKey:f,xName:p,yName:m,legendItemName:b,label:C}=this.properties,w=r.isReversed(),{barWidth:D,groupIndex:M}=this.updateGroupScale(s),A=i.convert(String(M)),k=ai.is(a)?D*-.5:0,_=e.resolveKeysById(this,"xValue",t),F=e.resolveColumnById(this,"yValue-raw",t),N=this.crossFilteringEnabled()?e.resolveColumnById(this,"yFilterValue",t):void 0,z=!this.ctx.animationManager.isSkipped(),V=K=>a.convert(_[K])+A+k,j=this.properties.crisp??Ez(s==null?void 0:s.scale,s==null?void 0:s.visibleRange,this.smallestDataInterval,this.largestDataInterval),U=c.convert(0),$=({datum:K,datumIndex:ie,valueIndex:te,xValue:se,yValue:ye,cumulativeValue:he,phantom:Ie,currY:xe,prevY:Re,x:Ne,width:We,isPositive:lt,yRange:qe,labelText:Ue,opacity:Ve,crossScale:Et=1})=>{const je=lt!==w,Ct=c.convert(xe),Qt=c.convert(Re),St=c.convert(qe),ft=this.getBarDirection()==="x",kt=We*.5*(1-Et),di={x:ft?Math.min(Ct,Qt):Ne+kt,y:ft?Ne+kt:Math.min(Ct,Qt),width:ft?Math.abs(Qt-Ct):We*Et,height:ft?We*Et:Math.abs(Qt-Ct)},fs=new Ge(di.x,di.y,di.width,di.height),As={x:ft?Math.min(U,St):Ne+kt,y:ft?Ne+kt:Math.min(U,St),width:ft?Math.abs(U-St):We*Et,height:ft?We*Et:Math.abs(U-St)},Wi=this.shouldFlipXY()?di.height:di.width;return{series:this,itemId:Ie?Yn(f,Ie):f,datum:K,datumIndex:ie,valueIndex:te,cumulativeValue:he,phantom:Ie,xValue:se,yValue:ye,yKey:f,xKey:h,capDefaults:{lengthRatioMultiplier:Wi,lengthMax:Wi},x:As.x,y:As.y,width:As.width,height:As.height,midPoint:{x:di.x+di.width/2,y:di.y+di.height/2},opacity:Ve,topLeftCornerRadius:ft!==je,topRightCornerRadius:je,bottomRightCornerRadius:ft===je,bottomLeftCornerRadius:!je,clipBBox:fs,crisp:j,label:Ue!=null?{text:Ue,...Iz({isUpward:je,isVertical:!ft,placement:C.placement,padding:C.padding,rect:di})}:void 0,missing:ye==null,focusable:!Ie}},Q=[],J=[],be=[],me=(K,ie,te,se,ye,he,Ie,xe)=>{const Re=_[K];if(Re==null)return;const Ne=F[K],We=N!=null?Number(N[K]):void 0,lt=Ne>=0&&!Object.is(Ne,-0);if(!Number.isFinite(he)||We!=null&&!Number.isFinite(We))return;const qe=Ne!=null?this.getLabelText(this.properties.label,{datum:o[K],value:We??Ne,xKey:h,yKey:f,xName:p,yName:m,legendItemName:b}):void 0,Ue=We!=null&&We>Ne,Ve=$({datum:o[K],datumIndex:K,valueIndex:ie,xValue:Re,yValue:We??Ne,cumulativeValue:We??he,phantom:!1,currY:We!=null?ye+We:he,prevY:ye,x:te,width:se,isPositive:lt,yRange:Math.max(ye+(We??-1/0),Ie),labelText:qe,opacity:xe,crossScale:Ue?.6:void 0});if(J.push(Ve),be.push(Ve),We!=null){const Et=$({datum:o[K],datumIndex:K,valueIndex:ie,xValue:Re,yValue:We,cumulativeValue:We,phantom:!0,currY:he,prevY:ye,x:te,width:se,isPositive:lt,yRange:Ie,labelText:void 0,opacity:xe,crossScale:void 0});Q.push(Et)}},[Y,re]=a.range,Z=re-Y,Ce=n==null?void 0:n.find(K=>K.maxRange>Z);if(t.type==="grouped"){const K=D,ie=e.hasColumnById(this,"yValue-start"),te=ie?e.resolveColumnById(this,"yValue-start",t):void 0,se=ie?e.resolveColumnById(this,"yValue-end",t):void 0,ye=ie?e.resolveProcessedDataIndexById(this,"yValue-range"):-1;for(const{datumIndex:he,valueIndex:Ie,group:{aggregation:xe}}of e.forEachGroupDatum(this,t)){const Re=V(he),Ne=F[he],We=Ne>=0&&!Object.is(Ne,-0),lt=ie?Number(te==null?void 0:te[he]):0,qe=ie?Number(se==null?void 0:se[he]):Ne;let Ue=qe;ie&&(Ue=xe[ye][We?1:0]),me(he,Ie,Re,K,lt,qe,Ue,1)}}else if(Ce==null){const K=D;let[ie,te]=this.visibleRange("xValue",s.range);t.input.count<1e3&&(ie=0,te=t.input.count);for(let se=ie;se<te;se+=1){const ye=V(se),he=Number(F[se]);me(se,0,ye,K,0,he,he,1)}}else{const{indexData:K,indices:ie}=Ce,[te,se]=this.visibleRange("xValue",s.range,ie);for(let ye=te;ye<se;ye+=1){const he=ye*Cie,Ie=K[he+mie],xe=K[he+yie],Re=K[he+vie],Ne=K[he+bie];if(Ie===-1)continue;const We=V((Ie+xe)/2|0),lt=Math.abs(V(xe)-V(Ie))+D,qe=_[Ne]!=null?Number(F[Ne]):NaN,Ue=_[Re]!=null?Number(F[Re]):NaN;if(qe>0){const Ve=Ue>=0?Ue/qe:1;me(Ne,0,We,lt,0,qe,qe,Ve)}if(Ue<0){const Ve=qe<=0?qe/Ue:1;me(Re,1,We,lt,0,Ue,Ue,Ve)}}}return{itemId:f,nodeData:Q.length>0?[...Q,...J]:J,labelData:be,scales:this.calculateScaling(),visible:this.visible||z,groupScale:this.getScaling(this.groupScale)}}nodeFactory(){return new Ls}getHighlightData(e,t){const i=e.find(n=>n.datum===t.datum&&!n.phantom);return i!=null?[i]:void 0}updateDatumSelection(e){return e.datumSelection.update(e.nodeData,void 0,t=>this.getDatumId(t))}getItemBaseStyle(e){const{properties:t}=this,{cornerRadius:i,fillGradientDefaults:n,fillPatternDefaults:s}=t,r=e?t.highlightStyle.item:void 0;return Ca({fill:(r==null?void 0:r.fill)??t.fill,fillOpacity:(r==null?void 0:r.fillOpacity)??t.fillOpacity,stroke:(r==null?void 0:r.stroke)??t.stroke,strokeWidth:(r==null?void 0:r.strokeWidth)??this.getStrokeWidth(t.strokeWidth),strokeOpacity:(r==null?void 0:r.strokeOpacity)??t.strokeOpacity,lineDash:(r==null?void 0:r.lineDash)??t.lineDash??[],lineDashOffset:(r==null?void 0:r.lineDashOffset)??t.lineDashOffset,cornerRadius:i},n,s)}getItemStyleOverrides(e,t,i,n,s,r){const{id:o,properties:a}=this,{xKey:c,yKey:h,itemStyler:f,fillGradientDefaults:p,fillPatternDefaults:m}=a;if(f==null)return;const{xDomain:b,yDomain:C}=this.cachedDatumCallback("domain",()=>({xDomain:this.getSeriesDomain("x"),yDomain:this.getSeriesDomain("y")})),w=this.cachedDatumCallback(Yn(e,r?"highlight":"node"),()=>this.callWithContext(f,{seriesId:o,...tu(t,c,h,b,C),datum:t,xValue:i,yValue:n,highlighted:r,...s}));return Ca(w,p,m)}updateDatumNodes(e){if(!this.properties.isValid())return;const{shadow:t}=this.properties,i=this.getCategoryDirection()==="x",n=this.getItemBaseStyle(e.isHighlight),s=this.getShapeFillBBox();e.datumSelection.each((r,o)=>{var h,f;const a=this.getItemStyleOverrides(String(o.datumIndex),o.datum,o.xValue,o.yValue,n,e.isHighlight);r.opacity=o.opacity??0,Gh(r,n,a,s);const c=(a==null?void 0:a.cornerRadius)??n.cornerRadius;r.topLeftCornerRadius=o.topLeftCornerRadius?c:0,r.topRightCornerRadius=o.topRightCornerRadius?c:0,r.bottomRightCornerRadius=o.bottomRightCornerRadius?c:0,r.bottomLeftCornerRadius=o.bottomLeftCornerRadius?c:0,r.visible=i?(((h=o.clipBBox)==null?void 0:h.width)??o.width)>0:(((f=o.clipBBox)==null?void 0:f.height)??o.height)>0,r.crisp=o.crisp,r.fillShadow=t})}updateLabelSelection(e){const t=this.isLabelEnabled()?e.labelData:[];return e.labelSelection.update(t,i=>{i.pointerEvents=1})}updateLabelNodes(e){e.labelSelection.each((t,i)=>{Rz(t,this.properties.label,i.label)})}getTooltipContent(e){var A;const{id:t,dataModel:i,processedData:n,properties:s}=this,{xKey:r,xName:o,yKey:a,yName:c,legendItemName:h,stackGroup:f,tooltip:p}=s,m=this.getCategoryAxis(),b=this.getValueAxis();if(!i||!n||!m||!b)return;const C=(A=n.dataSources.get(this.id))==null?void 0:A[e],w=i.resolveKeysById(this,"xValue",n)[e],D=i.resolveColumnById(this,"yValue-raw",n)[e];if(w==null)return;const M=this.getItemBaseStyle(!1);return Object.assign(M,this.getItemStyleOverrides(String(e),C,w,D,M,!1)),p.formatTooltip(this.properties,{heading:m.formatDatum(w),symbol:this.legendItemSymbol(),data:[{label:c,fallbackLabel:a,value:b.formatDatum(D)}]},{seriesId:t,datum:C,title:c,xKey:r,xName:o,yKey:a,yName:c,legendItemName:h,stackGroup:f,...M,...this.getModuleTooltipParams()})}legendItemSymbol(){const{fill:e,stroke:t,strokeWidth:i,fillOpacity:n,strokeOpacity:s,lineDash:r,lineDashOffset:o,fillGradientDefaults:a,fillPatternDefaults:c}=this.properties;return{marker:Ca({fill:e??"rgba(0, 0, 0, 0)",stroke:t??"rgba(0, 0, 0, 0)",fillOpacity:n,strokeOpacity:s,strokeWidth:i,lineDash:r,lineDashOffset:o},a,c)}}getLegendData(e){const{showInLegend:t}=this.properties;if(e!=="category"||!this.properties.isValid())return[];const{id:i,ctx:{legendManager:n},visible:s}=this,{yKey:r,yName:o,legendItemName:a}=this.properties;return[{legendType:"category",id:i,itemId:r,seriesId:i,enabled:s&&n.getItemEnabled({seriesId:i,itemId:r}),label:{text:a??o??r},symbol:this.legendItemSymbol(),legendItemName:a,hideInLegend:!t}]}animateEmptyUpdateReady({datumSelection:e,labelSelection:t,annotationSelections:i}){const n=dm(hm(this.isVertical(),this.axes,"normal"));Qi(this.id,"nodes",this.ctx.animationManager,[e],n),qt(this,"labels",this.ctx.animationManager,t),qt(this,"annotations",this.ctx.animationManager,...i)}animateWaitingUpdateReady(e){var f,p,m,b,C;const{datumSelection:t,labelSelection:i,annotationSelections:n,previousContextData:s}=e;this.ctx.animationManager.stopByAnimationGroupId(this.id);let r=(m=(p=(f=this.processedData)==null?void 0:f.reduced)==null?void 0:p.diff)==null?void 0:m[this.id];r==null&&((C=(b=this.processedData)==null?void 0:b.reduced)==null?void 0:C.diff)!=null&&(r={changed:!0,added:new Set(Array.from(t,({datum:w})=>this.getDatumId(w))),updated:new Set,removed:new Set,moved:new Set});const o=s==null?"fade":"normal",a=dm(hm(this.isVertical(),this.axes,o));Qi(this.id,"nodes",this.ctx.animationManager,[t],a,(w,D)=>this.getDatumId(D),r);const c=s!=null&&(!hf(e.contextData.scales.x,s.scales.x)||!hf(e.contextData.scales.y,s.scales.y)||!hf(e.contextData.groupScale,e.previousContextData.groupScale));(((r==null?void 0:r.changed)??!1)||c)&&(qt(this,"labels",this.ctx.animationManager,i),qt(this,"annotations",this.ctx.animationManager,...n))}getDatumId(e){return Yn(e.xValue,e.valueIndex,e.phantom)}isLabelEnabled(){return this.properties.label.enabled}computeFocusBounds({datumIndex:e}){var i;const t=(i=this.contextNodeData)==null?void 0:i.nodeData[e].clipBBox;return sA(this,t)}};sy.className="BarSeries";sy.type="bar";var ry={type:nt(Ms("bar")),xKey:nt(Fe),yKey:nt(Fe),xName:Fe,yName:Fe,direction:vt("horizontal","vertical"),grouped:_e,stacked:_e,stackGroup:Fe,normalizedTo:it,legendItemName:Fe,showInMiniChart:_e,cornerRadius:ke,itemStyler:oi,crisp:_e,label:{...wu,placement:vt("inside-center","inside-start","inside-end","outside-start","outside-end"),padding:ke},errorBar:_x,shadow:ny,tooltip:Wl,...Yo,...oo,...js,...Ma};ry.pickOutsideVisibleMinorAxis=_e;ry.fastDataProcessing=_e;ry.focusPriority=it;ry.sparklineMode=_e;var kz={type:"series",optionsKey:"series[]",packageType:"community",chartTypes:["cartesian"],identifier:"bar",moduleFactory:e=>new sy(e),stackable:!0,groupable:!0,tooltipDefaults:{range:"exact"},defaultAxes:oz,themeTemplate:{series:{direction:"vertical",fill:{$palette:"fill"},stroke:{$palette:"stroke"},fillGradientDefaults:{type:"gradient",gradient:"linear",bounds:"item",colorStops:{$palette:"gradient"},rotation:0,reverse:!1},fillPatternDefaults:uu,fillOpacity:1,strokeWidth:0,lineDash:[0],lineDashOffset:0,label:{enabled:!1,fontWeight:{$ref:"fontWeight"},fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},color:{$if:[{$or:[{$eq:[{$path:"./placement"},"outside-start"]},{$eq:[{$path:"./placement"},"outside-end"]}]},{$ref:"textColor"},{$ref:"backgroundColor"}]},placement:"inside-center"},shadow:{enabled:!1,color:xu,xOffset:3,yOffset:3,blur:5},errorBar:{cap:{lengthRatio:.3}}}}},_z={type:"series",name:"bar",chartType:"cartesian",options:ry,create:e=>new sy(e)},rA=class extends $n{constructor(){super(...arguments),this.maxSize=30}};R([P(),He()],rA.prototype,"maxSize",2);R([P(),He()],rA.prototype,"domain",2);var Nz=class extends _n{constructor(){super(...arguments),this.placement="top"}};R([P()],Nz.prototype,"placement",2);var bi=class extends Vl{constructor(){super(...arguments),this.label=new Nz,this.tooltip=new Ts,this.marker=new rA}};R([P()],bi.prototype,"xKey",2);R([P()],bi.prototype,"yKey",2);R([P()],bi.prototype,"sizeKey",2);R([P()],bi.prototype,"labelKey",2);R([P()],bi.prototype,"xFilterKey",2);R([P()],bi.prototype,"yFilterKey",2);R([P()],bi.prototype,"sizeFilterKey",2);R([P()],bi.prototype,"xName",2);R([P()],bi.prototype,"yName",2);R([P()],bi.prototype,"sizeName",2);R([P()],bi.prototype,"labelName",2);R([P()],bi.prototype,"title",2);R([hi("marker.shape")],bi.prototype,"shape",2);R([hi("marker.size")],bi.prototype,"size",2);R([hi("marker.maxSize")],bi.prototype,"maxSize",2);R([hi("marker.domain",{optional:!0})],bi.prototype,"domain",2);R([hi("marker.fillGradientDefaults")],bi.prototype,"fillGradientDefaults",2);R([hi("marker.fillPatternDefaults")],bi.prototype,"fillPatternDefaults",2);R([hi("marker.fill",{optional:!0})],bi.prototype,"fill",2);R([hi("marker.fillOpacity")],bi.prototype,"fillOpacity",2);R([hi("marker.stroke",{optional:!0})],bi.prototype,"stroke",2);R([hi("marker.strokeWidth")],bi.prototype,"strokeWidth",2);R([hi("marker.strokeOpacity")],bi.prototype,"strokeOpacity",2);R([hi("marker.lineDash")],bi.prototype,"lineDash",2);R([hi("marker.lineDashOffset")],bi.prototype,"lineDashOffset",2);R([hi("marker.itemStyler",{optional:!0})],bi.prototype,"itemStyler",2);R([P()],bi.prototype,"label",2);R([P()],bi.prototype,"tooltip",2);var xie=class extends GT{constructor(e,t,i,n){super(e,t,i,n),this.sizeKey=n.properties.sizeKey}},Nx=class extends Su{constructor(e){super({moduleCtx:e,directionKeys:Xh,directionNames:qh,categoryKey:void 0,pickModes:[2,1,0],pathsPerSeries:[],hasMarkers:!0,markerSelectionGarbageCollection:!1,animationResetFns:{label:jl,marker:ey},usesPlacedLabels:!0,clipFocusBox:!1}),this.NodeEvent=xie,this.properties=new bi,this.sizeScale=new Fo}get pickModeAxis(){return"main-category"}async processData(e){var M,A;if(!this.properties.isValid()||this.data==null||!this.visible)return;const t=(M=this.axes.x)==null?void 0:M.scale,i=(A=this.axes.y)==null?void 0:A.scale,{xScaleType:n,yScaleType:s}=this.getScaleInformation({xScale:t,yScale:i}),r=this.sizeScale.type,{xKey:o,yKey:a,sizeKey:c,xFilterKey:h,yFilterKey:f,sizeFilterKey:p,labelKey:m,marker:b}=this.properties,{dataModel:C,processedData:w}=await this.requestDataModel(e,this.data,{props:[Ft(o,n,{id:"xValue"}),Ft(a,s,{id:"yValue"}),...h!=null?[Ft(h,n,{id:"xFilterValue"})]:[],...f!=null?[Ft(f,s,{id:"yFilterValue"})]:[],...p!=null?[Ft(p,r,{id:"sizeFilterValue"})]:[],Ft(c,r,{id:"sizeValue"}),...m?[Ft(m,"band",{id:"labelValue"})]:[]]}),D=C.resolveProcessedDataIndexById(this,"sizeValue");this.sizeScale.domain=b.domain??w.domain.values[D]??[],this.animationState.transition("updateData")}xCoordinateRange(e,t,i){const{properties:n,sizeScale:s}=this,{size:r,sizeKey:o}=n,a=this.axes.x.scale.convert(e),c=o!=null?this.dataModel.resolveColumnById(this,"sizeValue",this.processedData):void 0,f=.5*(c!=null?s.convert(c[i]):r)*t;return[a-f,a+f]}yCoordinateRange(e,t,i){const{properties:n,sizeScale:s}=this,{size:r,sizeKey:o}=n,a=this.axes.y.scale.convert(e[0]),c=o!=null?this.dataModel.resolveColumnById(this,"sizeValue",this.processedData):void 0,f=.5*(c!=null?s.convert(c[i]):r)*t;return[a-f,a+f]}getSeriesDomain(e){const{dataModel:t,processedData:i}=this;if(!i||!t)return[];const n={x:"xValue",y:"yValue"},s=n[e],r=t.resolveProcessedDataDefById(this,s),o=t.getDomain(this,s,"value",i);if((r==null?void 0:r.def.type)==="value"&&(r==null?void 0:r.def.valueType)==="category")return o;const c=n[e==="x"?"y":"x"],h=this.domainForClippedRange(e,[s],c,!1);return nr(Bl(h))}getSeriesRange(e,t){return this.domainForVisibleRange("y",["yValue"],"xValue",t,!1)}getVisibleItems(e,t,i){return this.countVisibleItems("xValue",["yValue"],e,t,i)}createNodeData(){var H;const{axes:e,dataModel:t,processedData:i,sizeScale:n,visible:s}=this,{xKey:r,yKey:o,sizeKey:a,xFilterKey:c,yFilterKey:h,sizeFilterKey:f,labelKey:p,xName:m,yName:b,sizeName:C,labelName:w,label:D,marker:M}=this.properties,{placement:A}=D,k=In.anchor(M.shape),_=e.x,F=e.y;if(!(t&&i&&s&&_&&F))return;const N=t.resolveColumnById(this,"xValue",i),z=t.resolveColumnById(this,"yValue",i),V=a!=null?t.resolveColumnById(this,"sizeValue",i):void 0,j=p!=null?t.resolveColumnById(this,"labelValue",i):void 0,U=c!=null?t.resolveColumnById(this,"xFilterValue",i):void 0,$=h!=null?t.resolveColumnById(this,"yFilterValue",i):void 0,Q=f!=null?t.resolveColumnById(this,"sizeFilterValue",i):void 0,J=_.scale,be=F.scale,me=(J.bandwidth??0)/2,Y=(be.bandwidth??0)/2,re=[];n.range=[M.size,M.maxSize];const Z=D.getFont(),Ce=kl.getMeasurer({font:Z});return(H=i.dataSources.get(this.id))==null||H.forEach((K,ie)=>{const te=N[ie],se=z[ie],ye=V==null?void 0:V[ie],he=J.convert(te)+me,Ie=be.convert(se)+Y;let xe;U!=null&&$!=null&&(xe=U[ie]===te&&$[ie]===se,Q!=null&&xe&&(xe=Q[ie]===ye));const Re=this.getLabelText(D,{value:j!=null?j[ie]:se,datum:K,xKey:r,yKey:o,sizeKey:a,labelKey:p,xName:m,yName:b,sizeName:C,labelName:w}),Ne=Ce.measureText(String(Re)),We=ye!=null?n.convert(ye):M.size;re.push({series:this,itemId:o,yKey:o,xKey:r,datum:K,datumIndex:ie,xValue:te,yValue:se,sizeValue:ye,point:{x:he,y:Ie,size:We},midPoint:{x:he,y:Ie},label:{text:Re,...Ne},anchor:k,placement:A,selected:xe})}),{itemId:o,nodeData:re,labelData:re,scales:this.calculateScaling(),visible:this.visible}}isPathOrSelectionDirty(){return this.properties.marker.isDirty()}getLabelData(){var e;return this.isLabelEnabled()?((e=this.contextNodeData)==null?void 0:e.labelData)??[]:[]}updateMarkerSelection(e){const{nodeData:t,markerSelection:i}=e;this.properties.marker.isDirty()&&(i.clear(),i.cleanup());const n=this.properties.marker.enabled?t:[];return i.update(n,void 0,s=>Yn([s.xValue,s.yValue,s.sizeValue,s.label.text]))}updateMarkerNodes(e){const{markerSelection:t,isHighlight:i}=e,{xKey:n,yKey:s,sizeKey:r,labelKey:o,marker:a}=this.properties,c=Pt(i&&this.properties.highlightStyle.item,a.getStyle());this.sizeScale.range=[a.size,a.maxSize];const h=this.getShapeFillBBox();t.each((f,p)=>{this.updateMarkerStyle(a,f,p.datum,p.point,{xKey:n,yKey:s,sizeKey:r,labelKey:o},i,c,h,{selected:p.selected})}),i||this.properties.marker.markClean()}updatePlacedLabelData(e){this.labelSelection.update(e.map(t=>({...t.datum,point:{x:t.x,y:t.y,size:t.datum.point.size}})),t=>{t.pointerEvents=1}),this.updateLabelNodes({labelSelection:this.labelSelection})}updateLabelNodes(e){const{label:t}=this.properties;e.labelSelection.each((i,n)=>{var s,r;i.text=n.label.text,i.fill=t.color,i.x=((s=n.point)==null?void 0:s.x)??0,i.y=((r=n.point)==null?void 0:r.y)??0,i.fontStyle=t.fontStyle,i.fontWeight=t.fontWeight,i.fontSize=t.fontSize,i.fontFamily=t.fontFamily,i.textAlign="left",i.textBaseline="top"})}getTooltipContent(e){var U,$;const{id:t,dataModel:i,processedData:n,axes:s,properties:r}=this,{xKey:o,xName:a,yKey:c,yName:h,sizeKey:f,sizeName:p,labelKey:m,labelName:b,title:C,tooltip:w,marker:D}=r,M=s.x,A=s.y;if(!i||!n||!M||!A)return;const k=(U=n.dataSources.get(this.id))==null?void 0:U[e],_=i.resolveColumnById(this,"xValue",n)[e],F=i.resolveColumnById(this,"yValue",n)[e],N=($=this.contextNodeData)==null?void 0:$.nodeData[e];if(_==null||N==null)return;const z=[{label:a,fallbackLabel:o,value:M.formatDatum(_)},{label:h,fallbackLabel:c,value:A.formatDatum(F)}];if(f!=null){const Q=i.resolveColumnById(this,"sizeValue",n)[e];z.push({label:p,fallbackLabel:f,value:String(Q)})}const V=D.getStyle(),j=this.getMarkerStyle(D,k,{xKey:o,yKey:c,sizeKey:f,labelKey:m,highlighted:!0},!1,void 0,V);return w.formatTooltip(this.properties,{title:C,symbol:this.legendItemSymbol(),data:z},{seriesId:t,datum:k,title:c,xKey:o,xName:a,yKey:c,yName:h,sizeKey:f,sizeName:p,labelKey:m,labelName:b,...j,...this.getModuleTooltipParams()})}legendItemSymbol(){return{marker:this.getMarkerStyle(this.properties.marker)}}getLegendData(){if(!this.properties.isValid())return[];const{id:e,ctx:{legendManager:t},visible:i}=this,{yKey:n,yName:s,title:r}=this.properties;return[{legendType:"category",id:e,itemId:n,seriesId:e,enabled:i&&t.getItemEnabled({seriesId:e,itemId:n}),label:{text:r??s??n},symbol:this.legendItemSymbol()}]}animateEmptyUpdateReady({markerSelection:e,labelSelection:t}){UT(this,this.ctx.animationManager,e),qt(this,"labels",this.ctx.animationManager,t)}isLabelEnabled(){return this.properties.label.enabled}nodeFactory(){return new at}getFormattedMarkerStyle(e){const{xKey:t,yKey:i,sizeKey:n,labelKey:s,marker:r}=this.properties;return this.getMarkerStyle(r,e,{xKey:t,yKey:i,sizeKey:n,labelKey:s},!1,e.point.size)}computeFocusBounds(e){return ty(this,e)}};Nx.className="BubbleSeries";Nx.type="bubble";var Sie={type:nt(Ms("bubble")),xKey:nt(Fe),yKey:nt(Fe),sizeKey:nt(Fe),labelKey:Fe,xName:Fe,yName:Fe,sizeName:Fe,labelName:Fe,title:Fe,domain:Hi(it),maxSize:ke,showInMiniChart:_e,label:{placement:vt("top","right","bottom","left"),...wu},tooltip:Wl,...Yo,...lu(iy,["enabled"])},wie={type:"series",optionsKey:"series[]",packageType:"community",chartTypes:["cartesian"],identifier:"bubble",moduleFactory:e=>new Nx(e),tooltipDefaults:{range:"nearest"},defaultAxes:[{type:"number",position:"bottom"},{type:"number",position:"left"}],themeTemplate:{series:{shape:"circle",size:7,maxSize:30,fill:{$palette:"fill"},stroke:{$palette:"stroke"},fillGradientDefaults:{type:"gradient",gradient:"radial",bounds:"item",colorStops:{$palette:"gradient"},rotation:0,reverse:!0},fillPatternDefaults:uu,fillOpacity:.8,tooltip:{position:{_seriesOverrideType:"node"}},label:{enabled:!1,fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},fontWeight:{$ref:"fontWeight"},color:{$ref:"textColor"}}}}},Oz={type:"series",name:"bubble",chartType:"cartesian",options:Sie,create:e=>new Nx(e)},un=class extends Vl{constructor(){super(...arguments),this.fillGradientDefaults=new fo,this.fillPatternDefaults=new tn,this.fillOpacity=1,this.strokeWidth=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.cornerRadius=0,this.areaPlot=!1,this.aggregation="sum",this.shadow=new Uo,this.label=new _n,this.tooltip=new Ts}};R([P()],un.prototype,"xKey",2);R([P()],un.prototype,"yKey",2);R([P()],un.prototype,"xName",2);R([P()],un.prototype,"yName",2);R([P(ds(ka,_a,Ir))],un.prototype,"fill",2);R([P()],un.prototype,"fillGradientDefaults",2);R([P()],un.prototype,"fillPatternDefaults",2);R([P()],un.prototype,"fillOpacity",2);R([P()],un.prototype,"stroke",2);R([P()],un.prototype,"strokeWidth",2);R([P()],un.prototype,"strokeOpacity",2);R([P()],un.prototype,"lineDash",2);R([P()],un.prototype,"lineDashOffset",2);R([P()],un.prototype,"cornerRadius",2);R([P()],un.prototype,"areaPlot",2);R([P()],un.prototype,"bins",2);R([P(ci(["count","sum","mean"],"a histogram aggregation"))],un.prototype,"aggregation",2);R([P()],un.prototype,"binCount",2);R([P()],un.prototype,"shadow",2);R([P()],un.prototype,"label",2);R([P()],un.prototype,"tooltip",2);var y_=10,Ox=class extends Su{constructor(e){super({moduleCtx:e,directionKeys:Xh,directionNames:qh,categoryKey:void 0,pickModes:[1,0],datumSelectionGarbageCollection:!1,animationResetFns:{datum:fm,label:jl}}),this.properties=new un,this.calculatedBins=[]}deriveBins(e){const t=JL(e[0],e[1],y_),i=em(e[0],e[1],y_),[n]=t,s=r=>[r,r+i];return[[n-i,n],...t.map(s)]}calculateNiceBins(e,t){const i=Math.floor(e[0]),n=e[1],s=t||1,{start:r,binSize:o}=this.calculateNiceStart(i,n,s);return this.getBins(r,n,o,s)}getBins(e,t,i,n){const s=[],r=this.calculatePrecision(i);for(let o=0;o<n;o++){const a=Math.round((e+o*i)*r)/r;let c=Math.round((e+(o+1)*i)*r)/r;o===n-1&&(c=Math.max(c,t)),s[o]=[a,c]}return s}calculatePrecision(e){let t=10;if(isFinite(e)&&e>0)for(;e<1;)t*=10,e*=10;return t}calculateNiceStart(e,t,i){const n=Math.abs(t-e)/i,s=Math.floor(Math.log10(n)),r=Math.pow(10,s);return{start:Math.floor(e/r)*r,binSize:n}}async processData(e){var p,m;this.visible||(this.processedData=void 0,this.animationState.transition("updateData"));const{xKey:t,yKey:i,areaPlot:n,aggregation:s}=this.properties,r=(p=this.axes.x)==null?void 0:p.scale,o=(m=this.axes.y)==null?void 0:m.scale,{xScaleType:a,yScaleType:c}=this.getScaleInformation({yScale:o,xScale:r}),h=[Po(t,a),WB];if(i){let b=oD("groupAgg");s==="count"||(s==="sum"?b=kB("groupAgg"):s==="mean"&&(b=_B("groupAgg"))),n&&(b=aD("groupAgg",b)),h.push(Ft(i,c,{invalidValue:void 0}),b)}else{h.push(zB("count"));let b=oD("groupAgg");n&&(b=aD("groupAgg",b)),h.push(b)}const f=b=>{const C=nr(b.domain.keys[0]);if(C.length===0)return b.domain.groups=[],()=>[];const w=io(this.properties.binCount)?this.calculateNiceBins(C,this.properties.binCount):this.properties.bins??this.deriveBins(C),D=w.length;return this.calculatedBins=[...w],M=>{let A=M[0];if(kf(A)&&(A=A.getTime()),!io(A))return[];for(let k=0;k<D;k++){const _=w[k];if(A>=_[0]&&A<_[1]||k===D-1&&A<=_[1])return _}return[]}};!this.ctx.animationManager.isSkipped()&&this.processedData&&h.push(Gf(this.id,this.processedData,!1)),await this.requestDataModel(e,this.data,{props:h,groupByFn:f}),this.animationState.transition("updateData")}xCoordinateRange(){return[NaN,NaN]}yCoordinateRange(){return[NaN,NaN]}getSeriesDomain(e){var o,a,c;const{processedData:t,dataModel:i}=this;if(!t||!i||!this.calculatedBins.length)return[];const n=i.getDomain(this,"groupAgg","aggregate",t),s=(o=this.calculatedBins)==null?void 0:o[0][0],r=(c=this.calculatedBins)==null?void 0:c[(((a=this.calculatedBins)==null?void 0:a.length)??0)-1][1];return nr(e==="x"?[s,r]:n)}getSeriesRange(e,[t,i]){const{dataModel:n,processedData:s}=this;if(!n||(s==null?void 0:s.type)!=="grouped")return[NaN,NaN];const r=this.axes.x.scale,o=0;let a=-1/0;return s.groups.forEach(({keys:c,aggregation:h})=>{const[[f,p]=[0,0]]=h,[m,b]=c,[C,w]=pn([r.convert(m),r.convert(b)]);if(w>=t&&C<=i){const D=f+p;a=Math.max(a,D)}}),o>a?[NaN,NaN]:[o,a]}createNodeData(){const{id:e,axes:t,processedData:i,dataModel:n}=this,s=t.x,r=t.y;if(!s||!r||!n)return;const{scale:o}=s,{scale:a}=r,{xKey:c,yKey:h,xName:f,yName:p}=this.properties,m=this.properties.label.formatter,b=[],C={itemId:this.properties.yKey??this.id,nodeData:b,labelData:b,scales:this.calculateScaling(),animationValid:!0,visible:this.visible};return!this.visible||i==null||i.type!=="grouped"||(i.groups.forEach((w,D)=>{const{keys:M,datumIndices:A,aggregation:k}=w,[[_,F]=[0,0]]=k,N=A.length,z=M,[V,j]=z,U=[...n.forEachDatum(this,i,w)],$=o.convert(V),Q=o.convert(j),J=_+F,be=a.convert(0),me=a.convert(J),Y=Math.abs(Q-$),re=Math.abs(me-be),Z=Math.min($,Q),Ce=Math.min(be,me);let H;J!==0&&(H={x:Z+Y/2,y:Ce+re/2,text:this.cachedDatumCallback(Yn(D,"label"),()=>m==null?void 0:m({value:J,datum:U,seriesId:e,xKey:c,yKey:h,xName:f,yName:p}))??r.formatDatum(J)});const K={x:Z+Y/2,y:Ce+re/2},ie=r.isReversed();b.push({series:this,datumIndex:D,datum:U,aggregatedValue:J,frequency:N,domain:z,yKey:h,xKey:c,x:Z,y:Ce,xValue:$,yValue:me,width:Y,height:re,midPoint:K,topLeftCornerRadius:!ie,topRightCornerRadius:!ie,bottomRightCornerRadius:ie,bottomLeftCornerRadius:ie,label:H,crisp:!0})}),b.sort((w,D)=>w.x-D.x)),C}nodeFactory(){return new Ls}updateDatumSelection(e){const{nodeData:t,datumSelection:i}=e;return i.update(t,void 0,n=>n.domain.join("_"))}getItemBaseStyle(e){const{properties:t}=this,i=e?t.highlightStyle.item:void 0;return Ca({fill:(i==null?void 0:i.fill)??t.fill,fillOpacity:(i==null?void 0:i.fillOpacity)??t.fillOpacity,stroke:(i==null?void 0:i.stroke)??t.stroke,strokeWidth:(i==null?void 0:i.strokeWidth)??this.getStrokeWidth(t.strokeWidth),strokeOpacity:(i==null?void 0:i.strokeOpacity)??t.strokeOpacity,lineDash:(i==null?void 0:i.lineDash)??t.lineDash,lineDashOffset:(i==null?void 0:i.lineDashOffset)??t.lineDashOffset,cornerRadius:t.cornerRadius},t.fillGradientDefaults,t.fillPatternDefaults)}updateDatumNodes(e){const{isHighlight:t}=e,{shadow:i}=this.properties,n=this.getItemBaseStyle(t),s=this.getShapeFillBBox();e.datumSelection.each((r,o)=>{const{cornerRadius:a}=n,{topLeftCornerRadius:c,topRightCornerRadius:h,bottomRightCornerRadius:f,bottomLeftCornerRadius:p}=o;Gh(r,n,void 0,s),r.topLeftCornerRadius=c?a:0,r.topRightCornerRadius=h?a:0,r.bottomRightCornerRadius=f?a:0,r.bottomLeftCornerRadius=p?a:0,r.crisp=o.crisp,r.fillShadow=i,r.visible=o.height>0})}updateLabelSelection(e){const{labelData:t,labelSelection:i}=e;return i.update(t,n=>{n.pointerEvents=1,n.textAlign="center",n.textBaseline="middle"})}updateLabelNodes(e){const{fontStyle:t,fontWeight:i,fontFamily:n,fontSize:s,color:r}=this.properties.label,o=this.isLabelEnabled();e.labelSelection.each((a,c)=>{o&&(c!=null&&c.label)?(a.text=c.label.text,a.x=c.label.x,a.y=c.label.y,a.fontStyle=t,a.fontWeight=i,a.fontFamily=n,a.fontSize=s,a.fill=r,a.visible=!0):a.visible=!1})}initQuadTree(e){const{value:t}=this.contentGroup.children().next();t&&eA(e,t.children())}pickNodeClosestDatum(e){return tA(this,e)}getTooltipContent(e){const{id:t,dataModel:i,processedData:n,axes:s,properties:r,ctx:{localeManager:o}}=this,{xKey:a,xName:c,yKey:h,yName:f,tooltip:p}=r,m=s.x,b=s.y;if(!i||(n==null?void 0:n.type)!=="grouped"||!m||!b)return;const C=n.groups[e],{aggregation:w,datumIndices:D,keys:M}=C,[[A,k]=[0,0]]=w,_=D.length,F=M,[N,z]=F,V=A+k,j={data:[...i.forEachDatum(this,n,C)],aggregatedValue:V,frequency:_,domain:F},U=[{label:c,fallbackLabel:a,value:`${m.formatDatum(N)} - ${m.formatDatum(z)}`},{label:o.t("seriesHistogramTooltipFrequency"),value:b.formatDatum(_)}];if(h!=null){let $;switch(r.aggregation){case"sum":$=o.t("seriesHistogramTooltipSum",{yName:f??h});break;case"mean":$=o.t("seriesHistogramTooltipMean",{yName:f??h});break;case"count":$=o.t("seriesHistogramTooltipCount",{yName:f??h});break}U.push({label:$,value:b.formatDatum(V)})}return p.formatTooltip(this.properties,{symbol:this.legendItemSymbol(),data:U},{seriesId:t,datum:j,title:f,xKey:a,xName:c,yKey:h,yName:f,xRange:[N,z],frequency:_,...this.getItemBaseStyle(!1)})}legendItemSymbol(){const{fill:e,fillOpacity:t,stroke:i,strokeWidth:n,strokeOpacity:s,lineDash:r,lineDashOffset:o,fillGradientDefaults:a,fillPatternDefaults:c}=this.properties;return{marker:Ca({fill:e??"rgba(0, 0, 0, 0)",stroke:i??"rgba(0, 0, 0, 0)",fillOpacity:t,strokeOpacity:s,strokeWidth:n,lineDash:r,lineDashOffset:o},a,c)}}getLegendData(e){if(e!=="category")return[];const{id:t,ctx:{legendManager:i},visible:n}=this,{xKey:s,yName:r,showInLegend:o}=this.properties;return[{legendType:"category",id:t,itemId:s,seriesId:t,enabled:n&&i.getItemEnabled({seriesId:t,itemId:s}),label:{text:r??s??"Frequency"},symbol:this.legendItemSymbol(),hideInLegend:!o}]}animateEmptyUpdateReady({datumSelection:e,labelSelection:t}){const i=dm(hm(!0,this.axes,"normal"));Qi(this.id,"datums",this.ctx.animationManager,[e],i),qt(this,"labels",this.ctx.animationManager,t)}animateWaitingUpdateReady(e){var n,s,r;const t=(r=(s=(n=this.processedData)==null?void 0:n.reduced)==null?void 0:s.diff)==null?void 0:r[this.id],i=dm(hm(!0,this.axes,"normal"));Qi(this.id,"datums",this.ctx.animationManager,[e.datumSelection],i,(o,a)=>Yn(a.domain),t),qt(this,"labels",this.ctx.animationManager,e.labelSelection)}isLabelEnabled(){return this.properties.label.enabled}computeFocusBounds({datumIndex:e}){var t;return sA(this,(t=this.contextNodeData)==null?void 0:t.nodeData[e])}};Ox.className="HistogramSeries";Ox.type="histogram";var Mie={type:nt(Ms("histogram")),xKey:nt(Fe),yKey:Fe,xName:Fe,yName:Fe,areaPlot:_e,aggregation:vt("count","sum","mean"),bins:Hi(Hi(it)),binCount:ke,showInMiniChart:_e,cornerRadius:ke,label:wu,tooltip:Wl,shadow:ny,...Yo,...oo,...js,...Ma},Die={type:"series",optionsKey:"series[]",packageType:"community",chartTypes:["cartesian"],identifier:"histogram",moduleFactory:e=>new Ox(e),tooltipDefaults:{range:"exact"},defaultAxes:[{type:"number",position:"bottom"},{type:"number",position:"left"}],themeTemplate:{series:{fill:{$palette:"fill"},stroke:{$palette:"stroke"},fillGradientDefaults:{type:"gradient",gradient:"linear",bounds:"item",colorStops:{$palette:"gradient"},rotation:0,reverse:!1},fillPatternDefaults:uu,strokeWidth:1,fillOpacity:1,strokeOpacity:1,lineDash:[0],lineDashOffset:0,label:{enabled:!1,fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},fontWeight:{$ref:"fontWeight"},color:{$ref:"backgroundColor"}},shadow:{enabled:!1,color:xu,xOffset:3,yOffset:3,blur:5}}}},Pz={type:"series",name:"histogram",chartType:"cartesian",enterprise:!0,options:Mie,create:e=>new Ox(e)},Mn=class extends Vl{constructor(){super(...arguments),this.stroke="#874349",this.strokeWidth=2,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.interpolation=new Uf,this.marker=new $n,this.label=new _n,this.tooltip=new Ts,this.connectMissingData=!1,this.sparklineMode=!1}};R([P()],Mn.prototype,"xKey",2);R([P()],Mn.prototype,"yKey",2);R([P()],Mn.prototype,"xName",2);R([P()],Mn.prototype,"yName",2);R([P()],Mn.prototype,"yFilterKey",2);R([P()],Mn.prototype,"stackGroup",2);R([P()],Mn.prototype,"normalizedTo",2);R([P()],Mn.prototype,"title",2);R([P()],Mn.prototype,"stroke",2);R([P()],Mn.prototype,"strokeWidth",2);R([P()],Mn.prototype,"strokeOpacity",2);R([P()],Mn.prototype,"lineDash",2);R([P()],Mn.prototype,"lineDashOffset",2);R([P()],Mn.prototype,"interpolation",2);R([P()],Mn.prototype,"marker",2);R([P()],Mn.prototype,"label",2);R([P()],Mn.prototype,"tooltip",2);R([P()],Mn.prototype,"connectMissingData",2);R([P()],Mn.prototype,"sparklineMode",2);var Lie=.25,oy=class extends Su{constructor(e){super({moduleCtx:e,directionKeys:Xh,directionNames:qh,categoryKey:"xValue",hasMarkers:!0,pickModes:[2,1,0],markerSelectionGarbageCollection:!1,animationResetFns:{path:$T({getVisible:()=>this.visible,getOpacity:()=>this.getOpacity()}),label:jl,marker:(t,i)=>({...ey(),...um(t,i)})},clipFocusBox:!1}),this.properties=new Mn,this.dataAggregationFilters=void 0}get pickModeAxis(){return this.properties.sparklineMode?"main":"main-category"}async processData(e){var F,N;if(this.data==null||!this.properties.isValid())return;const{data:t,visible:i,seriesGrouping:{groupIndex:n=this.id,stackCount:s=0}={}}=this,{xKey:r,yKey:o,yFilterKey:a,connectMissingData:c,normalizedTo:h}=this.properties,f=!this.ctx.animationManager.isSkipped(),p=(F=this.axes.x)==null?void 0:F.scale,m=(N=this.axes.y)==null?void 0:N.scale,{isContinuousX:b,xScaleType:C,yScaleType:w}=this.getScaleInformation({xScale:p,yScale:m}),D=s>=1||h!=null,M={invalidValue:null};c&&D&&(M.invalidValue=0),D&&!i&&(M.forceValue=0);const A=[];if((!b||D)&&A.push(Po(r,C,{id:"xKey"})),A.push(Ft(r,C,{id:"xValue"}),Ft(o,w,{id:"yValueRaw",...M,invalidValue:void 0})),a!=null&&A.push(Ft(a,w,{id:"yFilterRaw"})),D){const z=[`line-stack-${n}-yValues`,`line-stack-${n}-yValues-trailing`,`line-stack-${n}-yValues-marker`];A.push(...iu(o,"window","current",{id:"yValueEnd",...M,groupId:z[0]},w),...iu(o,"window-trailing","current",{id:"yValueStart",...M,groupId:z[1]},w),...iu(o,"normal","current",{id:"yValueCumulative",...M,groupId:z[2]},w)),Ep(h)&&A.push(vx([z[0],z[1],z[2]],h))}f&&(A.push(zf(b?["xValue"]:void 0)),this.processedData&&A.push(Gf(this.id,this.processedData)));const{dataModel:k,processedData:_}=await this.requestDataModel(e,t,{props:A,groupByKeys:D,groupByData:!D});this.dataAggregationFilters=this.aggregateData(k,_),this.animationState.transition("updateData")}xCoordinateRange(e,t){const{marker:i}=this.properties,n=this.axes.x.scale.convert(e),s=i.enabled?.5*i.size*t:0;return[n-s,n+s]}yCoordinateRange(e,t){const{marker:i}=this.properties,n=this.axes.y.scale.convert(e[0]),s=i.enabled?.5*i.size*t:0;return[n-s,n+s]}getSeriesDomain(e){var r;const{dataModel:t,processedData:i}=this;if(!t||!i)return[];if(e==="x"){const o=t.resolveProcessedDataDefById(this,"xValue"),a=t.getDomain(this,"xValue","value",i);return(o==null?void 0:o.def.type)==="value"&&o.def.valueType==="category"?a:nr(Bl(a))}const n=(r=this.dataModel)!=null&&r.hasColumnById(this,"yValueEnd")?"yValueEnd":"yValueRaw",s=this.domainForClippedRange("y",[n],"xValue",!0);return nr(s)}getSeriesRange(e,t){var n;const i=(n=this.dataModel)!=null&&n.hasColumnById(this,"yValueEnd")?"yValueEnd":"yValueRaw";return this.domainForVisibleRange("y",[i],"xValue",t,!0)}getVisibleItems(e,t,i){var s;const n=(s=this.dataModel)!=null&&s.hasColumnById(this,"yValueEnd")?"yValueEnd":"yValueRaw";return this.countVisibleItems("xValue",[n],e,t,i)}aggregateData(e,t){}createNodeData(){var xe;const{dataModel:e,processedData:t,axes:i,dataAggregationFilters:n}=this,s=i.x,r=i.y;if(!e||!t||!s||!r)return;const{xKey:o,yKey:a,yFilterKey:c,xName:h,yName:f,marker:p,label:m,connectMissingData:b,interpolation:C,legendItemName:w}=this.properties,D=(xe=this.dataModel)==null?void 0:xe.hasColumnById(this,"yValueEnd"),M=s.scale,A=r.scale,k=(M.bandwidth??0)/2,_=(A.bandwidth??0)/2,F=p.enabled?p.size:0,N=t.dataSources.get(this.id)??[],z=e.resolveColumnById(this,"xValue",t),V=e.resolveColumnById(this,"yValueRaw",t),j=D?e.resolveColumnById(this,"yValueEnd",t):void 0,U=D?e.resolveColumnById(this,"yValueCumulative",t):V,$=c!=null?e.resolveColumnById(this,"yFilterRaw",t):void 0,Q=Re=>M.convert(z[Re])+k,J=Re=>A.convert(U[Re])+_,be={lengthRatioMultiplier:this.properties.marker.getDiameter(),lengthMax:1/0},me=[];let Y;const re=Re=>{const Ne=N[Re],We=z[Re],lt=V[Re],qe=j==null?void 0:j[Re],Ue=$==null?void 0:$[Re],Ve=Q(Re),Et=J(Re);if(!Number.isFinite(Ve))return;if(lt!=null){const Ct=m.enabled?this.getLabelText(m,{value:lt,datum:Ne,xKey:o,yKey:a,xName:h,yName:f,legendItemName:w}):void 0;me.push({series:this,datum:Ne,datumIndex:Re,yKey:a,xKey:o,point:{x:Ve,y:Et,size:F},midPoint:{x:Ve,y:Et},cumulativeValue:qe,yValue:lt,xValue:We,capDefaults:be,labelText:Ct,selected:Ue})}if(Y==null)return;const je=Y[Y.length-1];if(lt!=null){const Ct={point:{x:Ve,y:Et},xDatum:We,yDatum:lt};Array.isArray(je)?je.push(Ct):je!=null?(je.skip+=1,Y.push([Ct])):Y.push([Ct])}else b||(Array.isArray(je)||je==null?Y.push({skip:0}):je.skip+=1)},[Z,Ce]=M.range,H=Ce-Z,K=n==null?void 0:n.find(Re=>Re.maxRange>H),ie=K==null?void 0:K.indices;let[te,se]=this.visibleRange("xValue",s.range,ie);te=Math.max(te-1,0),se=Math.min(se+1,(ie==null?void 0:ie.length)??z.length),t.input.count<1e3&&(te=0,se=t.input.count),ie==null&&(Y=[]);for(let Re=te;Re<se;Re+=1)re((ie==null?void 0:ie[Re])??Re);const ye=Y==null?void 0:Y.flatMap(Re=>Array.isArray(Re)?mC(Re,C):[]),he=ye!=null?{itemId:a,spans:ye}:void 0,Ie=($==null?void 0:$.some((Re,Ne)=>Re===V[Ne]))??!1;return{itemId:a,nodeData:me,labelData:me,strokeData:he,scales:this.calculateScaling(),visible:this.visible,crossFiltering:Ie}}isPathOrSelectionDirty(){return this.properties.marker.isDirty()}updatePathNodes(e){var o;const{paths:[t],opacity:i,visible:n,animationEnabled:s}=e,r=((o=this.contextNodeData)==null?void 0:o.crossFiltering)===!0;t.setProperties({fill:void 0,lineJoin:"round",pointerEvents:1,opacity:i,stroke:this.properties.stroke,strokeWidth:this.getStrokeWidth(this.properties.strokeWidth),strokeOpacity:this.properties.strokeOpacity*(r?Lie:1),lineDash:this.properties.lineDash,lineDashOffset:this.properties.lineDashOffset}),s||(t.visible=n),vC(this,t)}getMarkerItemBaseStyle(e){const{properties:t}=this,{marker:i}=t,n=e?t.highlightStyle.item:void 0;return Ca({size:i.size,shape:i.shape,fill:(n==null?void 0:n.fill)??i.fill,fillOpacity:(n==null?void 0:n.fillOpacity)??i.fillOpacity,stroke:(n==null?void 0:n.stroke)??i.stroke,strokeWidth:(n==null?void 0:n.strokeWidth)??i.strokeWidth,strokeOpacity:(n==null?void 0:n.strokeOpacity)??i.strokeOpacity,lineDash:(n==null?void 0:n.lineDash)??i.lineDash,lineDashOffset:(n==null?void 0:n.lineDashOffset)??i.lineDashOffset},i.fillGradientDefaults,i.fillPatternDefaults)}getMarkerItemStyleOverrides(e,t,i,n){const{id:s,properties:r}=this,{xKey:o,yKey:a,marker:c}=r,{itemStyler:h}=c;if(h!=null)return this.cachedDatumCallback(Yn(e,n?"highlight":"node"),()=>{const f=this.getSeriesDomain("x"),p=this.getSeriesDomain("y");return this.callWithContext(h,{seriesId:s,...tu(t,o,a,f,p),datum:t,highlighted:n,...i})})}updateMarkerSelection(e){var s;let{nodeData:t}=e;const{markerSelection:i}=e;return t=this.properties.marker.enabled||((s=this.contextNodeData)==null?void 0:s.crossFiltering)===!0?t:[],this.properties.marker.isDirty()&&(i.clear(),i.cleanup()),i.update(t,void 0,r=>Yn(r.xValue))}updateMarkerNodes(e){const{markerSelection:t,isHighlight:i}=e,{xKey:n,yKey:s,stroke:r,strokeWidth:o,strokeOpacity:a,marker:c,highlightStyle:h}=this.properties,f=this.getSeriesDomain("x"),p=this.getSeriesDomain("y"),m=Pt(i&&h.item,c.getStyle(),{stroke:r,strokeWidth:o,strokeOpacity:a}),b=this.ctx.animationManager.isSkipped(),C=this.getShapeFillBBox();t.each((w,D)=>{this.updateMarkerStyle(c,w,D.datum,D.point,tu(D,n,s,f,p),i,m,C,{applyTranslation:b,selected:D.selected})}),i||c.markClean()}updateLabelSelection(e){return e.labelSelection.update(this.isLabelEnabled()?e.labelData:[])}updateLabelNodes(e){const{enabled:t,fontStyle:i,fontWeight:n,fontSize:s,fontFamily:r,color:o}=this.properties.label;e.labelSelection.each((a,c)=>{t&&(c!=null&&c.labelText)?(a.fontStyle=i,a.fontWeight=n,a.fontSize=s,a.fontFamily=r,a.textAlign="center",a.textBaseline="bottom",a.text=c.labelText,a.x=c.point.x,a.y=c.point.y-10,a.fill=o,a.visible=!0):a.visible=!1})}getTooltipContent(e){var M;const{id:t,dataModel:i,processedData:n,axes:s,properties:r}=this,{xKey:o,xName:a,yKey:c,yName:h,tooltip:f}=r,p=s.x,m=s.y;if(!i||!n||!p||!m)return;const b=(M=n.dataSources.get(this.id))==null?void 0:M[e],C=i.resolveColumnById(this,"xValue",n)[e],w=i.resolveColumnById(this,"yValueRaw",n)[e];if(C==null)return;const D=this.getMarkerItemBaseStyle(!1);return Object.assign(D,this.getMarkerItemStyleOverrides(String(e),b,D,!1)),f.formatTooltip(this.properties,{heading:p.formatDatum(C),symbol:this.legendItemSymbol(),data:[{label:h,fallbackLabel:c,value:m.formatDatum(w)}]},{seriesId:t,datum:b,title:h,xKey:o,xName:a,yKey:c,yName:h,...D,...this.getModuleTooltipParams()})}legendItemSymbol(){const e="rgba(0, 0, 0, 0)",{stroke:t,strokeOpacity:i,strokeWidth:n,lineDash:s,marker:r}=this.properties;return{marker:{...this.getMarkerStyle(r,void 0,void 0,!1,void 0,{fill:r.fill??e,stroke:r.stroke??t??e}),enabled:r.enabled},line:{stroke:t??e,strokeOpacity:i,strokeWidth:n,lineDash:s}}}getLegendData(e){if(!(this.properties.isValid()&&e==="category"))return[];const{id:t,ctx:{legendManager:i},visible:n}=this,{yKey:s,yName:r,title:o,legendItemName:a,showInLegend:c}=this.properties;return[{legendType:"category",id:t,itemId:s,legendItemName:a,seriesId:t,enabled:n&&i.getItemEnabled({seriesId:t,itemId:s}),label:{text:a??o??r??s},symbol:this.legendItemSymbol(),hideInLegend:!c}]}updatePaths(e){this.updateLinePaths(e.paths,e.contextData)}plotNodeDataPoints(e,t){if(t.length===0)return;const i=t[0].point;e.moveTo(i.x,i.y);for(let n=1;n<t.length;n+=1){const{x:s,y:r}=t[n].point;e.lineTo(s,r)}}updateLinePaths(e,t){var s;const i=(s=t.strokeData)==null?void 0:s.spans,[n]=e;n.path.clear(),i!=null?jT(n,i):this.plotNodeDataPoints(n.path,t.nodeData),n.markDirty("LineSeries")}animateEmptyUpdateReady(e){const{markerSelection:t,labelSelection:i,annotationSelections:n,contextData:s,paths:r}=e,{animationManager:o}=this.ctx;this.updateLinePaths(r,s),KT(this,o,...r),Hn([t],um),YT(this,o,t),qt(this,"labels",o,i),qt(this,"annotations",o,...n)}animateReadyResize(e){const{contextData:t,paths:i}=e;this.updateLinePaths(i,t),super.animateReadyResize(e)}animateWaitingUpdateReady(e){var m,b,C;const{animationManager:t}=this.ctx,{markerSelection:i,labelSelection:n,annotationSelections:s,contextData:r,paths:o,previousContextData:a}=e,[c]=o;this.resetMarkerAnimation(e),this.resetLabelAnimation(e);const h=()=>{this.resetPathAnimation(e),this.updateLinePaths(o,r)},f=()=>{t.skipCurrentBatch(),h()};if(r==null||a==null){h(),cm(this,t,"added",i),yC(this,"path_properties",t,"add",c),qt(this,"labels",t,n),qt(this,"annotations",t,...s);return}if(r.crossFiltering!==a.crossFiltering){f();return}const p=Cz(r,a,(C=(b=(m=this.processedData)==null?void 0:m.reduced)==null?void 0:b.diff)==null?void 0:C[this.id]);if(p===void 0){f();return}else if(p.status==="no-op")return;Qi(this.id,"path_properties",t,[c],p.stroke.pathProperties),p.status==="added"?this.updateLinePaths(o,r):p.status==="removed"?this.updateLinePaths(o,a):gC(this.id,"path_update",t,[c],p.stroke.path),p.hasMotion&&(cm(this,t,void 0,i),qt(this,"labels",t,n),qt(this,"annotations",t,...s))}isLabelEnabled(){return this.properties.label.enabled}getBandScalePadding(){return{inner:1,outer:.1}}nodeFactory(){return new at}getFormattedMarkerStyle(e){const{xKey:t,yKey:i}=this.properties,n=this.getSeriesDomain("x"),s=this.getSeriesDomain("y");return this.getMarkerStyle(this.properties.marker,e.datum,tu(e,t,i,n,s),!0)}computeFocusBounds(e){return ty(this,e)}};oy.className="LineSeries";oy.type="line";var Px={type:Ms("line"),xKey:nt(Fe),yKey:nt(Fe),xName:Fe,yName:Fe,title:Fe,stacked:_e,stackGroup:Fe,normalizedTo:it,legendItemName:Fe,showInMiniChart:_e,connectMissingData:_e,interpolation:JT,label:wu,marker:iy,tooltip:Wl,errorBar:_x,...Yo,...js,...Ma};Px.pickOutsideVisibleMinorAxis=_e;Px.focusPriority=it;Px.sparklineMode=_e;var Fz={type:"series",optionsKey:"series[]",packageType:"community",chartTypes:["cartesian"],identifier:"line",moduleFactory:e=>new oy(e),stackable:!0,tooltipDefaults:{range:"nearest"},defaultAxes:[{type:"number",position:"left"},{type:"category",position:"bottom"}],themeTemplate:{series:{tooltip:{position:{_seriesOverrideType:"node"}},stroke:Ax,strokeWidth:2,strokeOpacity:1,lineDash:[0],lineDashOffset:0,interpolation:{type:"linear"},marker:{shape:"circle",size:7,strokeWidth:0,fill:{$palette:"fill"},stroke:{$palette:"stroke"},fillGradientDefaults:{type:"gradient",gradient:"radial",bounds:"item",colorStops:{$palette:"gradient"},rotation:0,reverse:!0},fillPatternDefaults:uu},label:{enabled:!1,fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},fontWeight:{$ref:"fontWeight"},color:{$ref:"textColor"}},errorBar:{cap:{lengthRatio:1}}}}},Bz={type:"series",name:"line",chartType:"cartesian",options:Px,create:e=>new oy(e)},zz=class extends _n{constructor(){super(...arguments),this.placement="top"}};R([P()],zz.prototype,"placement",2);var Vi=class extends Vl{constructor(){super(...arguments),this.label=new zz,this.tooltip=new Ts,this.marker=new $n}};R([P()],Vi.prototype,"xKey",2);R([P()],Vi.prototype,"yKey",2);R([P()],Vi.prototype,"labelKey",2);R([P()],Vi.prototype,"xFilterKey",2);R([P()],Vi.prototype,"yFilterKey",2);R([P()],Vi.prototype,"xName",2);R([P()],Vi.prototype,"yName",2);R([P()],Vi.prototype,"labelName",2);R([P()],Vi.prototype,"title",2);R([hi("marker.shape")],Vi.prototype,"shape",2);R([hi("marker.size")],Vi.prototype,"size",2);R([hi("marker.fill",{optional:!0})],Vi.prototype,"fill",2);R([hi("marker.fillGradientDefaults")],Vi.prototype,"fillGradientDefaults",2);R([hi("marker.fillPatternDefaults")],Vi.prototype,"fillPatternDefaults",2);R([hi("marker.fillOpacity")],Vi.prototype,"fillOpacity",2);R([hi("marker.stroke")],Vi.prototype,"stroke",2);R([hi("marker.strokeWidth")],Vi.prototype,"strokeWidth",2);R([hi("marker.strokeOpacity")],Vi.prototype,"strokeOpacity",2);R([hi("marker.lineDash")],Vi.prototype,"lineDash",2);R([hi("marker.lineDashOffset")],Vi.prototype,"lineDashOffset",2);R([hi("marker.itemStyler",{optional:!0})],Vi.prototype,"itemStyler",2);R([P()],Vi.prototype,"label",2);R([P()],Vi.prototype,"tooltip",2);var Fx=class extends Su{constructor(e){super({moduleCtx:e,directionKeys:Xh,directionNames:qh,categoryKey:void 0,pickModes:[2,1,0],pathsPerSeries:[],hasMarkers:!0,markerSelectionGarbageCollection:!1,animationResetFns:{marker:ey,label:jl},usesPlacedLabels:!0,clipFocusBox:!1}),this.properties=new Vi}get pickModeAxis(){return"main-category"}async processData(e){var f,p;if(!this.properties.isValid()||this.data==null||!this.visible)return;const t=(f=this.axes.x)==null?void 0:f.scale,i=(p=this.axes.y)==null?void 0:p.scale,{xScaleType:n,yScaleType:s}=this.getScaleInformation({xScale:t,yScale:i}),{xKey:r,yKey:o,xFilterKey:a,yFilterKey:c,labelKey:h}=this.properties;await this.requestDataModel(e,this.data,{props:[Ft(r,n,{id:"xValue"}),Ft(o,s,{id:"yValue"}),...a!=null?[Ft(a,n,{id:"xFilterValue"})]:[],...c!=null?[Ft(c,s,{id:"yFilterValue"})]:[],...h?[Ft(h,"band",{id:"labelValue"})]:[]]}),this.animationState.transition("updateData")}xCoordinateRange(e,t){const i=this.axes.x.scale.convert(e),n=.5*this.properties.size*t;return[i-n,i+n]}yCoordinateRange(e,t){const i=this.axes.y.scale.convert(e[0]),n=.5*this.properties.size*t;return[i-n,i+n]}getSeriesDomain(e){const{dataModel:t,processedData:i}=this;if(!i||!t)return[];const n={x:"xValue",y:"yValue"},s=n[e],r=t.resolveProcessedDataDefById(this,s),o=t.getDomain(this,s,"value",i);if((r==null?void 0:r.def.type)==="value"&&(r==null?void 0:r.def.valueType)==="category")return o;const c=n[e==="x"?"y":"x"],h=this.domainForClippedRange(e,[s],c,!1);return nr(Bl(h))}getSeriesRange(e,t){return this.domainForVisibleRange("y",["yValue"],"xValue",t,!1)}getVisibleItems(e,t,i){return this.countVisibleItems("xValue",["yValue"],e,t,i)}createNodeData(){const{axes:e,dataModel:t,processedData:i,visible:n}=this,{xKey:s,yKey:r,xFilterKey:o,yFilterKey:a,labelKey:c,xName:h,yName:f,labelName:p,marker:m,label:b}=this.properties,{placement:C}=b,w=In.anchor(m.shape),D=e.x,M=e.y;if(!(t&&i&&n&&D&&M))return;const A=t.resolveColumnById(this,"xValue",i),k=t.resolveColumnById(this,"yValue",i),_=c!=null?t.resolveColumnById(this,"labelValue",i):void 0,F=o!=null?t.resolveColumnById(this,"xFilterValue",i):void 0,N=a!=null?t.resolveColumnById(this,"yFilterValue",i):void 0,z=D.scale,V=M.scale,j=(z.bandwidth??0)/2,U=(V.bandwidth??0)/2,$=[],Q=b.getFont(),J=kl.getMeasurer({font:Q});return(i.dataSources.get(this.id)??[]).forEach((me,Y)=>{const re=A[Y],Z=k[Y],Ce=z.convert(re)+j,H=V.convert(Z)+U,K=F!=null&&N!=null?F[Y]===re&&N[Y]===Z:void 0,ie=this.getLabelText(b,{value:_!=null?_==null?void 0:_[Y]:Z,datum:me,xKey:s,yKey:r,labelKey:c,xName:h,yName:f,labelName:p}),te=J.measureText(ie);$.push({series:this,itemId:r,yKey:r,xKey:s,datum:me,datumIndex:Y,xValue:re,yValue:Z,capDefaults:{lengthRatioMultiplier:m.getDiameter(),lengthMax:1/0},point:{x:Ce,y:H,size:m.size},midPoint:{x:Ce,y:H},label:{text:ie,...te},anchor:w,placement:C,selected:K})}),{itemId:r,nodeData:$,labelData:$,scales:this.calculateScaling(),visible:this.visible}}isPathOrSelectionDirty(){return this.properties.marker.isDirty()}getLabelData(){var e;return this.isLabelEnabled()?((e=this.contextNodeData)==null?void 0:e.labelData)??[]:[]}updateMarkerSelection(e){const{nodeData:t,markerSelection:i}=e;return this.properties.marker.isDirty()&&(i.clear(),i.cleanup()),i.update(this.properties.marker.enabled?t:[])}updateMarkerNodes(e){const{markerSelection:t,isHighlight:i}=e,{xKey:n,yKey:s,labelKey:r,marker:o,highlightStyle:a}=this.properties,c=Pt(i&&a.item,o.getStyle()),h=this.getShapeFillBBox();t.each((f,p)=>{this.updateMarkerStyle(o,f,p.datum,p.point,{xKey:n,yKey:s,labelKey:r},i,c,h,{selected:p.selected})}),i||o.markClean()}updatePlacedLabelData(e){this.labelSelection.update(e.map(t=>({...t.datum,point:{x:t.x,y:t.y,size:t.datum.point.size}})),t=>{t.pointerEvents=1}),this.updateLabelNodes({labelSelection:this.labelSelection})}updateLabelNodes(e){const{label:t}=this.properties;e.labelSelection.each((i,n)=>{var s,r;i.text=n.label.text,i.fill=t.color,i.x=((s=n.point)==null?void 0:s.x)??0,i.y=((r=n.point)==null?void 0:r.y)??0,i.fontStyle=t.fontStyle,i.fontWeight=t.fontWeight,i.fontSize=t.fontSize,i.fontFamily=t.fontFamily,i.textAlign="left",i.textBaseline="top"})}getTooltipContent(e){var N,z;const{id:t,dataModel:i,processedData:n,axes:s,properties:r}=this,{xKey:o,xName:a,yKey:c,yName:h,labelKey:f,labelName:p,title:m,tooltip:b,marker:C}=r,w=s.x,D=s.y;if(!i||!n||!w||!D)return;const M=(N=n.dataSources.get(this.id))==null?void 0:N[e],A=i.resolveColumnById(this,"xValue",n)[e],k=i.resolveColumnById(this,"yValue",n)[e],_=(z=this.contextNodeData)==null?void 0:z.nodeData[e];if(A==null||_==null)return;const F=this.getMarkerStyle(C,_.datum,{xKey:o,yKey:c,labelKey:f,highlighted:!0});return b.formatTooltip(this.properties,{symbol:this.legendItemSymbol(),title:m,data:[{label:a,fallbackLabel:o,value:w.formatDatum(A)},{label:h,fallbackLabel:c,value:D.formatDatum(k)}]},{seriesId:t,datum:M,title:h,xKey:o,xName:a,yKey:c,yName:h,labelKey:f,labelName:p,...F,...this.getModuleTooltipParams()})}legendItemSymbol(){return{marker:this.getMarkerStyle(this.properties.marker)}}getLegendData(e){if(!this.properties.isValid()||e!=="category")return[];const{yKey:t,yName:i,title:n,showInLegend:s}=this.properties,{id:r,ctx:{legendManager:o},visible:a}=this;return[{legendType:"category",id:r,itemId:t,seriesId:r,enabled:a&&o.getItemEnabled({seriesId:r,itemId:t}),label:{text:n??i??t},symbol:this.legendItemSymbol(),hideInLegend:!s}]}animateEmptyUpdateReady(e){const{markerSelection:t,labelSelection:i,annotationSelections:n}=e;UT(this,this.ctx.animationManager,t),qt(this,"labels",this.ctx.animationManager,i),qt(this,"annotations",this.ctx.animationManager,...n)}isLabelEnabled(){return this.properties.label.enabled}nodeFactory(){return new at}getFormattedMarkerStyle(e){const{xKey:t,yKey:i,labelKey:n}=this.properties;return this.getMarkerStyle(this.properties.marker,e.datum,{xKey:t,yKey:i,labelKey:n},!0)}computeFocusBounds(e){return ty(this,e)}};Fx.className="ScatterSeries";Fx.type="scatter";var Tie={type:nt(Ms("scatter")),xKey:nt(Fe),yKey:nt(Fe),labelKey:Fe,xName:Fe,yName:Fe,labelName:Fe,title:Fe,showInMiniChart:_e,label:{placement:vt("top","right","bottom","left"),...wu},tooltip:Wl,errorBar:_x,...Yo,...lu(iy,["enabled"])},Aie={type:"series",optionsKey:"series[]",packageType:"community",chartTypes:["cartesian"],identifier:"scatter",moduleFactory:e=>new Fx(e),tooltipDefaults:{range:"nearest"},defaultAxes:[{type:"number",position:"bottom"},{type:"number",position:"left"}],themeTemplate:{series:{shape:"circle",size:7,fill:{$palette:"fill"},stroke:{$palette:"stroke"},fillGradientDefaults:{type:"gradient",gradient:"radial",bounds:"item",colorStops:{$palette:"gradient"},rotation:0,reverse:!0},fillPatternDefaults:uu,fillOpacity:.8,tooltip:{position:{_seriesOverrideType:"node"}},label:{enabled:!1,fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},fontWeight:{$ref:"fontWeight"},color:{$ref:"textColor"}},errorBar:{cap:{lengthRatio:1}}}}},Gz={type:"series",name:"scatter",chartType:"cartesian",options:Tie,create:e=>new Fx(e)},Hz=class gD{constructor(t,i,n,s){this.startAngle=t,this.endAngle=i,this.innerRadius=n,this.outerRadius=s}clone(){const{startAngle:t,endAngle:i,innerRadius:n,outerRadius:s}=this;return new gD(t,i,n,s)}equals(t){return this.startAngle===t.startAngle&&this.endAngle===t.endAngle&&this.innerRadius===t.innerRadius&&this.outerRadius===t.outerRadius}[UC](t,i){return new gD(this.startAngle*(1-i)+t.startAngle*i,this.endAngle*(1-i)+t.endAngle*i,this.innerRadius*(1-i)+t.innerRadius*i,this.outerRadius*(1-i)+t.outerRadius*i)}};function jz({startAngle:e,endAngle:t,innerRadius:i,outerRadius:n}){let s=1/0,r=1/0,o=-1/0,a=-1/0;const c=(h,f)=>{s=Math.min(h,s),r=Math.min(f,r),o=Math.max(h,o),a=Math.max(f,a)};return c(i*Math.cos(e),i*Math.sin(e)),c(i*Math.cos(t),i*Math.sin(t)),c(n*Math.cos(e),n*Math.sin(e)),c(n*Math.cos(t),n*Math.sin(t)),Uc(0,e,t)&&c(n,0),Uc(Math.PI*.5,e,t)&&c(0,n),Uc(Math.PI,e,t)&&c(-n,0),Uc(Math.PI*1.5,e,t)&&c(0,-n),new Ge(s,r,o-s,a-r)}function CC(e,t,i){const n=Math.sqrt(Math.pow(e,2)+Math.pow(t,2)),{innerRadius:s,outerRadius:r}=i;if(i.startAngle===i.endAngle||n<Math.min(s,r)||n>Math.max(s,r))return!1;const o=Xp(i.startAngle),a=Xp(i.endAngle),c=Math.atan2(t,e);return o<a?c<=a&&c>=o:c<=a&&c>=-Math.PI||c>=o&&c<=Math.PI}function v_(e,t){const{startAngle:i,endAngle:n,innerRadius:s,outerRadius:r}=t,o={x:r*Math.cos(i),y:r*Math.sin(i)},a={x:r*Math.cos(n),y:r*Math.sin(n)},c=s===0?{x:0,y:0}:{x:s*Math.cos(i),y:s*Math.sin(i)},h=s===0?{x:0,y:0}:{x:s*Math.cos(n),y:s*Math.sin(n)};return Jd(e.start.x,e.start.y,e.end.x,e.end.y,o.x,o.y,c.x,c.y)||Jd(e.start.x,e.start.y,e.end.x,e.end.y,a.x,a.y,h.x,h.y)||RF(0,0,r,i,n,!0,e.start.x,e.start.y,e.end.x,e.end.y)}function Vz(e,t){const i={x:e.x,y:e.y},n={x:e.x+e.width,y:e.y},s={x:e.x,y:e.y+e.height},r={x:e.x+e.width,y:e.y+e.height};return v_({start:i,end:n},t)||v_({start:s,end:r},t)}function b_(e,t,i,n){if(i===0&&n===0)return 0;if(Math.asin(Math.abs(1*i)/(e+1*i))+Math.asin(Math.abs(1*n)/(e+1*n))-t<0)return 1;let r=0,o=1;for(let a=0;a<8;a+=1){const c=(r+o)/2;Math.asin(Math.abs(c*i)/(e+c*i))+Math.asin(Math.abs(c*n)/(e+c*n))-t<0?r=c:o=c}return r}var Eie=1e-6;function nu(e,t){return $C(e,t)<Eie?t:Mi(e-t)+t}function Uv(e,t,i=0){const s=Math.abs(t-e)>=2*Math.PI?2*Math.PI:Mi(t-e);return e=nu(e,i),t=e+s,{startAngle:e,endAngle:t}}function Yv(e,t,i,n,s,r){const o=Math.sin(r),a=Math.cos(r),c=e**2+t**2-i**2;let h,f,p,m;if(a>.5){const k=o/a,_=1+k**2,F=-2*(e+t*k),N=F**2-4*_*c;if(N<0)return;const z=(-F+Math.sqrt(N))/(2*_),V=(-F-Math.sqrt(N))/(2*_);h=z,f=z*k,p=V,m=V*k}else{const k=a/o,_=1+k**2,F=-2*(t+e*k),N=F**2-4*_*c;if(N<0)return;const z=(-F+Math.sqrt(N))/(2*_),V=(-F-Math.sqrt(N))/(2*_);h=z*k,f=z,p=V*k,m=V}const b=a,C=o,w=h*b+f*C,D=p*b+m*C,M=w>0?nu(Math.atan2(f-t,h-e),n):NaN,A=D>0?nu(Math.atan2(m-t,p-e),n):NaN;if(M>=n&&M<=s)return M;if(A>=n&&A<=s)return A}function Kv(e,t,i,n,s,r){const o=Math.hypot(e,t),a=(o**2-i**2+r**2)/(2*o),c=o-a,h=Math.atan2(t,e),f=Math.acos(-c/i),p=nu(h+f,n),m=nu(h-f,n);if(p>=n&&p<=s)return p;if(m>=n&&m<=s)return m}var qw=class{constructor(e,t,i,n,s){this.cx=e,this.cy=t,this.r=i,this.a0=n,this.a1=s,this.a0>=this.a1&&(this.a0=NaN,this.a1=NaN)}isValid(){return Number.isFinite(this.a0)&&Number.isFinite(this.a1)}pointAt(e){return{x:this.cx+this.r*Math.cos(e),y:this.cy+this.r*Math.sin(e)}}clipStart(e){e==null||!this.isValid()||e<this.a0||(this.a0=e,(Number.isNaN(e)||this.a0>=this.a1)&&(this.a0=NaN,this.a1=NaN))}clipEnd(e){e==null||!this.isValid()||e>this.a1||(this.a1=e,(Number.isNaN(e)||this.a0>=this.a1)&&(this.a0=NaN,this.a1=NaN))}},Zn=class extends Ws{constructor(){super(...arguments),this.centerX=0,this.centerY=0,this.innerRadius=10,this.outerRadius=20,this.startAngle=0,this.endAngle=Math.PI*2,this.clipSector=void 0,this.concentricEdgeInset=0,this.radialEdgeInset=0,this.startOuterCornerRadius=0,this.endOuterCornerRadius=0,this.startInnerCornerRadius=0,this.endInnerCornerRadius=0}set inset(e){this.concentricEdgeInset=e,this.radialEdgeInset=e}set cornerRadius(e){this.startOuterCornerRadius=e,this.endOuterCornerRadius=e,this.startInnerCornerRadius=e,this.endInnerCornerRadius=e}computeBBox(){return jz(this).translate(this.centerX,this.centerY)}normalizedRadii(){const{concentricEdgeInset:e}=this;let{innerRadius:t,outerRadius:i}=this;return t=t>0?t+e:0,i=Math.max(i-e,0),{innerRadius:t,outerRadius:i}}normalizedClipSector(){const{clipSector:e}=this;if(e==null)return;const{startAngle:t,endAngle:i}=Uv(this.startAngle,this.endAngle),{innerRadius:n,outerRadius:s}=this.normalizedRadii(),r=Uv(e.startAngle,e.endAngle,t);return new Hz(Math.max(t,r.startAngle),Math.min(i,r.endAngle),Math.max(n,e.innerRadius),Math.min(s,e.outerRadius))}getAngleOffset(e){return e>0?this.radialEdgeInset/e:0}arc(e,t,i,n,s,r,o,a){if(e<=0)return;const{startAngle:c,endAngle:h}=Uv(this.startAngle,this.endAngle),{innerRadius:f,outerRadius:p}=this.normalizedRadii(),m=this.normalizedClipSector();if(a&&f<=0)return;const b=a?this.getAngleOffset(f+e):this.getAngleOffset(p-e),C=o?c+b+t:h-b-t,w=a?f+e:p-e,D=w*Math.cos(C),M=w*Math.sin(C);if(m!=null&&(!o&&!(C>=c-1e-6&&C<=m.endAngle-1e-6)||o&&!(C>=m.startAngle+1e-6&&C<=h-1e-6)||a&&w<m.innerRadius-1e-6||!a&&w>m.outerRadius+1e-6))return;const A=new qw(D,M,e,i,n);if(m!=null){a?(A.clipStart(Yv(D,M,e,i,n,m.endAngle)),A.clipEnd(Yv(D,M,e,i,n,m.startAngle))):(A.clipStart(Yv(D,M,e,i,n,m.startAngle)),A.clipEnd(Yv(D,M,e,i,n,m.endAngle)));let z,V;if(o?(z=Kv(D,M,e,i,n,m.innerRadius),V=Kv(D,M,e,i,n,m.outerRadius)):(z=Kv(D,M,e,i,n,m.outerRadius),V=Kv(D,M,e,i,n,m.innerRadius)),A.clipStart(z),A.clipEnd(V),z!=null){const{x:j,y:U}=A.pointAt(z),$=nu(Math.atan2(U,j),c);o?r==null||r.clipStart($):s.clipEnd($)}if(V!=null){const{x:j,y:U}=A.pointAt(V),$=nu(Math.atan2(U,j),c);o?s.clipStart($):r==null||r.clipEnd($)}}if(m!=null){const{x:z,y:V}=A.pointAt((A.a0+A.a1)/2);if(!CC(z,V,m))return}const{x:k,y:_}=A.pointAt(o===a?A.a0:A.a1),F=nu(Math.atan2(_,k),c),N=a?r:s;return o?N==null||N.clipStart(F):N==null||N.clipEnd(F),A}updatePath(){const{path:t,centerX:i,centerY:n,concentricEdgeInset:s,radialEdgeInset:r}=this;let{startOuterCornerRadius:o,endOuterCornerRadius:a,startInnerCornerRadius:c,endInnerCornerRadius:h}=this;const{startAngle:f,endAngle:p}=Uv(this.startAngle,this.endAngle),{innerRadius:m,outerRadius:b}=this.normalizedRadii(),C=this.normalizedClipSector(),w=p-f,D=w>=2*Math.PI-1e-6;if(t.clear(),m===0&&b===0||m>b)return;if(((C==null?void 0:C.startAngle)??f)===((C==null?void 0:C.endAngle)??p))return;if(D&&this.clipSector==null&&o===0&&a===0&&c===0&&h===0){t.moveTo(i+b*Math.cos(f),n+b*Math.sin(f)),t.arc(i,n,b,f,p),m>s&&(t.moveTo(i+m*Math.cos(p),n+m*Math.sin(p)),t.arc(i,n,m,p,f,!0)),t.closePath();return}else if(this.clipSector==null&&Math.abs(m-b)<1e-6){t.arc(i,n,b,f,p,!1),t.arc(i,n,b,p,f,!0),t.closePath();return}const M=this.getAngleOffset(m),A=this.getAngleOffset(b);if(w<2*A)return;const _=((C==null?void 0:C.innerRadius)??m)>s,F=m<s||w<2*M,N=b-m,z=Math.max(o,c,a,h),V=z>0?Math.min(N/z,1):1;o*=V,a*=V,c*=V,h*=V;const j=b_(b,w-2*A,-o,-a);if(o*=j,a*=j,!F&&_){const xe=b_(m,w-2*M,c,h);c*=xe,h*=xe}else c=0,h=0;const U=Math.max(o+c,a+h),$=U>0?Math.min(N/U,1):1;o*=$,a*=$,c*=$,h*=$;let Q=0,J=0;const be=o/(b-o),me=a/(b-a);if(be>=0&&be<1-1e-6)Q=Math.asin(be);else{Q=w/2;const xe=b/(1/Math.sin(Q)+1);o=Math.min(xe,o)}if(me>=0&&me<1-1e-6)J=Math.asin(me);else{J=w/2;const xe=b/(1/Math.sin(J)+1);a=Math.min(xe,a)}const Y=Math.asin(c/(m+c)),re=Math.asin(h/(m+h)),Z=(C==null?void 0:C.outerRadius)??b,Ce=this.getAngleOffset(Z),H=new qw(0,0,Z,f+Ce,p-Ce),K=(C==null?void 0:C.innerRadius)??m,ie=this.getAngleOffset(K),te=_?new qw(0,0,K,f+ie,p-ie):void 0;C!=null&&(H.clipStart(C.startAngle),H.clipEnd(C.endAngle),te==null||te.clipStart(C.startAngle),te==null||te.clipEnd(C.endAngle));const se=this.arc(o,Q,f-Math.PI*.5,f+Q,H,te,!0,!1),ye=this.arc(a,J,p-J,p+Math.PI*.5,H,te,!1,!1),he=this.arc(h,re,p+Math.PI*.5,p+Math.PI-re,H,te,!1,!0),Ie=this.arc(c,Y,f+Math.PI+Y,f+Math.PI*1.5,H,te,!0,!0);if(F){const xe=w<Math.PI*.5?r*(1+Math.cos(w))/Math.sin(w):NaN;let Re;xe>0&&xe<b?Re=Math.max(Math.hypot(r,xe),m):Re=r,Re=Math.max(Re,m);const Ne=f+w*.5;t.moveTo(i+Re*Math.cos(Ne),n+Re*Math.sin(Ne))}else if(!((Ie==null?void 0:Ie.isValid())===!0||(te==null?void 0:te.isValid())===!0)){const xe=f+w/2,Re=m*Math.cos(xe),Ne=m*Math.sin(xe);t.moveTo(i+Re,n+Ne)}if((se==null?void 0:se.isValid())===!0){const{cx:xe,cy:Re,r:Ne,a0:We,a1:lt}=se;t.arc(i+xe,n+Re,Ne,We,lt)}if(H.isValid()){const{r:xe,a0:Re,a1:Ne}=H;t.arc(i,n,xe,Re,Ne)}if((ye==null?void 0:ye.isValid())===!0){const{cx:xe,cy:Re,r:Ne,a0:We,a1:lt}=ye;t.arc(i+xe,n+Re,Ne,We,lt)}if(!F){if((he==null?void 0:he.isValid())===!0){const{cx:xe,cy:Re,r:Ne,a0:We,a1:lt}=he;t.arc(i+xe,n+Re,Ne,We,lt)}if((te==null?void 0:te.isValid())===!0){const{r:xe,a0:Re,a1:Ne}=te;t.arc(i,n,xe,Ne,Re,!0)}if((Ie==null?void 0:Ie.isValid())===!0){const{cx:xe,cy:Re,r:Ne,a0:We,a1:lt}=Ie;t.arc(i+xe,n+Re,Ne,We,lt)}}t.closePath()}isPointInPath(e,t){const{startAngle:i,endAngle:n,innerRadius:s,outerRadius:r}=this.clipSector??this;return CC(e-this.centerX,t-this.centerY,{startAngle:i,endAngle:n,innerRadius:Math.min(s,r),outerRadius:Math.max(s,r)})}};Zn.className="Sector";R([dt()],Zn.prototype,"centerX",2);R([dt()],Zn.prototype,"centerY",2);R([dt()],Zn.prototype,"innerRadius",2);R([dt()],Zn.prototype,"outerRadius",2);R([dt()],Zn.prototype,"startAngle",2);R([dt()],Zn.prototype,"endAngle",2);R([dt()],Zn.prototype,"clipSector",2);R([dt()],Zn.prototype,"concentricEdgeInset",2);R([dt()],Zn.prototype,"radialEdgeInset",2);R([dt()],Zn.prototype,"startOuterCornerRadius",2);R([dt()],Zn.prototype,"endOuterCornerRadius",2);R([dt()],Zn.prototype,"startInnerCornerRadius",2);R([dt()],Zn.prototype,"endInnerCornerRadius",2);var rn={BLUE:"#5090dc",ORANGE:"#ffa03a",GREEN:"#459d55",CYAN:"#34bfe1",YELLOW:"#e1cc00",VIOLET:"#9669cb",GRAY:"#b5b5b5",MAGENTA:"#bd5aa7",BROWN:"#8a6224",RED:"#ef5452"},da={BLUE:"#2b5c95",ORANGE:"#cc6f10",GREEN:"#1e652e",CYAN:"#18859e",YELLOW:"#a69400",VIOLET:"#603c88",GRAY:"#575757",MAGENTA:"#7d2f6d",BROWN:"#4f3508",RED:"#a82529"},Wz=class extends Pi{constructor(){super(...arguments),this.showInLegend=!1}};R([P()],Wz.prototype,"showInLegend",2);var oA=class extends _n{constructor(){super(...arguments),this.spacing=2}set(e,t){return super.set(e)}};R([P()],oA.prototype,"text",2);R([P()],oA.prototype,"spacing",2);var aA=class extends ht{constructor(){super(...arguments),this.fill="transparent",this.fillOpacity=1}};R([P()],aA.prototype,"fill",2);R([P()],aA.prototype,"fillOpacity",2);var Zf=class extends _n{constructor(){super(...arguments),this.offset=3,this.minAngle=0,this.minSpacing=4,this.maxCollisionOffset=50,this.avoidCollisions=!0}};R([P()],Zf.prototype,"offset",2);R([P(Rr.restrict({min:0,max:360}))],Zf.prototype,"minAngle",2);R([P()],Zf.prototype,"minSpacing",2);R([P()],Zf.prototype,"maxCollisionOffset",2);R([P()],Zf.prototype,"avoidCollisions",2);var lA=class extends _n{constructor(){super(...arguments),this.positionOffset=0,this.positionRatio=.5}};R([P()],lA.prototype,"positionOffset",2);R([P()],lA.prototype,"positionRatio",2);var Bx=class extends ht{constructor(){super(...arguments),this.length=10,this.strokeWidth=1}};R([P(kn(ds(ka,Ir,_a)))],Bx.prototype,"colors",2);R([P()],Bx.prototype,"length",2);R([P()],Bx.prototype,"strokeWidth",2);var It=class extends Or{constructor(){super(...arguments),this.defaultColorRange=[],this.defaultPatternFills=[],this.fills=Object.values(rn),this.strokes=Object.values(da),this.fillOpacity=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.cornerRadius=0,this.rotation=0,this.outerRadiusOffset=0,this.outerRadiusRatio=1,this.strokeWidth=1,this.sectorSpacing=0,this.hideZeroValueSectorsInLegend=!1,this.innerLabels=new Em(oA),this.title=new Wz,this.innerCircle=new aA,this.shadow=new Uo,this.calloutLabel=new Zf,this.sectorLabel=new lA,this.calloutLine=new Bx,this.tooltip=new Ts}};R([P()],It.prototype,"angleKey",2);R([P()],It.prototype,"angleName",2);R([P()],It.prototype,"angleFilterKey",2);R([P()],It.prototype,"radiusKey",2);R([P()],It.prototype,"radiusName",2);R([P()],It.prototype,"radiusMin",2);R([P()],It.prototype,"radiusMax",2);R([P()],It.prototype,"calloutLabelKey",2);R([P()],It.prototype,"calloutLabelName",2);R([P()],It.prototype,"sectorLabelKey",2);R([P()],It.prototype,"sectorLabelName",2);R([P()],It.prototype,"legendItemKey",2);R([P(kn(EL))],It.prototype,"defaultColorRange",2);R([P(kn(Ir))],It.prototype,"defaultPatternFills",2);R([P(kn(ds(ka,Ir,_a)))],It.prototype,"fills",2);R([P()],It.prototype,"strokes",2);R([P()],It.prototype,"fillOpacity",2);R([P()],It.prototype,"strokeOpacity",2);R([P()],It.prototype,"lineDash",2);R([P()],It.prototype,"lineDashOffset",2);R([P()],It.prototype,"cornerRadius",2);R([P()],It.prototype,"itemStyler",2);R([P()],It.prototype,"rotation",2);R([P()],It.prototype,"outerRadiusOffset",2);R([P()],It.prototype,"outerRadiusRatio",2);R([P()],It.prototype,"innerRadiusOffset",2);R([P()],It.prototype,"innerRadiusRatio",2);R([P()],It.prototype,"strokeWidth",2);R([P()],It.prototype,"sectorSpacing",2);R([P()],It.prototype,"hideZeroValueSectorsInLegend",2);R([P()],It.prototype,"innerLabels",2);R([P()],It.prototype,"title",2);R([P()],It.prototype,"innerCircle",2);R([P()],It.prototype,"shadow",2);R([P()],It.prototype,"calloutLabel",2);R([P()],It.prototype,"sectorLabel",2);R([P()],It.prototype,"calloutLine",2);R([P()],It.prototype,"tooltip",2);function _h(e,t,i,n){const s=[i.convert(0),i.convert(1)],r=[n.convert(0),n.convert(1)],o=Math.PI/-2+Oi(t),a=e?"initial":"update",c=({radius:C})=>({innerRadius:s[0],outerRadius:s[0]+(s[1]-s[0])*C}),h=({radius:C})=>({innerRadius:r[0],outerRadius:r[0]+(r[1]-r[0])*C});return{nodes:{toFn:(C,w,D,{prevLive:M})=>{var V,j;let{startAngle:A,endAngle:k,innerRadius:_,outerRadius:F}=w;const{stroke:N,fill:z}=w.sectorFormat;if(D==="removed"&&M?(A=(V=M.datum)==null?void 0:V.endAngle,k=(j=M.datum)==null?void 0:j.endAngle):D==="removed"&&!M&&(A=o,k=o),D==="removed"){const U=c(w);_=U.innerRadius,F=U.outerRadius}return{startAngle:A,endAngle:k,outerRadius:F,innerRadius:_,stroke:N,fill:z}},fromFn:(C,w,D,{prevFromProps:M})=>{let{startAngle:A,endAngle:k,innerRadius:_,outerRadius:F}=C,{fill:N,stroke:z}=w.sectorFormat;if(D==="updated"&&C.previousDatum==null&&(D="added"),D==="unknown"||D==="added"&&!M?(A=o,k=o,_=w.innerRadius,F=w.outerRadius):D==="added"&&M&&(A=M.endAngle??o,k=M.endAngle??o,_=M.innerRadius??w.innerRadius,F=M.outerRadius??w.outerRadius),D==="added"&&!e){const V=h(w);_=V.innerRadius,F=V.outerRadius}return D==="updated"&&(N=C.fill??N,z=(typeof C.stroke=="string"?C.stroke:void 0)??z),{startAngle:A,endAngle:k,innerRadius:_,outerRadius:F,fill:N,stroke:z,phase:a}}},innerCircle:{fromFn:(C,w)=>{var D;return{size:((D=C.previousDatum)==null?void 0:D.radius)??C.size??0,phase:a}},toFn:(C,w)=>({size:w.radius??0})}}}function cA(e,t){return{startAngle:t.startAngle,endAngle:t.endAngle,innerRadius:t.innerRadius,outerRadius:t.outerRadius,stroke:t.sectorFormat.stroke}}function uA(e,t){const i=t.y-e.centerY,n=t.x-e.centerX,s=Math.atan2(i,n),r=e.getItemNodes();for(const o of r)if(o.datum.missing!==!0&&Uc(s,o.startAngle,o.endAngle)){const a=Math.sqrt(n*n+i*i);let c=0;return a<o.innerRadius?c=o.innerRadius-a:a>o.outerRadius&&(c=a-o.outerRadius),{datum:o.datum,distance:c}}}var Uz=(e=>(e[e.BACKGROUND=0]="BACKGROUND",e[e.FOREGROUND=1]="FOREGROUND",e[e.HIGHLIGHT=2]="HIGHLIGHT",e[e.LABEL=3]="LABEL",e))(Uz||{}),zx=class extends zT{constructor({categoryKey:e,useLabelLayer:t=!1,pickModes:i=[1,0],canHaveAxes:n=!1,animationResetFns:s,...r}){super({...r,categoryKey:e,useLabelLayer:t,pickModes:i,directionKeys:{x:["angleKey"],y:["radiusKey"]},directionNames:{x:["angleName"],y:["radiusName"]},canHaveAxes:n}),this.itemGroup=this.contentGroup.appendChild(new at),this.nodeData=[],this.itemSelection=gn.select(this.itemGroup,()=>this.nodeFactory(),!1),this.labelSelection=gn.select(this.labelGroup,()=>this.labelFactory(),!1),this.highlightSelection=gn.select(this.highlightGroup,()=>this.nodeFactory()),this.highlightLabelSelection=gn.select(this.highlightLabel,()=>this.labelFactory()),this.centerX=0,this.centerY=0,this.radius=0,this.animationResetFns=s,this.animationState=new Om("empty",{empty:{update:{target:"ready",action:o=>this.animateEmptyUpdateReady(o)},reset:"empty",skip:"ready"},ready:{updateData:"waiting",clear:"clearing",highlight:o=>this.animateReadyHighlight(o),highlightMarkers:o=>this.animateReadyHighlightMarkers(o),resize:o=>this.animateReadyResize(o),reset:"empty",skip:"ready"},waiting:{update:{target:"ready",action:o=>this.animateWaitingUpdateReady(o)},reset:"empty",skip:"ready"},clearing:{update:{target:"empty",action:o=>this.animateClearingUpdateEmpty(o)},reset:"empty",skip:"ready"}},()=>this.checkProcessedDataAnimatable())}getItemNodes(){return[...this.itemGroup.children()]}getNodeData(){return this.nodeData}setSeriesIndex(e){return super.setSeriesIndex(e)?(this.contentGroup.zIndex=[e,1],this.highlightGroup.zIndex=[e,2],this.labelGroup.zIndex=[e,3],!0):!1}resetAnimation(e){e==="initial"?this.animationState.transition("reset"):e==="ready"&&this.animationState.transition("skip")}labelFactory(){const e=new Rn;return e.pointerEvents=1,e}addChartEventListeners(){var e,t;this.destroyFns.push((e=this.ctx.chartEventManager)==null?void 0:e.addListener("legend-item-click",i=>this.onLegendItemClick(i)),(t=this.ctx.chartEventManager)==null?void 0:t.addListener("legend-item-double-click",i=>this.onLegendItemDoubleClick(i)))}getInnerRadius(){return 0}computeLabelsBBox(e,t){return null}getShapeFillBBox(){const e=this.radius;return{series:new Ge(-e,-e,e*2,e*2),axis:new Ge(-e,-e,e*2,e*2)}}resetAllAnimation(){const{item:e,label:t}=this.animationResetFns??{};this.ctx.animationManager.stopByAnimationGroupId(this.id),e&&Hn([this.itemSelection,this.highlightSelection],e),t&&Hn([this.labelSelection,this.highlightLabelSelection],t),this.itemSelection.cleanup(),this.labelSelection.cleanup(),this.highlightSelection.cleanup(),this.highlightLabelSelection.cleanup()}animateEmptyUpdateReady(e){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation()}animateWaitingUpdateReady(e){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation()}animateReadyHighlight(e){const{item:t,label:i}=this.animationResetFns??{};t&&Hn([this.highlightSelection],t),i&&Hn([this.highlightLabelSelection],i)}animateReadyHighlightMarkers(e){}animateReadyResize(e){this.resetAllAnimation()}animateClearingUpdateEmpty(e){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation()}computeFocusBounds(e){var i;const t=(i=this.getNodeData())==null?void 0:i[e.datumIndex];if(t!==void 0)return this.itemSelection.select(n=>n instanceof Ws&&n.datum===t)[0]}getSeriesRange(e,t){return[NaN,NaN]}},Rie=class extends Fm{constructor(e,t,i,n){super(e,t,i,n),this.angleKey=n.properties.angleKey,this.radiusKey=n.properties.radiusKey,this.calloutLabelKey=n.properties.calloutLabelKey,this.sectorLabelKey=n.properties.sectorLabelKey}},Gx=class extends zx{constructor(e){super({moduleCtx:e,categoryKey:void 0,pickModes:[1,0],useLabelLayer:!0,animationResetFns:{item:cA,label:jl}}),this.properties=new It,this.phantomNodeData=void 0,this.backgroundGroup=new zs({name:`${this.id}-background`,zIndex:0}),this.noVisibleData=!1,this.previousRadiusScale=new Fo,this.radiusScale=new Fo,this.phantomGroup=this.backgroundGroup.appendChild(new at({name:"phantom"})),this.phantomSelection=gn.select(this.phantomGroup,()=>this.nodeFactory(),!1),this.calloutLabelGroup=this.contentGroup.appendChild(new at({name:"pieCalloutLabels"})),this.calloutLabelSelection=new gn(this.calloutLabelGroup,at),this.zerosumRingsGroup=this.backgroundGroup.appendChild(new at({name:`${this.id}-zerosumRings`})),this.zerosumOuterRing=this.zerosumRingsGroup.appendChild(new In({shape:"circle"})),this.zerosumInnerRing=this.zerosumRingsGroup.appendChild(new In({shape:"circle"})),this.innerLabelsGroup=this.contentGroup.appendChild(new at({name:"innerLabels"})),this.innerCircleGroup=this.backgroundGroup.appendChild(new at({name:`${this.id}-innerCircle`})),this.innerLabelsSelection=gn.select(this.innerLabelsGroup,Rn),this.innerCircleSelection=gn.select(this.innerCircleGroup,()=>new In({shape:"circle"})),this.surroundingRadius=void 0,this.NodeEvent=Rie,this.angleScale=new Fo,this.angleScale.domain=[0,1],this.angleScale.range=[-Math.PI,Math.PI].map(t=>t+Math.PI/2),this.phantomGroup.opacity=.2}get calloutNodeData(){return this.phantomNodeData??this.nodeData}attachSeries(e,t,i){super.attachSeries(e,t,i),e==null||e.appendChild(this.backgroundGroup)}detachSeries(e,t,i){super.detachSeries(e,t,i),e==null||e.removeChild(this.backgroundGroup)}setSeriesIndex(e){return super.setSeriesIndex(e)?(this.backgroundGroup.zIndex=[0,e],!0):!1}nodeFactory(){return new Zn}getSeriesDomain(e){return e==="x"?this.angleScale.domain:this.radiusScale.domain}async processData(e){var D,M;if(this.data==null||!this.properties.isValid())return;const{visible:t,id:i,ctx:{legendManager:n}}=this,{angleKey:s,angleFilterKey:r,radiusKey:o,calloutLabelKey:a,sectorLabelKey:c,legendItemKey:h}=this.properties,f=()=>(A,k)=>t&&n.getItemEnabled({seriesId:i,itemId:k})?A:0,p=!this.ctx.animationManager.isSkipped(),m=[],b=[];h?m.push(Po(h,"band",{id:"legendItemKey"})):a?m.push(Po(a,"band",{id:"calloutLabelKey"})):c&&m.push(Po(c,"band",{id:"sectorLabelKey"}));const C=this.radiusScale.type,w=this.angleScale.type;o&&b.push(ST(o,{id:"radiusValue",min:this.properties.radiusMin??0,max:this.properties.radiusMax,processor:f}),Ft(o,C,{id:"radiusRaw",processor:f}),kh("radiusValue",[0,1],1,this.properties.radiusMin??0,this.properties.radiusMax)),a&&b.push(Ft(a,"band",{id:"calloutLabelValue"})),c&&b.push(Ft(c,"band",{id:"sectorLabelValue"})),h&&b.push(Ft(h,"band",{id:"legendItemValue"})),r&&b.push(nm(r,w,{id:"angleFilterValue",onlyPositive:!0,invalidValue:0,processor:f}),Ft(r,w,{id:"angleFilterRaw"}),kh("angleFilterValue",[0,1],0,0)),p&&this.processedData&&m.length>0&&b.push(Gf(this.id,this.processedData)),b.push(zf()),await this.requestDataModel(e,this.data,{props:[...m,nm(s,w,{id:"angleValue",onlyPositive:!0,invalidValue:0,processor:f}),Ft(s,w,{id:"angleRaw"}),kh("angleValue",[0,1],0,0),...b]});for(const A of((M=(D=this.processedData)==null?void 0:D.defs)==null?void 0:M.values)??[]){const{id:k,missing:_,property:F}=A,N=tT(this,_);k!=="angleRaw"&&N>0&&Ee.warnOnce(`no value was found for the key '${String(F)}' on ${N} data element${N>1?"s":""}`)}this.animationState.transition("updateData")}maybeRefreshNodeData(){if(!this.nodeDataRefresh)return;const{nodeData:e=[],phantomNodeData:t}=this.createNodeData()??{};this.nodeData=e,this.phantomNodeData=t,this.nodeDataRefresh=!1}getProcessedDataValues(e,t){const i=e.resolveColumnById(this,"angleValue",t),n=e.resolveColumnById(this,"angleRaw",t),s=this.properties.angleFilterKey!=null?e.resolveColumnById(this,"angleFilterValue",t):void 0,r=this.properties.angleFilterKey!=null?e.resolveColumnById(this,"angleFilterRaw",t):void 0,o=this.properties.radiusKey?e.resolveColumnById(this,"radiusValue",t):void 0,a=this.properties.radiusKey?e.resolveColumnById(this,"radiusRaw",t):void 0,c=this.properties.calloutLabelKey?e.resolveColumnById(this,"calloutLabelValue",t):void 0,h=this.properties.sectorLabelKey?e.resolveColumnById(this,"sectorLabelValue",t):void 0,f=this.properties.legendItemKey?e.resolveColumnById(this,"legendItemValue",t):void 0;return{angleValues:i,angleRawValues:n,angleFilterValues:s,angleFilterRawValues:r,radiusValues:o,radiusRawValues:a,calloutLabelValues:c,sectorLabelValues:h,legendItemValues:f}}createNodeData(){var V;const{id:e,processedData:t,dataModel:i,angleScale:n,ctx:{legendManager:s},visible:r}=this,{rotation:o,innerRadiusRatio:a}=this.properties;if(!this.properties.isValid())return this.zerosumOuterRing.visible=!0,this.zerosumInnerRing.visible=!0,{itemId:e,nodeData:[],labelData:[]};if(!i||(t==null?void 0:t.type)!=="ungrouped")return;const{angleValues:c,angleRawValues:h,angleFilterValues:f,angleFilterRawValues:p,radiusValues:m,radiusRawValues:b,calloutLabelValues:C,sectorLabelValues:w,legendItemValues:D}=this.getProcessedDataValues(i,t),M=(p==null?void 0:p.some((j,U)=>j>h[U]))??!1;let A=0,k=0;const _=[],F=p!=null?[]:void 0,N=t.dataSources.get(this.id)??[],z=(V=t.invalidData)==null?void 0:V.get(this.id);return N.forEach((j,U)=>{if((z==null?void 0:z[U])===!0)return;const $=M?f[U]:c[U],Q=p!=null&&!M?Math.sqrt(p[U]/h[U]):1,J=n.convert(A)+Oi(o);A=$,k+=$;const be=n.convert(A)+Oi(o),me=Math.abs(be-J),Y=J+me/2,re=h[U],Ce=((m==null?void 0:m[U])??1)*Q,H=b==null?void 0:b[U],K=D==null?void 0:D[U],ie=this.getLabels(j,Y,me,!0,C==null?void 0:C[U],w==null?void 0:w[U],K),te=this.getSectorFormat(j,U,!1),se={itemId:U,series:this,datum:j,datumIndex:U,angleValue:re,midAngle:Y,midCos:Math.cos(Y),midSin:Math.sin(Y),startAngle:J,endAngle:be,radius:Ce,innerRadius:Math.max(this.radiusScale.convert(0),0),outerRadius:Math.max(this.radiusScale.convert(Ce),0),sectorFormat:te,radiusValue:H,legendItemValue:K,enabled:r&&s.getItemEnabled({seriesId:e,itemId:U}),focusable:!0,...ie};_.push(se),F!=null&&F.push({...se,radius:1,innerRadius:Math.max(this.radiusScale.convert(0),0),outerRadius:Math.max(this.radiusScale.convert(1),0),focusable:!1})}),this.zerosumOuterRing.visible=k===0,this.zerosumInnerRing.visible=k===0&&a!=null&&a!==1&&a>0,{itemId:e,nodeData:_,labelData:_,phantomNodeData:F}}getLabels(e,t,i,n,s,r,o){const{calloutLabel:a,sectorLabel:c,legendItemKey:h}=this.properties,f=!n||a.enabled?this.properties.calloutLabelKey:void 0,p=!n||c.enabled?this.properties.sectorLabelKey:void 0;if(!f&&!p&&!h)return{};const m={datum:e,angleKey:this.properties.angleKey,angleName:this.properties.angleName,radiusKey:this.properties.radiusKey,radiusName:this.properties.radiusName,calloutLabelKey:this.properties.calloutLabelKey,calloutLabelName:this.properties.calloutLabelName,sectorLabelKey:this.properties.sectorLabelKey,sectorLabelName:this.properties.sectorLabelName,legendItemKey:this.properties.legendItemKey},b={};return f&&i>=Oi(a.minAngle)&&(b.calloutLabel={...this.getTextAlignment(t),text:this.getLabelText(a,{...m,value:s}),hidden:!1,collisionTextAlign:void 0,collisionOffsetY:0,box:void 0}),p&&(b.sectorLabel={text:this.getLabelText(c,{...m,value:r})}),h!=null&&o!=null&&(b.legendItem={key:h,text:o}),b}getTextAlignment(e){const t=[{textAlign:"center",textBaseline:"bottom"},{textAlign:"left",textBaseline:"middle"},{textAlign:"center",textBaseline:"hanging"},{textAlign:"right",textBaseline:"middle"}],i=Xp(e),n=-.75*Math.PI,s=i-n,r=Math.floor(s/(Math.PI/2)),o=sF(r,t.length);return t[o]}getNodeFill(e,t,i){return Ih(e,{bounds:"series",colorStops:t.map(n=>({color:n})),gradient:"radial",rotation:0,reverse:!0},{pattern:"forward-slanted-lines",fill:i,fillOpacity:1,backgroundFill:"transparent",backgroundFillOpacity:1,stroke:i,strokeOpacity:1,strokeWidth:4,rotation:0})}getFillParams(e,t,i){if(!(!Bo(e)||e.bounds==="item"))return{centerX:0,centerY:0,innerRadius:t,outerRadius:i}}getSectorFormat(e,t,i){const{angleKey:n,radiusKey:s,calloutLabelKey:r,sectorLabelKey:o,legendItemKey:a,fills:c,strokes:h,defaultColorRange:f,defaultPatternFills:p,itemStyler:m}=this.properties,b=h[t%h.length],{fill:C,fillOpacity:w,stroke:D,strokeWidth:M,strokeOpacity:A,lineDash:k,lineDashOffset:_,cornerRadius:F}=Pt(i&&this.properties.highlightStyle.item,{fill:c.length>0?c[t%c.length]:void 0,stroke:b,strokeWidth:this.getStrokeWidth(this.properties.strokeWidth),strokeOpacity:this.getOpacity()},this.properties),N=f[t%f.length],z=p[t%p.length],V=C??"black";let j;return m&&(j=this.cachedDatumCallback(this.getDatumId(e,t)+(i?"-highlight":"-hide"),()=>this.callWithContext(m,{datum:e,angleKey:n,radiusKey:s,calloutLabelKey:r,sectorLabelKey:o,legendItemKey:a,fill:this.getNodeFill(V,N,z),fillOpacity:w,stroke:D,strokeWidth:M,strokeOpacity:A,lineDash:k,lineDashOffset:_,cornerRadius:F,highlighted:i,seriesId:this.id}))),{fill:this.getNodeFill((j==null?void 0:j.fill)??V,N,z),fillOpacity:(j==null?void 0:j.fillOpacity)??w,stroke:(j==null?void 0:j.stroke)??D,strokeWidth:(j==null?void 0:j.strokeWidth)??M,strokeOpacity:(j==null?void 0:j.strokeOpacity)??A,lineDash:(j==null?void 0:j.lineDash)??k,lineDashOffset:(j==null?void 0:j.lineDashOffset)??_,cornerRadius:(j==null?void 0:j.cornerRadius)??F}}getInnerRadius(){const{radius:e}=this,{innerRadiusRatio:t=1,innerRadiusOffset:i=0}=this.properties,n=e*t+i;return n===e||n<0?0:n}getOuterRadius(){const{outerRadiusRatio:e,outerRadiusOffset:t}=this.properties;return Math.max(this.radius*e+t,0)}updateRadiusScale(e){var n;const t=[this.getInnerRadius(),this.getOuterRadius()];this.radiusScale.range=t,e&&(this.previousRadiusScale.range=t);const i=s=>({...s,innerRadius:Math.max(this.radiusScale.convert(0),0),outerRadius:Math.max(this.radiusScale.convert(s.radius),0)});this.nodeData=this.nodeData.map(i),this.phantomNodeData=(n=this.phantomNodeData)==null?void 0:n.map(i)}getTitleTranslationY(){var s;const e=Math.max(0,this.radiusScale.range[1]);if(e===0)return NaN;const i=2+(((s=this.properties.title)==null?void 0:s.spacing)??0),n=Math.max(0,-e);return-e-i-n}update({seriesRect:e}){const{title:t}=this.properties,i={seriesRectWidth:e==null?void 0:e.width,seriesRectHeight:e==null?void 0:e.height},n=Ta(this.nodeDataDependencies,i)!=null;if(n&&(this._nodeDataDependencies=i),this.maybeRefreshNodeData(),this.updateTitleNodes(),this.updateRadiusScale(n),this.contentGroup.translationX=this.centerX,this.contentGroup.translationY=this.centerY,this.highlightGroup.translationX=this.centerX,this.highlightGroup.translationY=this.centerY,this.backgroundGroup.translationX=this.centerX,this.backgroundGroup.translationY=this.centerY,this.labelGroup&&(this.labelGroup.translationX=this.centerX,this.labelGroup.translationY=this.centerY),t){const s=this.getTitleTranslationY();t.node.y=isFinite(s)?s:0;const r=t.node.getBBox();t.node.visible=t.enabled&&isFinite(s)&&!this.bboxIntersectsSurroundingSeries(r)}for(const s of[this.zerosumInnerRing,this.zerosumOuterRing])s.fillOpacity=0,s.stroke=this.properties.calloutLabel.color,s.strokeWidth=1,s.strokeOpacity=1;this.updateNodeMidPoint(),this.updateSelections(),this.updateNodes(e)}updateTitleNodes(){var i,n;const{oldTitle:e}=this,{title:t}=this.properties;e!==t&&(e&&((i=this.labelGroup)==null||i.removeChild(e.node)),t&&(t.node.textBaseline="bottom",(n=this.labelGroup)==null||n.appendChild(t.node)),this.oldTitle=t)}updateNodeMidPoint(){var t;const e=i=>{const n=i.innerRadius+(i.outerRadius-i.innerRadius)/2;i.midPoint={x:i.midCos*Math.max(0,n),y:i.midSin*Math.max(0,n)}};this.nodeData.forEach(e),(t=this.phantomNodeData)==null||t.forEach(e)}updateSelections(){this.updateGroupSelection(),this.updateInnerCircleSelection()}updateGroupSelection(){const{itemSelection:e,highlightSelection:t,phantomSelection:i,highlightLabelSelection:n,calloutLabelSelection:s,labelSelection:r,innerLabelsSelection:o}=this,a=this.nodeData.map(h=>({...h,sectorFormat:{...h.sectorFormat}})),c=(h,f)=>{h.update(f,void 0,p=>this.getDatumId(p.datum,p.datumIndex)),this.ctx.animationManager.isSkipped()&&h.cleanup()};c(e,this.nodeData),c(t,a),c(i,this.phantomNodeData??[]),s.update(this.calloutNodeData,h=>{const f=new Nr;f.tag=0,f.pointerEvents=1,h.appendChild(f);const p=new Rn;p.tag=1,p.pointerEvents=1,h.appendChild(p)}),r.update(this.nodeData),n.update(a),o.update(this.properties.innerLabels,h=>{h.pointerEvents=1})}updateInnerCircleSelection(){const{innerCircle:e}=this.properties;let t=0;const i=this.getInnerRadius();if(i>0){const s=Math.min(i,this.getOuterRadius());t=Math.ceil(s*2+1)}const n=e?[{radius:t}]:[];this.innerCircleSelection.update(n)}updateNodes(e){const t=this.ctx.highlightManager.getActiveHighlight(),{visible:i}=this;this.backgroundGroup.visible=i,this.contentGroup.visible=i,this.highlightGroup.visible=i&&(t==null?void 0:t.series)===this,this.highlightLabel.visible=i&&(t==null?void 0:t.series)===this,this.labelGroup.visible=i,this.contentGroup.opacity=this.getOpacity(),this.innerCircleSelection.each((c,{radius:h})=>{var f,p;c.setProperties({fill:this.getNodeFill((f=this.properties.innerCircle)==null?void 0:f.fill,["black"],"black"),opacity:(p=this.properties.innerCircle)==null?void 0:p.fillOpacity,size:h})});const n=this.radiusScale.range[0],s=this.radiusScale.range[1],r=this.getShapeFillBBox(),o=this.ctx.animationManager.isSkipped(),a=(c,h,f,p)=>{const m=this.getSectorFormat(h.datum,h.itemId,p);h.sectorFormat.fill=m.fill,h.sectorFormat.stroke=m.stroke,o&&(c.startAngle=h.startAngle,c.endAngle=h.endAngle,c.innerRadius=h.innerRadius,c.outerRadius=h.outerRadius),(p||o)&&(c.fill=m.fill,c.stroke=m.stroke);const b=this.getFillParams(m.fill,n,s);gx(c,m.fill,r,b),c.strokeWidth=m.strokeWidth,c.fillOpacity=m.fillOpacity,c.strokeOpacity=m.strokeOpacity,c.lineDash=m.lineDash,c.lineDashOffset=m.lineDashOffset,c.cornerRadius=m.cornerRadius,c.fillShadow=this.properties.shadow;const C=Math.max((this.properties.sectorSpacing+(m.stroke!=null?m.strokeWidth:0))/2,0);c.inset=C,c.lineJoin=this.properties.sectorSpacing>=0||C>0?"miter":"round"};this.itemSelection.each((c,h,f)=>a(c,h,f,!1)),this.highlightSelection.each((c,h,f)=>{a(c,h,f,!0),c.visible=h.itemId===(t==null?void 0:t.itemId)}),this.phantomSelection.each((c,h,f)=>a(c,h,f,!1)),this.updateCalloutLineNodes(),this.updateCalloutLabelNodes(e),this.updateSectorLabelNodes(),this.updateInnerLabelNodes(),this.updateZerosumRings(),this.animationState.transition("update")}updateCalloutLineNodes(){const{calloutLine:{length:e,strokeWidth:t,colors:i},strokes:n}=this.properties,s=t,r=kF(i)?i??this.properties.strokes:n,{offset:o}=this.properties.calloutLabel;this.calloutLabelSelection.selectByTag(0).forEach((a,c)=>{const h=a.closestDatum(),{calloutLabel:f,outerRadius:p}=h;if(f!=null&&f.text&&!f.hidden&&p!==0){a.visible=!0,a.strokeWidth=s,a.stroke=r[c%r.length],a.fill=void 0;const m=h.midCos*p,b=h.midSin*p;let C=h.midCos*(p+e),w=h.midSin*(p+e);if((f.collisionTextAlign??f.collisionOffsetY!==0)&&f.box!=null){const M=f.box;let A=C,k=w;C<M.x?A=M.x:C>M.x+M.width&&(A=M.x+M.width),w<M.y?k=M.y:w>M.y+M.height&&(k=M.y+M.height);const _=A-C,F=k-w,N=Math.sqrt(Math.pow(_,2)+Math.pow(F,2)),z=N-o;z>0&&(C=C+_*z/N,w=w+F*z/N)}a.x1=m,a.y1=b,a.x2=C,a.y2=w}else a.visible=!1})}getLabelOverflow(e,t,i){const n=-this.centerX,s=n+i.width,r=-this.centerY,o=r+i.height,a=1;let c=1;t.x+a<n?c=(t.x+t.width-n)/t.width:t.x+t.width-a>s&&(c=(s-t.x)/t.width);const h=t.y+a<r||t.y+t.height-a>o,f=c===1?e.length:Math.floor(e.length*c)-1,p=this.bboxIntersectsSurroundingSeries(t);return{textLength:f,hasVerticalOverflow:h,hasSurroundingSeriesOverflow:p}}bboxIntersectsSurroundingSeries(e){const{surroundingRadius:t}=this;if(t==null)return!1;const i=[{x:e.x,y:e.y},{x:e.x+e.width,y:e.y},{x:e.x+e.width,y:e.y+e.height},{x:e.x,y:e.y+e.height}],n=t**2;return i.some(s=>s.x**2+s.y**2>n)}computeCalloutLabelCollisionOffsets(){const{radiusScale:e}=this,{calloutLabel:t,calloutLine:i}=this.properties,{offset:n,minSpacing:s}=t,r=e.convert(0),o=M=>!M.calloutLabel||M.outerRadius===0,a=this.calloutNodeData,c=a.filter(M=>!o(M));if(c.forEach(M=>{const A=M.calloutLabel;A!=null&&(A.hidden=!1,A.collisionTextAlign=void 0,A.collisionOffsetY=0)}),c.length<=1)return;const h=c.filter(M=>M.midCos<0).sort((M,A)=>M.midSin-A.midSin),f=c.filter(M=>M.midCos>=0).sort((M,A)=>M.midSin-A.midSin),p=c.filter(M=>{var A;return M.midSin<0&&((A=M.calloutLabel)==null?void 0:A.textAlign)==="center"}).sort((M,A)=>M.midCos-A.midCos),m=c.filter(M=>{var A;return M.midSin>=0&&((A=M.calloutLabel)==null?void 0:A.textAlign)==="center"}).sort((M,A)=>M.midCos-A.midCos),b=M=>{const A=M.calloutLabel;if(A==null)return Ge.zero.clone();const k=M.outerRadius+i.length+n,_=M.midCos*k,F=M.midSin*k+A.collisionOffsetY,N=A.collisionTextAlign??A.textAlign,z=A.textBaseline;return Rn.computeBBox(A.text,_,F,{font:this.properties.calloutLabel,textAlign:N,textBaseline:z})},C=(M,A,k)=>{const _=b(M).grow(s/2),F=b(A).grow(s/2);_.x<F.x+F.width&&_.x+_.width>F.x&&(k==="to-top"?_.y<F.y+F.height:_.y+_.height>F.y)&&(A.calloutLabel.collisionOffsetY=k==="to-top"?_.y-F.y-F.height:_.y+_.height-F.y)},w=M=>{const A=M.slice().sort((_,F)=>Math.abs(_.midSin)-Math.abs(F.midSin))[0],k=M.indexOf(A);for(let _=k-1;_>=0;_--){const F=M[_+1],N=M[_];C(F,N,"to-top")}for(let _=k+1;_<M.length;_++){const F=M[_-1],N=M[_];C(F,N,"to-bottom")}},D=M=>{const A=c.some(V=>V.calloutLabel.collisionOffsetY!==0),k=M.map(V=>b(V)),_=k.map(V=>V.clone().grow(s/2));let F=!1;for(let V=0;V<_.length&&!F;V++){const j=_[V];for(let U=V+1;U<M.length;U++){const $=_[U];if(j.collidesBBox($)){F=!0;break}}}const N=a.map(V=>{const{startAngle:j,endAngle:U,outerRadius:$}=V;return{startAngle:j,endAngle:U,innerRadius:r,outerRadius:$}}),z=k.some(V=>N.some(j=>Vz(V,j)));!F&&!A&&!z||M.filter(V=>V.calloutLabel.textAlign==="center").forEach(V=>{const j=V.calloutLabel;V.midCos<0?j.collisionTextAlign="right":V.midCos>0?j.collisionTextAlign="left":j.collisionTextAlign="center"})};w(h),w(f),D(p),D(m)}updateCalloutLabelNodes(e){const{radiusScale:t}=this,{calloutLabel:i,calloutLine:n}=this.properties,s=n.length,{offset:r,color:o}=i,a=new Rn;this.calloutLabelSelection.selectByTag(1).forEach(c=>{const h=c.closestDatum(),f=h.calloutLabel,p=t.convert(h.radius),m=Math.max(0,p);if(!(f!=null&&f.text)||m===0||f.hidden){c.visible=!1;return}const b=m+s+r,C=h.midCos*b,w=h.midSin*b+f.collisionOffsetY,D={textAlign:f.collisionTextAlign??f.textAlign,textBaseline:f.textBaseline};a.text=f.text,a.x=C,a.y=w,a.setFont(this.properties.calloutLabel),a.setAlign(D);const M=a.getBBox();let A=f.text,k=!0;if(i.avoidCollisions){const{textLength:_,hasVerticalOverflow:F}=this.getLabelOverflow(f.text,M,e);A=f.text.length===_?f.text:`${f.text.substring(0,_)}…`,k=!F}c.text=A,c.x=C,c.y=w,c.setFont(this.properties.calloutLabel),c.setAlign(D),c.fill=o,c.visible=k})}computeLabelsBBox(e,t){const{calloutLabel:i,calloutLine:n}=this.properties,s=n.length,{offset:r,maxCollisionOffset:o,minSpacing:a}=i;if(!i.avoidCollisions)return null;this.maybeRefreshNodeData(),this.updateRadiusScale(!1),this.computeCalloutLabelCollisionOffsets();const c=[],h=new Rn;let f;const{title:p}=this.properties;if(p!=null&&p.text&&p.enabled){const m=this.getTitleTranslationY();isFinite(m)&&(h.text=p.text,h.x=0,h.y=m,h.setFont(p),h.setAlign({textBaseline:"bottom",textAlign:"center"}),f=h.getBBox(),c.push(f))}return this.calloutNodeData.forEach(m=>{const b=m.calloutLabel;if(!b||m.outerRadius===0)return null;const C=m.outerRadius+s+r,w=m.midCos*C,D=m.midSin*C+b.collisionOffsetY;h.text=b.text,h.x=w,h.y=D,h.setFont(this.properties.calloutLabel),h.setAlign({textAlign:b.collisionTextAlign??b.textAlign,textBaseline:b.textBaseline});const M=h.getBBox();if(b.box=M,Math.abs(b.collisionOffsetY)>o){b.hidden=!0;return}if(f){const A=-this.centerY,k=new Ge(f.x-a,A,f.width+2*a,f.y+f.height+a-A);if(M.collidesBBox(k)){b.hidden=!0;return}}if(e.hideWhenNecessary){const{textLength:A,hasVerticalOverflow:k,hasSurroundingSeriesOverflow:_}=this.getLabelOverflow(b.text,M,t),F=b.text.length>2&&A<2;if(k||F||_){b.hidden=!0;return}}b.hidden=!1,c.push(M)}),c.length===0?null:Ge.merge(c)}updateSectorLabelNodes(){const{radiusScale:e}=this,t=e.convert(0),{fontSize:i,fontStyle:n,fontWeight:s,fontFamily:r,positionOffset:o,positionRatio:a,color:c}=this.properties.sectorLabel,h=(f,p)=>{const{sectorLabel:m,outerRadius:b}=p;let C=!1;if(m&&b!==0){const w=t*(1-a)+b*a+o;f.fill=c,f.fontStyle=n,f.fontWeight=s,f.fontSize=i,f.fontFamily=r,f.text=m.text,f.x=p.midCos*w,f.y=p.midSin*w,f.textAlign="center",f.textBaseline="middle";const D=f.getBBox(),M=[[D.x,D.y],[D.x+D.width,D.y],[D.x+D.width,D.y+D.height],[D.x,D.y+D.height]],{startAngle:A,endAngle:k}=p,_={startAngle:A,endAngle:k,innerRadius:t,outerRadius:b};M.every(([F,N])=>CC(F,N,_))&&(C=!0)}f.visible=C};this.labelSelection.each(h),this.highlightLabelSelection.each(h)}updateInnerLabelNodes(){const e=[],t=[];this.innerLabelsSelection.each((f,p)=>{const{fontStyle:m,fontWeight:b,fontSize:C,fontFamily:w,color:D}=p;f.fontStyle=m,f.fontWeight=b,f.fontSize=C,f.fontFamily=w,f.text=p.text,f.x=0,f.y=0,f.fill=D,f.textAlign="center",f.textBaseline="alphabetic",e.push(f.getBBox()),t.push(p.spacing)});const i=f=>f===0?0:t[f],n=f=>f===t.length-1?0:t[f],s=e.reduce((f,p,m)=>f+p.height+i(m)+n(m),0),r=Math.max(...e.map(f=>f.width)),o=this.getInnerRadius(),c=Math.sqrt(Math.pow(r/2,2)+Math.pow(s/2,2))<=(o>0?o:this.getOuterRadius()),h=[];for(let f=0,p=-s/2;f<e.length;f++){const b=e[f].height+p+i(f);h.push(b),p=b+n(f)}this.innerLabelsSelection.each((f,p,m)=>{f.y=h[m],f.visible=c})}updateZerosumRings(){this.zerosumOuterRing.size=this.getOuterRadius()*2,this.zerosumInnerRing.size=this.getInnerRadius()*2}pickNodeClosestDatum(e){return uA(this,e)}getTooltipContent(e){var z;const{id:t,dataModel:i,processedData:n,properties:s}=this,{legendItemKey:r,calloutLabelKey:o,calloutLabelName:a,sectorLabelKey:c,sectorLabelName:h,angleKey:f,angleName:p,radiusKey:m,radiusName:b,tooltip:C}=s,w=this.properties.title.text;if(!i||!n)return;const D=(z=n.dataSources.get(this.id))==null?void 0:z[e],{angleRawValues:M,legendItemValues:A,calloutLabelValues:k,sectorLabelValues:_}=this.getProcessedDataValues(i,n),F=M[e],N=(A==null?void 0:A[e])??(o===f||k==null?void 0:k[e])??(c===f||_==null?void 0:_[e])??p;return C.formatTooltip(this.properties,{title:w,symbol:this.legendItemSymbol(e),data:[{label:N,fallbackLabel:f,value:Al(F,3)}]},{seriesId:t,datum:D,title:p,legendItemKey:r,calloutLabelKey:o,calloutLabelName:a,sectorLabelKey:c,sectorLabelName:h,angleKey:f,angleName:p,radiusKey:m,radiusName:b,...this.getSectorFormat(D,e,!1)})}legendItemSymbol(e){var f,p;const t=(p=(f=this.processedData)==null?void 0:f.dataSources.get(this.id))==null?void 0:p[e],i=this.getSectorFormat(t,e,!1),{fillOpacity:n,strokeOpacity:s,strokeWidth:r,lineDash:o,lineDashOffset:a}=this.properties;let{fill:c}=i;const{stroke:h}=i;return Bo(c)&&(c={...c,gradient:"linear",rotation:0,reverse:!1}),{marker:{fill:c,stroke:h,fillOpacity:n,strokeOpacity:s,strokeWidth:r,lineDash:o,lineDashOffset:a}}}getLegendData(e){var _,F,N,z,V,j;const{visible:t,processedData:i,dataModel:n,id:s,ctx:{legendManager:r}}=this;if(!n||!i||!this.properties.isValid()||e!=="category")return[];const{angleKey:o,calloutLabelKey:a,sectorLabelKey:c,legendItemKey:h,showInLegend:f}=this.properties;if(!h&&(!a||a===o)&&(!c||c===o))return[];const{angleRawValues:p,calloutLabelValues:m,sectorLabelValues:b,legendItemValues:C}=this.getProcessedDataValues(n,i),w=((_=this.properties.title)==null?void 0:_.showInLegend)&&this.properties.title.text,D=[],M=this.properties.hideZeroValueSectorsInLegend,A=i.dataSources.get(this.id),k=(F=i.invalidData)==null?void 0:F.get(this.id);for(let U=0;U<i.input.count;U++){const $=A==null?void 0:A[U],Q=p[U];if((k==null?void 0:k[U])===!0||M&&Q===0)continue;const J=[];w&&J.push(w);const be=this.getLabels($,2*Math.PI,2*Math.PI,!1,m==null?void 0:m[U],b==null?void 0:b[U],C==null?void 0:C[U]);h&&be.legendItem!==void 0?J.push(be.legendItem.text):a&&a!==o&&((N=be.calloutLabel)==null?void 0:N.text)!==void 0?J.push((z=be.calloutLabel)==null?void 0:z.text):c&&c!==o&&((V=be.sectorLabel)==null?void 0:V.text)!==void 0&&J.push((j=be.sectorLabel)==null?void 0:j.text),J.length!==0&&D.push({legendType:"category",id:s,datum:$,itemId:U,seriesId:s,enabled:t&&r.getItemEnabled({seriesId:s,itemId:U}),label:{text:J.join(" - ")},symbol:this.legendItemSymbol(U),legendItemName:h!=null?$[h]:void 0,hideInLegend:!f})}return D}setLegendState(e){const{id:t,ctx:{legendManager:i,updateService:n}}=this;e.forEach((s,r)=>i.toggleItem(s,t,r)),i.update(),n.update(4)}animateEmptyUpdateReady(e){const{animationManager:t}=this.ctx,i=_h(!0,this.properties.rotation,this.radiusScale,this.previousRadiusScale);Qi(this.id,"nodes",t,[this.itemSelection,this.highlightSelection,this.phantomSelection],i.nodes,(n,s)=>this.getDatumId(s.datum,s.datumIndex)),Qi(this.id,"innerCircle",t,[this.innerCircleSelection],i.innerCircle),qt(this,"callout",t,this.calloutLabelSelection),qt(this,"sector",t,this.labelSelection),qt(this,"highlight",t,this.highlightLabelSelection),qt(this,"inner",t,this.innerLabelsSelection),this.previousRadiusScale.range=this.radiusScale.range}animateWaitingUpdateReady(){var b,C,w,D;const{itemSelection:e,highlightSelection:t,phantomSelection:i,processedData:n,radiusScale:s,previousRadiusScale:r}=this,{animationManager:o}=this.ctx,a=(C=(b=n==null?void 0:n.reduced)==null?void 0:b.diff)==null?void 0:C[this.id];this.ctx.animationManager.stopByAnimationGroupId(this.id);const c=((a==null?void 0:a.moved.size)??0)===0,h=((n==null?void 0:n.defs.keys.length)??0)>0,f=((D=(w=n==null?void 0:n.reduced)==null?void 0:w.animationValidation)==null?void 0:D.uniqueKeys)??!0;(!c||!h||!f)&&this.ctx.animationManager.skipCurrentBatch();const p=!this.nodeData.some(M=>M.enabled),m=_h(!1,this.properties.rotation,s,r);Qi(this.id,"nodes",o,[e,t,i],m.nodes,(M,A)=>this.getDatumId(A.datum,A.datumIndex),a),Qi(this.id,"innerCircle",o,[this.innerCircleSelection],m.innerCircle),qt(this,"callout",this.ctx.animationManager,this.calloutLabelSelection),qt(this,"sector",this.ctx.animationManager,this.labelSelection),qt(this,"highlight",this.ctx.animationManager,this.highlightLabelSelection),this.noVisibleData!==p&&(this.noVisibleData=p,qt(this,"inner",this.ctx.animationManager,this.innerLabelsSelection)),this.previousRadiusScale.range=this.radiusScale.range}animateClearingUpdateEmpty(){const{itemSelection:e,highlightSelection:t,phantomSelection:i,radiusScale:n,previousRadiusScale:s}=this,{animationManager:r}=this.ctx,o=_h(!1,this.properties.rotation,n,s);Qi(this.id,"nodes",r,[e,t,i],o.nodes,(a,c)=>this.getDatumId(c.datum,c.datumIndex)),Qi(this.id,"innerCircle",r,[this.innerCircleSelection],o.innerCircle),Zc(this,"callout",this.ctx.animationManager,this.calloutLabelSelection),Zc(this,"sector",this.ctx.animationManager,this.labelSelection),Zc(this,"highlight",this.ctx.animationManager,this.highlightLabelSelection),Zc(this,"inner",this.ctx.animationManager,this.innerLabelsSelection),this.previousRadiusScale.range=this.radiusScale.range}getDatumId(e,t){var r,o,a;const{calloutLabelKey:i,sectorLabelKey:n,legendItemKey:s}=this.properties;return(a=(o=(r=this.processedData)==null?void 0:r.reduced)==null?void 0:o.animationValidation)!=null&&a.uniqueKeys?s?Yn(e[s]):i?Yn(e[i]):n?Yn(e[n]):`${t}`:`${t}`}};Gx.className="DonutSeries";Gx.type="donut";var Hx={type:nt(Ms("pie")),angleKey:nt(Fe),radiusKey:Fe,calloutLabelKey:Fe,sectorLabelKey:Fe,legendItemKey:Fe,angleName:Fe,radiusName:Fe,calloutLabelName:Fe,sectorLabelName:Fe,radiusMin:ke,radiusMax:ke,rotation:it,outerRadiusOffset:it,outerRadiusRatio:Ni,hideZeroValueSectorsInLegend:_e,sectorSpacing:ke,cornerRadius:ke,itemStyler:oi,title:{enabled:_e,text:Fe,showInLegend:_e,spacing:ke,...Tr},calloutLabel:{enabled:_e,offset:it,minAngle:ke,avoidCollisions:_e,formatter:oi,...Tr},sectorLabel:{enabled:_e,positionOffset:it,positionRatio:Ni,formatter:oi,...Tr},calloutLine:{colors:Hi(wt),length:ke,strokeWidth:ke},fills:Hi(pL),strokes:Hi(wt),tooltip:Wl,shadow:ny,...Yo,...Ma,...lu(oo,["fill"]),...lu(js,["stroke"])};Hx.defaultColorRange=Hi(Hi(wt));Hx.defaultPatternFills=Hi(wt);var Iie={...Hx,type:nt(Ms("donut")),innerRadiusOffset:it,innerRadiusRatio:Ni,innerCircle:{fill:Fe,fillOpacity:Ni},innerLabels:Ph({text:nt(Fe),spacing:ke,...Tr},"inner label options array")},kie={series:{title:{enabled:!0,fontWeight:{$ref:"fontWeight"},fontSize:{$rem:[1.1666666666666667]},fontFamily:{$ref:"fontFamily"},color:{$ref:"subtleTextColor"},spacing:5},calloutLabel:{enabled:!0,fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},fontWeight:{$ref:"fontWeight"},color:{$ref:"textColor"},offset:3,minAngle:.001},sectorLabel:{enabled:!0,fontWeight:{$ref:"fontWeight"},fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},color:{$ref:"backgroundColor"},positionOffset:0,positionRatio:.5},calloutLine:{length:10,strokeWidth:2,colors:{$map:[{$if:[{$or:[{$isGradient:[{$value:"$1"}]},{$isPattern:[{$value:"$1"}]}]},{$path:["../../strokes/$index",{$ref:"foregroundColor"}]},{$value:"$1"}]},{$if:[{$eq:[{$path:"../strokeWidth"},0]},{$path:"../fills"},{$path:"../strokes"}]}]}},fills:{$palette:"fills"},strokes:{$palette:"strokes"},defaultColorRange:{$palette:"gradients"},defaultPatternFills:BT,fillOpacity:1,strokeOpacity:1,strokeWidth:0,lineDash:[0],lineDashOffset:0,rotation:0,sectorSpacing:1,innerRadiusRatio:{$if:[{$eq:[{$path:["./innerRadiusOffset",void 0]},void 0]},.7,void 0]},shadow:{enabled:!1,color:xu,xOffset:3,yOffset:3,blur:5},innerLabels:{fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},fontWeight:{$ref:"fontWeight"},color:{$ref:"textColor"},spacing:2}},legend:{enabled:!0}},_ie={type:"series",optionsKey:"series[]",packageType:"community",chartTypes:["polar"],identifier:"donut",moduleFactory:e=>new Gx(e),tooltipDefaults:{range:"exact"},themeTemplate:kie},Nie={type:"series",name:"donut",chartType:"polar",options:Iie,create:e=>new Gx(e)},Yz=class extends Pi{constructor(){super(...arguments),this.showInLegend=!1}};R([P()],Yz.prototype,"showInLegend",2);var Xf=class extends _n{constructor(){super(...arguments),this.offset=3,this.minAngle=0,this.minSpacing=4,this.maxCollisionOffset=50,this.avoidCollisions=!0}};R([P()],Xf.prototype,"offset",2);R([P(Rr.restrict({min:0,max:360}))],Xf.prototype,"minAngle",2);R([P()],Xf.prototype,"minSpacing",2);R([P()],Xf.prototype,"maxCollisionOffset",2);R([P()],Xf.prototype,"avoidCollisions",2);var hA=class extends _n{constructor(){super(...arguments),this.positionOffset=0,this.positionRatio=.5}};R([P()],hA.prototype,"positionOffset",2);R([P()],hA.prototype,"positionRatio",2);var jx=class extends ht{constructor(){super(...arguments),this.length=10,this.strokeWidth=1}};R([P(kn(ds(ka,Ir,_a)))],jx.prototype,"colors",2);R([P()],jx.prototype,"length",2);R([P()],jx.prototype,"strokeWidth",2);var Ut=class extends Or{constructor(){super(...arguments),this.defaultColorRange=[],this.defaultPatternFills=[],this.fills=Object.values(rn),this.strokes=Object.values(da),this.fillOpacity=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.cornerRadius=0,this.rotation=0,this.outerRadiusOffset=0,this.outerRadiusRatio=1,this.strokeWidth=1,this.sectorSpacing=0,this.hideZeroValueSectorsInLegend=!1,this.title=new Yz,this.shadow=new Uo,this.calloutLabel=new Xf,this.sectorLabel=new hA,this.calloutLine=new jx,this.tooltip=new Ts}};R([P()],Ut.prototype,"angleKey",2);R([P()],Ut.prototype,"angleName",2);R([P()],Ut.prototype,"angleFilterKey",2);R([P()],Ut.prototype,"radiusKey",2);R([P()],Ut.prototype,"radiusName",2);R([P()],Ut.prototype,"radiusMin",2);R([P()],Ut.prototype,"radiusMax",2);R([P()],Ut.prototype,"calloutLabelKey",2);R([P()],Ut.prototype,"calloutLabelName",2);R([P()],Ut.prototype,"sectorLabelKey",2);R([P()],Ut.prototype,"sectorLabelName",2);R([P()],Ut.prototype,"legendItemKey",2);R([P(kn(EL))],Ut.prototype,"defaultColorRange",2);R([P(kn(Ir))],Ut.prototype,"defaultPatternFills",2);R([P(kn(ds(ka,Ir,_a)))],Ut.prototype,"fills",2);R([P()],Ut.prototype,"strokes",2);R([P()],Ut.prototype,"fillOpacity",2);R([P()],Ut.prototype,"strokeOpacity",2);R([P()],Ut.prototype,"lineDash",2);R([P()],Ut.prototype,"lineDashOffset",2);R([P()],Ut.prototype,"cornerRadius",2);R([P()],Ut.prototype,"itemStyler",2);R([P()],Ut.prototype,"rotation",2);R([P()],Ut.prototype,"outerRadiusOffset",2);R([P()],Ut.prototype,"outerRadiusRatio",2);R([P()],Ut.prototype,"strokeWidth",2);R([P()],Ut.prototype,"sectorSpacing",2);R([P()],Ut.prototype,"hideZeroValueSectorsInLegend",2);R([P()],Ut.prototype,"title",2);R([P()],Ut.prototype,"shadow",2);R([P()],Ut.prototype,"calloutLabel",2);R([P()],Ut.prototype,"sectorLabel",2);R([P()],Ut.prototype,"calloutLine",2);R([P()],Ut.prototype,"tooltip",2);var Oie=class extends Fm{constructor(e,t,i,n){super(e,t,i,n),this.angleKey=n.properties.angleKey,this.radiusKey=n.properties.radiusKey,this.calloutLabelKey=n.properties.calloutLabelKey,this.sectorLabelKey=n.properties.sectorLabelKey}},Vx=class extends zx{constructor(e){super({moduleCtx:e,categoryKey:void 0,pickModes:[1,0],useLabelLayer:!0,animationResetFns:{item:cA,label:jl}}),this.properties=new Ut,this.phantomNodeData=void 0,this.backgroundGroup=new zs({name:`${this.id}-background`,zIndex:0}),this.previousRadiusScale=new Fo,this.radiusScale=new Fo,this.phantomGroup=this.backgroundGroup.appendChild(new at({name:"phantom"})),this.phantomSelection=gn.select(this.phantomGroup,()=>this.nodeFactory(),!1),this.calloutLabelGroup=this.contentGroup.appendChild(new at({name:"pieCalloutLabels"})),this.calloutLabelSelection=new gn(this.calloutLabelGroup,at),this.zerosumRingsGroup=this.backgroundGroup.appendChild(new at({name:`${this.id}-zerosumRings`})),this.zerosumOuterRing=this.zerosumRingsGroup.appendChild(new In({shape:"circle"})),this.surroundingRadius=void 0,this.NodeEvent=Oie,this.angleScale=new Fo,this.angleScale.domain=[0,1],this.angleScale.range=[-Math.PI,Math.PI].map(t=>t+Math.PI/2),this.phantomGroup.opacity=.2}get calloutNodeData(){return this.phantomNodeData??this.nodeData}attachSeries(e,t,i){super.attachSeries(e,t,i),e.appendChild(this.backgroundGroup)}detachSeries(e,t,i){super.detachSeries(e,t,i),e==null||e.removeChild(this.backgroundGroup)}setSeriesIndex(e){return super.setSeriesIndex(e)?(this.backgroundGroup.zIndex=[0,e],!0):!1}nodeFactory(){const e=new Zn;return e.miterLimit=1e9,e}getSeriesDomain(e){return e==="x"?this.angleScale.domain:this.radiusScale.domain}async processData(e){var D,M,A,k,_;if(this.data==null||!this.properties.isValid())return;const{visible:t,id:i,ctx:{legendManager:n}}=this,{angleKey:s,angleFilterKey:r,radiusKey:o,calloutLabelKey:a,sectorLabelKey:c,legendItemKey:h}=this.properties,f=()=>(F,N)=>t&&n.getItemEnabled({seriesId:i,itemId:N})?F:0,p=!this.ctx.animationManager.isSkipped(),m=[],b=[];h?m.push(Po(h,"band",{id:"legendItemKey"})):a?m.push(Po(a,"band",{id:"calloutLabelKey"})):c&&m.push(Po(c,"band",{id:"sectorLabelKey"}));const C=this.radiusScale.type,w=this.angleScale.type;o&&b.push(ST(o,{id:"radiusValue",min:this.properties.radiusMin??0,max:this.properties.radiusMax,processor:f}),Ft(o,C,{id:"radiusRaw",processor:f}),kh("radiusValue",[0,1],1,this.properties.radiusMin??0,this.properties.radiusMax)),a&&b.push(Ft(a,"band",{id:"calloutLabelValue"})),c&&b.push(Ft(c,"band",{id:"sectorLabelValue"})),h&&b.push(Ft(h,"band",{id:"legendItemValue"})),r&&b.push(nm(r,w,{id:"angleFilterValue",onlyPositive:!0,invalidValue:0,processor:f}),Ft(r,w,{id:"angleFilterRaw"}),kh("angleFilterValue",[0,1],0,0)),p&&((A=(M=(D=this.processedData)==null?void 0:D.reduced)==null?void 0:M.animationValidation)!=null&&A.uniqueKeys)&&m.length>0&&b.push(Gf(this.id,this.processedData)),b.push(zf()),await this.requestDataModel(e,this.data,{props:[...m,nm(s,w,{id:"angleValue",onlyPositive:!0,invalidValue:0,processor:f}),Ft(s,w,{id:"angleRaw"}),kh("angleValue",[0,1],0,0),...b]});for(const F of((_=(k=this.processedData)==null?void 0:k.defs)==null?void 0:_.values)??[]){const{id:N,missing:z,property:V}=F,j=tT(this,z);N!=="angleRaw"&&j>0&&Ee.warnOnce(`no value was found for the key '${String(V)}' on ${j} data element${j>1?"s":""}`)}this.animationState.transition("updateData")}maybeRefreshNodeData(){if(!this.nodeDataRefresh)return;const{nodeData:e=[],phantomNodeData:t}=this.createNodeData()??{};this.nodeData=e,this.phantomNodeData=t,this.nodeDataRefresh=!1}getProcessedDataValues(e,t){const i=e.resolveColumnById(this,"angleValue",t),n=e.resolveColumnById(this,"angleRaw",t),s=this.properties.angleFilterKey!=null?e.resolveColumnById(this,"angleFilterValue",t):void 0,r=this.properties.angleFilterKey!=null?e.resolveColumnById(this,"angleFilterRaw",t):void 0,o=this.properties.radiusKey?e.resolveColumnById(this,"radiusValue",t):void 0,a=this.properties.radiusKey?e.resolveColumnById(this,"radiusRaw",t):void 0,c=this.properties.calloutLabelKey?e.resolveColumnById(this,"calloutLabelValue",t):void 0,h=this.properties.sectorLabelKey?e.resolveColumnById(this,"sectorLabelValue",t):void 0,f=this.properties.legendItemKey?e.resolveColumnById(this,"legendItemValue",t):void 0;return{angleValues:i,angleRawValues:n,angleFilterValues:s,angleFilterRawValues:r,radiusValues:o,radiusRawValues:a,calloutLabelValues:c,sectorLabelValues:h,legendItemValues:f}}createNodeData(){var z;const{id:e,processedData:t,dataModel:i,angleScale:n,ctx:{legendManager:s},visible:r}=this,{rotation:o}=this.properties;if(!i||(t==null?void 0:t.type)!=="ungrouped")return;const{angleValues:a,angleRawValues:c,angleFilterValues:h,angleFilterRawValues:f,radiusValues:p,radiusRawValues:m,calloutLabelValues:b,sectorLabelValues:C,legendItemValues:w}=this.getProcessedDataValues(i,t),D=(f==null?void 0:f.some((V,j)=>V>c[j]))??!1;let M=0,A=0;const k=[],_=f!=null?[]:void 0,F=t.dataSources.get(this.id)??[],N=(z=t.invalidData)==null?void 0:z.get(this.id);return F.forEach((V,j)=>{if((N==null?void 0:N[j])===!0)return;const U=D?h[j]:a[j],$=f!=null&&!D?Math.sqrt(f[j]/c[j]):1,Q=n.convert(M)+Oi(o);M=U,A+=U;const J=n.convert(M)+Oi(o),be=Math.abs(J-Q),me=Q+be/2,Y=c[j],Z=((p==null?void 0:p[j])??1)*$,Ce=m==null?void 0:m[j],H=w==null?void 0:w[j],K=this.getLabels(V,me,be,!0,b==null?void 0:b[j],C==null?void 0:C[j],H),ie=this.getSectorFormat(V,j,!1),te={itemId:j,series:this,datum:V,datumIndex:j,angleValue:Y,midAngle:me,midCos:Math.cos(me),midSin:Math.sin(me),startAngle:Q,endAngle:J,radius:Z,innerRadius:Math.max(this.radiusScale.convert(0),0),outerRadius:Math.max(this.radiusScale.convert(Z),0),sectorFormat:ie,radiusValue:Ce,legendItemValue:H,enabled:r&&s.getItemEnabled({seriesId:e,itemId:j}),...K};k.push(te),_!=null&&_.push({...te,radius:1,innerRadius:Math.max(this.radiusScale.convert(0),0),outerRadius:Math.max(this.radiusScale.convert(1),0)})}),this.zerosumOuterRing.visible=A===0,{itemId:e,nodeData:k,labelData:k,phantomNodeData:_}}getLabels(e,t,i,n,s,r,o){const{calloutLabel:a,sectorLabel:c,legendItemKey:h}=this.properties,f=!n||a.enabled?this.properties.calloutLabelKey:void 0,p=!n||c.enabled?this.properties.sectorLabelKey:void 0;if(!f&&!p&&!h)return{};const m={datum:e,angleKey:this.properties.angleKey,angleName:this.properties.angleName,radiusKey:this.properties.radiusKey,radiusName:this.properties.radiusName,calloutLabelKey:this.properties.calloutLabelKey,calloutLabelName:this.properties.calloutLabelName,sectorLabelKey:this.properties.sectorLabelKey,sectorLabelName:this.properties.sectorLabelName,legendItemKey:this.properties.legendItemKey},b={};return f&&i>=Oi(a.minAngle)&&(b.calloutLabel={...this.getTextAlignment(t),text:this.getLabelText(a,{...m,value:s}),hidden:!1,collisionTextAlign:void 0,collisionOffsetY:0,box:void 0}),p&&(b.sectorLabel={text:this.getLabelText(c,{...m,value:r})}),h!=null&&o!=null&&(b.legendItem={key:h,text:o}),b}getTextAlignment(e){const t=[{textAlign:"center",textBaseline:"bottom"},{textAlign:"left",textBaseline:"middle"},{textAlign:"center",textBaseline:"hanging"},{textAlign:"right",textBaseline:"middle"}],i=Xp(e),n=-.75*Math.PI,s=i-n,r=Math.floor(s/(Math.PI/2)),o=sF(r,t.length);return t[o]}getNodeFill(e,t,i){return Ih(e,{bounds:"series",colorStops:t.map(n=>({color:n})),gradient:"radial",rotation:0,reverse:!0},{pattern:"forward-slanted-lines",fill:i,fillOpacity:1,backgroundFill:"transparent",backgroundFillOpacity:1,stroke:i,strokeOpacity:1,strokeWidth:4,rotation:0})}getFillParams(e,t,i){if(!(!Bo(e)||e.bounds==="item"))return{centerX:0,centerY:0,innerRadius:t,outerRadius:i}}getSectorFormat(e,t,i){const{angleKey:n,radiusKey:s,calloutLabelKey:r,sectorLabelKey:o,legendItemKey:a,fills:c,strokes:h,defaultColorRange:f,defaultPatternFills:p,itemStyler:m}=this.properties,b=h[t%h.length],{fill:C,fillOpacity:w,stroke:D,strokeWidth:M,strokeOpacity:A,lineDash:k,lineDashOffset:_,cornerRadius:F}=Pt(i&&this.properties.highlightStyle.item,{fill:c.length>0?c[t%c.length]:void 0,stroke:b,strokeWidth:this.getStrokeWidth(this.properties.strokeWidth),strokeOpacity:this.getOpacity()},this.properties),N=f[t%f.length],z=p[t%p.length],V=C??"black";let j;return m&&(j=this.cachedDatumCallback(this.getDatumId(e,t)+(i?"-highlight":"-hide"),()=>this.callWithContext(m,{datum:e,angleKey:n,radiusKey:s,calloutLabelKey:r,sectorLabelKey:o,legendItemKey:a,fill:this.getNodeFill(V,N,z),strokeOpacity:A,stroke:D,strokeWidth:M,fillOpacity:w,lineDash:k,lineDashOffset:_,cornerRadius:F,highlighted:i,seriesId:this.id}))),{fill:this.getNodeFill((j==null?void 0:j.fill)??V,N,z),fillOpacity:(j==null?void 0:j.fillOpacity)??w,stroke:(j==null?void 0:j.stroke)??D,strokeWidth:(j==null?void 0:j.strokeWidth)??M,strokeOpacity:(j==null?void 0:j.strokeOpacity)??A,lineDash:(j==null?void 0:j.lineDash)??k,lineDashOffset:(j==null?void 0:j.lineDashOffset)??_,cornerRadius:(j==null?void 0:j.cornerRadius)??F}}getOuterRadius(){return Math.max(this.radius*this.properties.outerRadiusRatio+this.properties.outerRadiusOffset,0)}updateRadiusScale(e){var n;const t=[0,this.getOuterRadius()];this.radiusScale.range=t,e&&(this.previousRadiusScale.range=t);const i=s=>({...s,innerRadius:Math.max(this.radiusScale.convert(0),0),outerRadius:Math.max(this.radiusScale.convert(s.radius),0)});this.nodeData=this.nodeData.map(i),this.phantomNodeData=(n=this.phantomNodeData)==null?void 0:n.map(i)}getTitleTranslationY(){var s;const e=Math.max(0,this.radiusScale.range[1]);if(e===0)return NaN;const i=2+(((s=this.properties.title)==null?void 0:s.spacing)??0),n=Math.max(0,-e);return-e-i-n}update({seriesRect:e}){const{title:t}=this.properties,i={seriesRectWidth:e==null?void 0:e.width,seriesRectHeight:e==null?void 0:e.height},n=Ta(this.nodeDataDependencies,i)!=null;if(n&&(this._nodeDataDependencies=i),this.maybeRefreshNodeData(),this.updateTitleNodes(),this.updateRadiusScale(n),this.contentGroup.translationX=this.centerX,this.contentGroup.translationY=this.centerY,this.highlightGroup.translationX=this.centerX,this.highlightGroup.translationY=this.centerY,this.backgroundGroup.translationX=this.centerX,this.backgroundGroup.translationY=this.centerY,this.labelGroup&&(this.labelGroup.translationX=this.centerX,this.labelGroup.translationY=this.centerY),t){const s=this.getTitleTranslationY();t.node.y=isFinite(s)?s:0;const r=t.node.getBBox();t.node.visible=t.enabled&&isFinite(s)&&!this.bboxIntersectsSurroundingSeries(r)}this.zerosumOuterRing.fillOpacity=0,this.zerosumOuterRing.stroke=this.properties.calloutLabel.color,this.zerosumOuterRing.strokeWidth=1,this.zerosumOuterRing.strokeOpacity=1,this.updateNodeMidPoint(),this.updateSelections(),this.updateNodes(e)}updateTitleNodes(){var i,n;const{oldTitle:e}=this,{title:t}=this.properties;e!==t&&(e&&((i=this.labelGroup)==null||i.removeChild(e.node)),t&&(t.node.textBaseline="bottom",(n=this.labelGroup)==null||n.appendChild(t.node)),this.oldTitle=t)}updateNodeMidPoint(){var t;const e=i=>{const n=i.innerRadius+(i.outerRadius-i.innerRadius)/2;i.midPoint={x:i.midCos*Math.max(0,n),y:i.midSin*Math.max(0,n)}};this.nodeData.forEach(e),(t=this.phantomNodeData)==null||t.forEach(e)}updateSelections(){const{itemSelection:e,highlightSelection:t,phantomSelection:i,highlightLabelSelection:n,calloutLabelSelection:s,labelSelection:r}=this,o=this.nodeData.map(c=>({...c,sectorFormat:{...c.sectorFormat}})),a=(c,h)=>{c.update(h,void 0,f=>this.getDatumId(f.datum,f.datumIndex)),this.ctx.animationManager.isSkipped()&&c.cleanup()};a(e,this.nodeData),a(t,o),a(i,this.phantomNodeData??[]),s.update(this.calloutNodeData,c=>{const h=new Nr;h.tag=0,h.pointerEvents=1,c.appendChild(h);const f=new Rn;f.tag=1,f.pointerEvents=1,c.appendChild(f)}),r.update(this.nodeData),n.update(o)}updateNodes(e){const t=this.ctx.highlightManager.getActiveHighlight(),{visible:i}=this;this.backgroundGroup.visible=i,this.contentGroup.visible=i,this.highlightGroup.visible=i&&(t==null?void 0:t.series)===this,this.highlightLabel.visible=i&&(t==null?void 0:t.series)===this,this.labelGroup&&(this.labelGroup.visible=i),this.contentGroup.opacity=this.getOpacity();const n=this.radiusScale.range[0],s=this.radiusScale.range[1],r=this.getShapeFillBBox(),o=this.ctx.animationManager.isSkipped(),a=(c,h,f,p)=>{const m=this.getSectorFormat(h.datum,h.itemId,p);h.sectorFormat.fill=m.fill,h.sectorFormat.stroke=m.stroke,o&&(c.startAngle=h.startAngle,c.endAngle=h.endAngle,c.innerRadius=h.innerRadius,c.outerRadius=h.outerRadius),(p||o)&&(c.fill=m.fill,c.stroke=m.stroke);const b=this.getFillParams(m.fill,n,s);gx(c,m.fill,r,b),c.strokeWidth=m.strokeWidth,c.fillOpacity=m.fillOpacity,c.strokeOpacity=m.strokeOpacity,c.lineDash=m.lineDash,c.lineDashOffset=m.lineDashOffset,c.cornerRadius=m.cornerRadius,c.fillShadow=this.properties.shadow;const C=Math.max((this.properties.sectorSpacing+(m.stroke!=null?m.strokeWidth:0))/2,0);c.inset=C,c.lineJoin=this.properties.sectorSpacing>=0||C>0?"miter":"round"};this.itemSelection.each((c,h,f)=>a(c,h,f,!1)),this.highlightSelection.each((c,h,f)=>{a(c,h,f,!0),c.visible=h.itemId===(t==null?void 0:t.itemId)}),this.phantomSelection.each((c,h,f)=>a(c,h,f,!1)),this.updateCalloutLineNodes(),this.updateCalloutLabelNodes(e),this.updateSectorLabelNodes(),this.updateZerosumRings(),this.animationState.transition("update")}updateCalloutLineNodes(){const{calloutLine:{length:e,strokeWidth:t,colors:i},strokes:n}=this.properties,s=t,r=kF(i)?i:n,{offset:o}=this.properties.calloutLabel;this.calloutLabelSelection.selectByTag(0).forEach((a,c)=>{const h=a.closestDatum(),{calloutLabel:f,outerRadius:p}=h;if(f!=null&&f.text&&!f.hidden&&p!==0){a.visible=!0,a.strokeWidth=s,a.stroke=r[c%r.length],a.fill=void 0;const m=h.midCos*p,b=h.midSin*p;let C=h.midCos*(p+e),w=h.midSin*(p+e);if((f.collisionTextAlign??f.collisionOffsetY!==0)&&f.box!=null){const M=f.box;let A=C,k=w;C<M.x?A=M.x:C>M.x+M.width&&(A=M.x+M.width),w<M.y?k=M.y:w>M.y+M.height&&(k=M.y+M.height);const _=A-C,F=k-w,N=Math.sqrt(Math.pow(_,2)+Math.pow(F,2)),z=N-o;z>0&&(C=C+_*z/N,w=w+F*z/N)}a.x1=m,a.y1=b,a.x2=C,a.y2=w}else a.visible=!1})}getLabelOverflow(e,t,i){const n=-this.centerX,s=n+i.width,r=-this.centerY,o=r+i.height,a=1;let c=1;t.x+a<n?c=(t.x+t.width-n)/t.width:t.x+t.width-a>s&&(c=(s-t.x)/t.width);const h=t.y+a<r||t.y+t.height-a>o,f=c===1?e.length:Math.floor(e.length*c)-1,p=this.bboxIntersectsSurroundingSeries(t);return{textLength:f,hasVerticalOverflow:h,hasSurroundingSeriesOverflow:p}}bboxIntersectsSurroundingSeries(e){const{surroundingRadius:t}=this;if(t==null)return!1;const i=[{x:e.x,y:e.y},{x:e.x+e.width,y:e.y},{x:e.x+e.width,y:e.y+e.height},{x:e.x,y:e.y+e.height}],n=t**2;return i.some(s=>s.x**2+s.y**2>n)}computeCalloutLabelCollisionOffsets(){const{radiusScale:e}=this,{calloutLabel:t,calloutLine:i}=this.properties,{offset:n,minSpacing:s}=t,r=e.convert(0),o=M=>!M.calloutLabel||M.outerRadius===0,a=this.calloutNodeData,c=a.filter(M=>!o(M));if(c.forEach(M=>{const A=M.calloutLabel;A!=null&&(A.hidden=!1,A.collisionTextAlign=void 0,A.collisionOffsetY=0)}),c.length<=1)return;const h=c.filter(M=>M.midCos<0).sort((M,A)=>M.midSin-A.midSin),f=c.filter(M=>M.midCos>=0).sort((M,A)=>M.midSin-A.midSin),p=c.filter(M=>{var A;return M.midSin<0&&((A=M.calloutLabel)==null?void 0:A.textAlign)==="center"}).sort((M,A)=>M.midCos-A.midCos),m=c.filter(M=>{var A;return M.midSin>=0&&((A=M.calloutLabel)==null?void 0:A.textAlign)==="center"}).sort((M,A)=>M.midCos-A.midCos),b=M=>{const A=M.calloutLabel;if(A==null)return Ge.zero.clone();const k=M.outerRadius+i.length+n,_=M.midCos*k,F=M.midSin*k+A.collisionOffsetY,N=A.collisionTextAlign??A.textAlign,z=A.textBaseline;return Rn.computeBBox(A.text,_,F,{font:this.properties.calloutLabel,textAlign:N,textBaseline:z})},C=(M,A,k)=>{const _=b(M).grow(s/2),F=b(A).grow(s/2);_.x<F.x+F.width&&_.x+_.width>F.x&&(k==="to-top"?_.y<F.y+F.height:_.y+_.height>F.y)&&(A.calloutLabel.collisionOffsetY=k==="to-top"?_.y-F.y-F.height:_.y+_.height-F.y)},w=M=>{const A=M.slice().sort((_,F)=>Math.abs(_.midSin)-Math.abs(F.midSin))[0],k=M.indexOf(A);for(let _=k-1;_>=0;_--){const F=M[_+1],N=M[_];C(F,N,"to-top")}for(let _=k+1;_<M.length;_++){const F=M[_-1],N=M[_];C(F,N,"to-bottom")}},D=M=>{const A=c.some(V=>V.calloutLabel.collisionOffsetY!==0),k=M.map(V=>b(V)),_=k.map(V=>V.clone().grow(s/2));let F=!1;for(let V=0;V<_.length&&!F;V++){const j=_[V];for(let U=V+1;U<M.length;U++){const $=_[U];if(j.collidesBBox($)){F=!0;break}}}const N=a.map(V=>{const{startAngle:j,endAngle:U,outerRadius:$}=V;return{startAngle:j,endAngle:U,innerRadius:r,outerRadius:$}}),z=k.some(V=>N.some(j=>Vz(V,j)));!F&&!A&&!z||M.filter(V=>V.calloutLabel.textAlign==="center").forEach(V=>{const j=V.calloutLabel;V.midCos<0?j.collisionTextAlign="right":V.midCos>0?j.collisionTextAlign="left":j.collisionTextAlign="center"})};w(h),w(f),D(p),D(m)}updateCalloutLabelNodes(e){const{radiusScale:t}=this,{calloutLabel:i,calloutLine:n}=this.properties,s=n.length,{offset:r,color:o}=i,a=new Rn;this.calloutLabelSelection.selectByTag(1).forEach(c=>{const h=c.closestDatum(),f=h.calloutLabel,p=t.convert(h.radius),m=Math.max(0,p);if(!(f!=null&&f.text)||m===0||f.hidden){c.visible=!1;return}const b=m+s+r,C=h.midCos*b,w=h.midSin*b+f.collisionOffsetY,D={textAlign:f.collisionTextAlign??f.textAlign,textBaseline:f.textBaseline};a.text=f.text,a.x=C,a.y=w,a.setFont(this.properties.calloutLabel),a.setAlign(D);const M=a.getBBox();let A=f.text,k=!0;if(i.avoidCollisions){const{textLength:_,hasVerticalOverflow:F}=this.getLabelOverflow(f.text,M,e);A=f.text.length===_?f.text:`${f.text.substring(0,_)}…`,k=!F}c.text=A,c.x=C,c.y=w,c.setFont(this.properties.calloutLabel),c.setAlign(D),c.fill=o,c.visible=k})}computeLabelsBBox(e,t){const{calloutLabel:i,calloutLine:n}=this.properties,s=n.length,{offset:r,maxCollisionOffset:o,minSpacing:a}=i;if(!i.avoidCollisions)return null;this.maybeRefreshNodeData(),this.updateRadiusScale(!1),this.computeCalloutLabelCollisionOffsets();const c=[],h=new Rn;let f;const{title:p}=this.properties;if(p!=null&&p.text&&p.enabled){const m=this.getTitleTranslationY();isFinite(m)&&(h.text=p.text,h.x=0,h.y=m,h.setFont(p),h.setAlign({textBaseline:"bottom",textAlign:"center"}),f=h.getBBox(),c.push(f))}return this.calloutNodeData.forEach(m=>{const b=m.calloutLabel;if(!b||m.outerRadius===0)return null;const C=m.outerRadius+s+r,w=m.midCos*C,D=m.midSin*C+b.collisionOffsetY;h.text=b.text,h.x=w,h.y=D,h.setFont(this.properties.calloutLabel),h.setAlign({textAlign:b.collisionTextAlign??b.textAlign,textBaseline:b.textBaseline});const M=h.getBBox();if(b.box=M,Math.abs(b.collisionOffsetY)>o){b.hidden=!0;return}if(f){const A=-this.centerY,k=new Ge(f.x-a,A,f.width+2*a,f.y+f.height+a-A);if(M.collidesBBox(k)){b.hidden=!0;return}}if(e.hideWhenNecessary){const{textLength:A,hasVerticalOverflow:k,hasSurroundingSeriesOverflow:_}=this.getLabelOverflow(b.text,M,t),F=b.text.length>2&&A<2;if(k||F||_){b.hidden=!0;return}}b.hidden=!1,c.push(M)}),c.length===0?null:Ge.merge(c)}updateSectorLabelNodes(){var m;const{radiusScale:e}=this,t=e.convert(0),{fontSize:i,fontStyle:n,fontWeight:s,fontFamily:r,positionOffset:o,positionRatio:a,color:c}=this.properties.sectorLabel,h=t>0,f=((m=this.ctx.legendManager.getData(this.id))==null?void 0:m.filter(b=>b.enabled).length)===1,p=(b,C)=>{const{sectorLabel:w,outerRadius:D,startAngle:M,endAngle:A}=C;let k=!1;if(w&&D!==0){const _=t*(1-a)+D*a+o;b.fill=c,b.fontStyle=n,b.fontWeight=s,b.fontSize=i,b.fontFamily=r,b.text=w.text,!h&&f?(b.x=0,b.y=0):(b.x=C.midCos*_,b.y=C.midSin*_),b.textAlign="center",b.textBaseline="middle";const N=b.getBBox(),z=[[N.x,N.y],[N.x+N.width,N.y],[N.x+N.width,N.y+N.height],[N.x,N.y+N.height]],V={startAngle:M,endAngle:A,innerRadius:t,outerRadius:D};z.every(([j,U])=>CC(j,U,V))&&(k=!0)}b.visible=k};this.labelSelection.each(p),this.highlightLabelSelection.each(p)}updateZerosumRings(){this.zerosumOuterRing.size=this.getOuterRadius()*2}pickNodeClosestDatum(e){return uA(this,e)}getTooltipContent(e){var z;const{id:t,dataModel:i,processedData:n,properties:s}=this,{legendItemKey:r,calloutLabelKey:o,calloutLabelName:a,sectorLabelKey:c,sectorLabelName:h,angleKey:f,angleName:p,radiusKey:m,radiusName:b,tooltip:C}=s,w=this.properties.title.text;if(!i||!n)return;const D=(z=n.dataSources.get(this.id))==null?void 0:z[e],{angleRawValues:M,legendItemValues:A,calloutLabelValues:k,sectorLabelValues:_}=this.getProcessedDataValues(i,n),F=M[e],N=(A==null?void 0:A[e])??(o===f||k==null?void 0:k[e])??(c===f||_==null?void 0:_[e])??p;return C.formatTooltip(this.properties,{title:w,symbol:this.legendItemSymbol(e),data:[{label:N,fallbackLabel:f,value:Al(F,3)}]},{seriesId:t,datum:D,title:p,legendItemKey:r,calloutLabelKey:o,calloutLabelName:a,sectorLabelKey:c,sectorLabelName:h,angleKey:f,angleName:p,radiusKey:m,radiusName:b,...this.getSectorFormat(D,e,!1)})}legendItemSymbol(e){var f,p;const t=(p=(f=this.processedData)==null?void 0:f.dataSources.get(this.id))==null?void 0:p[e],i=this.getSectorFormat(t,e,!1),{fillOpacity:n,strokeOpacity:s,strokeWidth:r,lineDash:o,lineDashOffset:a}=this.properties;let{fill:c}=i;const{stroke:h}=i;return Bo(c)&&(c={...c,gradient:"linear",rotation:0,reverse:!1}),{marker:{fill:c,stroke:h,fillOpacity:n,strokeOpacity:s,strokeWidth:r,lineDash:o,lineDashOffset:a}}}getLegendData(e){var _,F,N,z,V,j;const{id:t,visible:i,processedData:n,dataModel:s,ctx:{legendManager:r}}=this;if(!s||!n||e!=="category")return[];const{angleKey:o,calloutLabelKey:a,sectorLabelKey:c,legendItemKey:h,showInLegend:f}=this.properties;if(!h&&(!a||a===o)&&(!c||c===o))return[];const{calloutLabelValues:p,sectorLabelValues:m,legendItemValues:b,angleRawValues:C}=this.getProcessedDataValues(s,n),w=((_=this.properties.title)==null?void 0:_.showInLegend)&&this.properties.title.text,D=[],M=this.properties.hideZeroValueSectorsInLegend,A=n.dataSources.get(this.id),k=(F=n.invalidData)==null?void 0:F.get(this.id);for(let U=0;U<n.input.count;U++){const $=A==null?void 0:A[U],Q=C[U];if((k==null?void 0:k[U])===!0||M&&Q===0)continue;const J=[];w&&J.push(w);const be=this.getLabels($,2*Math.PI,2*Math.PI,!1,p==null?void 0:p[U],m==null?void 0:m[U],b==null?void 0:b[U]);h&&be.legendItem!==void 0?J.push(be.legendItem.text):a&&a!==o&&((N=be.calloutLabel)==null?void 0:N.text)!==void 0?J.push((z=be.calloutLabel)==null?void 0:z.text):c&&c!==o&&((V=be.sectorLabel)==null?void 0:V.text)!==void 0&&J.push((j=be.sectorLabel)==null?void 0:j.text),J.length!==0&&D.push({legendType:"category",id:t,datum:$,itemId:U,seriesId:t,enabled:i&&r.getItemEnabled({seriesId:t,itemId:U}),label:{text:J.join(" - ")},symbol:this.legendItemSymbol(U),legendItemName:h!=null?$[h]:void 0,hideInLegend:!f})}return D}setLegendState(e){const{id:t,ctx:{legendManager:i,updateService:n}}=this;e.forEach((s,r)=>i.toggleItem(s,t,r)),i.update(),n.update(4)}animateEmptyUpdateReady(e){const{animationManager:t}=this.ctx,i=_h(!0,this.properties.rotation,this.radiusScale,this.previousRadiusScale);Qi(this.id,"nodes",t,[this.itemSelection,this.highlightSelection,this.phantomSelection],i.nodes,(n,s)=>this.getDatumId(s.datum,s.datumIndex)),qt(this,"callout",t,this.calloutLabelSelection),qt(this,"sector",t,this.labelSelection),qt(this,"highlight",t,this.highlightLabelSelection),this.previousRadiusScale.range=this.radiusScale.range}animateWaitingUpdateReady(){var m,b,C,w;const{itemSelection:e,highlightSelection:t,phantomSelection:i,processedData:n,radiusScale:s,previousRadiusScale:r}=this,{animationManager:o}=this.ctx,a=(b=(m=n==null?void 0:n.reduced)==null?void 0:m.diff)==null?void 0:b[this.id];this.ctx.animationManager.stopByAnimationGroupId(this.id);const c=((a==null?void 0:a.moved.size)??0)===0,h=((n==null?void 0:n.defs.keys.length)??0)>0,f=((w=(C=n==null?void 0:n.reduced)==null?void 0:C.animationValidation)==null?void 0:w.uniqueKeys)??!0;(!c||!h||!f)&&this.ctx.animationManager.skipCurrentBatch();const p=_h(!1,this.properties.rotation,s,r);Qi(this.id,"nodes",o,[e,t,i],p.nodes,(D,M)=>this.getDatumId(M.datum,M.datumIndex),a),qt(this,"callout",this.ctx.animationManager,this.calloutLabelSelection),qt(this,"sector",this.ctx.animationManager,this.labelSelection),qt(this,"highlight",this.ctx.animationManager,this.highlightLabelSelection),this.previousRadiusScale.range=this.radiusScale.range}animateClearingUpdateEmpty(){const{itemSelection:e,highlightSelection:t,phantomSelection:i,radiusScale:n,previousRadiusScale:s}=this,{animationManager:r}=this.ctx,o=_h(!1,this.properties.rotation,n,s);Qi(this.id,"nodes",r,[e,t,i],o.nodes,(a,c)=>this.getDatumId(c.datum,c.datumIndex)),Zc(this,"callout",this.ctx.animationManager,this.calloutLabelSelection),Zc(this,"sector",this.ctx.animationManager,this.labelSelection),Zc(this,"highlight",this.ctx.animationManager,this.highlightLabelSelection),this.previousRadiusScale.range=this.radiusScale.range}getDatumId(e,t){var r,o,a;const{calloutLabelKey:i,sectorLabelKey:n,legendItemKey:s}=this.properties;return(a=(o=(r=this.processedData)==null?void 0:r.reduced)==null?void 0:o.animationValidation)!=null&&a.uniqueKeys?s?Yn(e[s]):i?Yn(e[i]):n?Yn(e[n]):`${t}`:`${t}`}};Vx.className="PieSeries";Vx.type="pie";var Pie={series:{title:{enabled:!0,fontWeight:{$ref:"fontWeight"},fontSize:{$rem:[1.1666666666666667]},fontFamily:{$ref:"fontFamily"},color:{$ref:"subtleTextColor"},spacing:5},calloutLabel:{enabled:!0,fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},fontWeight:{$ref:"fontWeight"},color:{$ref:"textColor"},offset:3,minAngle:.001},sectorLabel:{enabled:!0,fontWeight:{$ref:"fontWeight"},fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},color:{$ref:"backgroundColor"},positionOffset:0,positionRatio:.5},calloutLine:{length:10,strokeWidth:2,colors:{$map:[{$if:[{$or:[{$isGradient:[{$value:"$1"}]},{$isPattern:[{$value:"$1"}]}]},{$path:["../../strokes/$index",{$ref:"foregroundColor"}]},{$value:"$1"}]},{$if:[{$eq:[{$path:"../strokeWidth"},0]},{$path:"../fills"},{$path:"../strokes"}]}]}},fills:{$palette:"fills"},strokes:{$palette:"strokes"},defaultColorRange:{$palette:"gradients"},defaultPatternFills:BT,fillOpacity:1,strokeOpacity:1,strokeWidth:0,lineDash:[0],lineDashOffset:0,rotation:0,sectorSpacing:1,shadow:{enabled:!1,color:xu,xOffset:3,yOffset:3,blur:5}},legend:{enabled:!0}},Fie={type:"series",optionsKey:"series[]",packageType:"community",chartTypes:["polar"],identifier:"pie",moduleFactory:e=>new Vx(e),tooltipDefaults:{range:"exact"},themeTemplate:Pie},Bie={type:"series",name:"pie",chartType:"polar",options:Hx,create:e=>new Vx(e)};function zie(){ba.register(QB,Ote,Xee,die,kz,wie,Fz,Aie,_ie,Fie,Die);for(const e of[Gl,Kh,vu,$h,Hf])Rh.register(e.type,{moduleFactory:t=>new e(t)})}function Gie(){for(const e of ba.modules){if(e.packageType==="enterprise"&&!PJ(e)&&Ee.errorOnce("Unexpected enterprise module registered: "+e.identifier),e.type==="root"&&e.themeTemplate)for(const t of e.chartTypes)QM.set(t,e.themeTemplate);if(e.type==="series"){if(e.chartTypes.length>1)throw new Error(`AG Charts - Module definition error: ${e.identifier}`);Qr.register(e.identifier,e)}if(e.type==="series-option"&&e.themeTemplate)for(const t of e.seriesTypes)Qr.setThemeTemplate(t,e.themeTemplate);if(e.type==="axis-option"&&e.themeTemplate)for(const t of e.axisTypes){const i=Rh.getThemeTemplate(t),n=Pt(e.themeTemplate,i);Rh.setThemeTemplate(t,n)}e.type==="axis"&&Rh.register(e.identifier,e),e.type==="legend"&&iT.register(e.identifier,e)}if(ba.hasEnterpriseModules()){const e=FJ();e.length>0&&Ee.errorOnce("Enterprise modules expected but not registered: ",e)}}var Hie=["top","right","bottom","left"],Wx=class Kz extends mx{constructor(t,i){super(t,i),this.paired=!0,this.lastUpdateClipRect=void 0,this.lastLayoutWidth=NaN,this.lastLayoutHeight=NaN}onAxisChange(t,i){super.onAxisChange(t,i),this.ctx!=null&&this.ctx.zoomManager.updateAxes(t)}destroySeries(t){super.destroySeries(t),this.lastLayoutWidth=NaN,this.lastLayoutHeight=NaN}getChartType(){return"cartesian"}setRootClipRects(t){const{seriesRoot:i,annotationRoot:n}=this;i.setClipRect(t),n.setClipRect(t)}async processData(){await super.processData();for(const t of this.axes){const i=this.getSyncedDomain(t);i!=null&&t.setDomains(i)}this.ctx.updateService.dispatchProcessData({series:{shouldFlipXY:this.shouldFlipXY()}})}performLayout(t){const{seriesRoot:i,annotationRoot:n}=this,{clipSeries:s,seriesRect:r,visible:o}=this.updateAxes(t.layoutBox);this.seriesRoot.visible=o,this.seriesRect=r,this.animationRect=t.layoutBox;const{x:a,y:c}=r;if(t.width!==this.lastLayoutWidth||t.height!==this.lastLayoutHeight)for(const m of[i,n])m.translationX=Math.floor(a),m.translationY=Math.floor(c);else{const{translationX:m,translationY:b}=i;Nl(this.id,"seriesRect",this.ctx.animationManager,[i,n],{translationX:m,translationY:b},{translationX:Math.floor(a),translationY:Math.floor(c)},{phase:"update"})}this.lastLayoutWidth=t.width,this.lastLayoutHeight=t.height;const h=r.clone().grow(this.seriesArea.padding),f=this.seriesArea.clip||s?h:void 0,{lastUpdateClipRect:p}=this;this.lastUpdateClipRect=f,this.ctx.animationManager.isActive()&&p!=null?this.ctx.animationManager.animate({id:this.id,groupId:"clip-rect",phase:"update",from:p,to:h,onUpdate:m=>this.setRootClipRects(m),onComplete:()=>this.setRootClipRects(f)}):this.setRootClipRects(f),this.ctx.layoutManager.emitLayoutComplete(t,{axes:this.axes.map(m=>m.getLayoutState()),series:{visible:o,rect:r,paddedRect:h},clipSeries:s})}updateAxes(t){const{clipSeries:i,seriesRect:n,overflows:s}=this.resolveAxesLayout(t);for(const r of this.axes)r.update(),r.setCrossLinesVisible(!s),this.clipAxis(r,n,t);return{clipSeries:i,seriesRect:n,visible:!s}}resolveAxesLayout(t){let i,n,s=0;const r=10;do if(n=i??this.getDefaultState(),i=this.updateAxesPass(new Map(n.axisAreaWidths),t.clone()),s++>r){Ee.warn("Max iterations reached. Unable to stabilize axes layout.");break}while(!this.isLayoutStable(i,n));return this.lastAreaWidths=i.axisAreaWidths,i}updateAxesPass(t,i){const n=new Map,s={};let r=!1,o=!1;for(const M of Hie){const A=this.seriesArea.padding[M],k=this.axes.findLast(_=>_.position===M);k?k.seriesAreaPadding=A:i.shrink(A,M)}const a=(t.get("left")??0)+(t.get("right")??0),c=(t.get("top")??0)+(t.get("bottom")??0),h=this.buildCrossLinePadding(t);i.width<=a+h.hPadding||i.height<=c+h.vPadding?r=!0:i.shrink(h);const f=i.clone().shrink(Object.fromEntries(t));for(const M of this.axes){const{position:A="left",direction:k}=M;this.sizeAxis(M,f,A);const _=k==="y",{primaryTickCount:F,bbox:N}=M.calculateLayout(M.nice?s[k]:void 0);s[k]??(s[k]=F),o||(o=M.dataDomain.clipped||M.visibleRange[0]>0||M.visibleRange[1]<1),n.set(M.id,Math.ceil(M.thickness??(_?N==null?void 0:N.width:N==null?void 0:N.height)??0))}const p=mL(this.axes,M=>M.position??"left"),{width:m,height:b,pixelRatio:C}=this.ctx.scene,w=new Map,D=new Map;for(const[M,A]of _o(p)){let _=M==="left"||M==="right"?b%C:m%C,F=0;for(const N of A??[]){D.set(N.id,_);const z=n.get(N.id)??0;F=Math.max(F,_+z),N.layoutConstraints.stacked&&(_+=z+Kz.AxesPadding)}w.set(M,Math.ceil(F))}for(const[M,A]of _o(p))this.positionAxes({axes:A??[],position:M,axisWidths:n,axisOffsets:D,axisAreaWidths:w,axisBound:i,seriesRect:f});return{clipSeries:o,seriesRect:f,axisAreaWidths:w,overflows:r}}buildCrossLinePadding(t){const i={top:0,right:0,bottom:0,left:0,hPadding:0,vPadding:0};this.axes.forEach(n=>{var s;(s=n.crossLines)==null||s.forEach(r=>{var o;(o=r.calculatePadding)==null||o.call(r,i)})});for(const[n,s=0]of _o(i))i[n]=Math.max(s-(t.get(n)??0),0);return i.hPadding=i.left+i.right,i.vPadding=i.top+i.bottom,i}clampToOutsideSeriesRect(t,i,n,s){const r=n==="x"?t.x:t.y,o=n==="x"?t.width:t.height;return s===1?Math.min(i,r+o):Math.max(i,r)}getSyncedDomain(t){const i=this.modulesManager.getModule("sync");if(!(i!=null&&i.enabled))return;const n=i.getSyncedDomain(t);if(n&&t.dataDomain.domain.length){let s;const{domain:r}=t.scale;if(ai.is(t.scale)){const[o,a]=pn(n);s=o!==r[0]||a!==r[1]}else s=!va(n,r);s&&!this.skipSync&&i.updateSiblings()}return n}sizeAxis(t,i,n){const s=t instanceof Kh,r=n==="left"||n==="right",{width:o,height:a}=i,c=r?a:o;let h=0,f=c,{min:p,max:m}=this.ctx.zoomManager.getAxisZoom(t.id);const{width:b,unit:C,align:w}=t.layoutConstraints;C==="px"?f=h+b:f=f*b/100,w==="end"&&(h=c-(f-h),f=c),r&&(s?[p,m]=[1-m,1-p]:[h,f]=[f,h]),t.range=[h,f],t.visibleRange=[p,m],t.gridLength=r?o:a}positionAxes(t){const{axes:i,axisBound:n,axisWidths:s,axisOffsets:r,axisAreaWidths:o,seriesRect:a,position:c}=t,h=o.get(c)??0;let f="x",p="y",m=1;(c==="top"||c==="bottom")&&(f="y",p="x");let b=n[f];(c==="right"||c==="bottom")&&(m=-1,b+=f==="x"?n.width:n.height);for(const C of i){const w=o.get(p==="x"?"left":"top")??0,D=s.get(C.id)??0,M=r.get(C.id)??0;C.gridPadding=h-M-D,C.translation[p]=n[p]+w,C.translation[f]=this.clampToOutsideSeriesRect(a,b+m*(M+D),f,m)}}shouldFlipXY(){return this.series.every(t=>t instanceof Su&&t.shouldFlipXY())}getDefaultState(){const t=new Map;if(this.lastAreaWidths)for(const{position:i="left"}of this.axes){const n=this.lastAreaWidths.get(i);n!=null&&t.set(i,n)}return{axisAreaWidths:t,clipSeries:!1,overflows:!1}}isLayoutStable(t,i){if(i.overflows!==t.overflows||i.clipSeries!==t.clipSeries)return!1;for(const n of t.axisAreaWidths.keys())if(!i.axisAreaWidths.has(n))return!1;for(const[n,s]of i.axisAreaWidths.entries()){const r=t.axisAreaWidths.get(n);if((s!=null||r!=null)&&s!==r)return!1}return!0}clipAxis(t,i,n){var c,h;const s=Math.ceil(((c=t.gridLine)==null?void 0:c.width)??0),r=Math.ceil(((h=t.line)==null?void 0:h.width)??0);let{width:o,height:a}=i;switch(o+=t.direction==="x"?s:r,a+=t.direction==="y"?s:r,t.clipGrid(i.x,i.y,o,a),t.position){case"left":case"right":t.clipTickLines(n.x,i.y-s,n.width+s,i.height+s*2);break;case"top":case"bottom":t.clipTickLines(i.x-s,n.y,i.width+s*2,n.height+s);const{label:f,labelNodes:p,scale:m}=t;if(ai.is(m)&&f.enabled&&f.avoidCollisions&&p.length>1){const b=p.toSorted((M,A)=>M.translationY-A.translationY),C=b.at(-1),w=C.getBBox(),D=i.x+w.y+w.height<=n.x+n.width+this.padding.right;if(C.visible=D,D||t.visibleRange[0]>0||t.visibleRange[1]<1)b[0].visible=!0;else{const M=b[0].getBBox();b[0].visible=M.y>=0}}break}}};Wx.className="CartesianChart";Wx.type="cartesian";Wx.AxesPadding=15;var jie=Wx,Vie=si(e=>typeof HTMLElement>"u"||e instanceof HTMLElement,"an html element"),Qh={mode:vt("integrated","standalone"),container:Vie,theme:Dr,series:wa,annotations:Dr,navigator:Dr,initialState:Dr},$z={...Us,...Qh,axes:Dr,data:wa},Zz={...Us,...Qh,axes:Dr,data:wa},Wie={...Us,...Qh,data:wa,topology:Yp},Uie={...Us,...Qh,data:wa},Yie={...Us,...Qh,data:wa},Kie={...Us,...Qh,data:wa,nodes:wa},$ie={...Us,...Qh,data:wa},Zie={type:"chart",name:"cartesian",options:$z,detect:gT,create(e,t){return new jie(e,t)}},ay=()=>{throw new Error("Enterprise module placeholder cannot be initialised")},Xie={type:"chart",name:"flow-proportion",placeholder:!0,options:{},detect:yB,create:ay},qie={type:"chart",name:"gauge",placeholder:!0,options:{},detect:mT,create:ay},Qie={type:"chart",name:"hierarchy",placeholder:!0,options:{},detect:pB,create:ay},Jie={type:"chart",name:"standalone",placeholder:!0,options:{},detect:pT,create:ay},ene={type:"chart",name:"topology",placeholder:!0,options:{},detect:mB,create:ay},Mf=class extends uT{constructor(){super(...arguments),this.shape="polygon",this.innerRadiusRatio=0,this.defaultTickMinSpacing=20}updatePosition(){super.updatePosition();const e=hC(this),t=lT(e);this.axisGroup.setProperties(this.getAxisTransform()),this.gridLineGroupSelection.each(t),this.tickLineGroupSelection.each(t),this.tickLabelGroupSelection.each(cT())}computeLabelsBBox(e,t){return null}computeRange(){}getAxisLinePoints(){}};R([P(ci(["polygon","circle"],"a polar axis shape"))],Mf.prototype,"shape",2);R([P()],Mf.prototype,"innerRadiusRatio",2);var dA=class extends mx{constructor(e,t){super(e,t),this.padding=new pu(40),this.ctx.axisManager.axisGroup.zIndex=6}getChartType(){return"polar"}async performLayout(e){const{layoutBox:t}=e;t.shrink(this.seriesArea.padding.toJson());const i=t.clone();this.seriesRect=i,this.animationRect=i,this.seriesRoot.translationX=i.x,this.seriesRoot.translationY=i.y,await this.computeCircle(i),this.axes.forEach(n=>n.update()),this.ctx.layoutManager.emitLayoutComplete(e,{series:{visible:!0,rect:i,paddedRect:i}})}updateAxes(e,t,i,n){var c;const s=this.axes.find(h=>h.direction==="x"),r=this.axes.find(h=>h.direction==="y");if(!(s instanceof Mf)||!(r instanceof Mf))return;const o=s.scale,a=r.innerRadiusRatio;s.innerRadiusRatio=a,s.computeRange(),s.gridLength=n,r.gridAngles=(c=o.ticks({nice:s.nice,interval:void 0,tickCount:void 0,minTickCount:0,maxTickCount:1/0}))==null?void 0:c.map(h=>o.convert(h)),r.gridRange=s.range,r.range=[n,n*a],[s,r].forEach(h=>{h.translation.x=e.x+t,h.translation.y=e.y+i,h.calculateLayout()})}async computeCircle(e){const t=this.series.filter(tne),i=this.axes.filter(ine),n=(h,f,p)=>{this.updateAxes(e,h,f,p),t.forEach(b=>{b.centerX=h,b.centerY=f,b.radius=p});const m=t.filter(b=>b.type==="donut"||b.type==="pie");if(m.length>1){const b=m.map(C=>{const w=C.getInnerRadius();return{series:C,innerRadius:w}}).sort((C,w)=>C.innerRadius-w.innerRadius);b.at(-1).series.surroundingRadius=void 0;for(let C=0;C<b.length-1;C++)b[C].series.surroundingRadius=b[C+1].innerRadius}},s=e.width/2,r=e.height/2,o=Math.max(0,Math.min(e.width,e.height)/2);let a=o;n(s,r,a);const c=async({hideWhenNecessary:h=!1}={})=>{const f=[];for(const b of Sh(i,t)){const C=await b.computeLabelsBBox({hideWhenNecessary:h},e);C&&f.push(C)}if(f.length===0){n(s,r,o);return}const p=Ge.merge(f),m=this.refineCircle(p,a,e);n(m.centerX,m.centerY,m.radius),a=m.radius};await c(),await c(),await c(),await c({hideWhenNecessary:!0}),await c({hideWhenNecessary:!0});for(const h of Sh(i,t))await h.computeLabelsBBox({hideWhenNecessary:!0},e);return{radius:a,centerX:s,centerY:r}}refineCircle(e,t,i){const s=-t,r=-t,o=t,a=t;let c=Math.max(0,s-e.x),h=Math.max(0,r-e.y),f=Math.max(0,e.x+e.width-o),p=Math.max(0,e.y+e.height-a);c=f=Math.max(c,f),h=p=Math.max(h,p);const m=i.width-c-f,b=i.height-h-p;let C=Math.min(m,b)/2;const w=.5*i.width/2,D=.5*i.height/2,M=Math.min(w,D);if(C<M){C=M;const _=c+f,F=h+p;if(2*C+F>i.height){const N=i.height-2*C;Math.min(h,p)*2>N?(h=N/2,p=N/2):h>p?h=N-p:p=N-h}if(2*C+_>i.width){const N=i.width-2*C;Math.min(c,f)*2>N?(c=N/2,f=N/2):c>f?c=N-f:f=N-c}}const A=c+2*C+f,k=h+2*C+p;return{centerX:(i.width-A)/2+c+C,centerY:(i.height-k)/2+h+C,radius:C}}};dA.className="PolarChart";dA.type="polar";function tne(e){return e instanceof zx}function ine(e){return e instanceof Mf}var nne={type:"chart",name:"polar",options:Zz,detect:gB,create(e,t){return new dA(e,t)}},sne={...Kf,...kx(it),type:nt(Ms("number")),label:{format:Rx,...Yf},crosshair:$f(!0)},rne={...Kf,...kx(it),type:nt(Ms("log")),base:us(lb,si(e=>e!==1,"not equal to 1")),label:{format:Rx,...Yf},crosshair:$f(!0)},one={...Kf,...kx(qi(it,qd),!0),type:nt(Ms("time")),label:{...Yf,format:Fe},crosshair:$f(!0)},ane={...Kf,type:nt(Ms("category")),label:Yf,paddingInner:ke,paddingOuter:ke,groupPaddingInner:ke,crosshair:$f()},lne={...Kf,type:nt(Ms("grouped-category")),label:Yf,crosshair:$f(),paddingInner:ke,groupPaddingInner:ke,depthOptions:Ph({label:{enabled:_e,avoidCollisions:_e,...Tr},tick:{enabled:_e,stroke:wt,width:ke}},"depth options objects array")},cne={type:"axis",name:"number",chartType:"cartesian",options:sne,create:e=>new Gl(e)},une={type:"axis",name:"log",chartType:"cartesian",options:rne,create:e=>new Hf(e)},hne={type:"axis",name:"time",chartType:"cartesian",options:one,create:e=>new vu(e)},dne={type:"axis",name:"category",chartType:"cartesian",options:ane,create:e=>new Kh(e)},fne={type:"axis",name:"grouped-category",chartType:"cartesian",options:lne,create:e=>new $h(e)},gne=[Zie,cne,une,hne,dne,fne,Tz,_z,Oz,Pz,Bz,Gz],pne=[nne,Nie,Bie],mne=[...gne,...pne,Xie,qie,Qie,Jie,ene],Fs={isEnterprise:!1},Xz=(e=>(e.POINTER="pointer",e.NODE="node",e.CHART="chart",e))(Xz||{}),qz=(e=>(e.TOP="top",e.RIGHT="right",e.BOTTOM="bottom",e.LEFT="left",e.TOP_RIGHT="top-right",e.BOTTOM_RIGHT="bottom-right",e.BOTTOM_LEFT="bottom-left",e.TOP_LEFT="top-left",e.CENTER="center",e))(qz||{}),Qz=(e=>(e.POINTER="pointer",e.NODE="node",e.TOP="top",e.RIGHT="right",e.BOTTOM="bottom",e.LEFT="left",e.TOP_LEFT="top-left",e.TOP_RIGHT="top-right",e.BOTTOM_RIGHT="bottom-right",e.BOTTOM_LEFT="bottom-left",e))(Qz||{}),ir=Symbol("IGNORED_PROP");function Ar(e,t){const i={};for(const n of Object.keys(t)){const s=t[n];s!==ir&&Object.hasOwn(e,n)&&(i[n]=s)}return i}function yne(e){return e.type==="radial-gauge"}function vne(e){return e.type==="linear-gauge"}function Jz(e){const{enabled:t,mode:i,showArrow:n,range:s,position:r,pagination:o,delay:a,wrapping:c,interaction:h,renderer:f,...p}=e,m=Ar(e,{enabled:t,showArrow:n,range:s,position:r,interaction:h,renderer:f,...p});return{chartTooltipOptions:Ar(e,{enabled:ir,showArrow:ir,range:ir,position:ir,mode:i,pagination:o,delay:a,wrapping:c,...p}),seriesTooltipOptions:m}}function bne(e){const{animation:t,background:i,container:n,contextMenu:s,footnote:r,height:o,listeners:a,locale:c,minHeight:h,minWidth:f,overrideDevicePixelRatio:p,padding:m,subtitle:b,theme:C,title:w,width:D,type:M,cursor:A,nodeClickRange:k,tooltip:_={},value:F,scale:N={},startAngle:z,endAngle:V,highlightStyle:j,segmentation:U,bar:$,needle:Q,targets:J,outerRadius:be,innerRadius:me,outerRadiusRatio:Y,innerRadiusRatio:re,cornerRadius:Z,cornerMode:Ce,label:H,secondaryLabel:K,spacing:ie,...te}=e,{chartTooltipOptions:se,seriesTooltipOptions:ye}=Jz(_),he=Ar(e,{animation:t,background:i,container:n,contextMenu:s,footnote:r,height:o,listeners:a,locale:c,minHeight:h,minWidth:f,overrideDevicePixelRatio:p,padding:m,subtitle:b,theme:C,title:w,tooltip:se,width:D}),Ie=Ar(e,{needle:Q!=null?{enabled:!0,...Q}:ir,startAngle:z,endAngle:V,scale:N,type:M,cursor:A,nodeClickRange:k,listeners:a,tooltip:ye,value:F,highlightStyle:j,segmentation:U,bar:$,targets:J,outerRadius:be,innerRadius:me,outerRadiusRatio:Y,innerRadiusRatio:re,cornerRadius:Z,cornerMode:Ce,label:H,secondaryLabel:K,spacing:ie,...te});return{...he,series:[Ie]}}function Cne(e){const{animation:t,background:i,container:n,contextMenu:s,footnote:r,height:o,listeners:a,locale:c,minHeight:h,minWidth:f,overrideDevicePixelRatio:p,padding:m,subtitle:b,theme:C,title:w,width:D,type:M,cursor:A,nodeClickRange:k,tooltip:_={},value:F,scale:N={},direction:z="vertical",thickness:V,highlightStyle:j,segmentation:U,bar:$,targets:Q,cornerRadius:J,cornerMode:be,label:me,...Y}=e,{chartTooltipOptions:re,seriesTooltipOptions:Z}=Jz(_),Ce=Ar(e,{animation:t,background:i,container:n,contextMenu:s,footnote:r,height:o,listeners:a,locale:c,minHeight:h,minWidth:f,overrideDevicePixelRatio:p,padding:m,subtitle:b,theme:C,title:w,tooltip:re,width:D}),H=Ar(e,{scale:N,type:M,cursor:A,nodeClickRange:k,listeners:a,tooltip:Z,value:F,direction:z,thickness:V,highlightStyle:j,segmentation:U,bar:$,targets:Q,cornerRadius:J,cornerMode:be,label:me,...Y});return{...Ce,series:[H]}}function C_(e,t){if(t==null)return e;const{targets:i,...n}=t;return e=Pt(e,n),e.targets!=null&&i!=null&&(e.targets=Zb(e.targets,i)),e}function xne(e,t){if(yne(e)){const A=C_(e,t);return bne(A)}else if(vne(e)){const A=C_(e,t);return Cne(A)}const{animation:i,background:n,container:s,contextMenu:r,footnote:o,height:a,listeners:c,locale:h,minHeight:f,minWidth:p,padding:m,subtitle:b,theme:C,title:w,tooltip:D,width:M}=e;return Ar(e,{animation:i,background:n,container:s,contextMenu:r,footnote:o,height:a,listeners:c,locale:h,minHeight:f,minWidth:p,padding:m,subtitle:b,theme:C,title:w,tooltip:D,width:M})}var $r={stroke:Ji},ls={fill:Um},x_={color:"white",fill:Ji},hl={color:Ji},xC={color:Wm,fontSize:{$rem:[1.1666666666666667]},fontFamily:{$ref:"fontFamily"}},$v={...xC,textAlign:"left"},pD={...xC,fontSize:{$ref:"fontSize"},color:$m,fill:Ym,stroke:Km,strokeWidth:1,divider:{stroke:Zm,strokeWidth:1,strokeOpacity:.5}},Qw={...$r,background:{fill:wn,fillOpacity:.2},handle:{...ls},text:{...hl},statistics:{...pD}},Sne={line:{...$r,handle:{...ls},text:{...hl}},"horizontal-line":{...$r,handle:{...ls},axisLabel:{...x_},text:{...hl}},"vertical-line":{...$r,handle:{...ls},axisLabel:{...x_},text:{...hl}},"disjoint-channel":{...$r,background:{fill:wn,fillOpacity:.2},handle:{...ls},text:{...hl}},"parallel-channel":{...$r,background:{fill:wn,fillOpacity:.2},handle:{...ls},text:{...hl}},"fibonacci-retracement":{...$r,strokes:sm,rangeStroke:Ji,handle:{...ls},text:{...hl,position:"center"},label:{...xC,color:void 0,fontSize:{$round:[{$mul:[{$ref:"fontSize"},10/12]}]}}},"fibonacci-retracement-trend-based":{...$r,strokes:sm,rangeStroke:Ji,handle:{...ls},text:{...hl,position:"center"},label:{...xC,color:void 0,fontSize:{$round:[{$mul:[{$ref:"fontSize"},10/12]}]}}},callout:{...$r,...$v,color:{$ref:"textColor"},handle:{...ls},fill:wn,fillOpacity:.2},comment:{...$v,color:"white",fontWeight:700,handle:{...ls},fill:Ji},note:{...$v,color:Qm,fill:Ji,stroke:{$ref:"backgroundColor"},strokeWidth:1,strokeOpacity:1,handle:{...ls},background:{fill:Xm,stroke:qm,strokeWidth:1}},text:{...$v,handle:{...ls}},arrow:{...$r,handle:{...ls},text:{...hl}},"arrow-up":{fill:jm,handle:{...ls,stroke:Ji}},"arrow-down":{fill:Vm,handle:{...ls,stroke:Ji}},"date-range":{...Qw},"price-range":{...Qw},"date-price-range":{...Qw},"quick-date-price-range":{up:{...$r,fill:wn,fillOpacity:.2,handle:{...ls},statistics:{...pD,color:"#fff",fill:wn,strokeWidth:0,divider:{stroke:"#fff",strokeWidth:1,strokeOpacity:.5}}},down:{...$r,stroke:om,fill:rm,fillOpacity:.2,handle:{...ls,stroke:om},statistics:{...pD,color:"#fff",fill:rm,strokeWidth:0,divider:{stroke:"#fff",strokeWidth:1,strokeOpacity:.5}}}},axesButtons:{enabled:!0}},wne=["ohlc","line","step-line","hlc","high-low","candlestick","hollow-candlestick"],Mne=[{icon:"trend-line-drawing",tooltip:"toolbarAnnotationsLineAnnotations",value:"line-menu"},{icon:"fibonacci-retracement-drawing",tooltip:"toolbarAnnotationsFibonacciAnnotations",value:"fibonacci-menu"},{icon:"text-annotation",tooltip:"toolbarAnnotationsTextAnnotations",value:"text-menu"},{icon:"arrow-drawing",tooltip:"toolbarAnnotationsShapeAnnotations",value:"shape-menu"},{icon:"measurer-drawing",tooltip:"toolbarAnnotationsMeasurerAnnotations",value:"measurer-menu"},{icon:"delete",tooltip:"toolbarAnnotationsClearAll",value:"clear"}];function Dne(e,t,i){const{dateKey:n="date",highKey:s="high",openKey:r="open",lowKey:o="low",closeKey:a="close",volumeKey:c="volume",chartType:h="candlestick",navigator:f=!1,volume:p=!0,rangeButtons:m=!0,statusBar:b=!0,toolbar:C=!0,zoom:w=!0,theme:D,data:M,...A}=e,k=Tne(h,n,s,o,r,a),_=Lne(i,r,a,p,c),N={navigator:{enabled:f,...p?{miniChart:{enabled:f,series:[{type:"line",xKey:n,yKey:c,stroke:Ax,marker:{enabled:!1}}]},height:40,minHandle:{height:46},maxHandle:{height:46}}:null}},z={annotations:{enabled:C,optionsToolbar:{enabled:C},snap:!0,toolbar:{enabled:C,buttons:Mne,padding:0},data:M,xKey:n,volumeKey:p?c:void 0}},V=b?{statusBar:{enabled:!0,data:M,highKey:s,openKey:r,lowKey:o,closeKey:a,volumeKey:p?c:void 0}}:null,j={zoom:{enabled:w,autoScaling:{enabled:!0},enableIndependentAxes:!0}},U={ranges:{enabled:m}},$=p?[{type:"number",position:"left",keys:[c],label:{enabled:!1},crosshair:{enabled:!1},gridLine:{enabled:!1},nice:!1,layoutConstraints:{stacked:!1,width:20,unit:"percent",align:"end"}}]:[];return{theme:{baseTheme:typeof D=="string"?D:"ag-financial",...Pt(typeof D=="object"?D:null,{overrides:{common:{title:{padding:4},padding:{top:6,right:8,bottom:5},chartToolbar:{enabled:C},annotations:{...Sne},axes:{number:{interval:{maxSpacing:45},label:{format:".2f"}}}},bar:{series:{fillOpacity:.5}},line:{series:{marker:{enabled:!1},...M_(h,{hlc:{stroke:Dx,strokeWidth:2},line:{stroke:wf},"step-line":{stroke:wf,interpolation:{type:"step"}}})}},candlestick:{series:{...M_(h,{"hollow-candlestick":{item:{up:{fill:"transparent"}}}})}},"range-area":{series:{fillOpacity:.3,strokeWidth:2}}}})},animation:{enabled:!1},legend:{enabled:!1},series:[..._,...k],axes:[{type:"number",position:"right",keys:[r,a,s,o],crosshair:{enabled:!0,snap:!1},layoutConstraints:{stacked:!1,width:100,unit:"percent",align:"start"}},...$,{type:"ordinal-time",position:"bottom",line:{enabled:!1},label:{enabled:!0},crosshair:{enabled:!0}}],tooltip:{enabled:!1},data:M,...z,...N,...V,...j,...U,...A}}function Lne(e,t,i,n,s){return n?[{type:"bar",xKey:"date",yKey:s,tooltip:{enabled:!1},itemStyler({datum:r}){const{up:o,down:a}=e().palette;return{fill:r[t]<r[i]?o==null?void 0:o.fill:a==null?void 0:a.fill}},focusPriority:1,fastDataProcessing:!0,highlight:{enabled:!1}}]:[]}var S_="range-area";function Tne(e,t,i,n,s,r){const o={xKey:t,openKey:s,closeKey:r,highKey:i,lowKey:n},a={xKey:t,yKey:r},c={pickOutsideVisibleMinorAxis:!0};switch(e??"candlestick"){case"ohlc":return Ane(c,o);case"line":case"step-line":return Ene(c,a);case"hlc":return Rne(c,a,o);case"high-low":return Ine(c,o);case"candlestick":case"hollow-candlestick":return w_(c,o);default:return Ee.warnOnce(`unknown chart type: ${e}; expected one of: ${wne.join(", ")}`),w_(c,o)}}function Ane(e,t){return[{type:"ohlc",focusPriority:0,...e,...t}]}function Ene(e,t){return[{type:"line",focusPriority:0,...e,...t}]}function Rne(e,t,{xKey:i,highKey:n,closeKey:s,lowKey:r}){return[{type:S_,focusPriority:0,...e,xKey:i,yHighKey:n,yLowKey:s,fill:jm,stroke:Sx},{type:S_,focusPriority:0,...e,xKey:i,yHighKey:s,yLowKey:r,fill:Vm,stroke:wx},{type:"line",...e,...t}]}function Ine(e,{xKey:t,highKey:i,lowKey:n}){return[{type:"range-bar",...e,xKey:t,yHighKey:i,yLowKey:n,fill:Mx,stroke:wf,tooltip:{range:"nearest"},focusPriority:0,fastDataProcessing:!0}]}function w_(e,t){return[{type:"candlestick",focusPriority:0,...e,...t}]}function M_(e,t){return t[e]??t.default}var eG={title:{enabled:!1},label:{enabled:!1},line:{enabled:!1},gridLine:{enabled:!1},crosshair:{enabled:!1,stroke:Tx,lineDash:[0],label:{enabled:!1}}},Jw={...eG,nice:!1},Zv={mode:"compact",position:{anchorTo:"node",placement:["right","left"]},showArrow:!1},eM={style:[{stroke:{$ref:"gridLineColor"}}],width:2},kne={number:{gridLine:eM},time:{gridLine:eM},category:{gridLine:eM}},_ne={overrides:{common:{animation:{enabled:!1},contextMenu:{enabled:!1},keyboard:{enabled:!1},background:{visible:!1},navigator:{enabled:!1},padding:{top:0,right:0,bottom:0,left:0},axes:{number:{...Jw,interval:{values:[0]}},log:{...Jw},time:{...Jw},category:{...eG}}},bar:{series:{crisp:!1,label:{placement:"inside-end",padding:4},sparklineMode:!0},tooltip:{...Zv,position:{...Zv.position,anchorTo:"pointer"},range:"nearest"},axes:kne},line:{seriesArea:{padding:{top:2,right:2,bottom:2,left:2}},series:{sparklineMode:!0,strokeWidth:1,marker:{enabled:!1,size:3}},tooltip:Zv},area:{seriesArea:{padding:{top:1,right:0,bottom:1,left:0}},series:{strokeWidth:1,fillOpacity:.4},tooltip:Zv}}},tG=Ps(Nne);function Nne(e,t){return typeof e=="string"?{...t,baseTheme:e}:e!=null?{...e,baseTheme:tG(e.baseTheme,t)}:t}function iG(e){if(Array.isArray(e)&&e.length!==0){const t=e[0];if(typeof t=="number")return{data:e.map((n,s)=>({x:s,y:n})),series:[{xKey:"x",yKey:"y"}],datumKey:"y"};if(Array.isArray(t))return{data:e.map(n=>({x:n[0],y:n[1],datum:n})),series:[{xKey:"x",yKey:"y"}],datumKey:"datum"}}return{data:e}}function One(e,t){switch(e==null?void 0:e.type){case"number":{const{type:i,min:n,max:s,reverse:r}=e;return Ar(e,{type:i,reverse:r,min:n,max:s})}case"time":{const{type:i,min:n,max:s,reverse:r}=e;return Ar(e,{type:i,reverse:r,min:n,max:s})}case"category":{const{type:i,paddingInner:n,paddingOuter:s,reverse:r}=e;return Ar(e,{type:i,reverse:r,paddingInner:n,paddingOuter:s})}}return{type:t}}function Pne(e,t,i){const n={};return(e==null?void 0:e.stroke)!=null&&(n.style=[{stroke:e==null?void 0:e.stroke}],n.enabled??(n.enabled=!0)),(e==null?void 0:e.strokeWidth)!=null&&(n.width=e==null?void 0:e.strokeWidth,n.enabled??(n.enabled=!0)),i.type==="bar"&&i.direction!=="horizontal"&&(n.enabled??(n.enabled=!0)),(e==null?void 0:e.visible)!=null&&(n.enabled=e.visible),n.enabled??(n.enabled=t),n}var Fne=Ps((e,t,i)=>n=>{var c;const s=n.datum[n.xKey],r=n.datum[n.yKey],o=i!=null?n.datum[i]:n.datum,a=(c=t==null?void 0:t.renderer)==null?void 0:c.call(t,{context:e,datum:o,xValue:s,yValue:r});return typeof a=="string"?a:{heading:void 0,title:void 0,data:[{label:a==null?void 0:a.title,value:(a==null?void 0:a.content)??r.toFixed(2)}]}});function Bne(e){const{background:t,container:i,height:n,listeners:s,locale:r,minHeight:o,minWidth:a,overrideDevicePixelRatio:c,padding:h,width:f,theme:p,data:m,crosshair:b,axis:C,min:w,max:D,tooltip:M,context:A,...k}=e,_=Ar(e,{background:t,container:i,height:n,listeners:s,locale:r,minHeight:o,minWidth:a,overrideDevicePixelRatio:c,padding:h,width:f,tooltip:ir,context:ir,data:ir,crosshair:ir,axis:ir,min:ir,max:ir,theme:ir}),{data:F,series:[N]=[],datumKey:z}=iG(m),V=k;N!=null&&Object.assign(V,N),V.tooltip={...M,renderer:Fne(A,M,z)},_.theme=tG(p,_ne),_.data=F,_.series=[V];const j=V.type!=="bar"||V.direction!=="horizontal",[U,$]=j?["bottom","left"]:["left","bottom"],Q={...One(C,"category"),position:U,...Ar(e,{crosshair:b})},J={type:"number",gridLine:Pne(C,!1,e),position:$,...Ar(e,{min:w,max:D})};return _.axes=j?[J,Q]:[Q,J],_}var zne={"price-volume":Dne,gauge:xne,sparkline:Bne},Gne={sparkline:iG};function D_(e,t){var o,a,c,h;let i=[];const n=mT(e),s=Pl(e),r=s?Gi.get(s):"unknown";for(const f of Nm)if(!(r!=="unknown"&&!f.chartTypes.includes(r))){if(f.type==="root"||f.type==="legend"){const p=e[f.optionsKey];if(p==null)continue;f.optionsInnerKey?p[f.optionsInnerKey]&&(i.push(`${f.optionsKey}.${f.optionsInnerKey}`),delete p[f.optionsInnerKey]):(i.push(f.optionsKey),delete e[f.optionsKey])}else if(f.type==="axis"){if(!("axes"in e)||!bt(e.axes)||!((o=e.axes)!=null&&o.some(p=>p.type===f.identifier)))continue;i.push(`axis[type=${f.identifier}]`),e.axes=e.axes.filter(p=>p.type!==f.identifier)}else if(f.type==="axis-option"){if(!("axes"in e)||!bt(e.axes)||!((a=e.axes)!=null&&a.some(p=>p[f.optionsKey])))continue;i.push(`axis.${f.optionsKey}`),e.axes.forEach(p=>{p[f.optionsKey]&&delete p[f.optionsKey]})}else if(f.type==="series"){if(f.community||!bt(e.series)||!((c=e.series)!=null&&c.some(p=>p.type===f.identifier)))continue;i.push(`series[type=${f.identifier}]`),e.series=e.series.filter(p=>p.type!==f.identifier)}else if(f.type==="series-option"){if(!bt(e.series)||!((h=e.series)!=null&&h.some(p=>p[f.optionsKey])))continue;i.push(`series.${f.optionsKey}`),e.series.forEach(p=>{p[f.optionsKey]&&delete p[f.optionsKey]})}}if(i.length&&!t){n&&(i=["AgCharts.createGauge"]);let f="ag-charts-enterprise",p="https://www.ag-grid.com/charts/javascript/installation/";e.mode==="integrated"&&(f="ag-grid-charts-enterprise' or 'ag-grid-enterprise/charts-enterprise",p="https://www.ag-grid.com/javascript-data-grid/integrated-charts-installation/"),Ee.warnOnce([`unable to use these enterprise features as '${f}' has not been loaded:`,"",...i,"",`See: ${p}`].join(`
`))}}function Hne(e){const t="mode"in e&&e.mode==="integrated";for(const i of ba.byType("root","legend")){const n=e[i.optionsKey],s=n!=null&&n.enabled===!1,r=!("removable"in i)||i.removable===!0||i.removable==="standalone-only"&&!t;s&&r&&delete e[i.optionsKey]}}function nG(e){return e!=null&&e.up||e!=null&&e.down||e!=null&&e.neutral?"user-full":e!=null&&e.fills||e!=null&&e.strokes?"user-indexed":"inbuilt"}var tM="white",mD={get cartesian(){return{seriesTypes:Gi.cartesianTypes,commonOptions:["zoom","navigator"]}},get polar(){return{seriesTypes:Gi.polarTypes,commonOptions:[]}},get hierarchy(){return{seriesTypes:Gi.hierarchyTypes,commonOptions:[]}},get topology(){return{seriesTypes:Gi.topologyTypes,commonOptions:[]}},get"flow-proportion"(){return{seriesTypes:Gi.flowProportionTypes,commonOptions:[]}},get standalone(){return{seriesTypes:Gi.standaloneTypes,commonOptions:[]}},get gauge(){return{seriesTypes:Gi.gaugeTypes,commonOptions:[]}}},jne={"radial-gauge":!0,"linear-gauge":!0};function L_(e){return jne[e]===!0}var Vne=Object.values(mD).reduce((e,{commonOptions:t})=>e.concat(t),[]),Zr=class Lp{static getDefaultColors(){return{fills:rn,fillsFallback:Object.values(rn),strokes:da,sequentialColors:Pr(rn),divergingColors:[rn.ORANGE,rn.YELLOW,rn.GREEN],hierarchyColors:["#fff","#e0e5ea","#c1ccd5","#a3b4c1","#859cad"],secondSequentialColors:ni.interpolate([ni.fromHexString(rn.BLUE),ni.fromHexString("#cbdef5")],8).map(t=>t.toString()),secondDivergingColors:[rn.GREEN,rn.YELLOW,rn.RED],secondHierarchyColors:["#fff","#c5cbd1","#a4b1bd","#8498a9","#648096"],up:{fill:rn.GREEN,stroke:da.GREEN},down:{fill:rn.RED,stroke:da.RED},neutral:{fill:rn.GRAY,stroke:da.GRAY},altUp:{fill:rn.BLUE,stroke:da.BLUE},altDown:{fill:rn.ORANGE,stroke:da.ORANGE},altNeutral:{fill:rn.GRAY,stroke:da.GRAY}}}static getDefaultPublicParameters(){return{accentColor:"#2196f3",axisColor:{$foregroundBackgroundMix:[.675]},backgroundColor:tM,borderColor:{$foregroundBackgroundMix:[.818]},foregroundColor:"#464646",fontFamily:"Verdana, sans-serif",fontSize:12,fontWeight:400,gridLineColor:{$foregroundBackgroundAccentMix:[.93,.085]},padding:20,subtleTextColor:{$mix:[{$ref:"textColor"},{$ref:"backgroundColor"},.38]},textColor:{$ref:"foregroundColor"},chromeBackgroundColor:{$foregroundBackgroundMix:[.975]},chromeFontFamily:{$ref:"fontFamily"},chromeFontSize:{$ref:"fontSize"},chromeFontWeight:{$ref:"fontWeight"},chromeTextColor:"#181d1f",chromeSubtleTextColor:{$mix:[{$ref:"chromeTextColor"},{$ref:"backgroundColor"},.38]},inputBackgroundColor:{$ref:"backgroundColor"},inputTextColor:{$ref:"textColor"},crosshairLabelBackgroundColor:{$ref:"foregroundColor"},crosshairLabelTextColor:{$ref:"backgroundColor"}}}static getAxisDefaults(t,i=!0){return Pt(t,i&&{title:{enabled:!1,text:"Axis Title",spacing:25,fontWeight:{$ref:"fontWeight"},fontSize:{$rem:[1.0833333333333333]},fontFamily:{$ref:"fontFamily"},color:{$ref:"textColor"}}},{label:{fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},fontWeight:{$ref:"fontWeight"},spacing:11,color:{$ref:"textColor"},avoidCollisions:!0},line:{enabled:!0,width:1,stroke:{$ref:"axisColor"}},tick:{enabled:!1,width:1,stroke:{$ref:"axisColor"}},gridLine:{enabled:!0,style:[{stroke:{$ref:"gridLineColor"},lineDash:[]}]},crossLines:{enabled:!0,fill:{$ref:"foregroundColor"},stroke:{$ref:"foregroundColor"},fillOpacity:.1,strokeWidth:1,label:{fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},fontWeight:{$ref:"fontWeight"},padding:5,color:{$ref:"textColor"}}}})}getChartDefaults(){return{minHeight:300,minWidth:300,background:{visible:!0,fill:{$ref:"backgroundColor"}},padding:{top:{$ref:"padding"},right:{$ref:"padding"},bottom:{$ref:"padding"},left:{$ref:"padding"}},seriesArea:{padding:{top:0,right:0,bottom:0,left:0}},keyboard:{enabled:!0},title:{enabled:!1,text:"Title",spacing:{$if:[{$path:"../subtitle/enabled"},10,20]},fontWeight:{$ref:"fontWeight"},fontSize:{$rem:[1.4166666666666667]},fontFamily:{$ref:"fontFamily"},color:{$ref:"textColor"},wrapping:"hyphenate",layoutStyle:Kc,textAlign:$c},subtitle:{enabled:!1,text:"Subtitle",spacing:20,fontWeight:{$ref:"fontWeight"},fontSize:{$rem:[1.0833333333333333]},fontFamily:{$ref:"fontFamily"},color:{$ref:"subtleTextColor"},wrapping:"hyphenate",layoutStyle:Kc,textAlign:$c},footnote:{enabled:!1,text:"Footnote",spacing:20,fontSize:{$rem:[1.0833333333333333]},fontFamily:{$ref:"fontFamily"},fontWeight:{$ref:"fontWeight"},color:{$ref:"subtleTextColor"},wrapping:"hyphenate",layoutStyle:Kc,textAlign:$c},legend:{position:"bottom",orientation:{$if:[{$or:[{$eq:[{$path:"./position"},"left"]},{$eq:[{$path:"./position"},"right"]}]},"vertical","horizontal"]},spacing:30,listeners:{},toggleSeries:!0,item:{paddingX:16,paddingY:8,marker:{size:15,padding:8},showSeriesStroke:!0,label:{color:{$ref:"textColor"},fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},fontWeight:{$ref:"fontWeight"}}},reverseOrder:!1,pagination:{marker:{size:12},activeStyle:{fill:{$ref:"foregroundColor"}},inactiveStyle:{fill:{$ref:"subtleTextColor"}},highlightStyle:{fill:{$ref:"foregroundColor"}},label:{color:{$ref:"textColor"}}}},tooltip:{enabled:!0,darkTheme:uf,delay:0,pagination:!1},overlays:{darkTheme:uf},listeners:{}}}constructor(t={}){const{overrides:i,palette:n}=Ii(t),s=this.createChartConfigPerChartType(this.getDefaults()),r={};i&&this.mergeOverrides(s,r,i);const{fills:o,strokes:a,sequentialColors:c,...h}=this.getDefaultColors();this.palette=Eh(Pt(n,{fills:Object.values(o),strokes:Object.values(a),sequentialColors:Object.values(c),...h})),this.paletteType=nG(n),this.config=Eh(this.templateTheme(s)),this.presets=Eh(r)}mergeOverrides(t,i,n){for(const{seriesTypes:s,commonOptions:r}of Object.values(mD)){const o={...n.common};for(const a of Vne)r.includes(a)||delete o[a];if(o)for(const a of s){const c=a;L_(c)||(t[c]=Pt(o,t[c]))}}Gi.seriesTypes.forEach(s=>{const r=s,o=n[r];L_(r)?i[r]=o:t[r]=Pt(o,t[r])})}createChartConfigPerChartType(t){for(const[i,{seriesTypes:n}]of _o(mD)){const s=QM.get(i);for(const r of n)t[r]??(t[r]=Ii(s))}return t}getDefaults(){const t=(i,n)=>{const s={},r={axes:{},...iT.getThemeTemplates(),...this.getChartDefaults(),...QM.get(i)};for(const o of n){s[o]=Pt(Qr.getThemeTemplate(o),s[o]??Ii(r));const{axes:a}=s[o];for(const c of Rh.keys())a[c]=Pt(a[c],Rh.getThemeTemplate(c),Lp.axisDefault[c])}return s};return Pt(t("cartesian",Gi.cartesianTypes),t("polar",Gi.polarTypes),t("hierarchy",Gi.hierarchyTypes),t("topology",Gi.topologyTypes),t("flow-proportion",Gi.flowProportionTypes),t("standalone",Gi.standaloneTypes),t("gauge",Gi.gaugeTypes))}static applyTemplateTheme(t,i,n){if(bt(t))for(let s=0;s<t.length;s++){const r=t[s];typeof r=="symbol"&&(n!=null&&n.has(r))&&(t[s]=n.get(r))}else for(const s of Object.keys(t)){const r=t[s];typeof r=="symbol"&&(n!=null&&n.has(r))&&(t[s]=n.get(r))}}templateTheme(t,i=!0){const n=i?Ii(t):t,s=this.getTemplateParameters();return ml(n,Lp.applyTemplateTheme,void 0,void 0,s),n}getDefaultColors(){return Lp.getDefaultColors()}getPublicParameters(){return Lp.getDefaultPublicParameters()}getTemplateParameters(){var s,r,o,a,c,h,f,p,m,b,C,w;const{isEnterprise:t}=Fs,i=new Map;i.set(uf,!1),i.set(kT,t),i.set(IT,!t),i.set(Hm,"#d9d9d9"),i.set(xu,"#00000080"),i.set(Tx,"#aaa"),i.set(Kc,"block"),i.set($c,"center"),i.set(sm,["#797b86","#e24c4a","#f49d2d","#65ab58","#409682","#4db9d2","#5090dc","#3068f9","#e24c4a","#913aac","#d93e64"]),i.set(Lx,tM),i.set(Ji,rn.BLUE),i.set(wn,rn.BLUE),i.set(Wm,rn.BLUE),i.set(Um,tM),i.set(Ym,"#fafafa"),i.set(Km,"#ddd"),i.set($m,"#000"),i.set(Zm,"#181d1f"),i.set(rm,"#e35c5c"),i.set(om,"#e35c5c"),i.set(Xm,"#fafafa"),i.set(qm,"#ddd"),i.set(Qm,"#000"),i.set(Jm,"top"),i.set(ga,!1);const n=this.getDefaultColors();return i.set(Sx,((s=this.palette.up)==null?void 0:s.stroke)??n.up.stroke),i.set(jm,((r=this.palette.up)==null?void 0:r.fill)??n.up.fill),i.set(wx,((o=this.palette.down)==null?void 0:o.stroke)??n.down.stroke),i.set(Vm,((a=this.palette.down)==null?void 0:a.fill)??n.down.fill),i.set(wf,((c=this.palette.neutral)==null?void 0:c.stroke)??n.neutral.stroke),i.set(Mx,((h=this.palette.neutral)==null?void 0:h.fill)??n.neutral.fill),i.set(_T,((f=this.palette.altUp)==null?void 0:f.stroke)??n.up.stroke),i.set(OT,((p=this.palette.altUp)==null?void 0:p.fill)??n.up.fill),i.set(NT,((m=this.palette.altDown)==null?void 0:m.stroke)??n.down.stroke),i.set(PT,((b=this.palette.altDown)==null?void 0:b.fill)??n.down.fill),i.set(FT,((C=this.palette.altNeutral)==null?void 0:C.fill)??n.altNeutral.fill),i.set(Dx,((w=this.palette.altNeutral)==null?void 0:w.stroke)??n.altNeutral.stroke),i}};Zr.axisDefault={number:Zr.getAxisDefaults({keys:[],line:{enabled:!1},crosshair:{enabled:!0}}),log:Zr.getAxisDefaults({keys:[],base:10,line:{enabled:!1},crosshair:{enabled:!0}}),category:Zr.getAxisDefaults({keys:[],groupPaddingInner:.1,label:{autoRotate:!0},gridLine:{enabled:ga},crosshair:{enabled:!1}}),"grouped-category":Zr.getAxisDefaults({keys:[],tick:{enabled:!0,stroke:Hm},label:{spacing:10,rotation:270},paddingInner:.4,groupPaddingInner:.2,crosshair:{enabled:!1}}),time:Zr.getAxisDefaults({keys:[],gridLine:{enabled:ga},crosshair:{enabled:!0}}),"ordinal-time":Zr.getAxisDefaults({keys:[],groupPaddingInner:0,label:{autoRotate:!1},gridLine:{enabled:ga},crosshair:{enabled:!0}}),"angle-category":Zr.getAxisDefaults({label:{spacing:5},gridLine:{enabled:ga},shape:{$path:["./shape",void 0,{$find:[{$not:[{$isOperation:"./shape"}]},{$path:".."}]}]}},!1),"angle-number":Zr.getAxisDefaults({label:{spacing:5},gridLine:{enabled:ga}},!1),"radius-category":Zr.getAxisDefaults({positionAngle:0,line:{enabled:!1}}),"radius-number":Zr.getAxisDefaults({positionAngle:0,line:{enabled:!1},shape:{$path:["./shape",void 0,{$find:[{$not:[{$isOperation:"./shape"}]},{$path:".."}]}]}})};var Go=Zr,iM="#192232",ns={BLUE:"#5090dc",ORANGE:"#ffa03a",GREEN:"#459d55",CYAN:"#34bfe1",YELLOW:"#e1cc00",VIOLET:"#9669cb",GRAY:"#b5b5b5",MAGENTA:"#bd5aa7",BROWN:"#8a6224",RED:"#ef5452"},nh={BLUE:"#74a8e6",ORANGE:"#ffbe70",GREEN:"#6cb176",CYAN:"#75d4ef",YELLOW:"#f6e559",VIOLET:"#aa86d8",GRAY:"#a1a1a1",MAGENTA:"#ce7ab9",BROWN:"#997b52",RED:"#ff7872"},qf=class extends Go{getDefaultColors(){return{fills:ns,fillsFallback:Object.values(ns),strokes:nh,sequentialColors:Pr(ns),divergingColors:[ns.ORANGE,ns.YELLOW,ns.GREEN],hierarchyColors:["#192834","#253746","#324859","#3f596c","#4d6a80"],secondSequentialColors:["#5090dc","#4882c6","#4073b0","#38659a","#305684","#28486e","#203a58","#182b42"],secondDivergingColors:[ns.GREEN,ns.YELLOW,ns.RED],secondHierarchyColors:["#192834","#3b5164","#496275","#577287","#668399"],up:{fill:ns.GREEN,stroke:nh.GREEN},down:{fill:ns.RED,stroke:nh.RED},neutral:{fill:ns.GRAY,stroke:nh.GRAY},altUp:{fill:ns.BLUE,stroke:nh.BLUE},altDown:{fill:ns.ORANGE,stroke:nh.ORANGE},altNeutral:{fill:ns.GRAY,stroke:nh.GRAY}}}getPublicParameters(){return{...super.getPublicParameters(),axisColor:{$foregroundBackgroundMix:[.263]},backgroundColor:iM,borderColor:{$foregroundBackgroundMix:[.784]},chromeBackgroundColor:{$foregroundBackgroundMix:[.93]},foregroundColor:"#fff",gridLineColor:{$foregroundBackgroundAccentMix:[.743,.01]},subtleTextColor:{$mix:[{$ref:"textColor"},{$ref:"backgroundColor"},.57]},chromeTextColor:{$ref:"textColor"},crosshairLabelBackgroundColor:{$foregroundBackgroundAccentMix:[.35,.1]}}}getTemplateParameters(){const e=super.getTemplateParameters();return e.set(uf,!0),e.set(Lx,iM),e.set(Hm,"#7f8389"),e.set(Ji,ns.BLUE),e.set(Wm,"#fff"),e.set(wn,ns.BLUE),e.set(Um,iM),e.set(Ym,"#28313e"),e.set(Km,"#4b525d"),e.set($m,"#fff"),e.set(Zm,"#fff"),e.set(Xm,"#28313e"),e.set(qm,"#4b525d"),e.set(Qm,"#fff"),e}constructor(e){super(e)}},Js={GREEN:"#089981",RED:"#F23645",BLUE:"#5090dc",GRAY:"#A9A9A9"},sh={GREEN:"#089981",RED:"#F23645",BLUE:"#5090dc",GRAY:"#909090"},Wne=class extends qf{getDefaultColors(){return{...super.getDefaultColors(),fills:{...Js},fillsFallback:Object.values({...Js}),strokes:{...sh},sequentialColors:Pr(Js),divergingColors:[Js.GREEN,Js.BLUE,Js.RED],secondSequentialColors:["#5090dc","#4882c6","#4073b0","#38659a","#305684","#28486e","#203a58","#182b42"],up:{fill:Js.GREEN,stroke:sh.GREEN},down:{fill:Js.RED,stroke:sh.RED},neutral:{fill:Js.BLUE,stroke:sh.BLUE},altUp:{fill:Js.GREEN,stroke:sh.GREEN},altDown:{fill:Js.RED,stroke:sh.RED},altNeutral:{fill:Js.GRAY,stroke:sh.GRAY}}}getPublicParameters(){return{...super.getPublicParameters(),gridLineColor:{$foregroundBackgroundAccentMix:[.88,.01]},padding:0}}getTemplateParameters(){const e=super.getTemplateParameters();return e.set(Ji,Js.BLUE),e.set(wn,Js.BLUE),e.set(Kc,"overlay"),e.set($c,"left"),e.set(Jm,"bottom"),e.set(ga,!0),e}},er={GREEN:"#089981",RED:"#F23645",BLUE:"#5090dc",GRAY:"#A9A9A9"},rh={GREEN:"#089981",RED:"#F23645",BLUE:"#5090dc",GRAY:"#909090"},Une=class extends Go{getDefaultColors(){return{...super.getDefaultColors(),fills:{...er},fillsFallback:Object.values({...er}),strokes:{...rh},sequentialColors:Pr(er),divergingColors:[er.GREEN,er.BLUE,er.RED],up:{fill:er.GREEN,stroke:rh.GREEN},down:{fill:er.RED,stroke:rh.RED},neutral:{fill:er.BLUE,stroke:rh.BLUE},altUp:{fill:er.GREEN,stroke:rh.GREEN},altDown:{fill:er.RED,stroke:rh.RED},altNeutral:{fill:er.GRAY,stroke:rh.GRAY}}}getPublicParameters(){return{...super.getPublicParameters(),gridLineColor:{$foregroundBackgroundAccentMix:[.94,.01]},padding:0}}getTemplateParameters(){const e=super.getTemplateParameters();return e.set(Ji,er.BLUE),e.set(wn,er.BLUE),e.set(Kc,"overlay"),e.set($c,"left"),e.set(Jm,"bottom"),e.set(ga,!0),e}},ss={BLUE:"#2196F3",ORANGE:"#FF9800",GREEN:"#4CAF50",CYAN:"#00BCD4",YELLOW:"#FFEB3B",VIOLET:"#7E57C2",GRAY:"#9E9E9E",MAGENTA:"#F06292",BROWN:"#795548",RED:"#F44336"},oh={BLUE:"#90CAF9",ORANGE:"#FFCC80",GREEN:"#A5D6A7",CYAN:"#80DEEA",YELLOW:"#FFF9C4",VIOLET:"#B39DDB",GRAY:"#E0E0E0",MAGENTA:"#F48FB1",BROWN:"#A1887F",RED:"#EF9A9A"},Yne=class extends qf{getDefaultColors(){return{...super.getDefaultColors(),fills:ss,fillsFallback:Object.values(ss),strokes:oh,sequentialColors:Pr(ss),divergingColors:[ss.ORANGE,ss.YELLOW,ss.GREEN],secondSequentialColors:["#2196f3","#208FEC","#1E88E5","#1C7FDC","#1976d2","#176EC9","#1565c0"],secondDivergingColors:[ss.GREEN,ss.YELLOW,ss.RED],up:{fill:ss.GREEN,stroke:oh.GREEN},down:{fill:ss.RED,stroke:oh.RED},neutral:{fill:ss.GRAY,stroke:oh.GRAY},altUp:{fill:ss.BLUE,stroke:oh.BLUE},altDown:{fill:ss.RED,stroke:oh.RED},altNeutral:{fill:ss.GRAY,stroke:oh.GRAY}}}getTemplateParameters(){const e=super.getTemplateParameters();return e.set(Ji,ss.BLUE),e.set(wn,ss.BLUE),e}},rs={BLUE:"#2196F3",ORANGE:"#FF9800",GREEN:"#4CAF50",CYAN:"#00BCD4",YELLOW:"#FFEB3B",VIOLET:"#7E57C2",GRAY:"#9E9E9E",MAGENTA:"#F06292",BROWN:"#795548",RED:"#F44336"},ah={BLUE:"#1565C0",ORANGE:"#E65100",GREEN:"#2E7D32",CYAN:"#00838F",YELLOW:"#F9A825",VIOLET:"#4527A0",GRAY:"#616161",MAGENTA:"#C2185B",BROWN:"#4E342E",RED:"#B71C1C"},Kne=class extends Go{getDefaultColors(){return{...super.getDefaultColors(),fills:rs,fillsFallback:Object.values(rs),strokes:ah,sequentialColors:Pr(rs),divergingColors:[rs.ORANGE,rs.YELLOW,rs.GREEN],secondSequentialColors:["#2196f3","#329EF4","#42a5f5","#53ADF6","#64b5f6","#7AC0F8","#90caf9"],secondDivergingColors:[rs.GREEN,rs.YELLOW,rs.RED],up:{fill:rs.GREEN,stroke:ah.GREEN},down:{fill:rs.RED,stroke:ah.RED},neutral:{fill:rs.GRAY,stroke:ah.GRAY},altUp:{fill:rs.BLUE,stroke:ah.BLUE},altDown:{fill:rs.RED,stroke:ah.RED},altNeutral:{fill:rs.GRAY,stroke:ah.GRAY}}}getTemplateParameters(){const e=super.getTemplateParameters();return e.set(Ji,rs.BLUE),e.set(wn,rs.BLUE),e}},Zi={BLUE:"#436ff4",PURPLE:"#9a7bff",MAGENTA:"#d165d2",PINK:"#f0598b",RED:"#f47348",ORANGE:"#f2a602",YELLOW:"#e9e201",GREEN:"#21b448",CYAN:"#00b9a2",MODERATE_BLUE:"#00aee4",GRAY:"#bbbbbb"},lh={BLUE:"#6698ff",PURPLE:"#c0a3ff",MAGENTA:"#fc8dfc",PINK:"#ff82b1",RED:"#ff9b70",ORANGE:"#ffcf4e",YELLOW:"#ffff58",GREEN:"#58dd70",CYAN:"#51e2c9",MODERATE_BLUE:"#4fd7ff",GRAY:"#eeeeee"},$ne=class extends qf{getDefaultColors(){return{fills:Zi,fillsFallback:Object.values(Zi),strokes:lh,sequentialColors:Pr(Zi),divergingColors:[Zi.BLUE,Zi.RED],hierarchyColors:[],secondSequentialColors:[Zi.BLUE,Zi.PURPLE,Zi.MAGENTA,Zi.PINK,Zi.RED,Zi.ORANGE,Zi.YELLOW,Zi.GREEN],secondDivergingColors:[Zi.BLUE,Zi.RED],secondHierarchyColors:[],up:{fill:Zi.GREEN,stroke:lh.GREEN},down:{fill:Zi.RED,stroke:lh.RED},neutral:{fill:Zi.GRAY,stroke:lh.GRAY},altUp:{fill:Zi.BLUE,stroke:lh.BLUE},altDown:{fill:Zi.RED,stroke:lh.RED},altNeutral:{fill:Zi.GRAY,stroke:lh.GRAY}}}getTemplateParameters(){const e=super.getTemplateParameters();return e.set(Ji,Zi.BLUE),e.set(wn,Zi.BLUE),e}},Xi={BLUE:"#436ff4",PURPLE:"#9a7bff",MAGENTA:"#d165d2",PINK:"#f0598b",RED:"#f47348",ORANGE:"#f2a602",YELLOW:"#e9e201",GREEN:"#21b448",CYAN:"#00b9a2",MODERATE_BLUE:"#00aee4",GRAY:"#bbbbbb"},ch={BLUE:"#2346c9",PURPLE:"#7653d4",MAGENTA:"#a73da9",PINK:"#c32d66",RED:"#c84b1c",ORANGE:"#c87f00",YELLOW:"#c1b900",GREEN:"#008c1c",CYAN:"#00927c",MODERATE_BLUE:"#0087bb",GRAY:"#888888"},Zne=class extends Go{getDefaultColors(){return{...super.getDefaultColors(),fills:Xi,fillsFallback:Object.values(Xi),strokes:ch,sequentialColors:Pr(Xi),divergingColors:[Xi.BLUE,Xi.RED],hierarchyColors:[],secondSequentialColors:[Xi.BLUE,Xi.PURPLE,Xi.MAGENTA,Xi.PINK,Xi.RED,Xi.ORANGE,Xi.YELLOW,Xi.GREEN],secondDivergingColors:[Xi.BLUE,Xi.RED],secondHierarchyColors:[],up:{fill:Xi.GREEN,stroke:ch.GREEN},down:{fill:Xi.RED,stroke:ch.RED},neutral:{fill:Xi.GRAY,stroke:ch.GRAY},altUp:{fill:Xi.BLUE,stroke:ch.BLUE},altDown:{fill:Xi.RED,stroke:ch.RED},altNeutral:{fill:Xi.GRAY,stroke:ch.GRAY}}}getTemplateParameters(){const e=super.getTemplateParameters();return e.set(Ji,Xi.BLUE),e.set(wn,Xi.BLUE),e}},xn={BLUE:"#4472C4",ORANGE:"#ED7D31",GRAY:"#A5A5A5",YELLOW:"#FFC000",MODERATE_BLUE:"#5B9BD5",GREEN:"#70AD47",DARK_GRAY:"#7B7B7B",DARK_BLUE:"#264478",VERY_DARK_GRAY:"#636363",DARK_YELLOW:"#997300"},Pc={BLUE:"#6899ee",ORANGE:"#ffa55d",GRAY:"#cdcdcd",YELLOW:"#ffea53",MODERATE_BLUE:"#82c3ff",GREEN:"#96d56f",DARK_GRAY:"#a1a1a1",DARK_BLUE:"#47689f",VERY_DARK_GRAY:"#878787",DARK_YELLOW:"#c0993d"},Xne=class extends qf{getDefaultColors(){return{...super.getDefaultColors(),fills:{...xn,RED:xn.ORANGE},fillsFallback:Object.values({...xn,RED:xn.ORANGE}),strokes:{...Pc,RED:Pc.ORANGE},sequentialColors:Pr({...xn,RED:xn.ORANGE}),divergingColors:[xn.ORANGE,xn.YELLOW,xn.GREEN],secondSequentialColors:["#5090dc","#4882c6","#4073b0","#38659a","#305684","#28486e","#203a58","#182b42"],secondDivergingColors:[xn.GREEN,xn.YELLOW,xn.ORANGE],up:{fill:xn.GREEN,stroke:Pc.GREEN},down:{fill:xn.ORANGE,stroke:Pc.ORANGE},neutral:{fill:xn.GRAY,stroke:Pc.GRAY},altUp:{fill:xn.BLUE,stroke:Pc.BLUE},altDown:{fill:xn.ORANGE,stroke:Pc.ORANGE},altNeutral:{fill:xn.GRAY,stroke:Pc.GRAY}}}getTemplateParameters(){const e=super.getTemplateParameters();return e.set(Ji,xn.BLUE),e.set(wn,xn.BLUE),e}},An={BLUE:"#5281d5",ORANGE:"#ff8d44",GRAY:"#b5b5b5",YELLOW:"#ffd02f",MODERATE_BLUE:"#6aabe6",GREEN:"#7fbd57",DARK_GRAY:"#8a8a8a",DARK_BLUE:"#335287",VERY_DARK_GRAY:"#717171",DARK_YELLOW:"#a98220"},cl={BLUE:"#214d9b",ORANGE:"#c25600",GRAY:"#7f7f7f",YELLOW:"#d59800",MODERATE_BLUE:"#3575ac",GREEN:"#4b861a",DARK_GRAY:"#575757",DARK_BLUE:"#062253",VERY_DARK_GRAY:"#414141",DARK_YELLOW:"#734f00"},qne=class extends Go{getDefaultColors(){return{...super.getDefaultColors(),fills:{...An,RED:An.ORANGE},fillsFallback:Object.values({...An,RED:An.ORANGE}),strokes:{...cl,RED:cl.ORANGE},sequentialColors:Pr({...An,RED:An.ORANGE}),divergingColors:[An.ORANGE,An.YELLOW,An.GREEN],secondSequentialColors:["#5090dc","#629be0","#73a6e3","#85b1e7","#96bcea","#a8c8ee","#b9d3f1","#cbdef5"],secondDivergingColors:[An.GREEN,An.YELLOW,An.ORANGE],secondHierarchyColors:[],up:{fill:An.GREEN,stroke:cl.GREEN},down:{fill:An.ORANGE,stroke:cl.ORANGE},neutral:{fill:cl.GRAY,stroke:cl.GRAY},altUp:{fill:An.BLUE,stroke:cl.BLUE},altDown:{fill:An.ORANGE,stroke:cl.ORANGE},altNeutral:{fill:An.GRAY,stroke:cl.GRAY}}}getTemplateParameters(){const e=super.getTemplateParameters();return e.set(Ji,An.BLUE),e.set(wn,An.BLUE),e}},os={BLUE:"#0083ff",ORANGE:"#ff6600",GREEN:"#00af00",CYAN:"#00ccff",YELLOW:"#f7c700",VIOLET:"#ac26ff",GRAY:"#a7a7b7",MAGENTA:"#e800c5",BROWN:"#b54300",RED:"#ff0000"},uh={BLUE:"#67b7ff",ORANGE:"#ffc24d",GREEN:"#5cc86f",CYAN:"#54ebff",VIOLET:"#fff653",YELLOW:"#c18aff",GRAY:"#aeaeae",MAGENTA:"#f078d4",BROWN:"#ba8438",RED:"#ff726e"},Qne=class extends qf{getDefaultColors(){return{fills:os,fillsFallback:Object.values(os),strokes:uh,sequentialColors:Pr(os),divergingColors:[os.ORANGE,os.YELLOW,os.GREEN],hierarchyColors:[],secondSequentialColors:["#0083ff","#0076e6","#0069cc","#005cb3","#004f99","#004280","#003466","#00274c"],secondDivergingColors:[os.GREEN,os.YELLOW,os.RED],secondHierarchyColors:[],up:{fill:os.GREEN,stroke:uh.GREEN},down:{fill:os.RED,stroke:uh.RED},neutral:{fill:os.GRAY,stroke:uh.GRAY},altUp:{fill:os.BLUE,stroke:uh.BLUE},altDown:{fill:os.ORANGE,stroke:uh.ORANGE},altNeutral:{fill:os.GRAY,stroke:uh.GRAY}}}getTemplateParameters(){const e=super.getTemplateParameters();return e.set(Ji,os.BLUE),e.set(wn,os.BLUE),e}},as={BLUE:"#0083ff",ORANGE:"#ff6600",GREEN:"#00af00",CYAN:"#00ccff",YELLOW:"#f7c700",VIOLET:"#ac26ff",GRAY:"#a7a7b7",MAGENTA:"#e800c5",BROWN:"#b54300",RED:"#ff0000"},hh={BLUE:"#0f68c0",ORANGE:"#d47100",GREEN:"#007922",CYAN:"#009ac2",VIOLET:"#bca400",YELLOW:"#753cac",GRAY:"#646464",MAGENTA:"#9b2685",BROWN:"#6c3b00",RED:"#cb0021"},Jne=class extends Go{getDefaultColors(){return{...super.getDefaultColors(),fills:as,fillsFallback:Object.values(as),strokes:hh,sequentialColors:Pr(as),divergingColors:[as.ORANGE,as.YELLOW,as.GREEN],hierarchyColors:[],secondSequentialColors:["#0083ff","#1a8fff","#339cff","#4da8ff","#66b5ff","#80c1ff","#99cdff","#b3daff"],secondDivergingColors:[as.GREEN,as.YELLOW,as.RED],secondHierarchyColors:[],up:{fill:as.GREEN,stroke:hh.GREEN},down:{fill:as.RED,stroke:hh.RED},neutral:{fill:as.GRAY,stroke:hh.GRAY},altUp:{fill:as.BLUE,stroke:hh.BLUE},altDown:{fill:as.ORANGE,stroke:hh.ORANGE},altNeutral:{fill:as.GRAY,stroke:hh.GRAY}}}getTemplateParameters(){const e=super.getTemplateParameters();return e.set(Ji,as.BLUE),e.set(wn,as.BLUE),e}},df=Ps(()=>new Go),ese=Ps(()=>new qf),tse=$t.create(!0,"perf"),To=(e,t,i)=>{tse("[CACHE] ChartTheme",e,t.name,i)},fA={"ag-default-dark":ese,"ag-sheets-dark":Ps(()=>new Xne,To),"ag-polychroma-dark":Ps(()=>new $ne,To),"ag-vivid-dark":Ps(()=>new Qne,To),"ag-material-dark":Ps(()=>new Yne,To),"ag-financial-dark":Ps(()=>new Wne,To),null:df,undefined:df,"ag-default":df,"ag-sheets":Ps(()=>new qne,To),"ag-polychroma":Ps(()=>new Zne,To),"ag-vivid":Ps(()=>new Jne,To),"ag-material":Ps(()=>new Kne,To),"ag-financial":Ps(()=>new Une,To)},SC=Ps(ise,To);function ise(e){if(e instanceof Go)return e;if(e==null||typeof e=="string"){const i=fA[e];return i?i():(Ee.warnOnce(`the theme [${e}] is invalid, using [ag-default] instead.`),df())}const{errors:t}=Eo(e,sG,"theme");if(!t.length){const i=nse(e),n=i.baseTheme?SC(i.baseTheme):df();return new n.constructor(i)}for(const{message:i}of t)Ee.warnOnce(i);return df()}function nse(e){let t=e,i,n;const s=[];for(;typeof t=="object";)i??(i=t.palette),n??(n=t.params),t.overrides&&s.push(t.overrides),t=t.baseTheme;return{baseTheme:t,overrides:Pt(...s),params:n,palette:i}}var sG={baseTheme:qi(Fe,Yp),overrides:Yp,params:{accentColor:wt,axisColor:wt,backgroundColor:wt,borderColor:wt,foregroundColor:wt,fontFamily:Fe,fontSize:it,fontWeight:qi(Fe,it),gridLineColor:wt,padding:it,subtleTextColor:wt,textColor:wt,chromeBackgroundColor:wt,chromeFontFamily:Fe,chromeFontSize:it,chromeFontWeight:qi(Fe,it),chromeSubtleTextColor:wt,chromeTextColor:wt,inputBackgroundColor:wt,inputTextColor:wt,crosshairLabelBackgroundColor:wt,crosshairLabelTextColor:wt},palette:{fills:Hi(pL),strokes:Hi(wt),up:{fill:qi(wt,Aw),stroke:wt},down:{fill:qi(wt,Aw),stroke:wt},neutral:{fill:qi(wt,Aw),stroke:wt}}},T_=e=>`'${e}'`,Qf=class fn{constructor(t,i,n,s,r,o,a=!1){this.themeParameters={},this.optionMetadata=r??{},this.processedOverrides=n??{};let c=null;t instanceof fn?(c=t,this.specialOverrides=c.specialOverrides,o===void 0&&(o=Ta(c.userOptions,i,fn.JSON_DIFF_OPTS)),this.userOptions=Ii(Zp(o,c.userOptions),fn.OPTIONS_CLONE_OPTS)):(this.userOptions=Ii(t??i,fn.OPTIONS_CLONE_OPTS),this.specialOverrides=this.specialOverridesDefaults({...s})),a&&this.removeLeftoverSymbols(this.userOptions);let h,f,p,m,b,C;!a&&o!==void 0&&fn.isFastPathDelta(o)&&c!=null?({activeTheme:h,processedOptions:f,defaultAxes:p,fastDelta:m}=this.fastSetup(o,c),b=c.themeParameters,C=c.annotationThemes):(fn.perfDebug("ChartOptions.slowSetup()"),{activeTheme:h,processedOptions:f,defaultAxes:p,themeParameters:b,annotationThemes:C}=this.slowSetup(n,o,a)),this.activeTheme=h,this.processedOptions=f,this.defaultAxes=p,this.fastDelta=m??void 0,this.themeParameters=b,this.annotationThemes=C,$t.inDevelopmentMode(()=>Eh(this))}static isFastPathDelta(t){for(const i of Object.keys(t??{}))if(!this.FAST_PATH_OPTIONS.has(i))return fn.perfDebug("ChartOptions.isFastPathDelta() - slow path required due to presence of: ",i),!1;return fn.perfDebug("ChartOptions.isFastPathDelta() - fast path possible."),!0}fastSetup(t,i){const{activeTheme:n,defaultAxes:s,processedOptions:r}=i,{presetType:o}=this.optionMetadata,a=o?Gne[o]:void 0;if(o!=null&&(t==null?void 0:t.data)!=null&&a!=null){const{series:h,data:f}=a(t.data);t=Pt({series:h,data:f},t)}this.fastSeriesSetup(t,r);const c=Pt(t,r);return fn.debug("ChartOptions.fastSetup() - processed options",c),{activeTheme:n,defaultAxes:s,processedOptions:c,fastDelta:t}}fastSeriesSetup(t,i){var n;t!=null&&t.series&&((n=t.series)!=null&&n.every((s,r)=>{var o;return zF(s,((o=i.series)==null?void 0:o[r])??{})})?delete t.series:t.series=t.series.map((s,r)=>{var o;return Zp(s,((o=i.series)==null?void 0:o[r])??{})}))}slowSetup(t,i,n=!1){var A,k;let s=Ii(this.userOptions,fn.OPTIONS_CLONE_OPTS);i&&(s=Pt(i,s),n&&this.removeLeftoverSymbols(s));const{presetType:r}=this.optionMetadata;if(r!=null){const _=zne[r],F=s,N=s.type,z=N!=null?SC(s.theme).presets[N]:void 0;fn.debug(">>> AgCharts.createOrUpdate() - applying preset",F),s=(_==null?void 0:_(F,z,()=>this.activeTheme))??s}this.soloSeriesIntegrity(s),Fs.isEnterprise||D_(s);const o=SC(s.theme);if(r!=null&&o.templateTheme(s,!1),this.validateSeriesOptions(s),this.chartDef=Sr.detectChartDefinition(s),!this.chartDef.placeholder){const{valid:_,errors:F}=Eo(s,this.chartDef.options);F.forEach(N=>Ee.warn(N)),s=_}this.validatePluginOptions(s),this.validateAxesOptions(s),this.removeDisabledOptions(s);const a=this.optionsType(s),{annotations:c={},axes:h={},series:f,...p}=this.getSeriesThemeConfig(a,o),[m,b]=this.splitAnnotationsOptions(c),C=Ii(b),w=this.getDefaultAxes(s,f);let D=Pt(t,s,m,p,w);this.processAxesOptions(D,h),this.processSeriesOptions(D,o),D=Ii(D,fn.OPTIONS_CLONE_OPTS),(gT(D)||pT(D)||gee(D))&&((A=D.legend)==null?void 0:A.enabled)==null&&(D.legend??(D.legend={}),D.legend.enabled=D.series.length>1),this.enableConfiguredOptions(D,s);const M=this.getThemeParameters(o,D);return M.__palette=Ii(o.palette),M.__palette.type=an(s.theme)?nG((k=s.theme)==null?void 0:k.palette):"inbuilt",this.resolveThemeOperations(M,M),this.resolveThemeOperations(M,D),this.resolveThemeOperations(M,C),this.processMiniChartSeriesOptions(D),o.templateTheme(D,!1),Hne(D),Fs.isEnterprise||D_(D,!0),this.validateSeriesOptions(D),this.validateAxesOptions(D),fn.debug(()=>["ChartOptions.slowSetup() - processed options",Ii(D)]),{activeTheme:o,processedOptions:D,defaultAxes:w,themeParameters:M,annotationThemes:C}}validatePluginOptions(t){var i;for(const n of Sr.listModulesByType(ab.Plugin)){const s=n.name;if(s in t&&(!n.chartType||n.chartType===((i=this.chartDef)==null?void 0:i.name))){const{valid:r,errors:o}=Eo(t[s],n.options,n.name);o.forEach(a=>Ee.warn(a)),t[s]=r}}}validateSeriesOptions(t){var o,a;const i=(o=this.chartDef)==null?void 0:o.name,n=[],s=((a=t.series)==null?void 0:a.length)??0;let r;for(let c=0;c<s;c++){const h=`series[${c}]`,f=t.series[c],p=Sr.getSeriesModule(f.type??"line");if(p==null){r??(r=OM(Array.from(Sr.listModulesByType(ab.Series)).filter(w=>!i||w.chartType===i).map(w=>w.name),"or",T_)),Ee.warn(`Unknown type \`${f.type}\` at \`${h}.type\`; expecting ${r}, ignoring.`);continue}else if(i&&p.chartType!==i){Ee.warn(`Series type \`${p.name}\` at \`${h}.type\` is not supported by chart type \`${i}\`, ignoring.`);continue}const{validate:m=Eo}=p,{valid:b,errors:C}=m(f,p.options,h);C.forEach(w=>Ee.warn(w)),C.some(w=>w.required&&w.path===h)||n.push(b)}t.series=n}validateAxesOptions(t){var o;if(!("axes"in t)||!t.axes)return;const i=(o=this.chartDef)==null?void 0:o.name,n=[],s=t.axes.length??0;let r;for(let a=0;a<s;a++){const c=`axes[${a}]`,h=t.axes[a],f=Sr.getAxisModule(h.type);if(f==null){r??(r=OM(Array.from(Sr.listModulesByType(ab.Axis)).filter(C=>C.chartType===i).map(C=>C.name),"or",T_)),Ee.warn(`Unknown type \`${h.type}\` at  \`${c}.type\`; expecting one of ${r}, ignoring all axes options.`),delete t.axes;break}else if(f.chartType!==i){Ee.warn(`Axis type \`${f.name}\` at  \`${c}.type\` is not supported by chart type \`${i}\`, ignoring.`);break}const{validate:p=Eo}=f,{valid:m,errors:b}=p(h,f.options,c);b.forEach(C=>Ee.warn(C)),b.some(C=>C.required&&C.path===c)||n.push(m)}t.axes=n}diffOptions(t){return this===t?{}:t==null?this.processedOptions:this.fastDelta??Ta(t.processedOptions,this.processedOptions,fn.JSON_DIFF_OPTS)}getSeriesThemeConfig(t,i){return(i==null?void 0:i.config[t])??{}}getDefaultAxes(t,i){var o;const n=this.optionsType(t),s=((o=t.series)==null?void 0:o.find(a=>(a.type??"line")===n))??{},r=Qr.cloneDefaultAxes(n);return tC(r,{},void 0,Pt(s,i)),r}optionsType(t){var i,n;return((n=(i=t.series)==null?void 0:i[0])==null?void 0:n.type)??"line"}splitAnnotationsOptions(t){const{axesButtons:i=null,enabled:n=null,optionsToolbar:s=null,toolbar:r=null,...o}=t;return i==null&&n==null&&s==null&&r==null?[{},o]:[{annotations:{axesButtons:i,enabled:n,optionsToolbar:s,toolbar:r}},o]}processAxesOptions(t,i){var n;"axes"in t&&(t.axes=(n=t.axes)==null?void 0:n.map(s=>{var b,C,w;const{crossLines:r,...o}=Pt((b=i[s.type])==null?void 0:b[s.position],i[s.type]);s.crossLines&&(s.crossLines=Zb(s.crossLines,r));const a=(C=o.gridLine)==null?void 0:C.style;(w=s.gridLine)!=null&&w.style&&(a!=null&&a.length)&&(s.gridLine.style=s.gridLine.style.map((D,M)=>D.stroke!=null||D.lineDash!=null?Pt(D,a.at(M%a.length)):D));const{top:c,right:h,bottom:f,left:p,...m}=Pt(s,o);return m}))}processSeriesOptions(t,i){var r;const n=this.getTooltipPositionDefaults(t),s=(r=t.series)==null?void 0:r.map(o=>{o.type??(o.type="line");const{innerLabels:a,...c}=this.getSeriesThemeConfig(o.type,i).series??{},h=Sr.getSeriesModule(o.type),f=!!(h!=null&&h.options.tooltip),p=!!(h!=null&&h.options.visible),m=f&&this.getTooltipRangeDefaults(t,o.type),b=Pt(this.getSeriesGroupingOptions(o),o,f&&n,m,c,p&&{visible:!0});return b.innerLabels&&(b.innerLabels=Zb(b.innerLabels,a)),b});t.series=this.setSeriesGroupingOptions(s??[])}processMiniChartSeriesOptions(t){var n,s;let i=(s=(n=t.navigator)==null?void 0:n.miniChart)==null?void 0:s.series;i!=null&&(i=i.map(r=>(r.type??(r.type="line"),r)),t.navigator.miniChart.series=this.setSeriesGroupingOptions(i))}getThemeParameters(t,i){const n=t.getPublicParameters();if(!ln(i.theme)||!i.theme.params)return n;const{valid:s,errors:r}=Eo(i.theme.params,sG.params);for(const{message:o}of r)Ee.warnOnce(o);return Pt(s,n)}resolveThemeOperations(t,i){const n=tC(i,t,new Set(["palette","data","theme"]));fn.debug("ChartOptions.resolveTheme()",n)}getSeriesGroupingOptions(t){const i=Qr.isGroupable(t.type),n=Qr.isStackable(t.type),s=Qr.isStackedByDefault(t.type);t.grouped&&!i&&Ee.warnOnce(`unsupported grouping of series type "${t.type}".`),(t.stacked||t.stackGroup)&&!n&&Ee.warnOnce(`unsupported stacking of series type "${t.type}".`);let{grouped:r,stacked:o}=t;return o??(o=(s||t.stackGroup!=null)&&!(i&&r)),r??(r=!0),{stacked:n&&o,grouped:i&&r&&!(n&&o)}}setSeriesGroupingOptions(t){const i=this.getSeriesGrouping(t);fn.debug("ChartOptions.setSeriesGroupingOptions() - series grouping: ",i);const n={},s=i.reduce((r,o)=>{var a;return o.groupType==="default"||(r[a=o.seriesType]??(r[a]=0),r[o.seriesType]+=o.groupType==="stack"?1:o.series.length),r},{});return i.flatMap(r=>{var o;switch(n[o=r.seriesType]??(n[o]=0),r.groupType){case"stack":{const a=n[r.seriesType]++;return r.series.map((c,h)=>Object.assign(c,{seriesGrouping:{groupId:r.groupId,groupIndex:a,groupCount:s[r.seriesType],stackIndex:h,stackCount:r.series.length}}))}case"group":return r.series.map(a=>Object.assign(a,{seriesGrouping:{groupId:r.groupId,groupIndex:n[r.seriesType]++,groupCount:s[r.seriesType],stackIndex:0,stackCount:0}}))}return r.series}).map(({stacked:r,grouped:o,...a})=>a)}getSeriesGroupId(t){return[t.type,t.xKey,t.stacked?t.stackGroup??"stacked":"grouped"].filter(Boolean).join("-")}getSeriesGrouping(t){const i=new Map;return t.reduce((n,s)=>{const r=s.type;if(!s.stacked&&!s.grouped)n.push({groupType:"default",seriesType:r,series:[s],groupId:"__default__"});else{const o=this.getSeriesGroupId(s);if(!i.has(o)){const c={groupType:s.stacked?"stack":"group",seriesType:r,series:[],groupId:o};i.set(o,c),n.push(c)}i.get(o).series.push(s)}return n},[])}getTooltipPositionDefaults(t){var h;const i=(h=t.tooltip)==null?void 0:h.position;if(!ln(i))return;const{type:n,anchorTo:s,placement:r,xOffset:o,yOffset:a}=i,c={};return Un(n)&&Lw(Qz,n)&&(c.type=n),Un(s)&&Lw(Xz,s)&&(c.anchorTo=s),Un(r)&&Lw(qz,r)&&(c.placement=r),Vt(o)&&(c.xOffset=o),Vt(a)&&(c.yOffset=a),{tooltip:{position:c}}}getTooltipRangeDefaults(t,i){var n,s;return{tooltip:{range:((n=t.tooltip)==null?void 0:n.range)??((s=Qr.getTooltipDefauls(i))==null?void 0:s.range)}}}soloSeriesIntegrity(t){if(!bt(t.series))return;const i=t.series;if(i&&i.length>1&&i.some(n=>Qr.isSolo(n.type))){const n=this.optionsType(t);if(Qr.isSolo(n))Ee.warn(`series[0] of type '${n}' is incompatible with other series types. Only processing series[0]`),t.series=i.slice(0,1);else{const{solo:s,nonSolo:r}=mL(i,a=>Qr.isSolo(a.type)?"solo":"nonSolo"),o=P8(s.map(a=>a.type)).join(", ");Ee.warn(`Unable to mix these series types with the lead series type: ${o}`),t.series=r}}}static enableConfiguredJsonOptions(t,i){typeof i=="object"&&"enabled"in i&&!i._enabledFromTheme&&t.enabled==null&&(i.enabled=!0)}static cleanupEnabledFromThemeJsonOptions(t){t._enabledFromTheme!=null&&delete t._enabledFromTheme}enableConfiguredOptions(t,i){ml(i,fn.enableConfiguredJsonOptions,new Set(["data","theme"]),t),ml(t,fn.cleanupEnabledFromThemeJsonOptions,new Set(["data","theme"]))}static removeDisabledOptionJson(t){"enabled"in t&&t.enabled===!1&&Object.keys(t).forEach(i=>{i!=="enabled"&&delete t[i]})}removeDisabledOptions(t){ml(t,fn.removeDisabledOptionJson,new Set(["data","theme"]))}static removeLeftoverSymbolsJson(t){if(!(!t||!an(t)))for(const i of Object.keys(t)){const n=t[i];S8(n)&&delete t[i]}}removeLeftoverSymbols(t){ml(t,fn.removeLeftoverSymbolsJson,new Set(["data"]))}specialOverridesDefaults(t){if(t.window==null?t.window=vi():y8(t.window),t.document==null?t.document=Ll():m8(t.document),t.window==null)throw new Error("AG Charts - unable to resolve global window");if(t.document==null)throw new Error("AG Charts - unable to resolve global document");return t}};Qf.OPTIONS_CLONE_OPTS={shallow:new Set(["data","container"]),assign:new Set(["context","theme"])};Qf.JSON_DIFF_OPTS=new Set(["data"]);Qf.perfDebug=$t.create(!0,"perf");Qf.FAST_PATH_OPTIONS=new Set(["data","width","height","container"]);Qf.debug=$t.create(!0,"opts");var yD=Qf,sse=1e3,gA=class zc{constructor(t,i,n,s,r,o=sse){this.name=t,this.buildItem=i,this.releaseItem=n,this.destroyItem=s,this.maxPoolSize=r,this.cleanupTimeMs=o,this.freePool=[],this.busyPool=new Set}static getPool(t,i,n,s,r){return this.pools.has(t)||this.pools.set(t,new zc(t,i,n,s,r)),this.pools.get(t)}isFull(){return this.freePool.length+this.busyPool.size>=this.maxPoolSize}hasFree(){return this.freePool.length>0}obtain(t){if(!this.hasFree()&&this.isFull())throw new Error("AG Charts - pool exhausted");let i=this.freePool.pop();return i==null?(i=this.buildItem(t),zc.debug(()=>[`Pool[name=${this.name}]: Created instance (${this.freePool.length} / ${this.busyPool.size+1} / ${this.maxPoolSize})`,i])):zc.debug(()=>[`Pool[name=${this.name}]: Re-used instance (${this.freePool.length} / ${this.busyPool.size+1} / ${this.maxPoolSize})`,i]),this.busyPool.add(i),{item:i,release:()=>this.release(i)}}obtainFree(){const t=this.freePool.pop();if(t==null)throw new Error("AG Charts - pool has no free instances");return zc.debug(()=>[`Pool[name=${this.name}]: Re-used instance (${this.freePool.length} / ${this.busyPool.size+1} / ${this.maxPoolSize})`,t]),this.busyPool.add(t),{item:t,release:()=>this.release(t)}}release(t){if(!this.busyPool.has(t))throw new Error("AG Charts - cannot free item from pool which is not tracked as busy.");zc.debug(()=>[`Pool[name=${this.name}]: Releasing instance (${this.freePool.length} / ${this.busyPool.size} / ${this.maxPoolSize})`,t]),this.releaseItem(t),this.busyPool.delete(t),this.freePool.push(t),zc.debug(()=>[`Pool[name=${this.name}]: Returned instance to free pool (${this.freePool.length} / ${this.busyPool.size} / ${this.maxPoolSize})`,t]);const i=Date.now(),n=i+this.cleanupTimeMs*.5;this.cleanPoolTimer&&(this.cleanPoolDue??1/0)<n&&(clearTimeout(this.cleanPoolTimer),this.cleanPoolTimer=void 0),this.cleanPoolTimer||(this.cleanPoolDue=i+this.cleanupTimeMs,this.cleanPoolTimer=setTimeout(this.cleanPool.bind(this),this.cleanupTimeMs))}cleanPool(){const t=this.freePool.splice(0);for(const i of t)this.destroyItem(i);zc.debug(()=>[`Pool[name=${this.name}]: Cleaned pool of ${t.length} items (${this.freePool.length} / ${this.busyPool.size} / ${this.maxPoolSize})`])}destroy(){this.cleanPool();for(const t of this.busyPool.values())this.destroyItem(t);this.busyPool.clear()}};gA.pools=new Map;gA.debug=$t.create(!0,"pool");var rse=gA;Sr.registerMany(mne);var pl=$t.create(!0,"opts"),Xc=class{static licenseCheck(t){var i,n;this.licenseChecked||(this.licenseManager=(i=Fs.licenseManager)==null?void 0:i.call(Fs,t),(n=this.licenseManager)==null||n.validateLicense(),this.licenseChecked=!0)}static getLicenseDetails(t){var i;return(i=Fs.licenseManager)==null?void 0:i.call(Fs,{}).getLicenseDetails(t)}static getInstance(t){return A_.getInstance(t)}static create(t,i){return pl.group("AgCharts.create()",()=>{var s,r;t=$t.inDevelopmentMode(()=>Eh(Ii(t)))??t,this.licenseCheck(t);const n=A_.createOrUpdate({userOptions:t,licenseManager:this.licenseManager,optionsMetadata:i});return(s=this.licenseManager)!=null&&s.isDisplayWatermark()&&this.licenseManager&&((r=Fs.injectWatermark)==null||r.call(Fs,n.chart.ctx.domManager,this.licenseManager.getWatermarkMessage())),n})}static createFinancialChart(t){return pl.group("AgCharts.createFinancialChart()",()=>this.create(t,{presetType:"price-volume"}))}static createGauge(t){return pl.group("AgCharts.createGauge()",()=>this.create(t,{presetType:"gauge"}))}static __createSparkline(t){return pl.group("AgCharts.__createSparkline()",()=>{const{pool:i,...n}=t;return this.create(n,{presetType:"sparkline",pool:i??!0,domMode:"minimal"})})}};Xc.licenseChecked=!1;var pa=class Gc{static getInstance(t){const i=mx.getInstance(t);return i?e_.chartInstances.get(i):void 0}static initialiseModules(){Gc.initialised||(zie(),Gie(),Gc.initialised=!0)}static createOrUpdate(t){var z,V,j,U,$;let{proxy:i}=t;const{userOptions:n,licenseManager:s,processedOverrides:r=((z=i==null?void 0:i.chart)==null?void 0:z.chartOptions.processedOverrides)??{},specialOverrides:o=((V=i==null?void 0:i.chart)==null?void 0:V.chartOptions.specialOverrides)??{},optionsMetadata:a=((j=i==null?void 0:i.chart)==null?void 0:j.chartOptions.optionMetadata)??{},deltaOptions:c,stripSymbols:h=!1}=t,f=Fs.styles!=null?[["ag-charts-enterprise",Fs.styles]]:[],{presetType:p}=a;Gc.initialiseModules(),pl(()=>[">>> AgCharts.createOrUpdate() user options",Ii(n)]);let m=n;Xc.optionsMutationFn&&m&&(m=Xc.optionsMutationFn(Ii(m),p),pl(()=>[">>> AgCharts.createOrUpdate() MUTATED user options",Ii(m)]));const b=this.getPool(a);let C=!1,w,D=i==null?void 0:i.chart;D==null&&(b!=null&&b.hasFree())&&(w=b.obtainFree(),D=w.item);const{document:M,window:A,styleContainer:k,..._}=m??{},F=D==null?void 0:D.getChartOptions(),N=new yD(F,_,r,{...o,document:M,window:A,styleContainer:k},a,c,h);return(D==null||Sr.detectChartDefinition(N.processedOptions)!==Sr.detectChartDefinition(D.chartOptions.processedOptions))&&(w==null||w.release(),w=(U=this.getPool(N.optionMetadata))==null?void 0:U.obtain(N),w?D=w.item:(C=!0,D=Gc.createChartInstance(N,D))),f.forEach(([Q,J])=>{D.ctx.domManager.addStyles(Q,J)}),i==null?(i=new e_(D,Gc.callbackApi,s),i.releaseChart=w==null?void 0:w.release):(w||C)&&(($=i.releaseChart)==null||$.call(i),i.chart=D,i.releaseChart=w==null?void 0:w.release),pl.check()&&typeof window<"u"&&(window.agChartInstances??(window.agChartInstances={}),window.agChartInstances[D.id]=D),D.queuedUserOptions.push(N.userOptions),D.queuedChartOptions.push(N),D.requestFactoryUpdate(Q=>{pl.group(">>>> Chart.applyOptions()",()=>{Q.applyOptions(N);const J=Q.queuedUserOptions.indexOf(N.userOptions)+1;Q.queuedUserOptions.splice(0,J),Q.queuedChartOptions.splice(0,J)})}),i}static markRemovedProperties(t,i,n=!1){if(typeof t!="object")return n;for(const s of Object.keys(t))typeof t[s]>"u"&&(Object.assign(t,{[s]:Symbol("UNSET")}),n||(n=!0));return n}static updateUserDelta(t,i){i=Ii(i,yD.OPTIONS_CLONE_OPTS);const n=ml(i,Gc.markRemovedProperties,new Set(["data"]),void 0,void 0,!1);pl(()=>[">>> AgCharts.updateUserDelta() user delta",Ii(i)]),Gc.createOrUpdate({proxy:t,deltaOptions:i,stripSymbols:n})}static createChartInstance(t,i){const n=i==null?void 0:i.destroy({keepTransferableResources:!0});return Sr.detectChartDefinition(t.processedOptions).create(t,n)}static getPool(t){if(t.pool===!0)return rse.getPool(t.presetType??"default",this.createChartInstance,this.detachAndClear,this.destroy,1/0)}};pa.caretaker=new ZF(sC);pa.initialised=!1;pa.callbackApi={caretaker:pa.caretaker,create(e,t,i,n){return pa.createOrUpdate({userOptions:e,processedOverrides:t,specialOverrides:i,optionsMetadata:n})},update(e,t){return pa.createOrUpdate({userOptions:e,proxy:t})},updateUserDelta(e,t){return pa.updateUserDelta(e,t)}};pa.detachAndClear=e=>e.detachAndClear();pa.destroy=e=>e.destroy();var A_=pa,ose={};jo(ose,{Arc:()=>Oa,BBox:()=>Ge,Caption:()=>Pi,CategoryScale:()=>zm,Group:()=>at,Line:()=>Nr,LinearScale:()=>Fo,Marker:()=>In,Path:()=>Ws,RadialColumnShape:()=>po,Rect:()=>Ls,Scene:()=>ox,Sector:()=>Zn,Shape:()=>co,TranslatableGroup:()=>zs,getRadialColumnWidth:()=>rG,toRadians:()=>Oi});var Oa=class extends Ws{constructor(){super(),this.centerX=0,this.centerY=0,this.radius=10,this.startAngle=0,this.endAngle=Math.PI*2,this.counterClockwise=!1,this.type=0,this.restoreOwnStyles()}get fullPie(){return fa(Mi(this.startAngle),Mi(this.endAngle))}updatePath(){const e=this.path;e.clear(),e.arc(this.centerX,this.centerY,this.radius,this.startAngle,this.endAngle,this.counterClockwise),this.type===1?e.closePath():this.type===2&&!this.fullPie&&(e.lineTo(this.centerX,this.centerY),e.closePath())}computeBBox(){return new Ge(this.centerX-this.radius,this.centerY-this.radius,this.radius*2,this.radius*2)}isPointInPath(e,t){const i=this.getBBox();return this.type!==0&&i.containsPoint(e,t)&&this.path.isPointInPath(e,t)}};Oa.className="Arc";R([dt()],Oa.prototype,"centerX",2);R([dt()],Oa.prototype,"centerY",2);R([dt()],Oa.prototype,"radius",2);R([dt()],Oa.prototype,"startAngle",2);R([dt()],Oa.prototype,"endAngle",2);R([dt()],Oa.prototype,"counterClockwise",2);R([dt()],Oa.prototype,"type",2);function nM(e,t,i){const n=Math.sqrt(e**2+t**2),r=Math.atan2(t,e)+i;return{x:Math.cos(r)*n,y:Math.sin(r)*n}}var po=class extends Ws{constructor(){super(...arguments),this.isBeveled=!0,this.columnWidth=0,this.startAngle=0,this.endAngle=0,this.outerRadius=0,this.innerRadius=0,this.axisInnerRadius=0,this.axisOuterRadius=0,this.isRadiusAxisReversed=!1}set cornerRadius(e){}computeBBox(){const{innerRadius:e,outerRadius:t,columnWidth:i}=this,n=this.getRotation(),s=-i/2,r=i/2,o=-t,a=-e;let c=1/0,h=1/0,f=-1/0,p=-1/0;for(let m=0;m<4;m+=1){const{x:b,y:C}=nM(m%2===0?s:r,m<2?o:a,n);c=Math.min(b,c),h=Math.min(C,h),f=Math.max(b,f),p=Math.max(C,p)}return new Ge(c,h,f-c,p-h)}getRotation(){const{startAngle:e,endAngle:t}=this,i=$C(e,t);return Mi(e+i/2+Math.PI/2)}updatePath(){const{isBeveled:e}=this;e?this.updateBeveledPath():this.updateRectangularPath(),this.checkPathDirty()}updateRectangularPath(){const{columnWidth:e,innerRadius:t,outerRadius:i,path:n}=this,s=-e/2,r=e/2,o=-i,a=-t,c=this.getRotation(),h=[[s,a],[s,o],[r,o],[r,a]].map(([f,p])=>nM(f,p,c));n.clear(!0),n.moveTo(h[0].x,h[0].y),n.lineTo(h[1].x,h[1].y),n.lineTo(h[2].x,h[2].y),n.lineTo(h[3].x,h[3].y),n.closePath()}updateBeveledPath(){const{columnWidth:e,path:t,outerRadius:i,innerRadius:n,axisInnerRadius:s,axisOuterRadius:r,isRadiusAxisReversed:o}=this,a=fa(n,s),c=Math.asin(e/2/n),h=this.getRotation(),f=(V,j)=>nM(V,j,h),p=(V,j)=>Math.sqrt(V**2+j**2),m=(V,j)=>j>V?0:Math.sqrt(V**2-j**2),b=(V,j,U)=>U?V<j:V>j,C=a&&!isNaN(c)&&c<Math.PI/6;let w=-e/2,D=e/2;const M=-i,A=-n*(C?Math.cos(c):1),k=b(r,p(n,e/2),!o);if(k){const V=m(r,n);w=-V,D=V}t.clear(!0);const _=f(w,A);t.moveTo(_.x,_.y);const F=fa(n,i),N=b(r,p(i,e/2),!o);if(F&&C)t.arc(0,0,n,Mi(-c-Math.PI/2)+h,Mi(c-Math.PI/2)+h,!1);else if(N){const V=-m(r,e/2),j=m(r,i);if(!k){const U=f(w,V);t.lineTo(U.x,U.y)}if(t.arc(0,0,r,Math.atan2(V,w)+h,Math.atan2(M,-j)+h,!1),!fa(j,0)){const U=f(j,M);t.lineTo(U.x,U.y)}t.arc(0,0,r,Math.atan2(M,j)+h,Math.atan2(V,D)+h,!1)}else{const V=f(w,M),j=f(D,M);t.lineTo(V.x,V.y),t.lineTo(j.x,j.y)}const z=f(D,A);if(t.lineTo(z.x,z.y),C)t.arc(0,0,n,Mi(c-Math.PI/2)+h,Mi(-c-Math.PI/2)+h,!0);else{const V=f(w,A);t.lineTo(V.x,V.y)}t.closePath()}};po.className="RadialColumnShape";R([dt()],po.prototype,"isBeveled",2);R([dt()],po.prototype,"columnWidth",2);R([dt()],po.prototype,"startAngle",2);R([dt()],po.prototype,"endAngle",2);R([dt()],po.prototype,"outerRadius",2);R([dt()],po.prototype,"innerRadius",2);R([dt()],po.prototype,"axisInnerRadius",2);R([dt()],po.prototype,"axisOuterRadius",2);R([dt()],po.prototype,"isRadiusAxisReversed",2);function rG(e,t,i,n,s){const r=$C(e,t),o=r*(1-n)/2;if(e+=o,t-=o,r<.001)return 2*i*s;if(r>=2*Math.PI){const b=e+r/2;e=b-Math.PI,t=b+Math.PI}const a=i*Math.cos(e),c=i*Math.sin(e),h=i*Math.cos(t),f=i*Math.sin(t),p=Math.floor(Math.sqrt((a-h)**2+(c-f)**2)),m=2*i*s;return Math.max(1,Math.min(m,p))}var ase={};jo(ase,{ChartTheme:()=>Go,DEFAULT_ANNOTATION_HANDLE_FILL:()=>Um,DEFAULT_ANNOTATION_STATISTICS_COLOR:()=>$m,DEFAULT_ANNOTATION_STATISTICS_DIVIDER_STROKE:()=>Zm,DEFAULT_ANNOTATION_STATISTICS_DOWN_FILL:()=>rm,DEFAULT_ANNOTATION_STATISTICS_DOWN_STROKE:()=>om,DEFAULT_ANNOTATION_STATISTICS_FILL:()=>Ym,DEFAULT_ANNOTATION_STATISTICS_STROKE:()=>Km,DEFAULT_CAPTION_ALIGNMENT:()=>$c,DEFAULT_CAPTION_LAYOUT_STYLE:()=>Kc,DEFAULT_FIBONACCI_STROKES:()=>sm,DEFAULT_FINANCIAL_CHARTS_ANNOTATION_BACKGROUND_FILL:()=>wn,DEFAULT_FINANCIAL_CHARTS_ANNOTATION_COLOR:()=>Ji,DEFAULT_GRIDLINE_ENABLED:()=>ga,DEFAULT_POLAR_SERIES_STROKE:()=>Lx,DEFAULT_SEPARATION_LINES_COLOUR:()=>Hm,DEFAULT_SHADOW_COLOUR:()=>xu,DEFAULT_SPARKLINE_CROSSHAIR_STROKE:()=>Tx,DEFAULT_TEXTBOX_COLOR:()=>Qm,DEFAULT_TEXTBOX_FILL:()=>Xm,DEFAULT_TEXTBOX_STROKE:()=>qm,DEFAULT_TEXT_ANNOTATION_COLOR:()=>Wm,DEFAULT_TOOLBAR_POSITION:()=>Jm,IS_COMMUNITY:()=>IT,IS_DARK_THEME:()=>uf,IS_ENTERPRISE:()=>kT,PALETTE_ALT_DOWN_FILL:()=>PT,PALETTE_ALT_DOWN_STROKE:()=>NT,PALETTE_ALT_NEUTRAL_FILL:()=>FT,PALETTE_ALT_NEUTRAL_STROKE:()=>Dx,PALETTE_ALT_UP_FILL:()=>OT,PALETTE_ALT_UP_STROKE:()=>_T,PALETTE_DOWN_FILL:()=>Vm,PALETTE_DOWN_STROKE:()=>wx,PALETTE_NEUTRAL_FILL:()=>Mx,PALETTE_NEUTRAL_STROKE:()=>wf,PALETTE_UP_FILL:()=>jm,PALETTE_UP_STROKE:()=>Sx,getChartTheme:()=>SC,resolveOperation:()=>cse,themeNames:()=>lse,themeSymbols:()=>RT,themes:()=>fA});var lse=Object.keys(fA);function cse(e){const t=Go.getDefaultPublicParameters();t.__palette=Go.getDefaultColors();const i={operation:e};return tC(i,t),i.operation}var use={};jo(use,{Color:()=>ni,interpolateColor:()=>u2});var hse={};jo(hse,{AND:()=>gu,ARRAY:()=>LL,ARRAY_OF:()=>kn,AbstractBarSeries:()=>Az,AbstractBarSeriesProperties:()=>iA,ActionOnSet:()=>sr,AnchoredPopover:()=>cG,Animation:()=>g2,AnimationManager:()=>y2,Arc:()=>Oa,Axis:()=>uT,AxisGroupZIndexMap:()=>cB,AxisInterval:()=>Yh,AxisLabel:()=>Nn,AxisTick:()=>Pf,AxisTickGenerator:()=>hB,AxisTicks:()=>_se,BBox:()=>Ge,BBoxValues:()=>WC,BOOLEAN:()=>DF,BOOLEAN_ARRAY:()=>D7,Background:()=>jf,BackgroundModule:()=>QB,BandScale:()=>_m,BarSeries:()=>sy,BarSeriesModule:()=>kz,BaseModuleInstance:()=>VC,BaseProperties:()=>ht,BaseToolbar:()=>CA,ButtonWidget:()=>Im,COLOR_GRADIENT:()=>ka,COLOR_PATTERN:()=>_a,COLOR_STRING:()=>Ir,COLOR_STRING_ARRAY:()=>EL,CachedTextMeasurer:()=>UF,CachedTextMeasurerPool:()=>kl,Caption:()=>Pi,CartesianAxis:()=>Pm,CartesianSeries:()=>Su,CartesianSeriesNodeEvent:()=>GT,CartesianSeriesProperties:()=>Vl,CategoryAxis:()=>Kh,CategoryScale:()=>zm,ChangeDetectableProperties:()=>DT,Chart:()=>mx,ChartAxisDirection:()=>zL,ChartEventManager:()=>v2,ChartOptions:()=>yD,ChartUpdateType:()=>Np,CollapseMode:()=>pz,Color:()=>ni,ColorScale:()=>Nf,ConicGradient:()=>xF,ContextMenuRegistry:()=>b2,ContinuousScale:()=>ai,DATE:()=>TL,DATE_ARRAY:()=>A7,DATE_OR_DATETIME_MS:()=>AL,DEFAULT_CARTESIAN_DIRECTION_KEYS:()=>Xh,DEFAULT_CARTESIAN_DIRECTION_NAMES:()=>qh,DEFAULT_TOOLTIP_CLASS:()=>jn,DEFAULT_TOOLTIP_DARK_CLASS:()=>MB,DIRECTION:()=>H7,DIRECTION_SWAP_AXES:()=>oz,DOMManager:()=>n2,DataController:()=>X2,DataModel:()=>$2,DataModelSeries:()=>zT,DataService:()=>ax,Debug:()=>$t,Deprecated:()=>xB,DeprecatedAndRenamedTo:()=>Tee,DragInterpreter:()=>w2,DraggablePopover:()=>uG,DropShadow:()=>Uo,ExtendedPath2D:()=>mf,FILL_PATTERN_DEFAULTS:()=>uu,FONT_SIZE_RATIO:()=>ET,FONT_STYLE:()=>O7,FONT_WEIGHT:()=>P7,FUNCTION:()=>S7,FillGradientDefaults:()=>fo,FillPatternDefaults:()=>tn,FloatingToolbar:()=>jse,GREATER_THAN:()=>JC,Gradient:()=>XC,Group:()=>at,GroupedCategoryAxis:()=>$h,HdpiCanvas:()=>KL,HierarchyNode:()=>Ese,HierarchySeries:()=>Rse,HierarchySeriesProperties:()=>Pa,HighlightManager:()=>C2,HighlightProperties:()=>LT,HighlightStyle:()=>Gm,INTERACTION_RANGE:()=>V7,INTERPOLATION_STEP_POSITION:()=>Ute,INTERPOLATION_TYPE:()=>Wte,Image:()=>Jf,InteractionManager:()=>m2,InteractionState:()=>p2,InterpolationProperties:()=>Uf,Invalidating:()=>_f,LABEL_PLACEMENT:()=>W7,LARGEST_KEY_INTERVAL:()=>VB,LESS_THAN:()=>QC,LINE_CAP:()=>R7,LINE_DASH:()=>_7,LINE_JOIN:()=>I7,LINE_STYLE:()=>k7,Label:()=>_n,LayoutElement:()=>GL,LayoutManager:()=>KF,LegendMarkerLabel:()=>go,Line:()=>Nr,LineSeries:()=>oy,LineSeriesModule:()=>Fz,LinearGradient:()=>SF,LinearScale:()=>Fo,Listeners:()=>_l,LogScale:()=>MT,LonLatBBox:()=>Ise,MARKER_SHAPE:()=>Ite,MATCHING_CROSSLINE_TYPE:()=>aT,MAX_SPACING:()=>Y7,MIN_SPACING:()=>U7,Marker:()=>In,Menu:()=>zse,MercatorScale:()=>kse,ModuleRegistry:()=>Sr,Motion:()=>KM,NAN:()=>qC,NODE_UPDATE_STATE_TO_PHASE_MAPPING:()=>ko,NUMBER:()=>Rr,NUMBER_ARRAY:()=>L7,NUMBER_OR_NAN:()=>DL,NativeWidget:()=>bf,NewAreaSeriesModule:()=>Tz,NewBarSeriesModule:()=>_z,NewBubbleSeriesModule:()=>Oz,NewHistogramSeriesModule:()=>Pz,NewLineSeriesModule:()=>Bz,NewScatterSeriesModule:()=>Gz,NiceMode:()=>rB,Node:()=>Tl,NumberAxis:()=>Gl,OBJECT:()=>MF,OBJECT_ARRAY:()=>E7,OR:()=>ds,OVERFLOW_STRATEGY:()=>G7,ObserveChanges:()=>mu,OrdinalTimeScale:()=>Sl,PHASE_METADATA:()=>Jp,PHASE_ORDER:()=>$d,PLACEMENT:()=>j7,PLAIN_OBJECT:()=>x7,POSITION:()=>N7,POSITION_TOP_COORDINATES:()=>uC,POSITIVE_NUMBER:()=>ML,PREV_NEXT_KEYS:()=>cf,Padding:()=>pu,ParallelStateMachine:()=>UJ,Path:()=>Ws,PointerEvents:()=>pF,PolarAxis:()=>Mf,PolarSeries:()=>zx,PolarZIndexMap:()=>Uz,Popover:()=>bA,PropertiesArray:()=>Em,ProxyInteractionService:()=>a2,ProxyOnWrite:()=>BX,ProxyProperty:()=>hi,ProxyPropertyOnWrite:()=>Kn,QUICK_TRANSITION:()=>rC,RATIO:()=>M7,REAL_NUMBER:()=>w7,RENDER_TO_OFFSCREEN_CANVAS_THRESHOLD:()=>pC,RadialColumnShape:()=>po,Range:()=>Vo,Rect:()=>Ls,RepeatType:()=>f2,Rotatable:()=>Of,RotatableGroup:()=>lX,RotatableText:()=>YF,SAFE_FILLS_OPERATION:()=>BT,SAFE_FILL_OPERATION:()=>Pte,SAFE_RANGE2_OPERATION:()=>Fte,SAFE_STROKE_FILL_OPERATION:()=>Ax,SKIP_JS_BUILTINS:()=>SL,SMALLEST_KEY_INTERVAL:()=>jB,SORT_DOMAIN_GROUPS:()=>WB,STRING:()=>LF,STRING_ARRAY:()=>T7,Scalable:()=>kL,ScalableGroup:()=>aX,Scene:()=>ox,SceneChangeDetection:()=>He,ScenePathChangeDetection:()=>dt,Sector:()=>Zn,SectorBox:()=>Hz,Selection:()=>gn,Series:()=>px,SeriesContentZIndexMap:()=>bB,SeriesGroupingChangedEvent:()=>yT,SeriesItemHighlightStyle:()=>Hl,SeriesMarker:()=>$n,SeriesNodeEvent:()=>Fm,SeriesNodePickMode:()=>CB,SeriesProperties:()=>Or,SeriesTooltip:()=>Ts,SeriesZIndexMap:()=>vB,Shape:()=>co,SimpleTextMeasurer:()=>FL,SliderWidget:()=>YL,StateMachine:()=>Om,StateMachineProperty:()=>WJ,StopProperties:()=>RL,SvgPath:()=>vA,TEXT_ALIGN:()=>B7,TEXT_WRAP:()=>F7,TICK_INTERVAL:()=>iee,TempValidate:()=>P,Text:()=>Rn,TextUtils:()=>_i,TextWrapper:()=>BL,ThemeConstants:()=>ez,ThemeSymbols:()=>RT,TimeScale:()=>z2,Toolbar:()=>Gse,ToolbarButtonProperties:()=>ly,ToolbarButtonWidget:()=>hG,ToolbarWidget:()=>rx,Tooltip:()=>ho,TooltipManager:()=>oC,TooltipPosition:()=>Fl,Transformable:()=>en,TransformableText:()=>yf,Translatable:()=>Vh,TranslatableGroup:()=>zs,TranslatableLine:()=>dC,UNION:()=>ci,UpdateService:()=>V2,VERTICAL_ALIGN:()=>z7,Validate:()=>C7,Vec2:()=>Zd,Vec4:()=>im,WIDGET_HTML_EVENTS:()=>OL,Widget:()=>Na,WidgetEventUtil:()=>xl,ZIndexMap:()=>c2,ZoomManager:()=>H2,accumulateGroup:()=>UB,accumulateStack:()=>YB,accumulatedValue:()=>NB,accumulativeValueProperty:()=>nm,addHitTestersToQuadtree:()=>eA,adjustLabelPlacement:()=>Iz,angleBetween:()=>$C,animationValidation:()=>zf,applyShapeFillBBox:()=>gx,applyShapeStyle:()=>Gh,areScalingEqual:()=>hf,area:()=>aD,autoSizedLabelOptionsDefs:()=>uie,buildFormatter:()=>km,buildResetPathFn:()=>$T,calculateDefaultTimeTickFormat:()=>_2,calculateDerivativeExtrema:()=>HM,calculateDerivativeExtremaXY:()=>IF,calculateLabelChartPadding:()=>nB,calculateLabelTranslation:()=>tD,calculatePlacement:()=>SB,cartesianAxisCrosshairOptions:()=>$f,cartesianAxisLabelOptionsDefs:()=>Yf,cartesianAxisOptionsDefs:()=>Kf,cartesianChartOptionsDefs:()=>$z,cartesianCrossLineOptionsDefs:()=>Dz,checkCrisp:()=>Ez,clampArray:()=>ZM,clippedRoundRect:()=>fb,collapsedStartingBarPosition:()=>hm,commonAxisLabelOptionsDefs:()=>XT,commonAxisOptionsDefs:()=>Ix,commonChartOptionsDefs:()=>Us,commonCrossLineLabelOptionsDefs:()=>ZT,commonCrossLineOptionsDefs:()=>Mz,commonSeriesOptionsDefs:()=>Yo,compareDates:()=>L2,computeBarFocusBounds:()=>sA,computeMarkerFocusBounds:()=>ty,continuousAxisOptions:()=>kx,countExpandingSearch:()=>S2,createButton:()=>Nse,createCheckbox:()=>Ose,createDatumId:()=>Yn,createDeprecationWarning:()=>vT,createElementId:()=>dX,createIcon:()=>lG,createId:()=>Er,createSelect:()=>Pse,createTextArea:()=>Fse,dateToNumber:()=>xs,datesSortOrder:()=>XL,datumKeys:()=>lC,datumStylerProperties:()=>tu,deconstructSelectionsOrNodes:()=>lx,deepClone:()=>Ii,deepFreeze:()=>Eh,defaultTimeTickFormat:()=>QL,diff:()=>Gf,drawCorner:()=>Dp,drawMarkerUnitPolygon:()=>Mp,easing:()=>KM,enterpriseModule:()=>Fs,errorBarOptionsDefs:()=>_x,evaluateBezier:()=>qb,extent:()=>Bl,extractDecoratedProperties:()=>yF,findMinMax:()=>pn,findQuadtreeMatch:()=>tA,findRangeExtent:()=>Cf,fixNumericExtent:()=>nr,flowProportionChartOptionsDefs:()=>Kie,focusCursorAtEnd:()=>uX,formatNumber:()=>o2,formatPercent:()=>r2,formatValue:()=>Al,fromToMotion:()=>Qi,gaugeChartOptionsDefs:()=>$ie,generateUUID:()=>BM,getAngleRatioRadians:()=>bF,getColorStops:()=>EF,getCrossLineValue:()=>tB,getDateTicksForInterval:()=>eT,getDatumRefPoint:()=>ZL,getElementBBox:()=>FF,getIconClassNames:()=>tx,getLastFocus:()=>VL,getMissCount:()=>tT,getPath:()=>pf,getPathComponents:()=>K2,getRadialColumnWidth:()=>rG,getSequentialColors:()=>Pr,getShapeFill:()=>Ih,getShapeStyle:()=>Ca,groupAccumulativeValueProperty:()=>iu,groupAverage:()=>_B,groupCount:()=>oD,groupStackValueProperty:()=>HB,groupSum:()=>kB,hasNoModifiers:()=>sx,hierarchyChartOptionsDefs:()=>Yie,initMenuKeyNav:()=>JF,initRovingTabIndex:()=>QF,interpolatePoints:()=>mC,interpolationValidator:()=>JT,isAgFlowProportionChartOptions:()=>yB,isAgGaugeChartOptions:()=>mT,isAgHierarchyChartOptions:()=>pB,isAgStandaloneChartOptions:()=>pT,isAgTopologyChartOptions:()=>mB,isBetweenAngles:()=>Uc,isButtonClickEvent:()=>jL,isContinuous:()=>hx,isDecoratedObject:()=>Am,isDenseInterval:()=>Sf,isGradientFill:()=>Bo,isGradientOrPatternFill:()=>oX,isInputPending:()=>BF,isPatternFill:()=>Fh,isProperties:()=>La,isScaleValid:()=>lm,jsonApply:()=>kp,jsonDiff:()=>Ta,jsonPropertyCompare:()=>zF,jsonResolveOperations:()=>tC,jsonWalk:()=>ml,keyProperty:()=>Po,labelDirectionHandling:()=>sB,legendSymbolSvg:()=>wB,lineDistanceSquared:()=>Ip,listDecoratedProperties:()=>eu,makeAccessibleClickListener:()=>dq,mapValues:()=>vF,markerFadeInAnimation:()=>cm,markerOptionsDefs:()=>iy,markerScaleInAnimation:()=>UT,markerSwipeScaleInAnimation:()=>YT,merge:()=>Zp,mergeArrayDefaults:()=>Zb,mergeDefaults:()=>Pt,midpointStartingBarPosition:()=>fie,moduleRegistry:()=>ba,motion:()=>Wse,nearestSquared:()=>YC,nearestSquaredInContainer:()=>i7,normaliseGroupTo:()=>vx,normalisePropertyTo:()=>kh,normalisedExtentWithMetadata:()=>xT,normalizeAngle180:()=>Xp,normalizeAngle360:()=>Mi,normalizeAngle360Inclusive:()=>m7,numberFormatValidator:()=>Rx,objectsEqual:()=>Da,objectsEqualWith:()=>xL,pairUpSpans:()=>Fp,partialAssign:()=>GM,pathFadeInAnimation:()=>yC,pathMotion:()=>gC,pathSwipeInAnimation:()=>KT,pickByMatchingAngle:()=>uA,plotAreaPathFill:()=>xz,plotInterpolatedAreaSeriesFillSpans:()=>pb,plotInterpolatedLinePathStroke:()=>gb,plotLinePathStroke:()=>jT,polarChartOptionsDefs:()=>Zz,predicateWithMessage:()=>li,prepareAreaFillAnimationFns:()=>Sz,prepareAreaPathAnimation:()=>wz,prepareAxisAnimationContext:()=>hC,prepareAxisAnimationFunctions:()=>oB,prepareBarAnimationFunctions:()=>dm,prepareLinePathAnimation:()=>Cz,prepareLinePathPropertyAnimation:()=>WT,prepareLinePathStrokeAnimationFns:()=>VT,preparePieSeriesAnimationFunctions:()=>_h,range:()=>tm,rangedValueProperty:()=>ST,resetAxisGroupFn:()=>aB,resetAxisLabelSelectionFn:()=>cT,resetAxisLineSelectionFn:()=>lB,resetAxisSelectionFn:()=>lT,resetBarSelectionsFn:()=>fm,resetIds:()=>r7,resetLabelFn:()=>jl,resetMarkerFn:()=>ey,resetMarkerPositionFn:()=>um,resetMotion:()=>Hn,resetPieSelectionsFn:()=>cA,rowCountProperty:()=>zB,scale:()=>Cs,sectorBox:()=>jz,seriesLabelFadeInAnimation:()=>qt,seriesLabelFadeOutAnimation:()=>Zc,seriesLabelOptionsDefs:()=>wu,setAttribute:()=>yi,setAttributes:()=>Bh,setElementBBox:()=>eC,setElementStyle:()=>Io,setPath:()=>wL,shadowOptionsDefs:()=>ny,shallowClone:()=>NL,solveBezier:()=>Qb,sortAndUniqueDates:()=>XM,splitBezier:()=>Jb,standaloneChartOptionsDefs:()=>Uie,staticFromToMotion:()=>Nl,stopPageScrolling:()=>e2,sum:()=>Qee,sumValues:()=>yx,toDegrees:()=>y7,toRadians:()=>Oi,toolbarButtonOptionsDefs:()=>fD,tooltipContentAriaLabel:()=>LB,tooltipHtml:()=>AB,tooltipOptionsDefs:()=>Wl,topologyChartOptionsDefs:()=>Wie,trailingAccumulatedValue:()=>OB,trailingAccumulatedValueProperty:()=>ite,updateClipPath:()=>vC,updateLabelNode:()=>Rz,validateCrossLineValue:()=>iB,valueProperty:()=>Ft,visibleRangeIndices:()=>x2,without:()=>lu});var Zd={add:dse,angle:vse,apply:Tse,equal:Dse,distance:pse,distanceSquared:mse,from:Lse,gradient:Cse,intercept:xse,intersectAtX:wse,intersectAtY:Sse,length:mA,lengthSquared:gse,multiply:fse,normalized:yse,origin:oG,required:Ase,rotate:bse,round:Mse,sub:pA};function dse(e,t){return typeof t=="number"?{x:e.x+t,y:e.y+t}:{x:e.x+t.x,y:e.y+t.y}}function pA(e,t){return typeof t=="number"?{x:e.x-t,y:e.y-t}:{x:e.x-t.x,y:e.y-t.y}}function fse(e,t){return typeof t=="number"?{x:e.x*t,y:e.y*t}:{x:e.x*t.x,y:e.y*t.y}}function mA(e){return Math.sqrt(e.x*e.x+e.y*e.y)}function gse(e){return e.x*e.x+e.y*e.y}function pse(e,t){const i=pA(e,t);return Math.sqrt(i.x*i.x+i.y*i.y)}function mse(e,t){const i=pA(e,t);return i.x*i.x+i.y*i.y}function yse(e){const t=mA(e);return{x:e.x/t,y:e.y/t}}function vse(e,t){return t==null?Math.atan2(e.y,e.x):Math.atan2(e.y,e.x)-Math.atan2(t.y,t.x)}function bse(e,t,i=oG()){const n=mA(e);return{x:i.x+n*Math.cos(t),y:i.y+n*Math.sin(t)}}function Cse(e,t,i){const n=t.x-e.x;return(i==null?t.y-e.y:i-t.y-(i-e.y))/n}function xse(e,t,i){return(i==null?e.y:i-e.y)-t*e.x}function Sse(e,t,i=0,n){return{x:e===1/0?1/0:(i-t)/e,y:n==null?i:n-i}}function wse(e,t,i=0,n){const s=e===1/0?1/0:e*i+t;return{x:i,y:n==null?s:n-s}}function Mse(e,t=2){return{x:Q1(e.x,t),y:Q1(e.y,t)}}function Dse(e,t){return e.x===t.x&&e.y===t.y}function Lse(e,t){if(typeof e=="number")return{x:e,y:t};if("currentX"in e)return{x:e.currentX,y:e.currentY};if("offsetWidth"in e)return{x:e.offsetWidth,y:e.offsetHeight};if("width"in e)return[{x:e.x,y:e.y},{x:e.x+e.width,y:e.y+e.height}];if("x1"in e)return[{x:e.x1,y:e.y1},{x:e.x2,y:e.y2}];throw new Error(`Values can not be converted into a vector: [${JSON.stringify(e)}] [${t}]`)}function Tse(e,t){return e.x=t.x,e.y=t.y,e}function Ase(e){return{x:(e==null?void 0:e.x)??0,y:(e==null?void 0:e.y)??0}}function oG(){return{x:0,y:0}}var aG=class mb{constructor(t,i,n,s,r,o,a,c,h){this.series=t,this.datumIndex=i,this.datum=n,this.sizeValue=s,this.colorValue=r,this.sumSize=o,this.depth=a,this.parent=c,this.children=h,this.midPoint={x:0,y:0}}get hasChildren(){return this.children.length>0}walk(t,i=mb.Walk.PreOrder){i===mb.Walk.PreOrder&&t(this),this.children.forEach(n=>{n.walk(t,i)}),i===mb.Walk.PostOrder&&t(this)}*[Symbol.iterator](){yield this;for(const t of this.children)yield*t}};aG.Walk={PreOrder:0,PostOrder:1};var Ese=aG,Rse=class extends px{constructor(e){super({moduleCtx:e,pickModes:[1,0]}),this.colorDomain=[0,0],this.maxDepth=0,this.colorScale=new Nf,this.animationState=new Om("empty",{empty:{update:{target:"ready",action:t=>this.animateEmptyUpdateReady(t)},reset:"empty",skip:"ready"},ready:{updateData:"waiting",clear:"clearing",highlight:t=>this.animateReadyHighlight(t),resize:t=>this.animateReadyResize(t),reset:"empty",skip:"ready"},waiting:{update:{target:"ready",action:t=>this.animateWaitingUpdateReady(t)},reset:"empty",skip:"ready"},clearing:{update:{target:"empty",action:t=>this.animateClearingUpdateEmpty(t)},reset:"empty",skip:"ready"}},()=>this.checkProcessedDataAnimatable())}resetAnimation(e){e==="initial"?this.animationState.transition("reset"):e==="ready"&&this.animationState.transition("skip")}processData(){const{NodeClass:e}=this,{childrenKey:t,sizeKey:i,colorKey:n,colorRange:s}=this.properties;let r=0,o=1/0,a=-1/0;const c=(m,b,C)=>{const w=C.depth!=null?C.depth+1:0,D=t!=null?m[t]:void 0,M=D==null||D.length===0;let A=i!=null?m[i]:void 0;Number.isFinite(A)?A=Math.max(A,0):A=M?1:0;const k=A;r=Math.max(r,w);const _=n!=null?m[n]:void 0;return typeof _=="number"&&(o=Math.min(o,_),a=Math.max(a,_)),h(new e(this,b,m,A,_,k,w,C,[]),D)},h=(m,b)=>{const{datumIndex:C}=m;return b==null||b.forEach((w,D)=>{const M=c(w,C.concat(D),m);m.children.push(M),m.sumSize+=M.sumSize}),m},f=h(new e(this,[],void 0,0,void 0,0,void 0,void 0,[]),this.data),p=[o,a];this.colorScale.domain=o<a?[o,a]:[0,1],this.colorScale.range=s??["black"],this.colorScale.update(),this.rootNode=f,this.maxDepth=r,this.colorDomain=p}update({seriesRect:e}){this.updateSelections(),this.updateNodes();const t=this.getAnimationData();this.checkResize(e)&&this.animationState.transition("resize",t),this.animationState.transition("update",t)}resetAllAnimation(e){this.ctx.animationManager.stopByAnimationGroupId(this.id)}animateEmptyUpdateReady(e){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation(e)}animateWaitingUpdateReady(e){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation(e)}animateReadyHighlight(e){}animateReadyResize(e){this.resetAllAnimation(e)}animateClearingUpdateEmpty(e){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation(e)}getAnimationData(){return{}}isProcessedDataAnimatable(){return!0}checkProcessedDataAnimatable(){this.isProcessedDataAnimatable()||this.ctx.animationManager.skipCurrentBatch()}getSeriesDomain(){return[NaN,NaN]}getSeriesRange(e,t){return[NaN,NaN]}getLegendData(e){const{colorKey:t,colorName:i,colorRange:n}=this.properties,{id:s,ctx:{legendManager:r},visible:o}=this;return e==="gradient"&&t!=null&&n!=null?[{legendType:"gradient",enabled:o&&r.getItemEnabled({seriesId:s}),seriesId:s,colorName:i,colorRange:n,colorDomain:this.colorDomain}]:[]}getDatumIdFromData(e){return e.datumIndex.join(":")}getDatumId(e){return this.getDatumIdFromData(e)}removeMeIndexPathForIndex(e){var t;return((t=this.datumSelection.at(e+1))==null?void 0:t.datum.datumIndex)??[]}removeMeIndexForIndexPath(e){for(const{index:t,datum:i}of this.datumSelection)if(va(i.datumIndex,e))return t-1;return 0}pickFocus(e){var c;if(!((c=this.rootNode)!=null&&c.children.length))return;const t=ut(0,e.datumIndex-e.datumIndexDelta,this.datumSelection.length-1),{datumIndexDelta:i,otherIndexDelta:n}=e;let s=this.removeMeIndexPathForIndex(t);const r=s.reduce((h,f)=>h.children[f],this.rootNode);if(n>0&&r.hasChildren)s=[...s,0];else if(n<0&&s.length>1)s=s.slice(0,-1);else if(n===0&&i!==0){const h=r.parent.children.length-1;s=s.slice(),s[s.length-1]=ut(0,s[s.length-1]+i,h)}const o=s.reduce((h,f)=>h.children[f],this.rootNode),a=this.computeFocusBounds(this.datumSelection.at(t+1));if(a!=null)return{datum:o,datumIndex:this.removeMeIndexForIndexPath(s),otherIndex:o.depth,bounds:a,clipFocusBox:!0}}getDatumAriaText(e,t){if(!(e instanceof this.NodeClass)){Ee.error(`datum is not HierarchyNode: ${JSON.stringify(e)}`);return}return this.ctx.localeManager.t("ariaAnnounceHierarchyDatum",{level:(e.depth??-1)+1,count:e.children.length,description:t})}getCategoryValue(e){}datumIndexForCategoryValue(e){}},Pa=class extends Or{constructor(){super(...arguments),this.childrenKey="children",this.fills=Object.values(rn),this.fillGradientDefaults=new fo,this.fillPatternDefaults=new tn,this.strokes=Object.values(da)}};R([P()],Pa.prototype,"childrenKey",2);R([P()],Pa.prototype,"sizeKey",2);R([P()],Pa.prototype,"colorKey",2);R([P()],Pa.prototype,"colorName",2);R([P(kn(ds(ka,_a,Ir)))],Pa.prototype,"fills",2);R([P()],Pa.prototype,"fillGradientDefaults",2);R([P()],Pa.prototype,"fillPatternDefaults",2);R([P()],Pa.prototype,"strokes",2);R([P()],Pa.prototype,"colorRange",2);var Ise=class{constructor(e,t,i,n){this.lon0=e,this.lat0=t,this.lon1=i,this.lat1=n}merge(e){this.lon0=Math.min(this.lon0,e.lon0),this.lat0=Math.min(this.lat0,e.lat0),this.lon1=Math.max(this.lon1,e.lon1),this.lat1=Math.max(this.lat1,e.lat1)}},Ux=Math.PI/180,sM=e=>e*Ux,rM=e=>-Math.log(Math.tan(Math.PI*.25+e*Ux*.5)),oM=e=>e/Ux,aM=e=>(Math.atan(Math.exp(-e))-Math.PI*.25)/(Ux*.5),kse=class vD extends ZC{constructor(t,i){super(),this.domain=t,this.range=i,this.type="mercator",this.bounds=vD.bounds(t)}static bounds(t){const[[i,n],[s,r]]=t,o=sM(i),a=rM(n),c=sM(s),h=rM(r);return new Ge(Math.min(o,c),Math.min(a,h),Math.abs(c-o),Math.abs(h-a))}static fixedScale(){return new vD([[oM(0),aM(0)],[oM(1),aM(1)]],[[0,0],[1,1]])}toDomain(){}normalizeDomains(...t){let i=-1/0,n=1/0,s=-1/0,r=1/0;for(const o of t)for(const[a,c]of o)i=Math.min(a,i),n=Math.max(a,n),s=Math.min(c,s),r=Math.max(c,r);return{domain:[[i,s],[n,r]],animatable:!0}}convert([t,i]){const[[n,s],[r,o]]=this.range,a=(r-n)/this.bounds.width,c=(o-s)/this.bounds.height;return[(sM(t)-this.bounds.x)*a+n,(rM(i)-this.bounds.y)*c+s]}invert([t,i]){const[[n,s],[r,o]]=this.range,a=(r-n)/this.bounds.width,c=(o-s)/this.bounds.height;return[oM((t-n)/a+this.bounds.x),aM((i-s)/c+this.bounds.y)]}},yA=class bD{constructor(){this.id=Er(this),this.axisGroup=new zs({name:`${this.id}-AxisTicks`,zIndex:2}),this.labelSelection=gn.select(this.axisGroup,Rn),this.interval=new Yh,this.label=new Nn,this.scale=new Fo,this.position="bottom",this.translationX=0,this.translationY=0,this.padding=0}attachAxis(t){t.appendChild(this.axisGroup)}calculateLayout(){const t=[],i=this.generateTicks(),{translationX:n,translationY:s}=this;return this.labelSelection.update(i.ticks.map(r=>this.createLabelDatum(r)),void 0,r=>r.tickId),this.labelSelection.each((r,o)=>{r.setProperties(o),o.visible&&t.push(r.getBBox())}),this.axisGroup.setProperties({translationX:n,translationY:s}),t.length>0?Ge.merge(t):void 0}getLabelParams(t){const{padding:i}=this,{translate:n}=t;switch(this.position){case"top":case"bottom":return{x:n,y:i,textAlign:"center",textBaseline:"top"};case"left":case"right":return{x:i,y:n,textAlign:"start",textBaseline:"middle"}}}inRange(t,i=.001){const[n,s]=pn(this.scale.range);return t>=n-i&&t<=s+i}createLabelDatum(t){const{x:i,y:n,textBaseline:s,textAlign:r}=this.getLabelParams(t);return{visible:!!t.tickLabel,tickId:t.tickId,fill:this.label.color,fontFamily:this.label.fontFamily,fontSize:this.label.fontSize,fontStyle:this.label.fontStyle,fontWeight:this.label.fontWeight,rotation:0,rotationCenterX:0,text:t.tickLabel,textAlign:r,textBaseline:s,x:i,y:n}}generateTicks(){const{minSpacing:t,maxSpacing:i}=this.interval,{maxTickCount:n,minTickCount:s,tickCount:r}=B2(Cf(this.scale.range),1,t,i,bD.DefaultTickCount,bD.DefaultMinSpacing),o=this.getTicksData({nice:!0,interval:this.interval.step,tickCount:r,minTickCount:s,maxTickCount:n});if(this.position==="bottom"||this.position==="top"){const a=kl.getMeasurer({font:this.label}),{domain:c}=this.scale,f=c[0]>c[1]?-1:1;let p=-1/0*f;o.ticks=o.ticks.filter(m=>Math.sign(m.translate-p)!==f?!1:(p=m.translate+a.textWidth(m.tickLabel,!0)*f,!0))}return o}getTicksData(t){var h,f;const i=[],n=t.nice?this.scale.niceDomain(t):this.scale.domain,s=this.scale.ticks(t,n),r=s.reduce((p,m)=>Math.max(p,vL(m)),0),o=[],a=hT(),c=this.label.format?this.scale.tickFormatter({domain:n,ticks:s,fractionDigits:r,specifier:this.label.format}):p=>Al(p,r);for(let p=0;p<s.length;p++){const m=s[p],b=this.scale.convert(m);if(!this.inRange(b))continue;const C=((f=(h=this.label).formatter)==null?void 0:f.call(h,{value:m,index:p,domain:n,fractionDigits:r,boundSeries:o}))??c(m),w=a(C);i.push({tick:m,tickId:w,tickLabel:C,translate:b})}return{rawTicks:s,fractionDigits:r,ticks:i}}};yA.DefaultTickCount=5;yA.DefaultMinSpacing=10;var _se=yA;function Nse(e,t){const i=Lt("button",Yx("ag-charts-input ag-charts-button",t));return e.label!==void 0?i.append(e.label):(i.append(lG(e.icon)),i.ariaLabel=e.altText),i.addEventListener("click",e.onPress),Bh(i,t),i}function Ose(e,t){const i=Lt("input",Yx("ag-charts-input ag-charts-checkbox",t));return i.type="checkbox",i.checked=e.checked,i.addEventListener("change",n=>e.onChange(i.checked,n)),i.addEventListener("keydown",n=>{jL(n)&&(n.preventDefault(),i.click())}),Bh(i,t),i}function Pse(e,t){const i=Lt("select",Yx("ag-charts-input ag-charts-select",t));return i.append(...e.options.map(n=>{const s=Lt("option");return s.value=n.value,s.textContent=n.label,s})),yi(i,"data-preventdefault",!1),i.value=e.value,i.addEventListener("change",n=>e.onChange(i.value,n)),Bh(i,t),i}function Fse(e,t){const i=Lt("textarea",Yx("ag-charts-input ag-charts-textarea",t));return i.value=e.value,i.addEventListener("input",n=>e.onChange(i.value,n)),Bh(i,t),yi(i,"data-preventdefault",!1),i}function lG(e){const t=Lt("span",`ag-charts-icon ag-charts-icon-${e}`);return yi(t,"aria-hidden",!0),t}function Yx(e,t){return t==null?e:`${e} ${t.class}`}var vA=class extends Ws{constructor(e=""){super(),this.x=0,this.y=0,this.commands=[],this._d="",this.d=e}get d(){return this._d}set d(e){if(e!==this._d){this._d=e,this.commands.length=0;for(const[t,i,n]of e.matchAll(/([A-Z])([0-9. ]*)/g)){const s=n.split(/\s+/g).map(Number);this.commands.push([i,s])}this.checkPathDirty()}}updatePath(){const{path:e,x:t,y:i}=this;e.clear();let n=t,s=i;for(const[r,o]of this.commands)switch(r){case"M":e.moveTo(t+o[0],i+o[1]),n=t+o[0];break;case"C":e.cubicCurveTo(t+o[0],i+o[1],t+o[2],i+o[3],t+o[4],i+o[5]),n=t+o[4],s=i+o[5];break;case"H":e.lineTo(t+o[0],s),n=i+o[0];break;case"L":e.lineTo(t+o[0],i+o[1]),n=t+o[0],s=i+o[1];break;case"V":e.lineTo(n,i+o[0]),s=i+o[0];break;case"Z":e.closePath();break;default:throw new Error(`Could not translate command '${r}' with '${o.join(" ")}'`)}e.closePath()}};R([dt()],vA.prototype,"x",2);R([dt()],vA.prototype,"y",2);var Jf=class extends Tl{constructor(e){super(),this.sourceImage=e,this.x=0,this.y=0,this.width=0,this.height=0,this.opacity=1}render(e){const{ctx:t}=e,i=this.sourceImage;i&&(t.globalAlpha=this.opacity,t.drawImage(i,0,0,i.width,i.height,this.x,this.y,this.width,this.height)),super.render(e)}};R([He()],Jf.prototype,"x",2);R([He()],Jf.prototype,"y",2);R([He()],Jf.prototype,"width",2);R([He()],Jf.prototype,"height",2);R([He()],Jf.prototype,"opacity",2);var Bse={};jo(Bse,{ButtonWidget:()=>Im,NativeWidget:()=>bf,SliderWidget:()=>YL,ToolbarWidget:()=>rx,WIDGET_HTML_EVENTS:()=>OL,Widget:()=>Na,WidgetEventUtil:()=>xl});var E_="canvas-overlay",bA=class extends VC{constructor(e,t,i){super(),this.ctx=e,this.hideFns=[],this.moduleId=`popover-${t}`,i!=null&&i.detached?this.element=Lt("div"):this.element=e.domManager.addChild(E_,this.moduleId),this.element.setAttribute("role","presentation"),this.destroyFns.push(()=>e.domManager.removeChild(E_,this.moduleId))}attachTo(e){this.element.parentElement||e.element.append(this.element)}hide(e){const{lastFocus:t=this.lastFocus}=e??{};this.element.children.length!==0&&(this.hideFns.forEach(i=>i()),t==null||t.focus(),this.lastFocus=void 0)}removeChildren(){this.element.replaceChildren()}showWithChildren(e,t){if(!this.element.parentElement)throw new Error("Can not show popover that has not been attached to a parent.");const i=Lt("div","ag-charts-popover");if(t.ariaLabel!=null&&i.setAttribute("aria-label",t.ariaLabel),t.class!=null&&i.classList.add(t.class),i.replaceChildren(...e),this.element.replaceChildren(i),this.hideFns.push(()=>this.removeChildren()),t.onHide&&this.hideFns.push(t.onHide),t.initialFocus&&t.sourceEvent){const n=VL(t.sourceEvent);n!==void 0&&(this.lastFocus=n,this.initialFocus=t.initialFocus)}return i}getPopoverElement(){return this.element.firstElementChild}updatePosition(e){var i;const t=this.getPopoverElement();t&&(t.style.setProperty("right","unset"),t.style.setProperty("bottom","unset"),e.x!=null&&t.style.setProperty("left",`${Math.floor(e.x)}px`),e.y!=null&&t.style.setProperty("top",`${Math.floor(e.y)}px`),(i=this.initialFocus)==null||i.focus(),this.initialFocus=void 0)}},cG=class extends bA{setAnchor(e,t){this.anchor=e,this.fallbackAnchor=t,this.updatePosition(e),this.repositionWithinBounds()}showWithChildren(e,t){const i=t.anchor??this.anchor,n=t.fallbackAnchor??this.fallbackAnchor,s=super.showWithChildren(e,t);return i&&this.setAnchor(i,n),vi().requestAnimationFrame(()=>{this.repositionWithinBounds()}),s}repositionWithinBounds(){const{anchor:e,ctx:t,fallbackAnchor:i}=this,n=this.getPopoverElement();if(!e||!n)return;const s=t.domManager.getBoundingClientRect(),{offsetWidth:r,offsetHeight:o}=n;let a=ut(0,e.x,s.width-r),c=ut(0,e.y,s.height-o);a!==e.x&&(i==null?void 0:i.x)!=null&&(a=ut(0,i.x-r,s.width-r)),c!==e.y&&(i==null?void 0:i.y)!=null&&(c=ut(0,i.y-o,s.height-o)),this.updatePosition({x:a,y:c})}},zse=class extends cG{show(e){const t=e.items.map(n=>this.createRow(e,n)),i=this.showWithChildren(t,e);i.classList.add("ag-charts-menu"),i.setAttribute("role","menu"),this.menuCloser=JF({orientation:"vertical",menu:i,buttons:t,sourceEvent:e.sourceEvent,closeCallback:()=>this.hide()}),this.hideFns.push(()=>{var n;(n=this.menuCloser)==null||n.finishClosing(),this.menuCloser=void 0})}createRow(e,t){const{menuItemRole:i="menuitem"}=e,n=t.value===e.value,s=Lt("div","ag-charts-menu__row");if(s.setAttribute("role",i),i==="menuitemradio"&&s.setAttribute("aria-checked",(e.value===t.value).toString()),typeof t.value=="string"&&(s.dataset.popoverId=t.value),s.classList.toggle("ag-charts-menu__row--active",n),t.icon!=null){const c=Lt("span",`ag-charts-menu__icon ${tx(t.icon)}`);s.appendChild(c)}const r=t.strokeWidth!=null;if(r&&(s.classList.toggle("ag-charts-menu__row--stroke-width-visible",r),s.style.setProperty("--strokeWidth",r?`${t.strokeWidth}px`:null)),t.label!=null){const c=Lt("span","ag-charts-menu__label");c.textContent=this.ctx.localeManager.t(t.label),s.appendChild(c)}"altText"in t&&(s.ariaLabel=this.ctx.localeManager.t(t.altText));const o=()=>{var c;(c=e.onPress)==null||c.call(e,t)},a=c=>{jL(c)&&(o(),c.preventDefault(),c.stopPropagation())};return s.addEventListener("keydown",a),s.addEventListener("click",a),s.addEventListener("mousemove",()=>{s.focus({preventScroll:!0})}),s}},uG=class extends bA{constructor(){super(...arguments),this.dragged=!1}setDragHandle(e){e.addListener("drag-start",t=>{e.addClass(this.dragHandleDraggingClass),this.onDragStart(t)}),e.addListener("drag-move",this.onDragMove.bind(this)),e.addListener("drag-end",()=>{e.removeClass(this.dragHandleDraggingClass),this.onDragEnd.bind(this)})}onDragStart(e){const t=this.getPopoverElement();t&&(e.sourceEvent.preventDefault(),this.dragged=!0,this.dragStartState={client:Zd.from(e.clientX,e.clientY),position:Zd.from(Number(t.style.getPropertyValue("left").replace("px","")),Number(t.style.getPropertyValue("top").replace("px","")))})}onDragMove(e){const{dragStartState:t}=this,i=this.getPopoverElement();if(!t||!i)return;const n=Zd.sub(Zd.from(e.clientX,e.clientY),t.client),s=Zd.add(t.position,n),r=this.ctx.domManager.getBoundingClientRect(),o={};s.x>=0&&s.x+i.offsetWidth<=r.width&&(o.x=s.x),s.y>=0&&s.y+i.offsetHeight<=r.height&&(o.y=s.y),this.updatePosition(o)}onDragEnd(){this.dragStartState=void 0}},ly=class extends ht{};R([P()],ly.prototype,"icon",2);R([P()],ly.prototype,"label",2);R([P()],ly.prototype,"ariaLabel",2);R([P()],ly.prototype,"tooltip",2);var hG=class extends Im{constructor(e){super(),this.localeManager=e}update(e){const{localeManager:t}=this;e.tooltip&&(this.elem.title=t.t(e.tooltip));let i="";if(e.icon!=null&&(i=`<span class="${tx(e.icon)} ag-charts-toolbar__icon"></span>`),e.label!=null){const n=t.t(e.label);i=`${i}<span class="ag-charts-toolbar__label">${n}</span>`}this.elem.innerHTML=i}setChecked(e){yi(this.elem,"aria-checked",e)}},R_="ag-charts-toolbar__button--active",CA=class extends rx{constructor(e,t="horizontal"){super(t),this.localeManager=e,this.horizontalSpacing=10,this.verticalSpacing=10,this.events=new _l,this.hasPrefix=!1,this.buttonWidgets=[],this.addClass("ag-charts-toolbar"),this.toggleClass("ag-charts-toolbar--horizontal",t==="horizontal"),this.toggleClass("ag-charts-toolbar--vertical",t==="vertical")}addToolbarListener(e,t){return this.events.addListener(e,t)}clearButtons(){for(const e of this.buttonWidgets)e.destroy();this.buttonWidgets.splice(0)}updateButtons(e){const{buttonWidgets:t}=this;for(const[i,n]of e.entries())(this.buttonWidgets.at(i)??this.createButton(i,n)).update(n);for(let i=e.length;i<t.length;i++){const n=this.buttonWidgets.at(i);n==null||n.destroy()}this.buttonWidgets.splice(e.length),this.refreshButtonClasses()}updateButtonByIndex(e,t){var i;(i=this.buttonWidgets.at(e))==null||i.update(t)}clearActiveButton(){for(const e of this.buttonWidgets)e.toggleClass(R_,!1)}toggleActiveButtonByIndex(e){if(e!==-1)for(const[t,i]of this.buttonWidgets.entries())i.toggleClass(R_,e!=null&&e===t)}toggleButtonEnabledByIndex(e,t){var i;e!==-1&&((i=this.buttonWidgets.at(e))==null||i.setEnabled(t))}toggleSwitchCheckedByIndex(e,t){var i;e!==-1&&((i=this.buttonWidgets.at(e))==null||i.setChecked(t))}getButtonBounds(){return this.buttonWidgets.map(e=>this.getButtonWidgetBounds(e))}setButtonHiddenByIndex(e,t){var i;(i=this.buttonWidgets.at(e))==null||i.setHidden(t)}getButtonWidgetBounds(e){const t=this.getBounds(),i=e.getBounds();return new Ge(i.x+t.x,i.y+t.y,i.width,i.height)}refreshButtonClasses(){var r;const{buttonWidgets:e,hasPrefix:t}=this;let i,n,s;for(const[o,a]of e.entries())i=!t&&o===0||s!=a.section,n=o===e.length-1||a.section!=((r=e.at(o+1))==null?void 0:r.section),a.toggleClass("ag-charts-toolbar__button--first",i),a.toggleClass("ag-charts-toolbar__button--last",n),a.toggleClass("ag-charts-toolbar__button--gap",o>0&&i),s=a.section}createButton(e,t){const i=this.createButtonWidget();return i.addClass("ag-charts-toolbar__button"),i.addListener("click",n=>{const s={index:e,...t instanceof ht?t.toJson():t},r=this.getButtonWidgetBounds(i);this.events.dispatch("button-pressed",{event:n,button:s,buttonBounds:r})}),i.addListener("focus",()=>{this.events.dispatch("button-focused",{button:{index:e}})}),t.section&&(i.section=t.section),this.buttonWidgets.push(i),this.addChild(i),i}},Gse=class extends CA{createButtonWidget(){return new hG(this.localeManager)}},Hse=class extends uG{constructor(e,t,i){super(e,t),this.onPopoverMoved=i,this.dragHandleDraggingClass="ag-charts-floating-toolbar__drag-handle--dragging"}show(e,t={}){this.showWithChildren(e,{...t,class:"ag-charts-floating-toolbar"})}hide(){this.dragged=!1,super.hide()}getBounds(){const e=this.getPopoverElement();return new Ge((e==null?void 0:e.offsetLeft)??0,(e==null?void 0:e.offsetTop)??0,(e==null?void 0:e.offsetWidth)??0,(e==null?void 0:e.offsetHeight)??0)}hasBeenDragged(){return this.dragged}setAnchor(e,t,i){const n=this.getPopoverElement();if(!n)return;const s=e.position??"above",{offsetWidth:r,offsetHeight:o}=n;let a=e.y-o-i,c=e.x-r/2;s==="below"?a=e.y+i:s==="right"?(a=e.y-o/2,c=e.x+t):s==="above-left"&&(c=e.x),this.updatePosition({x:c,y:a})}ignorePointerEvents(){const e=this.getPopoverElement();e&&(e.style.pointerEvents="none")}capturePointerEvents(){const e=this.getPopoverElement();e&&(e.style.pointerEvents="unset")}updatePosition(e){const t=this.getBounds(),i=this.ctx.domManager.getBoundingClientRect();e.x=Math.floor(ut(0,e.x,i.width-t.width)),e.y=Math.floor(ut(0,e.y,i.height-t.height)),super.updatePosition(e),this.onPopoverMoved()}},jse=class extends CA{constructor(e,t){super(e.localeManager),this.hasPrefix=!0,this.popover=new Hse(e,t,this.onPopoverMoved.bind(this)),this.dragHandle=new Vse(e.localeManager.t("toolbarAnnotationsDragHandle")),this.popover.setDragHandle(this.dragHandle)}show(e={}){this.popover.show([this.dragHandle.getElement(),this.getElement()],e)}hide(){this.popover.hide()}setAnchor(e){this.popover.setAnchor(e,this.horizontalSpacing,this.verticalSpacing)}hasBeenDragged(){return this.popover.hasBeenDragged()}ignorePointerEvents(){this.popover.ignorePointerEvents()}capturePointerEvents(){this.popover.capturePointerEvents()}onPopoverMoved(){var i;const e=this.popover.getBounds();if((i=this.popoverBounds)!=null&&i.equals(e))return;this.popoverBounds=e.clone();const t=this.getButtonBounds();this.events.dispatch("toolbar-moved",{popoverBounds:e,buttonBounds:t})}getButtonWidgetBounds(e){const t=this.popover.getBounds(),i=super.getButtonWidgetBounds(e),n=this.dragHandle.getBounds();return new Ge(i.x+t.x-n.width,i.y+t.y,i.width,i.height)}},Vse=class extends bf{constructor(e){super(Lt("div","ag-charts-floating-toolbar__drag-handle"));const t=new bf(Lt("span",`${tx("drag-handle")} ag-charts-toolbar__icon`));t.setAriaHidden(!0),this.addChild(t),this.elem.title=e}},Wse={...Q2,...J2};Xc.create.bind(Xc),Xc.__createSparkline.bind(Xc);function I_(e,t){return{...e,container:t.current}}function Use(e,t){const i=I.forwardRef(function(s,r){const{options:o,style:a,className:c}=s,h=I.useRef(null),f=I.useRef();I.useLayoutEffect(()=>{const m=e(I_(o,h));return f.current=m,()=>{m.destroy()}},[]);const p=f.current===void 0;return I.useEffect(()=>{var m;p||(m=f.current)==null||m.update(I_(o,h)).catch(b=>console.error(b))},[o]),I.useImperativeHandle(r,()=>f.current,[]),I.useMemo(()=>I.createElement("div",{ref:h,style:a,className:c}),[a,c])});return i.displayName=t,i}var Yse=Use(e=>Xc.create(e),"AgCharts");function k_(){var h;const[e,t]=I.useState([]),[i,n]=I.useState(""),[s,r]=I.useState([]),[o,a]=I.useState([]);I.useEffect(()=>{async function f(){try{const m=await(await fetch("https://hub.dataverse.org/api/installation/metrics/monthly")).json();a(m);const b=m.map(C=>({dvHubId:C.dvHubId,name:C.name}));t(b)}catch(p){console.error("Error fetching metrics data:",p)}}f()},[]),I.useEffect(()=>{async function f(){if(i)try{const p=o.find(b=>b.dvHubId===i),m=p?p.metrics.map(b=>({date:new Date(b.recordDate).getFullYear().toString(),fileCount:b.files})):[];r(m)}catch(p){console.error("Error fetching chart data:",p)}}f()},[i]);const c={data:s,series:[{type:"bar",xKey:"date",yKey:"fileCount",title:"File Count",tooltip:{renderer:({datum:f})=>({title:`${f.fileCount.toLocaleString()}`})}}],axes:[{type:"category",position:"bottom",title:{text:"Date"}},{type:"number",position:"left",title:{text:"File Count"}}]};return ve.jsxs("div",{children:[ve.jsx("h1",{children:"Installation Metrics"}),ve.jsxs(qS.Group,{controlId:"installationSelect",children:[ve.jsx(qS.Label,{children:"Select Installation"}),ve.jsx(qS.Control,{as:"select",onChange:f=>n(f.target.value),children:e.map(f=>ve.jsx("option",{value:f.dvHubId,children:f.name},f.dvHubId))})]}),i&&ve.jsxs("div",{children:[ve.jsxs("h2",{children:["Files Over Time for ",(h=e.find(f=>f.dvHubId===i))==null?void 0:h.name]}),ve.jsx(Yse,{options:c})]})]})}const Kse=({error:e,resetErrorBoundary:t})=>ve.jsx("div",{className:"bg-slate-500 fixed bottom-0 left-0 right-0 top-16 ",children:ve.jsxs("div",{role:"alert",children:[ve.jsx("p",{children:"Something went wrong:"}),ve.jsx("pre",{children:e.message}),ve.jsx("button",{onClick:t,children:"Try again"})]})});function $se({error:e,resetErrorBoundary:t}){return ve.jsx(Kse,{error:e,resetErrorBoundary:t})}const Zse=()=>ve.jsx(ve.Fragment,{children:ve.jsxs(BW,{FallbackComponent:$se,children:[ve.jsxs(iw,{bg:"dark",variant:"dark",children:[ve.jsx(iw.Brand,{className:"text-orange-500 p-1",href:"/",children:"Dataverse Hub"}),ve.jsx(iw.Toggle,{"aria-controls":"basic-navbar-nav"}),ve.jsx(vN,{children:ve.jsxs(np,{className:"me-auto",children:[ve.jsx(np.Link,{disabled:!0,children:"|"}),ve.jsx(np.Link,{as:xb,to:"/map",children:"Map"}),ve.jsx(np.Link,{disabled:!0,children:"|"}),ve.jsx(np.Link,{as:xb,to:"/metrics",children:"Metrics"})]})})]}),ve.jsx(o4,{})]})}),Xse=I4([{path:"/",element:ve.jsx(Zse,{}),children:[{index:!0,element:ve.jsx(k_,{})},{path:"/map",element:ve.jsx(X9,{})},{path:"/metrics",element:ve.jsx(k_,{})}]}]);NH.createRoot(document.getElementById("root")).render(ve.jsx(I.StrictMode,{children:ve.jsx(V4,{router:Xse})}));
